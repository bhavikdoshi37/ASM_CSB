/**
* This file was auto-generated by SAP Web IDE build and includes all
* the source files required by SAPUI5 runtime for performance optimization.
* PLEASE DO NOT EDIT THIS FILE!! Changes will be overwritten the next time the build is run.
*/
jQuery.sap.registerPreloadedModules({
	"version": "2.0",
	"name": "colgate/asm/planning/base/Component-preload",
	"modules": {
		"colgate/asm/planning/base/controller/ChangeActivity.controller.js": "/*global location */\r\nsap.ui.define([\r\n\t\"colgate/asm/planning/base/controller/BaseController\",\r\n\t\"sap/ui/model/json/JSONModel\",\r\n\t\"colgate/asm/planning/base/model/formatter\",\r\n\t\"colgate/asm/planning/base/util/FormatUtils\",\r\n\t\"sap/m/MessagePopover\",\r\n\t\"sap/m/MessagePopoverItem\",\r\n\t\"sap/m/MessageToast\",\r\n\t\"colgate/asm/planning/base/util/VendorUtils\",\r\n\t\"colgate/asm/planning/base/util/RetailerUtils\",\r\n\t\"colgate/asm/planning/base/util/TimeoutUtils\",\r\n\t\"colgate/asm/planning/base/util/DropdownUtils\",\r\n\t\"colgate/asm/planning/base/util/FieldCheckUtils\",\r\n\t\"sap/ui/model/Filter\",\r\n\t\"sap/ui/model/FilterOperator\",\r\n\t\"sap/m/Button\",\r\n\t\"sap/m/Text\",\r\n\t\"sap/m/Dialog\"\r\n\t// \"colgate/asm/planning/base/util/CrossSubBrandUtils\"\r\n], function(BaseController, JSONModel, formatter, FormatUtils, MessagePopover, MessagePopoverItem, MessageToast, VendorUtils,\r\n\tRetailerUtils, TimeoutUtils, DropdownUtils, FieldCheckUtils, Filter, FilterOperator, Button, Text, Dialog) {\r\n\t\"use strict\";\r\n\r\n\treturn BaseController.extend(\"colgate.asm.planning.base.controller.ChangeActivity\", {\r\n\r\n\t\tformatter: formatter,\r\n\r\n\t\t/* =========================================================== */\r\n\t\t/* lifecycle methods                                           */\r\n\t\t/* =========================================================== */\r\n\r\n\t\tonInit: function() {\r\n\t\t\t// Model used to manipulate control states. The chosen values make sure,\r\n\t\t\t// detail page is busy indication immediately so there is no break in\r\n\t\t\t// between the busy indication for loading the view's meta data\r\n\t\t\t// var oViewModel = new JSONModel({\r\n\t\t\t// \tbusy: false,\r\n\t\t\t// \tdelay: 0\r\n\t\t\t// });\r\n\r\n\t\t\tthis.getRouter().getRoute(\"changeActivity\").attachPatternMatched(this._onObjectMatched, this);\r\n\t\t\tthis.getRouter().getRoute(\"displayActivity\").attachPatternMatched(this._onObjectMatched, this);\r\n\r\n\t\t\tthis.getOwnerComponent().getModel().metadataLoaded().then(this._onMetadataLoaded.bind(this));\r\n\r\n\t\t\tvar sServiceUrl = this.getOwnerComponent().getModel(\"masterShared\").getProperty(\"/oServiceUrls/mainService\");\r\n\t\t\tvar oBaseModel = new sap.ui.model.odata.v2.ODataModel(sServiceUrl);\r\n\t\t\toBaseModel.setSizeLimit(50000);\r\n\t\t\tthis.setModel(oBaseModel);\r\n\r\n\t\t\t//GDH - Receive events when screen is shown \r\n\t\t\tvar oEventBus = sap.ui.getCore().getEventBus();\r\n\t\t\toEventBus.subscribe(\"colgate.asm.planning.detail\", \"Errors\", function(sChannelId, sEventId, oData) {\r\n\t\t\t\tthis._handleODataErrors(oData);\r\n\t\t\t}, this);\r\n\t\t\t// oEventBus.subscribe(\"colgate.asm.planning.initialize\", \"ChangeActivity\", function(sChannelId, sEventId, oData) {\r\n\t\t\t// \tthis._handleInitialize(oData);\r\n\t\t\t// }, this);\r\n\t\t\t// oEventBus.subscribe(\"colgate.asm.planning.master.event\", \"ConfigurationLoaded\", function(sChannelId, sEventId, oData) {\r\n\t\t\t// \tthis._setASMConfig();\r\n\t\t\t// }, this);\r\n\r\n\t\t\t// Set up the initial selections\r\n\t\t\tvar oData = {};\r\n\t\t\toData.Placeholders = {\r\n\t\t\t\tBrand: this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_brand_e\"),\r\n\t\t\t\tSubbrand: this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_subbrand\"),\r\n\t\t\t\tHub: this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_hub\"),\r\n\t\t\t\tSub: this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_sub\"),\r\n\t\t\t\tPriority: this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_priority\"),\r\n\t\t\t\tFunction: this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_function\"),\r\n\t\t\t\tChannel: this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_channel\"),\r\n\t\t\t\tDemographics: this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_demographics_e\")\r\n\t\t\t};\r\n\t\t\toData.Input = {};\r\n\t\t\toData.Display = {};\r\n\t\t\toData.Retailer = {};\r\n\t\t\toData.Agency = {};\r\n\t\t\toData.MaestroBrief = {};\r\n\t\t\toData.ProjectType = {};\r\n\t\t\toData.ActivityType = {};\r\n\t\t\toData.Priority = {};\r\n\t\t\toData.SubactivityType = {};\r\n\t\t\toData.Demographics = {};\r\n\t\t\toData.Costcenter = {};\r\n\t\t\toData.Status = {};\r\n\t\t\toData.Brand = {};\r\n\t\t\toData.Brand.Current = [];\r\n\t\t\toData.Category = {};\r\n\t\t\toData.Category.Current = [];\r\n\t\t\toData.Subcategory = {};\r\n\t\t\toData.Subcategory.Current = [];\r\n\t\t\t// INBHD02 Cross Sub Brand\r\n\t\t\toData.CSBCategory = {};\r\n\t\t\toData.CSBCategory.Current = [];\r\n\t\t\toData.CSBSubcategory = {};\r\n\t\t\toData.CSBSubcategory.Current = [];\r\n\t\t\toData.CSBBrand = {};\r\n\t\t\toData.CSBBrand.Current = [];\r\n\t\t\toData.CSBSubbrand = {};\r\n\t\t\toData.CSBSubbrand.Current = [];\r\n\t\t\toData.CSBSubbrand.Selected = [];\r\n\t\t\toData.CSBSubbrand.Change = [];\r\n\t\t\toData.CSBSubbrand.NewChange = [];\r\n\t\t\toData.CSBSubbrand.Count = {};\r\n\t\t\toData.CSBSubbrand.Count.Selected = \"(0)\";\r\n\t\t\toData.CSBSubbrand.Count.Current = \"(0)\";\r\n\t\t\t// INBHD02 Cross Sub Brand\r\n\t\t\toData.Visible = {\r\n\t\t\t\tParent: true,\r\n\t\t\t\tLevelType: true,\r\n\t\t\t\tName: true,\r\n\t\t\t\tProjectType: true,\r\n\t\t\t\tActivityType: true,\r\n\t\t\t\tSubactivityType: true,\r\n\t\t\t\tStatus: true,\r\n\t\t\t\tPriority: true,\r\n\t\t\t\tFunction: true,\r\n\t\t\t\tChannel: true,\r\n\t\t\t\tLongText: true,\r\n\t\t\t\tDivision: true,\r\n\t\t\t\tHub: true,\r\n\t\t\t\tSub: true,\r\n\t\t\t\tCategory: true,\r\n\t\t\t\tSubcategory: true,\r\n\t\t\t\tBrand: true,\r\n\t\t\t\tSubbrand: true,\r\n\t\t\t\tRetailer: true,\r\n\t\t\t\tAgency: true,\r\n\t\t\t\tMaxValueC: true,\r\n\t\t\t\tDemographics: true,\r\n\t\t\t\tGlAccount: true,\r\n\t\t\t\tMaestroBrief: true,\r\n\t\t\t\tCostcenter: true,\r\n\t\t\t\tPO: true,\r\n\t\t\t\tCrossSubBrand: false //INBHD02\r\n\t\t\t};\r\n\t\t\toData.Enabled = {\r\n\t\t\t\tParent: true,\r\n\t\t\t\tLevelType: true,\r\n\t\t\t\tName: true,\r\n\t\t\t\tProjectType: true,\r\n\t\t\t\tActivityType: true,\r\n\t\t\t\tSubactivityType: true,\r\n\t\t\t\tStatus: false,\r\n\t\t\t\tPriority: true,\r\n\t\t\t\tFunction: true,\r\n\t\t\t\tChannel: true,\r\n\t\t\t\tLongText: true,\r\n\t\t\t\tDivision: true,\r\n\t\t\t\tHub: true,\r\n\t\t\t\tSub: true,\r\n\t\t\t\tCategory: true,\r\n\t\t\t\tSubcategory: false,\r\n\t\t\t\tBrand: true,\r\n\t\t\t\tSubbrand: false,\r\n\t\t\t\tRetailer: false,\r\n\t\t\t\tAgency: false,\r\n\t\t\t\tDemographics: true,\r\n\t\t\t\tGlAccount: true,\r\n\t\t\t\tMaestroBrief: false,\r\n\t\t\t\tCostcenter: true,\r\n\t\t\t\tPO: true,\r\n\t\t\t\tCrossSubBrandButton: true //INBHD02\r\n\t\t\t};\r\n\t\t\tvar oModel = new sap.ui.model.json.JSONModel(oData);\r\n\t\t\toModel.setSizeLimit(50000);\r\n\t\t\tthis.setModel(oModel, \"ChangeActivity\");\r\n\r\n\t\t\t// Set the initial form to be the display one\r\n\t\t\t//this._showFormFragment(\"ChangeActivity\");\r\n\t\t\tthis._setPHValues(\"CategoryKey\");\r\n\r\n\t\t\t// Make initial OData calls that need further processing\r\n\t\t\tvar sPath = \"/VHProjectTypes\";\r\n\t\t\tvar that = this;\r\n\t\t\toBaseModel.read(sPath, {\r\n\t\t\t\tasync: true,\r\n\t\t\t\tsuccess: function(oData, oResponse) {\r\n\t\t\t\t\tTimeoutUtils.onResetTimer(that);\r\n\t\t\t\t\tthat._setProjectTypes(oData);\r\n\t\t\t\t},\r\n\t\t\t\terror: function(oError) {\r\n\t\t\t\t\toError.ErrorOrigin = \"Initial\";\r\n\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.detail\", \"Errors\", oError);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tsPath = \"/VHActivityTypes\";\r\n\t\t\toBaseModel.read(sPath, {\r\n\t\t\t\tasync: true,\r\n\t\t\t\tsuccess: function(oData, oResponse) {\r\n\t\t\t\t\tthat._setActivityTypes(oData);\r\n\t\t\t\t\tthat._setASMConfig();\r\n\t\t\t\t},\r\n\t\t\t\terror: function(oError) {\r\n\t\t\t\t\toError.ErrorOrigin = \"Initial\";\r\n\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.detail\", \"Errors\", oError);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tsPath = \"/VHInitiativePriorities\";\r\n\t\t\toBaseModel.read(sPath, {\r\n\t\t\t\tasync: true,\r\n\t\t\t\tsuccess: function(oData, oResponse) {\r\n\t\t\t\t\t// The success for this one handles itself, but you should set the initial division data.\r\n\t\t\t\t\tthat._setPriorities(oData);\r\n\t\t\t\t\tthat.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", false);\r\n\t\t\t\t\tsap.ui.core.BusyIndicator.hide();\r\n\t\t\t\t},\r\n\t\t\t\terror: function(oError) {\r\n\t\t\t\t\toError.ErrorOrigin = \"Initial\";\r\n\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.detail\", \"Errors\", oError);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", true); // Start Spinner\r\n\r\n\t\t\tvar oMessageProcessor = new sap.ui.core.message.ControlMessageProcessor();\r\n\t\t\tvar oMessageManager = sap.ui.getCore().getMessageManager();\r\n\t\t\toMessageManager.registerMessageProcessor(oMessageProcessor);\r\n\t\t\tthis.oMessageManager = oMessageManager;\r\n\t\t\tthis.oMessageProcessor = oMessageProcessor;\r\n\r\n\t\t\tDropdownUtils.getBrands(this, this.getView().byId(\"ChangeActivity\"), \"\", \"\", \"\", oModel, \"/Brand\", null, \"/Brand/Current\");\r\n\t\t},\r\n\r\n\t\t/* =========================================================== */\r\n\t\t/* event handlers                                              */\r\n\t\t/* =========================================================== */\r\n\r\n\t\t/**\r\n\t\t * Event handler when the share by E-Mail button has been clicked\r\n\t\t * @public\r\n\t\t */\r\n\t\tonShareEmailPress: function() {\r\n\t\t\tvar oViewModel = this.getModel(\"changeActivityView\");\r\n\r\n\t\t\tsap.m.URLHelper.triggerEmail(\r\n\t\t\t\tnull,\r\n\t\t\t\toViewModel.getProperty(\"/shareSendEmailSubject\"),\r\n\t\t\t\toViewModel.getProperty(\"/shareSendEmailMessage\")\r\n\t\t\t);\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Event handler when the share in JAM button has been clicked\r\n\t\t * @public\r\n\t\t */\r\n\t\tonShareInJamPress: function() {\r\n\t\t\tvar oViewModel = this.getModel(\"changeActivityView\"),\r\n\t\t\t\toShareDialog = sap.ui.getCore().createComponent({\r\n\t\t\t\t\tname: \"sap.collaboration.components.fiori.sharing.dialog\",\r\n\t\t\t\t\tsettings: {\r\n\t\t\t\t\t\tobject: {\r\n\t\t\t\t\t\t\tid: location.href,\r\n\t\t\t\t\t\t\tshare: oViewModel.getProperty(\"/shareOnJamTitle\")\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\toShareDialog.open();\r\n\t\t},\r\n\r\n\t\tonCancel: function() {\r\n\t\t\tthis.getRouter().navTo(\"activities\", {\r\n\t\t\t\tobjectId: \"Activities\"\r\n\t\t\t}, true);\r\n\t\t},\r\n\t\tonSave: function(oEvent) {\r\n\t\t\tthis._currentAction = \"save\";\r\n\t\t\tvar bComplete = this._validateInput(null);\r\n\t\t\tif (bComplete) {\r\n\t\t\t\tthis._updateItem();\r\n\t\t\t}\r\n\t\t},\r\n\t\tonSelectionChange: function(oEvent) {\r\n\t\t\tvar sChanged = oEvent.getSource().getId();\r\n\t\t\tvar aParts = sChanged.split(\"--\");\r\n\t\t\tsChanged = aParts[aParts.length - 1];\r\n\t\t\tthis._setPHValues(sChanged);\r\n\t\t},\r\n\t\tonGeoSelectionChange: function(oEvent) {\r\n\t\t\tvar sChanged = oEvent.getSource().getId();\r\n\t\t\tvar aParts = sChanged.split(\"--\");\r\n\t\t\tsChanged = aParts[aParts.length - 1];\r\n\t\t\tthis._setGeoValues(sChanged);\r\n\t\t},\r\n\t\t// Begin of Changes - Khrystyne Williams - Nov 2016\r\n\t\tonSubActSelectionChange: function(oEvent) {\r\n\t\t\tvar oModel = this.getModel(\"ChangeActivity\");\r\n\t\t\tvar oData = oModel.getData();\r\n\t\t\tvar oInput = this.getModel(\"ChangeActivity\").getData().Input;\r\n\t\t\tif (oData.Input.SubactivityType && oData.Input.SubactivityType !== \"\") {\r\n\t\t\t\t// Set the GL Account\r\n\t\t\t\tvar aSAType = oData.SubactivityType.Current;\r\n\t\t\t\tfor (var i = 0; i < aSAType.length; i++) {\r\n\t\t\t\t\tif (aSAType[i].Key === oData.Input.SubactivityType) {\r\n\t\t\t\t\t\tvar oAdditionalData = JSON.parse(aSAType[i].AdditionalData);\r\n\t\t\t\t\t\tif (oAdditionalData.glAccount) {\r\n\t\t\t\t\t\t\toInput.GlAccount = oAdditionalData.glAccount.toString();\r\n\t\t\t\t\t\t\toData.Display.GlAccount = oAdditionalData.glAccount;\r\n\t\t\t\t\t\t\ti = aSAType.length;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\toData.Display.GlAccount = \"No G/L Account for Sub-Activity Type\";\r\n\t\t\t\toInput.GlAccount = \"\";\r\n\t\t\t}\r\n\t\t\toModel.refresh(false);\r\n\t\t},\r\n\t\t// End of Changes - Khrystyne Williams - Nov 2016\r\n\t\tonMessagesButtonPress: function(oEvent) {\r\n\t\t\tvar oMessagesButton = oEvent.getSource();\r\n\t\t\tif (!this._messagePopover) {\r\n\t\t\t\tthis._messagePopover = new MessagePopover({\r\n\t\t\t\t\titems: {\r\n\t\t\t\t\t\tpath: \"message>/\",\r\n\t\t\t\t\t\ttemplate: new MessagePopoverItem({\r\n\t\t\t\t\t\t\tdescription: \"{message>description}\",\r\n\t\t\t\t\t\t\ttype: \"{message>type}\",\r\n\t\t\t\t\t\t\ttitle: \"{message>message}\"\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tthis._messagePopover.attachItemSelect(function(oEvent) {\r\n\t\t\t\t\t// Begin of Changes - Khrystyne Williams - Jan 2017\r\n\t\t\t\t\t// this._messagePopover.close();\r\n\t\t\t\t\t// End of Changes - Khrystyne Williams - Jan 2017\r\n\t\t\t\t\tthis._onMessageSelected(oEvent);\r\n\t\t\t\t}, this);\r\n\t\t\t\toMessagesButton.addDependent(this._messagePopover);\r\n\t\t\t}\r\n\t\t\tthis._messagePopover.toggle(oMessagesButton);\r\n\t\t},\r\n\t\tonDtChange: function(oEvent) {\r\n\t\t\tif (this.getOwnerComponent().getModel(\"ASMConfig\")) {\r\n\t\t\t\tvar bDataGood = true;\r\n\t\t\t\tthis.oMessageManager.removeAllMessages();\r\n\t\t\t\tvar oASMConfigData = this.getOwnerComponent().getModel(\"ASMConfig\").getData();\r\n\t\t\t\tvar sYear = oASMConfigData.Properties.PlanningYear;\r\n\t\t\t\tvar oInput = this.getModel(\"ChangeActivity\").getData().Input;\r\n\t\t\t\tvar oTableSelectParent = this.getOwnerComponent().getModel(\"masterShared\").getData().oTableSelectParent;\r\n\t\t\t\tvar dStartDt = sYear + \"0101\";\r\n\t\t\t\tvar dEndDt = sYear + \"1228\";\r\n\t\t\t\tvar oStartDt = this.byId(\"StartDt\");\r\n\t\t\t\tvar oEndDt = this.byId(\"EndDt\");\r\n\t\t\t\tvar oMonthSt = this.byId(\"MonthSt\");\r\n\t\t\t\tvar oMonthEd = this.byId(\"MonthEd\");\r\n\t\t\t\tvar oDateFormat = sap.ui.core.format.DateFormat.getInstance({\r\n\t\t\t\t\tpattern: \"MM/yyyy\"\r\n\t\t\t\t});\r\n\t\t\t\tif (oInput.ItemType !== \"PT\") {\r\n\t\t\t\t\tdStartDt = oTableSelectParent.StartDt.substring(0, 4) + oTableSelectParent.StartDt.substring(5, 7) +\r\n\t\t\t\t\t\toTableSelectParent.StartDt.substring(8, 10);\r\n\t\t\t\t\tdEndDt = oTableSelectParent.EndDt.substring(0, 4) + oTableSelectParent.EndDt.substring(5, 7) + oTableSelectParent.EndDt.substring(\r\n\t\t\t\t\t\t8, 10);\r\n\t\t\t\t}\r\n\t\t\t\tvar sDt1 = this._getMonthText(parseInt(dStartDt.substring(4, 6)));\r\n\t\t\t\tvar sDt2 = this._getMonthText(parseInt(dEndDt.substring(4, 6)));\r\n\t\t\t\t// PSW Start correction For Month Picker June 16th 2016 -->\t\t\t\t\t\t\r\n\t\t\t\tif (oMonthSt.getMonth() < 9) {\r\n\t\t\t\t\tvar sMth1 = \"0\" + (oMonthSt.getMonth() + 1);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar sMth1 = oMonthSt.getMonth() + 1;\r\n\t\t\t\t};\r\n\t\t\t\toInput.StartDt = sYear + sMth1 + \"01\";\r\n\r\n\t\t\t\tif (oMonthEd.getMonth() < 9) {\r\n\t\t\t\t\tvar sMth2 = \"0\" + (oMonthEd.getMonth() + 1);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar sMth2 = oMonthEd.getMonth() + 1;\r\n\t\t\t\t};\r\n\t\t\t\toInput.EndDt = sYear + sMth2 + \"28\";\r\n\t\t\t\t//psutram: change to check if the date can be modified.\r\n\t\t\t\tvar oTableSelect = this.getOwnerComponent().getModel(\"masterShared\").getData().oTableSelectRaw;\r\n\t\t\t\tif (oInput.CHasChildren === \"X\") {\r\n\t\t\t\t\tvar dOriginalStartDt = oTableSelect.StartDt.substring(0, 4) + oTableSelect.StartDt.substring(5, 7) +\r\n\t\t\t\t\t\toTableSelect.StartDt.substring(8, 10);\r\n\t\t\t\t\tvar dOriginalEndDt = oTableSelect.EndDt.substring(0, 4) + oTableSelect.EndDt.substring(5, 7) + oTableSelect.EndDt.substring(\r\n\t\t\t\t\t\t8, 10);\r\n\t\t\t\t\t// var oDisplay = this.getModel(\"ChangeActivity\").getData().Display;\r\n\t\t\t\t\t// dOriginalStartDt = \toDisplay.StartDt;\r\n\t\t\t\t\t// dOriginalEndDt = \toDisplay.EndDt;\r\n\t\t\t\t\tif (dOriginalStartDt !== oInput.StartDt || dOriginalEndDt.substring(0, 6) !== oInput.EndDt.substring(0, 6)) {\r\n\t\t\t\t\t\tif (dOriginalStartDt >= oInput.StartDt && dStartDt <= oInput.StartDt &&\r\n\t\t\t\t\t\t\tdOriginalEndDt.substring(0, 6) <= oInput.EndDt.substring(0, 6) &&\r\n\t\t\t\t\t\t\tdEndDt.substring(0, 6) >= oInput.EndDt.substring(0, 6)) {\r\n\t\t\t\t\t\t\tbDataGood = true;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t// Above change is because some old records have real month end dates - this eliminates that part of the check.\r\n\t\t\t\t\t\t\toInput.StartDt = oTableSelect.StartDt;\r\n\t\t\t\t\t\t\toInput.EndDt = oTableSelect.EndDt;\r\n\t\t\t\t\t\t\tthis._setMonthPicker();\r\n\t\t\t\t\t\t\tbDataGood = false; // GDH Change on new issue - but messages should not say the data is good. 04/07/2017\r\n\t\t\t\t\t\t\tthis.oMessageManager.addMessages(\r\n\t\t\t\t\t\t\t\tnew sap.ui.core.message.Message({\r\n\t\t\t\t\t\t\t\t\tmessage: this.getResourceBundle().getText(\"AC_E_DateNotModifiable\"),\r\n\t\t\t\t\t\t\t\t\t// Begin of Commenting - Khrystyne Williams - Jan 2017\r\n\t\t\t\t\t\t\t\t\t// description: \"StartDt, EndDt\",\r\n\t\t\t\t\t\t\t\t\t// description: \"StartDt\",\r\n\t\t\t\t\t\t\t\t\t// End of Commenting - Khrystyne Williams - Jan 2017\r\n\t\t\t\t\t\t\t\t\ttype: sap.ui.core.MessageType.Information,\r\n\t\t\t\t\t\t\t\t\tprocessor: this.oMessageProcessor\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// PSW End correction For Month Picker June 16th 2016-->\t\t\t\t\t\r\n\t\t\t\t\tif (oInput.StartDt < dStartDt || oInput.StartDt > dEndDt) {\r\n\t\t\t\t\t\t// Entry is wrong\r\n\t\t\t\t\t\tbDataGood = false;\r\n\t\t\t\t\t\toStartDt.setValueStateText(this.getResourceBundle().getText(\"AC_E_badStartDate\", [sDt1, sDt2]));\r\n\t\t\t\t\t\toStartDt.setValueState(sap.ui.core.ValueState.Error);\r\n\t\t\t\t\t\toInput.StartDt = oTableSelect.StartDt;\r\n\t\t\t\t\t\toInput.EndDt = oTableSelect.EndDt;\r\n\t\t\t\t\t\tthis._setMonthPicker();\r\n\t\t\t\t\t\tthis.oMessageManager.addMessages(\r\n\t\t\t\t\t\t\tnew sap.ui.core.message.Message({\r\n\t\t\t\t\t\t\t\tmessage: this.getResourceBundle().getText(\"AC_E_badStartDate\", [sDt1, sDt2]),\r\n\t\t\t\t\t\t\t\t// Begin of Commenting - Khrystyne Williams - Jan 2017\r\n\t\t\t\t\t\t\t\t// description: \"StartDt\",\r\n\t\t\t\t\t\t\t\t// End of Commenting - Khrystyne Williams - Jan 2017\r\n\t\t\t\t\t\t\t\ttype: sap.ui.core.MessageType.Error,\r\n\t\t\t\t\t\t\t\tprocessor: this.oMessageProcessor\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\toStartDt.setValueStateText(\"\");\r\n\t\t\t\t\t\toStartDt.setValueState(sap.ui.core.ValueState.None);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (oInput.EndDt < dStartDt || oInput.EndDt > dEndDt) {\r\n\t\t\t\t\t\t// Entry is wrong\r\n\t\t\t\t\t\tbDataGood = false;\r\n\t\t\t\t\t\toEndDt.setValueStateText(this.getResourceBundle().getText(\"AC_E_badEndDate\", [sDt1, sDt2]));\r\n\t\t\t\t\t\toEndDt.setValueState(sap.ui.core.ValueState.Error);\r\n\t\t\t\t\t\toInput.StartDt = oTableSelect.StartDt;\r\n\t\t\t\t\t\toInput.EndDt = oTableSelect.EndDt;\r\n\t\t\t\t\t\tthis._setMonthPicker();\r\n\t\t\t\t\t\tthis.oMessageManager.addMessages(\r\n\t\t\t\t\t\t\tnew sap.ui.core.message.Message({\r\n\t\t\t\t\t\t\t\tmessage: this.getResourceBundle().getText(\"AC_E_badEndDate\", [sDt1, sDt2]),\r\n\t\t\t\t\t\t\t\t// Begin of Commenting - Khrystyne Williams - Jan 2017\r\n\t\t\t\t\t\t\t\t// description: \"EndDt\",\r\n\t\t\t\t\t\t\t\t// End of Commenting - Khrystyne Williams - Jan 2017\r\n\t\t\t\t\t\t\t\ttype: sap.ui.core.MessageType.Error,\r\n\t\t\t\t\t\t\t\tprocessor: this.oMessageProcessor\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\toEndDt.setValueStateText(\"\");\r\n\t\t\t\t\t\toEndDt.setValueState(sap.ui.core.ValueState.None);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (oInput.EndDt < oInput.StartDt) {\r\n\t\t\t\t\t\t// Entry is wrong\r\n\t\t\t\t\t\tbDataGood = false;\r\n\t\t\t\t\t\toEndDt.setValueStateText(this.getResourceBundle().getText(\"AC_E_badDate\", []));\r\n\t\t\t\t\t\toEndDt.setValueState(sap.ui.core.ValueState.Error);\r\n\t\t\t\t\t\tthis.oMessageManager.addMessages(\r\n\t\t\t\t\t\t\tnew sap.ui.core.message.Message({\r\n\t\t\t\t\t\t\t\tmessage: this.getResourceBundle().getText(\"AC_E_badDate\", []),\r\n\t\t\t\t\t\t\t\t// Begin of Commenting - Khrystyne Williams - Jan 2017\r\n\t\t\t\t\t\t\t\t// description: \"StartDt\",\r\n\t\t\t\t\t\t\t\t// End of Commenting - Khrystyne Williams - Jan 2017\r\n\t\t\t\t\t\t\t\ttype: sap.ui.core.MessageType.Error,\r\n\t\t\t\t\t\t\t\tprocessor: this.oMessageProcessor\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t// end of changes\r\n\t\t\t}\r\n\r\n\t\t\treturn bDataGood;\r\n\t\t},\r\n\t\tonAgencyShow: function(oEvent) {\r\n\t\t\tVendorUtils.onShow(oEvent, this.getModel(\"ChangeActivity\"), this.getModel(\"i18n\"), this.getView().byId(\"Agency\"));\r\n\t\t},\r\n\t\tonAgencyClear: function(oEvent) {\r\n\t\t\tVendorUtils.onClear(oEvent, this.getView().byId(\"Agency\"));\r\n\t\t},\r\n\t\tonRetailerShow: function(oEvent) {\r\n\t\t\tRetailerUtils.onShow(oEvent, this.getModel(\"ChangeActivity\"), this.getModel(\"i18n\"), this.getView().byId(\"Retailer\"));\r\n\t\t},\r\n\t\tonRetailerClear: function(oEvent) {\r\n\t\t\tRetailerUtils.onClear(oEvent, this.getView().byId(\"Retailer\"));\r\n\t\t},\r\n\t\t_getSubactivityTypes: function() {\r\n\t\t\t// If the activity type is selected, then select the subactivity types.\r\n\t\t\tvar oInput = this.getModel(\"ChangeActivity\").getData().Input;\r\n\t\t\tif (oInput.ActivityType && oInput.ActivityType !== \"\" && oInput.ItemType === \"SA\") {\r\n\t\t\t\t// Pick up the subactivity types\r\n\t\t\t\tvar sPath = \"/VHSubactivityTypes\";\r\n\t\t\t\tvar filters = [];\r\n\t\t\t\tif (oInput && oInput.ActivityType) {\r\n\t\t\t\t\tfilters.push(new sap.ui.model.Filter({\r\n\t\t\t\t\t\tpath: \"Key\",\r\n\t\t\t\t\t\toperator: sap.ui.model.FilterOperator.EQ,\r\n\t\t\t\t\t\tvalue1: oInput.ActivityType\r\n\t\t\t\t\t}));\r\n\t\t\t\t}\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tthis.getModel().read(sPath, {\r\n\t\t\t\t\tasync: true,\r\n\t\t\t\t\tfilters: filters,\r\n\t\t\t\t\tsuccess: function(oData, oResponse) {\r\n\t\t\t\t\t\tTimeoutUtils.onResetTimer(that);\r\n\t\t\t\t\t\tthat._setSubactivityTypes(oData);\r\n\t\t\t\t\t},\r\n\t\t\t\t\terror: function(oError) {\r\n\t\t\t\t\t\toError.ErrorOrigin = \"Initial\";\r\n\t\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.detail\", \"Errors\", oError);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\t/* =========================================================== */\r\n\t\t/* begin: internal methods                                     */\r\n\t\t/* =========================================================== */\r\n\t\t_onMessageSelected: function(oEvent) {\r\n\t\t\tvar sField = oEvent.getParameter(\"item\").getDescription();\r\n\t\t\tvar oErrored = this.byId(sField);\r\n\t\t\tif (oErrored) {\r\n\t\t\t\toErrored.focus();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_onObjectMatched: function(oEvent) {\r\n\t\t\t// GDH\r\n\t\t\tif (this.getOwnerComponent().getModel(\"masterShared\") && this.getOwnerComponent().getModel(\"masterShared\").getData()) {\r\n\t\t\t\tif ((this.getOwnerComponent().getModel(\"masterShared\").getData().oInternalEvents.lastAction !== \"NavToChangeActivity\") && (this.getModel(\r\n\t\t\t\t\t\t\"masterShared\").getData().oInternalEvents.lastAction !== \"NavToDisplayActivity\")) {\r\n\t\t\t\t\tthis.getRouter().navTo(\"activities\", {\r\n\t\t\t\t\t\tobjectId: \"Activities\"\r\n\t\t\t\t\t}, true);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar bChangeMode = true;\r\n\t\t\t\t\tif (this.getOwnerComponent().getModel(\"masterShared\").getData().oInternalEvents.lastAction === \"NavToChangeActivity\") {\r\n\t\t\t\t\t\tbChangeMode = true;\r\n\t\t\t\t\t\tthis._showFormFragment(\"ChangeActivity\");\r\n\t\t\t\t\t} else if (this.getOwnerComponent().getModel(\"masterShared\").getData().oInternalEvents.lastAction === \"NavToDisplayActivity\") {\r\n\t\t\t\t\t\tbChangeMode = false;\r\n\t\t\t\t\t\tthis._showFormFragment(\"DisplayActivity\");\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// Set up the data to change:\r\n\t\t\t\t\tthis._handleInitialize();\r\n\t\t\t\t\tvar oTableSelect = this.getOwnerComponent().getModel(\"masterShared\").getData().oTableSelect;\r\n\t\t\t\t\tthis.getModel(\"ChangeActivity\").getData().Input = oTableSelect;\r\n\t\t\t\t\t// PSW Start change For Month Picker May 25th 2016 v2-->\r\n\t\t\t\t\tif (bChangeMode) {\r\n\t\t\t\t\t\tthis._setMonthPicker();\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// PSW End change For Month Picker May 25th 2016 v2-->\r\n\t\t\t\t\tvar oConfig = JSON.parse(oTableSelect.Config);\r\n\t\t\t\t\tif (oConfig.StatusList) {\r\n\t\t\t\t\t\tthis.getModel(\"ChangeActivity\").getData().Status = oConfig.StatusList;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis._resetChange();\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tthis.getRouter().navTo(\"activities\", {\r\n\t\t\t\t\tobjectId: \"Activities\"\r\n\t\t\t\t}, true);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Binds the view to the object path. Makes sure that detail view displays\r\n\t\t * a busy indicator while data for the corresponding element binding is loaded.\r\n\t\t * @function\r\n\t\t * @param {string} sObjectPath path to the object to be bound to the view.\r\n\t\t * @private\r\n\t\t */\r\n\t\t_bindView: function(sObjectPath) {\r\n\t\t\t// Set busy indicator during view binding\r\n\t\t\tvar oViewModel = this.getOwnerComponent().getModel(\"masterShared\");\r\n\r\n\t\t\t// If the view was not bound yet its not busy, only if the binding requests data it is set to busy again\r\n\t\t\toViewModel.setProperty(\"/oDetailBusy/busy\", false);\r\n\r\n\t\t\tthis.getView().bindElement({\r\n\t\t\t\tpath: sObjectPath,\r\n\t\t\t\tevents: {\r\n\t\t\t\t\tchange: this._onBindingChange.bind(this),\r\n\t\t\t\t\tdataRequested: function() {\r\n\t\t\t\t\t\toViewModel.setProperty(\"/oDetailBusy/busy\", true);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tdataReceived: function() {\r\n\t\t\t\t\t\toViewModel.setProperty(\"/oDetailBusy/busy\", false);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t_onBindingChange: function() {\r\n\t\t\tvar oView = this.getView(),\r\n\t\t\t\toElementBinding = oView.getElementBinding();\r\n\r\n\t\t\t// No data for the binding\r\n\t\t\tif (!oElementBinding.getBoundContext()) {\r\n\t\t\t\tthis.getRouter().getTargets().display(\"detailObjectNotFound\");\r\n\t\t\t\t// if object could not be found, the selection in the master list\r\n\t\t\t\t// does not make sense anymore.\r\n\t\t\t\tthis.getOwnerComponent().oListSelector.clearMasterListSelection();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar sPath = oElementBinding.getPath(),\r\n\t\t\t\toResourceBundle = this.getResourceBundle(),\r\n\t\t\t\toObject = oView.getModel().getObject(sPath),\r\n\t\t\t\tsObjectId = oObject.TileId,\r\n\t\t\t\tsObjectName = oObject.Title,\r\n\t\t\t\toViewModel = this.getModel(\"changeActivityView\");\r\n\r\n\t\t\tthis.getOwnerComponent().oListSelector.selectAListItem(sPath);\r\n\r\n\t\t\toViewModel.setProperty(\"/saveAsTileTitle\", oResourceBundle.getText(\"shareSaveTileAppTitle\", [sObjectName]));\r\n\t\t\toViewModel.setProperty(\"/shareOnJamTitle\", sObjectName);\r\n\t\t\toViewModel.setProperty(\"/shareSendEmailSubject\",\r\n\t\t\t\toResourceBundle.getText(\"shareSendEmailObjectSubject\", [sObjectId]));\r\n\t\t\toViewModel.setProperty(\"/shareSendEmailMessage\",\r\n\t\t\t\toResourceBundle.getText(\"shareSendEmailObjectMessage\", [sObjectName, sObjectId, location.href]));\r\n\t\t},\r\n\r\n\t\t_onMetadataLoaded: function() {\r\n\t\t\t// Store original busy indicator delay for the detail view\r\n\t\t\tvar iOriginalViewBusyDelay = this.getView().getBusyIndicatorDelay(),\r\n\t\t\t\toViewModel = this.getOwnerComponent().getModel(\"masterShared\");\r\n\r\n\t\t\t// Make sure busy indicator is displayed immediately when\r\n\t\t\t// detail view is displayed for the first time\r\n\t\t\toViewModel.setProperty(\"/oDetailBusy/delay\", 0);\r\n\r\n\t\t\t// Binding the view will set it to not busy - so the view is always busy if it is not bound\r\n\t\t\toViewModel.setProperty(\"/oDetailBusy/busy\", true);\r\n\t\t\t// Restore original busy indicator delay for the detail view\r\n\t\t\toViewModel.setProperty(\"/oDetailBusy/delay\", iOriginalViewBusyDelay);\r\n\t\t},\r\n\t\t_onButtonPressed: function(oEvent, oData) {\r\n\t\t\tif (oData) {\r\n\t\t\t\talert(\"Project Button: \" + oData.button);\r\n\t\t\t}\r\n\t\t},\r\n\t\t_formFragments: {},\r\n\t\t_getFormFragment: function(sFragmentName) {\r\n\t\t\tvar oFormFragment = this._formFragments[sFragmentName];\r\n\r\n\t\t\tif (oFormFragment) {\r\n\t\t\t\treturn oFormFragment;\r\n\t\t\t}\r\n\r\n\t\t\toFormFragment = sap.ui.xmlfragment(this.getView().getId(), \"colgate.asm.planning.base.fragment.\" + sFragmentName, this);\r\n\r\n\t\t\treturn this._formFragments[sFragmentName] = oFormFragment;\r\n\t\t},\r\n\r\n\t\t_showFormFragment: function(sFragmentName) {\r\n\t\t\tvar oPage = this.getView().byId(\"page\");\r\n\r\n\t\t\toPage.removeAllContent();\r\n\t\t\toPage.insertContent(this._getFormFragment(sFragmentName));\r\n\t\t},\r\n\r\n\t\t_setPHValues: function(sChanged) {\r\n\t\t\tvar oACModel = this.getModel(\"ChangeActivity\");\r\n\t\t\tvar sServiceUrl = this.getOwnerComponent().getModel(\"masterShared\").getProperty(\"/oServiceUrls/mainService\");\r\n\t\t\tvar that = this;\r\n\t\t\t// Check if you already have these values stored\r\n\t\t\tif (!oACModel.getProperty(\"/Input/BrandKey\")) {\r\n\t\t\t\toACModel.setProperty(\"/Input/BrandKey\", \"\");\r\n\t\t\t}\r\n\t\t\tif (!oACModel.getProperty(\"/Input/SubbrandKey\")) {\r\n\t\t\t\toACModel.setProperty(\"/Input/SubbrandKey\", \"\");\r\n\t\t\t}\r\n\t\t\tif (!oACModel.getProperty(\"/Input/SubcategoryKey\")) {\r\n\t\t\t\toACModel.setProperty(\"/Input/SubcategoryKey\", \"\");\r\n\t\t\t}\r\n\t\t\tif (!oACModel.getProperty(\"/Input/CategoryKey\")) {\r\n\t\t\t\toACModel.setProperty(\"/Input/CategoryKey\", \"\");\r\n\t\t\t}\r\n\t\t\tif (sChanged === \"CategoryKey\") {\r\n\t\t\t\t// First clear the keys\r\n\t\t\t\tif (oACModel.getProperty(\"/Input/SubcategoryKey\")) {\r\n\t\t\t\t\toACModel.setProperty(\"/Input/SubcategoryKey\", \"\");\r\n\t\t\t\t}\r\n\t\t\t\tif (oACModel.getProperty(\"/Input/SubbrandKey\")) {\r\n\t\t\t\t\toACModel.setProperty(\"/Input/SubbrandKey\", \"\");\r\n\t\t\t\t}\r\n\t\t\t\tvar oModel = this.getModel(\"Category\");\r\n\t\t\t\tif (!oModel) {\r\n\t\t\t\t\toModel = new sap.ui.model.odata.v2.ODataModel(sServiceUrl, false);\r\n\t\t\t\t\toModel.setSizeLimit(50000);\r\n\t\t\t\t\tthis.setModel(oModel, \"Category\");\r\n\t\t\t\t}\r\n\t\t\t\tvar sSelected = oACModel.getProperty(\"/Input/CategoryKey\");\r\n\t\t\t\t// May need to change the Brand List\r\n\t\t\t\tvar oBrand = this.getView().byId(\"BrandKey\");\r\n\t\t\t\tDropdownUtils.getBrands(this, oBrand, oACModel.getProperty(\"/Input/CategoryKey\"), oACModel.getProperty(\"/Input/SubcategoryKey\"),\r\n\t\t\t\t\toACModel.getProperty(\"/Input/BrandKey\"),\r\n\t\t\t\t\toACModel, \"/Brand\", null, \"/Brand/Current\");\r\n\t\t\t\tif (!sSelected || sSelected === \"\") {\r\n\t\t\t\t\toACModel.setProperty(\"/Enabled/Subcategory\", false);\r\n\t\t\t\t\toACModel.setProperty(\"/Enabled/Subbrand\", false);\r\n\t\t\t\t\toACModel.setProperty(\"/Placeholders/Category\", this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_category\"));\r\n\t\t\t\t\toACModel.setProperty(\"/Placeholders/Subcategory\", this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_subcategory\"));\r\n\t\t\t\t\tif (oACModel.getProperty(\"/Input/BrandKey\") !== \"\") {\r\n\t\t\t\t\t\toACModel.setProperty(\"/Placeholders/Subbrand\", this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_subbrand_cse\"));\r\n\t\t\t\t\t\t//oACModel.setProperty(\"/Placeholders/Subbrand\", this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_subbrand_e\"));\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\toACModel.setProperty(\"/Placeholders/Subbrand\", this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_subbrand\"));\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\toACModel.setProperty(\"/Enabled/Subcategory\", true);\r\n\t\t\t\t\tDropdownUtils.getSubcategories(this, oACModel.getProperty(\"/Input/CategoryKey\"), oACModel.getProperty(\"/Input/SubcategoryKey\"),\r\n\t\t\t\t\t\toACModel.getProperty(\"/Input/BrandKey\"), this.getModel(\r\n\t\t\t\t\t\t\t\"ChangeActivity\"), \"/Subcategory\", null, \"/Subcategory/Current\");\r\n\t\t\t\t\toACModel.setProperty(\"/Placeholders/Subcategory\", this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_subcategory_e\"));\r\n\t\t\t\t\tif (oACModel.getProperty(\"/Input/SubcategoryKey\") === \"\" && oACModel.getProperty(\"/Input/BrandKey\") === \"\") {\r\n\t\t\t\t\t\toACModel.setProperty(\"/Placeholders/Subbrand\", this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_subbrand_sbe\"));\r\n\t\t\t\t\t} else if (oACModel.getProperty(\"/Input/SubcategoryKey\") === \"\" && oACModel.getProperty(\"/Input/BrandKey\") !== \"\") {\r\n\t\t\t\t\t\toACModel.setProperty(\"/Placeholders/Subbrand\", this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_subbrand_se\"));\r\n\t\t\t\t\t\t//oACModel.setProperty(\"/Placeholders/Subbrand\", this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_subbrand_e\"));\r\n\t\t\t\t\t} else if (oACModel.getProperty(\"/Input/SubcategoryKey\") !== \"\" && oACModel.getProperty(\"/Input/BrandKey\") === \"\") {\r\n\t\t\t\t\t\toACModel.setProperty(\"/Placeholders/Subbrand\", this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_subbrand_be\"));\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\toACModel.setProperty(\"/Placeholders/Subbrand\", this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_subbrand_e\"));\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis._resetMaestroBrief();\r\n\t\t\t} else if (sChanged === \"BrandKey\" || sChanged === \"SubcategoryKey\") {\r\n\t\t\t\t// First clear out old values\r\n\t\t\t\tif (oACModel.getProperty(\"/Input\")) {\r\n\t\t\t\t\toACModel.setProperty(\"/Input/SubbrandKey\", \"\");\r\n\t\t\t\t}\r\n\t\t\t\tif (oACModel.getProperty(\"/Input/CategoryKey\") === \"\") {\r\n\t\t\t\t\tif (oACModel.getProperty(\"/Input/SubcategoryKey\") === \"\" && oACModel.getProperty(\r\n\t\t\t\t\t\t\t\"/Input/BrandKey\") === \"\") {\r\n\t\t\t\t\t\toACModel.setProperty(\"/Placeholders/Subbrand\", this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_subbrand\"));\r\n\t\t\t\t\t} else if (oACModel.getProperty(\"/Input/SubcategoryKey\") === \"\" && oACModel.getProperty(\r\n\t\t\t\t\t\t\t\"/Input/BrandKey\") !== \"\") {\r\n\t\t\t\t\t\toACModel.setProperty(\"/Placeholders/Subbrand\", this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_subbrand_cse\"));\r\n\t\t\t\t\t\t//oACModel.setProperty(\"/Placeholders/Subbrand\", this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_subbrand_e\"));\r\n\t\t\t\t\t} else if (oACModel.getProperty(\"/Input/SubcategoryKey\") !== \"\" && oACModel.getProperty(\r\n\t\t\t\t\t\t\t\"/Input/BrandKey\") === \"\") {\r\n\t\t\t\t\t\toACModel.setProperty(\"/Placeholders/Subbrand\", this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_subbrand_sbe\"));\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (oACModel.getProperty(\"/Input/SubcategoryKey\") === \"\" && oACModel.getProperty(\r\n\t\t\t\t\t\t\t\"/Input/BrandKey\") === \"\") {\r\n\t\t\t\t\t\toACModel.setProperty(\"/Placeholders/Subbrand\", this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_subbrand_sbe\"));\r\n\t\t\t\t\t} else if (oACModel.getProperty(\"/Input/SubcategoryKey\") === \"\" && oACModel.getProperty(\r\n\t\t\t\t\t\t\t\"/Input/BrandKey\") !== \"\") {\r\n\t\t\t\t\t\toACModel.setProperty(\"/Placeholders/Subbrand\", this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_subbrand_se\"));\r\n\t\t\t\t\t\t//oACModel.setProperty(\"/Placeholders/Subbrand\", this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_subbrand_e\"));\r\n\t\t\t\t\t} else if (oACModel.getProperty(\"/Input/SubcategoryKey\") !== \"\" && oACModel.getProperty(\r\n\t\t\t\t\t\t\t\"/Input/BrandKey\") === \"\") {\r\n\t\t\t\t\t\toACModel.setProperty(\"/Placeholders/Subbrand\", this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_subbrand_be\"));\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\toACModel.setProperty(\"/Placeholders/Subbrand\", this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_subbrand_e\"));\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tvar oPromise = null;\r\n\t\t\t\tif (sChanged === \"SubcategoryKey\") {\r\n\t\t\t\t\tvar oBrand = this.getView().byId(\"BrandKey\");\r\n\t\t\t\t\toPromise = DropdownUtils.getBrands(this, oBrand, oACModel.getProperty(\"/Input/CategoryKey\"), oACModel.getProperty(\r\n\t\t\t\t\t\t\t\"/Input/SubcategoryKey\"),\r\n\t\t\t\t\t\toACModel.getProperty(\"/Input/BrandKey\"),\r\n\t\t\t\t\t\toACModel, \"/Brand\", null, \"/Brand/Current\");\r\n\t\t\t\t} else if (sChanged === \"BrandKey\") {\r\n\t\t\t\t\toPromise = DropdownUtils.getCategories(this, oACModel.getProperty(\"/Input/CategoryKey\"), oACModel.getProperty(\r\n\t\t\t\t\t\t\t\"/Input/BrandKey\"),\r\n\t\t\t\t\t\tthis.getModel(\"ChangeActivity\"), \"/Category\",\r\n\t\t\t\t\t\tnull,\r\n\t\t\t\t\t\t\"/Category/Current\");\r\n\t\t\t\t}\r\n\t\t\t\toPromise.then(function(oData) {\r\n\t\t\t\t\tif (oACModel.getProperty(\"/Input/CategoryKey\") !== \"\") {\r\n\t\t\t\t\t\t//Khrystyne PH locking issue 09.18.2018\r\n\t\t\t\t\t\tif (oACModel.getProperty(\"/Input/Status\") === \"9002\") {\r\n\t\t\t\t\t\t\toACModel.setProperty(\"/Enabled/Subcategory\", true);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\toACModel.setProperty(\"/Enabled/Subcategory\", false);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t//Khrystyne PH locking issue 09.18.2018\r\n\t\t\t\t\t\toACModel.setProperty(\"/Placeholders/Subcategory\", that.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_subcategory_e\"));\r\n\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\toACModel.setProperty(\"/Enabled/Subcategory\", false);\r\n\t\t\t\t\t\toACModel.setProperty(\"/Placeholders/Subcategory\", that.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_subcategory\"));\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (oACModel.getProperty(\"/Input/CategoryKey\") && oACModel.getProperty(\"/Input/CategoryKey\") !== \"\") {\r\n\t\t\t\t\t\tDropdownUtils.getSubcategories(that, oACModel.getProperty(\"/Input/CategoryKey\"), oACModel.getProperty(\"/Input/SubcategoryKey\"),\r\n\t\t\t\t\t\t\toACModel.getProperty(\"/Input/BrandKey\"), that.getModel(\r\n\t\t\t\t\t\t\t\t\"ChangeActivity\"), \"/Subcategory\", null, \"/Subcategory/Current\");\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (oACModel.getProperty(\"/Input/BrandKey\") && oACModel.getProperty(\"/Input/BrandKey\") !== \"\" &&\r\n\t\t\t\t\t\toACModel.getProperty(\"/Input/CategoryKey\") && oACModel.getProperty(\"/Input/CategoryKey\") !== \"\" &&\r\n\t\t\t\t\t\toACModel.getProperty(\"/Input/SubcategoryKey\") && oACModel.getProperty(\"/Input/SubcategoryKey\") !== \"\") {\r\n\t\t\t\t\t\t//Khrystyne PH locking issue 09.18.2018\r\n\t\t\t\t\t\tif (oACModel.getProperty(\"/Input/Status\") === \"9002\") {\r\n\t\t\t\t\t\t\toACModel.setProperty(\"/Enabled/Subbrand\", true);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\toACModel.setProperty(\"/Enabled/Subbrand\", false);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t//Khrystyne PH locking issue 09.18.2018\r\n\t\t\t\t\t\toACModel.setProperty(\"/Placeholders/Subbrand\", that.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_subbrand_e\"));\r\n\t\t\t\t\t\tvar sbmodel = that.getModel(\"Subbrand\");\r\n\t\t\t\t\t\tif (!sbmodel) {\r\n\t\t\t\t\t\t\tsbmodel = new sap.ui.model.odata.v2.ODataModel(sServiceUrl, false);\r\n\t\t\t\t\t\t\tsbmodel.setSizeLimit(50000);\r\n\t\t\t\t\t\t\tsbmodel.setDefaultCountMode(sap.ui.model.odata.CountMode.None);\r\n\t\t\t\t\t\t\tthat.setModel(sbmodel, \"Subbrand\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvar filters = [];\r\n\t\t\t\t\t\tfilters.push(new sap.ui.model.Filter({\r\n\t\t\t\t\t\t\tpath: \"Key\",\r\n\t\t\t\t\t\t\toperator: sap.ui.model.FilterOperator.EQ,\r\n\t\t\t\t\t\t\tvalue1: oACModel.getProperty(\"/Input/SubbrandKey\")\r\n\t\t\t\t\t\t}));\r\n\t\t\t\t\t\tif (oACModel.getProperty(\"/Input/CategoryKey\") !== \"\") {\r\n\t\t\t\t\t\t\tfilters.push(new sap.ui.model.Filter({\r\n\t\t\t\t\t\t\t\tpath: \"Category\",\r\n\t\t\t\t\t\t\t\toperator: sap.ui.model.FilterOperator.EQ,\r\n\t\t\t\t\t\t\t\tvalue1: oACModel.getProperty(\"/Input/CategoryKey\")\r\n\t\t\t\t\t\t\t}));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (oACModel.getProperty(\"/Input/SubcategoryKey\") !== \"\") {\r\n\t\t\t\t\t\t\tfilters.push(new sap.ui.model.Filter({\r\n\t\t\t\t\t\t\t\tpath: \"PSubCategory\",\r\n\t\t\t\t\t\t\t\toperator: sap.ui.model.FilterOperator.EQ,\r\n\t\t\t\t\t\t\t\tvalue1: oACModel.getProperty(\"/Input/SubcategoryKey\")\r\n\t\t\t\t\t\t\t}));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tfilters.push(new sap.ui.model.Filter({\r\n\t\t\t\t\t\t\tpath: \"Brand\",\r\n\t\t\t\t\t\t\toperator: sap.ui.model.FilterOperator.EQ,\r\n\t\t\t\t\t\t\tvalue1: oACModel.getProperty(\"/Input/BrandKey\")\r\n\t\t\t\t\t\t}));\r\n\t\t\t\t\t\tvar sPath = \"/VHSubbrands\";\r\n\t\t\t\t\t\tthat.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", true); // Start Spinner\r\n\t\t\t\t\t\tvar that2 = that;\r\n\t\t\t\t\t\tvar oSBPromise = new Promise(function(resolve, reject) {\r\n\t\t\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\t\t\tsbmodel.read(sPath, {\r\n\t\t\t\t\t\t\t\t\tasync: true,\r\n\t\t\t\t\t\t\t\t\tfilters: filters,\r\n\t\t\t\t\t\t\t\t\tsuccess: function(oData, oResponse) {\r\n\t\t\t\t\t\t\t\t\t\tTimeoutUtils.onResetTimer(that);\r\n\t\t\t\t\t\t\t\t\t\tthat2._setSubbrands(oData);\r\n\t\t\t\t\t\t\t\t\t\tresolve(oData);\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\terror: function(oError) {\r\n\t\t\t\t\t\t\t\t\t\toError.ErrorOrigin = \"Subbrands\";\r\n\t\t\t\t\t\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.detail\", \"Errors\", oError);\r\n\t\t\t\t\t\t\t\t\t\treject(oError);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}, 200);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\toSBPromise.then(function(oData) {\r\n\t\t\t\t\t\t\t//Khrystyne PH locking issue 09.18.2018\r\n\t\t\t\t\t\t\tif (oACModel.getProperty(\"/Input/Status\") === \"9002\") {\r\n\t\t\t\t\t\t\t\toACModel.setProperty(\"/Enabled/Subbrand\", true);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\toACModel.setProperty(\"/Enabled/Subbrand\", false);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t//Khrystyne PH locking issue 09.18.2018\r\n\t\t\t\t\t\t\toACModel.setProperty(\"/Placeholders/Subbrand\", that2.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_subbrand_e\"));\r\n\t\t\t\t\t\t\tthat2._getMaestroBrief();\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\toACModel.setProperty(\"/Enabled/Subbrand\", false);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t} else if (sChanged === \"SubbrandKey\") {\r\n\t\t\t\tvar oSubbrand = this.getView().byId(\"SubbrandKey\");\r\n\t\t\t\tvar sKey = oSubbrand.getSelectedKey();\r\n\r\n\t\t\t\tif (sKey !== \"\") {\r\n\t\t\t\t\tvar aSubbrands = oACModel.getProperty(\"/Subbrand/Current\");\r\n\t\t\t\t\tfor (var i = 0; i < aSubbrands.length; i++) {\r\n\t\t\t\t\t\tif (aSubbrands[i].Key === sKey) {\r\n\t\t\t\t\t\t\tif (oACModel.getProperty(\"/Input/BrandKey\") !== aSubbrands[i].Brand) {\r\n\t\t\t\t\t\t\t\toACModel.setProperty(\"/Input/BrandKey\", aSubbrands[i].Brand);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t_setGeoValues: function(sChanged) {\r\n\t\t\tvar oACModel = this.getModel(\"ChangeActivity\");\r\n\t\t\tvar oACData = oACModel.getData();\r\n\t\t\tvar sServiceUrl = this.getOwnerComponent().getModel(\"masterShared\").getProperty(\"/oServiceUrls/mainService\");\r\n\t\t\tif (sChanged === \"DivisionKey\") {\r\n\t\t\t\t// First clear the keys\r\n\t\t\t\t// PSW Start Correction Clear Dependent fields May 26th 2016 v3\t\t\t\t\t\t\r\n\t\t\t\tif (oACData.Input.Hub) {\r\n\t\t\t\t\toACData.Input.Hub = \"\";\r\n\t\t\t\t}\r\n\t\t\t\t// PSW End Correction Clear Dependent fields May 26th 2016 v3\r\n\t\t\t\tvar model = this.getModel(\"Division\");\r\n\t\t\t\tif (!model) {\r\n\t\t\t\t\tmodel = new sap.ui.model.odata.v2.ODataModel(sServiceUrl, false);\r\n\t\t\t\t\tmodel.setSizeLimit(50000);\r\n\t\t\t\t\tthis.setModel(model, \"Division\");\r\n\t\t\t\t}\r\n\t\t\t\tvar sSelected = oACData.Input.DivisionKey;\r\n\t\t\t\tif (!sSelected || sSelected === \"\") {\r\n\t\t\t\t\toACData.Enabled.Hub = false;\r\n\t\t\t\t\toACData.Enabled.Sub = false;\r\n\t\t\t\t\toACData.Placeholders.Hub = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_hub\");\r\n\t\t\t\t\toACData.Placeholders.Sub = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_sub\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// May need to change the Brand List\r\n\t\t\t\t\t// Check if you already have these values stored\r\n\t\t\t\t\tvar combinedKey = oACData.Input.DivisionKey;\r\n\t\t\t\t\t// First clear out old values\r\n\t\t\t\t\tif (oACData.Hub && oACData.Hub[combinedKey]) {\r\n\t\t\t\t\t\t// You don't need to select - we already have the data\r\n\t\t\t\t\t\toACData.Hub.Current = oACData.Hub[combinedKey];\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tvar bmodel = this.getModel(\"Hub\");\r\n\t\t\t\t\t\tif (!bmodel) {\r\n\t\t\t\t\t\t\tbmodel = new sap.ui.model.odata.v2.ODataModel(sServiceUrl);\r\n\t\t\t\t\t\t\tbmodel.setSizeLimit(50000);\r\n\t\t\t\t\t\t\tbmodel.setDefaultCountMode(sap.ui.model.odata.CountMode.None);\r\n\t\t\t\t\t\t\tthis.setModel(bmodel, \"Hub\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvar filters = [];\r\n\t\t\t\t\t\tvar sHubKey = oACData.Input.HubKey;\r\n\t\t\t\t\t\tif (!sHubKey) {\r\n\t\t\t\t\t\t\tsHubKey = \"\";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvar sDivisionKey = oACData.Input.DivisionKey;\r\n\t\t\t\t\t\tif (!sDivisionKey) {\r\n\t\t\t\t\t\t\tsDivisionKey = \"\";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tfilters.push(new sap.ui.model.Filter({\r\n\t\t\t\t\t\t\tpath: \"GeoKey\",\r\n\t\t\t\t\t\t\toperator: sap.ui.model.FilterOperator.EQ,\r\n\t\t\t\t\t\t\tvalue1: sHubKey\r\n\t\t\t\t\t\t}));\r\n\t\t\t\t\t\tfilters.push(new sap.ui.model.Filter({\r\n\t\t\t\t\t\t\tpath: \"DivisionKey\",\r\n\t\t\t\t\t\t\toperator: sap.ui.model.FilterOperator.EQ,\r\n\t\t\t\t\t\t\tvalue1: sDivisionKey\r\n\t\t\t\t\t\t}));\r\n\t\t\t\t\t\tvar sPath = \"/VHHubs\";\r\n\t\t\t\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", true); // Start Spinner\r\n\t\t\t\t\t\tvar that = this;\r\n\t\t\t\t\t\tbmodel.read(sPath, {\r\n\t\t\t\t\t\t\tasync: true,\r\n\t\t\t\t\t\t\tfilters: filters,\r\n\t\t\t\t\t\t\tsuccess: function(oData, oResponse) {\r\n\t\t\t\t\t\t\t\tTimeoutUtils.onResetTimer(that);\r\n\t\t\t\t\t\t\t\tthat._setHubs(oData);\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\terror: function(oError) {\r\n\t\t\t\t\t\t\t\toError.ErrorOrigin = \"Hubs\";\r\n\t\t\t\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.detail\", \"Errors\", oError);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t\toACData.Enabled.Hub = true;\r\n\t\t\t\t\toACData.Placeholders.Hub = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_hub_e\");\r\n\t\t\t\t\toACData.Placeholders.Sub = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_sub_he\");\r\n\t\t\t\t}\r\n\t\t\t\toACData.Enabled.Sub = false;\r\n\t\t\t\tthis._resetRetailers();\r\n\t\t\t\tthis._resetDemographics();\r\n\t\t\t\t//this._resetCostcenters();\r\n\t\t\t\t//this._getAgencies();\r\n\t\t\t} else if (sChanged === \"HubKey\") {\r\n\t\t\t\t// First clear out old values\r\n\t\t\t\tif (oACData.Input.SubKey) {\r\n\t\t\t\t\toACData.Input.SubKey = \"\";\r\n\t\t\t\t}\r\n\t\t\t\tvar sbmodel = this.getModel(\"Sub\");\r\n\t\t\t\tif (!sbmodel) {\r\n\t\t\t\t\tsbmodel = new sap.ui.model.odata.v2.ODataModel(sServiceUrl);\r\n\t\t\t\t\tsbmodel.setSizeLimit(50000);\r\n\t\t\t\t\tsbmodel.setDefaultCountMode(sap.ui.model.odata.CountMode.None);\r\n\t\t\t\t\tthis.setModel(sbmodel, \"Sub\");\r\n\t\t\t\t}\r\n\t\t\t\tvar filters = [];\r\n\t\t\t\tvar sSubKey = oACData.Input.SubKey;\r\n\t\t\t\tif (!sSubKey) {\r\n\t\t\t\t\tsSubKey = \"\";\r\n\t\t\t\t}\r\n\t\t\t\tvar sHubKey = oACData.Input.HubKey;\r\n\t\t\t\tif (!sHubKey) {\r\n\t\t\t\t\tsHubKey = \"\";\r\n\t\t\t\t}\r\n\t\t\t\tvar sDivisionKey = oACData.Input.DivisionKey;\r\n\t\t\t\tif (!sDivisionKey) {\r\n\t\t\t\t\tsDivisionKey = \"\";\r\n\t\t\t\t}\r\n\t\t\t\tif (sHubKey !== \"\") {\r\n\t\t\t\t\tfilters.push(new sap.ui.model.Filter({\r\n\t\t\t\t\t\tpath: \"GeoKey\",\r\n\t\t\t\t\t\toperator: sap.ui.model.FilterOperator.EQ,\r\n\t\t\t\t\t\tvalue1: sSubKey\r\n\t\t\t\t\t}));\r\n\t\t\t\t\tfilters.push(new sap.ui.model.Filter({\r\n\t\t\t\t\t\tpath: \"HubKey\",\r\n\t\t\t\t\t\toperator: sap.ui.model.FilterOperator.EQ,\r\n\t\t\t\t\t\tvalue1: sHubKey\r\n\t\t\t\t\t}));\r\n\t\t\t\t\tfilters.push(new sap.ui.model.Filter({\r\n\t\t\t\t\t\tpath: \"DivisionKey\",\r\n\t\t\t\t\t\toperator: sap.ui.model.FilterOperator.EQ,\r\n\t\t\t\t\t\tvalue1: sDivisionKey\r\n\t\t\t\t\t}));\r\n\t\t\t\t\tvar sPath = \"/VHSubs\";\r\n\t\t\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", true); // Start Spinner\r\n\t\t\t\t\tvar that = this;\r\n\t\t\t\t\tsbmodel.read(sPath, {\r\n\t\t\t\t\t\tasync: true,\r\n\t\t\t\t\t\tfilters: filters,\r\n\t\t\t\t\t\tsuccess: function(oData, oResponse) {\r\n\t\t\t\t\t\t\tTimeoutUtils.onResetTimer(that);\r\n\t\t\t\t\t\t\tthat._setSubs(oData);\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\terror: function(oError) {\r\n\t\t\t\t\t\t\toError.ErrorOrigin = \"Subs\";\r\n\t\t\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.detail\", \"Errors\", oError);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\toACData.Enabled.Sub = true;\r\n\t\t\t\t\toACData.Placeholders.Sub = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_sub_e\");\r\n\t\t\t\t\tthis._resetRetailers();\r\n\t\t\t\t\t//this._resetCostcenters();\r\n\t\t\t\t\tthis._resetDemographics();\r\n\t\t\t\t} else {\r\n\t\t\t\t\toACData.Enabled.Sub = false;\r\n\t\t\t\t\toACData.Placeholders.Hub = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_hub_e\");\r\n\t\t\t\t\toACData.Placeholders.Sub = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_sub_he\");\r\n\t\t\t\t}\r\n\t\t\t} else if (sChanged === \"SubKey\") {\r\n\t\t\t\t// Get the Retailer\r\n\t\t\t\tthis._getRetailers();\r\n\t\t\t\t//this._getCostcenters();\r\n\t\t\t\tthis._getDemographics();\r\n\t\t\t\tthis._getAgencies();\r\n\t\t\t}\r\n\t\t},\r\n\t\t_setSubcategories: function(oDataIn) {\r\n\t\t\tvar oModel = this.getModel(\"ChangeActivity\");\r\n\t\t\tvar oData = oModel.getData();\r\n\t\t\tif (!oData.Subcategory) {\r\n\t\t\t\toData.Subcategory = {};\r\n\t\t\t}\r\n\t\t\toData.Subcategory.Current = oDataIn.results;\r\n\t\t\tvar combinedKey = oData.Input.CategoryKey + oData.Input.SubcategoryKey;\r\n\t\t\toData.Subcategory[combinedKey] = oDataIn.results;\r\n\t\t\toModel.refresh(false);\r\n\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", false); // Stop Spinner\r\n\t\t},\r\n\t\t// _setBrands: function(oDataIn) {\r\n\t\t// \tvar oModel = this.getModel(\"ChangeActivity\");\r\n\t\t// \tvar oData = oModel.getData();\r\n\t\t// \tif (!oData.Brand) {\r\n\t\t// \t\toData.Brand = {};\r\n\t\t// \t}\r\n\t\t// \toData.Brand.Current = oDataIn.results;\r\n\t\t// \tvar combinedKey = oData.Input.CategoryKey + \":\" + oData.Input.SubcategoryKey;\r\n\t\t// \toData.Brand[combinedKey] = oDataIn.results;\r\n\t\t// \toModel.refresh(false);\r\n\t\t// \tthis.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", false); // Stop Spinner\r\n\t\t// },\r\n\t\t_setSubbrands: function(oDataIn) {\r\n\t\t\tvar oModel = this.getModel(\"ChangeActivity\");\r\n\t\t\tvar oData = oModel.getData();\r\n\t\t\tif (!oData.Subbrand) {\r\n\t\t\t\toData.Subbrand = {};\r\n\t\t\t}\r\n\t\t\toData.Subbrand.Current = oDataIn.results;\r\n\t\t\toModel.refresh(false);\r\n\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", false); // Stop Spinner\r\n\t\t},\r\n\t\t_setHubs: function(oDataIn) {\r\n\t\t\tvar oModel = this.getModel(\"ChangeActivity\");\r\n\t\t\tvar oData = oModel.getData();\r\n\t\t\tif (!oData.Hub) {\r\n\t\t\t\toData.Hub = {};\r\n\t\t\t}\r\n\t\t\toData.Hub.Current = oDataIn.results;\r\n\t\t\tvar combinedKey = oData.Input.DivisionKey;\r\n\t\t\toData.Hub[combinedKey] = oDataIn.results;\r\n\t\t\toModel.refresh(false);\r\n\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", false); // Stop Spinner\r\n\t\t},\r\n\t\t_setSubs: function(oDataIn) {\r\n\t\t\tvar oModel = this.getModel(\"ChangeActivity\");\r\n\t\t\tvar oData = oModel.getData();\r\n\t\t\tif (!oData.Sub) {\r\n\t\t\t\toData.Sub = {};\r\n\t\t\t}\r\n\t\t\toData.Sub.Current = oDataIn.results;\r\n\t\t\toModel.refresh(false);\r\n\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", false); // Stop Spinner\r\n\t\t},\r\n\t\t_setProjectTypes: function(oDataIn) {\r\n\t\t\tvar oModel = this.getModel(\"ChangeActivity\");\r\n\t\t\tvar oData = oModel.getData();\r\n\t\t\tif (!oData.ProjectType) {\r\n\t\t\t\toData.ProjectType = {};\r\n\t\t\t}\r\n\t\t\toData.ProjectType.Current = oDataIn.results;\r\n\t\t},\r\n\t\t_setActivityTypes: function(oDataIn) {\r\n\t\t\tvar oModel = this.getModel(\"ChangeActivity\");\r\n\t\t\tvar oData = oModel.getData();\r\n\t\t\tif (!oData.ActivityType) {\r\n\t\t\t\toData.ActivityType = {};\r\n\t\t\t}\r\n\t\t\toData.ActivityType.Current = oDataIn.results;\r\n\t\t},\r\n\t\t_setSubactivityTypes: function(oDataIn) {\r\n\t\t\tvar oModel = this.getModel(\"ChangeActivity\");\r\n\t\t\tvar oData = oModel.getData();\r\n\t\t\tif (!oData.SubactivityType) {\r\n\t\t\t\toData.SubactivityType = {};\r\n\t\t\t}\r\n\t\t\toData.SubactivityType.Current = oDataIn.results;\r\n\t\t\tvar combinedKey = oData.Input.ActivityType;\r\n\t\t\toData.SubactivityType[combinedKey] = oDataIn.results;\r\n\t\t\toModel.refresh(false);\r\n\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", false); // Stop Spinner\r\n\t\t},\r\n\t\t_setPriorities: function(oDataIn) {\r\n\t\t\tvar oModel = this.getModel(\"ChangeActivity\");\r\n\t\t\tvar oData = oModel.getData();\r\n\t\t\tif (!oData.Priority) {\r\n\t\t\t\toData.Priority = {};\r\n\t\t\t}\r\n\t\t\toData.Priority.Current = oDataIn.results;\r\n\t\t\toModel.refresh(false);\r\n\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", false); // Stop Spinner\r\n\t\t},\r\n\t\t_setASMConfig: function() {\r\n\t\t\t// Set the plan year\r\n\t\t\tvar oASMConfig = this.getOwnerComponent().getModel(\"ASMConfig\");\r\n\t\t\tif (oASMConfig) {\r\n\t\t\t\tvar oModel = this.getModel(\"ChangeActivity\");\r\n\t\t\t\tvar oASMConfigData = oASMConfig.getData();\r\n\t\t\t\tvar oCurrentData = oModel.getData();\r\n\t\t\t\tvar sYear = oASMConfigData.Properties.PlanningYear;\r\n\t\t\t\toCurrentData.Input.PlanningYear = sYear;\r\n\t\t\t\t// Begin of Commenting - Khrystyne Williams - Oct\r\n\t\t\t\t// oCurrentData.Input.StartDt = sYear + \"0101\";\r\n\t\t\t\t// oCurrentData.Input.EndDt = sYear + \"1231\";\r\n\t\t\t\t// End of Commenting - Khrystyne Williams - Oct\r\n\t\t\t\toModel.refresh(false);\r\n\t\t\t}\r\n\t\t},\r\n\t\t_validateInput: function() {\r\n\t\t\t// Check Mandatory Input Fields\r\n\t\t\tthis.oMessageManager.removeAllMessages();\r\n\t\t\tvar bDataGood = this.onDtChange(null);\r\n\t\t\tvar oData = this.getModel(\"ChangeActivity\").getData();\r\n\t\t\tif (oData.Input.ItemType === \"PT\") {\r\n\t\t\t\t// Begin of Changes - Khrystyne Williams - Nov 2016\r\n\t\t\t\t// if (!this._checkNotEmpty(\"Name\", oData)) {\r\n\t\t\t\tif (!oData.Input.hasOwnProperty(\"Name\") || oData.Input.Name === \"\") {\r\n\t\t\t\t\t//Set the name to be the project type\r\n\t\t\t\t\tvar aPType = oData.ProjectType.Current;\r\n\t\t\t\t\tfor (var i = 0; i < aPType.length; i++) {\r\n\t\t\t\t\t\tif (aPType[i].Key === oData.Input.ProjectType) {\r\n\t\t\t\t\t\t\toData.Input.Name = aPType[i].Description.toString();\r\n\t\t\t\t\t\t\ti = aPType.length;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// bDataGood = false;\r\n\t\t\t\t}\r\n\t\t\t\t// End of Changes - Khrystyne Williams - Nov 2016\r\n\r\n\t\t\t\tif (!this._checkNotEmpty(\"ProjectType\", oData)) {\r\n\t\t\t\t\tbDataGood = false;\r\n\t\t\t\t}\r\n\t\t\t\t// Begin of Commenting - Khrystyne Williams - August 26, 2016\r\n\t\t\t\t// Remove validation as Category is not mandatory\r\n\t\t\t\t// if (!this._checkNotEmpty(\"CategoryKey\", oData)) {\r\n\t\t\t\t// \tbDataGood = false;\r\n\t\t\t\t// }\r\n\t\t\t\t// End of Commenting - Khrystyne Williams - August 26, 2016\r\n\t\t\t\tif (!this._checkNotEmpty(\"DivisionKey\", oData)) {\r\n\t\t\t\t\tbDataGood = false;\r\n\t\t\t\t}\r\n\t\t\t} else if (oData.Input.ItemType === \"AT\") {\r\n\t\t\t\t// Begin of Changes - Khrystyne Williams - Nov 2016\r\n\t\t\t\t// if (!this._checkNotEmpty(\"Name\", oData)) {\r\n\t\t\t\tif (!oData.Input.hasOwnProperty(\"Name\") || oData.Input.Name === \"\") {\r\n\t\t\t\t\t//Set the name to be the project type\r\n\t\t\t\t\tvar aAType = oData.ActivityType.Current;\r\n\t\t\t\t\tfor (var i = 0; i < aAType.length; i++) {\r\n\t\t\t\t\t\tif (aAType[i].Key === oData.Input.ActivityType) {\r\n\t\t\t\t\t\t\toData.Input.Name = aAType[i].Description.toString();\r\n\t\t\t\t\t\t\ti = aAType.length;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// bDataGood = false;\r\n\t\t\t\t}\r\n\t\t\t\t// End of Changes - Khrystyne Williams - Nov 2016\r\n\r\n\t\t\t\tif (!this._checkNotEmpty(\"Status\", oData)) {\r\n\t\t\t\t\tbDataGood = false;\r\n\t\t\t\t}\r\n\t\t\t\tif (!this._checkNotEmpty(\"ActivityType\", oData)) {\r\n\t\t\t\t\tbDataGood = false;\r\n\t\t\t\t}\r\n\t\t\t} else if (oData.Input.ItemType === \"SA\") {\r\n\t\t\t\t// Begin of Changes - Khrystyne Williams - Nov 2016\r\n\t\t\t\t// if (!this._checkNotEmpty(\"Name\", oData)) {\r\n\t\t\t\tif (!oData.Input.hasOwnProperty(\"Name\") || oData.Input.Name === \"\") {\r\n\t\t\t\t\t//Set the name to be the project type\r\n\t\t\t\t\tvar aSAType = oData.SubactivityType.Current;\r\n\t\t\t\t\tfor (var i = 0; i < aSAType.length; i++) {\r\n\t\t\t\t\t\tif (aSAType[i].Key === oData.Input.SubactivityType) {\r\n\t\t\t\t\t\t\toData.Input.Name = aSAType[i].Description.toString();\r\n\t\t\t\t\t\t\ti = aSAType.length;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// bDataGood = false;\r\n\t\t\t\t}\r\n\t\t\t\t// End of Changes - Khrystyne Williams - Nov 2016\r\n\t\t\t\tif (!this._checkNotEmpty(\"Status\", oData)) {\r\n\t\t\t\t\tbDataGood = false;\r\n\t\t\t\t}\r\n\t\t\t\tif (!this._checkNotEmpty(\"SubactivityType\", oData)) {\r\n\t\t\t\t\tbDataGood = false;\r\n\t\t\t\t}\r\n\t\t\t\t//Validation for Hub and Sub in SA / USERA04 / 1-27-2017\r\n\t\t\t\tif (!this._checkNotEmpty(\"HubKey\", oData)) {\r\n\t\t\t\t\tbDataGood = false;\r\n\t\t\t\t}\r\n\t\t\t\tif (!this._checkNotEmpty(\"SubKey\", oData)) {\r\n\t\t\t\t\tbDataGood = false;\r\n\t\t\t\t}\r\n\t\t\t\tif (oData.Input.Status === \"9012\" || oData.Input.Status === \"9013\" || oData.Input.Status === \"9014\") {\r\n\t\t\t\t\tif (!this._checkNotEmpty(\"CategoryKey\", oData)) {\r\n\t\t\t\t\t\tbDataGood = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (!this._checkNotEmpty(\"SubcategoryKey\", oData)) {\r\n\t\t\t\t\t\tbDataGood = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (!this._checkNotEmpty(\"BrandKey\", oData)) {\r\n\t\t\t\t\t\tbDataGood = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (!this._checkNotEmpty(\"SubbrandKey\", oData)) {\r\n\t\t\t\t\t\tbDataGood = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (!bDataGood) {\r\n\t\t\t\tvar sMessage = this.getModel(\"i18n\").getResourceBundle().getText(\"AC_E_BudgetErrors\");\r\n\t\t\t\tMessageToast.show(sMessage);\r\n\t\t\t}\r\n\t\t\treturn bDataGood;\r\n\t\t},\r\n\t\t_checkAllowStatusChange: function() {\r\n\t\t\tvar oTableSelect = this.getOwnerComponent().getModel(\"masterShared\").getData().oTableSelect;\r\n\t\t\tvar oTableSelectParent = this.getOwnerComponent().getModel(\"masterShared\").getData().oTableSelectParent;\r\n\t\t\tif (oTableSelect.hasOwnProperty(\"Status\") && oTableSelectParent.hasOwnProperty(\"Status\") && oTableSelect.Status ===\r\n\t\t\t\toTableSelectParent.Status) {\r\n\t\t\t\t// Cannot change this status because cannot be moved ahead of the parent\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t},\r\n\t\t_checkNotEmpty: function(sId, oData) {\r\n\t\t\tvar oControl = this.byId(sId);\r\n\t\t\toControl.setValueState(sap.ui.core.ValueState.None);\r\n\t\t\toControl.setValueStateText(\"\");\r\n\t\t\tif (!oData.Input.hasOwnProperty(sId) || oData.Input[sId] === \"\") {\r\n\t\t\t\toControl.setValueState(sap.ui.core.ValueState.Error);\r\n\t\t\t\tvar sProperty = \"AC_E_\" + sId;\r\n\t\t\t\toControl.setValueStateText(this.getOwnerComponent().getModel(\"i18n\").getProperty(sProperty));\r\n\t\t\t\tthis.oMessageManager.addMessages(\r\n\t\t\t\t\tnew sap.ui.core.message.Message({\r\n\t\t\t\t\t\tmessage: this.getOwnerComponent().getModel(\"i18n\").getProperty(sProperty),\r\n\t\t\t\t\t\tdescription: sId,\r\n\t\t\t\t\t\ttype: sap.ui.core.MessageType.Error,\r\n\t\t\t\t\t\tprocessor: this.oMessageProcessor\r\n\t\t\t\t\t})\r\n\t\t\t\t);\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t},\r\n\t\t_updateItem: function() {\r\n\t\t\tvar oRaw = this.getOwnerComponent().getModel(\"masterShared\").getData().oTableSelectRaw;\r\n\t\t\tvar oData = this.getModel(\"ChangeActivity\").getData();\r\n\t\t\tvar aKeys = Object.keys(oRaw);\r\n\t\t\tvar oItem = {};\r\n\t\t\tfor (var i = 0; i < aKeys.length; i++) {\r\n\t\t\t\toItem[aKeys[i]] = oData.Input[aKeys[i]];\r\n\t\t\t}\r\n\t\t\toItem.StartDt = oData.Input.StartDt.substring(0, 4) + \"-\" + oData.Input.StartDt.substring(4, 6) + \"-\" + oData.Input.StartDt.substring(\r\n\t\t\t\t6, 8) + \"T00:00:00\";\r\n\t\t\toItem.EndDt = oData.Input.EndDt.substring(0, 4) + \"-\" + oData.Input.EndDt.substring(4, 6) + \"-\" + oData.Input.EndDt.substring(6, 8) +\r\n\t\t\t\t\"T00:00:00\";\r\n\t\t\toItem.CreatedTime = oItem.CreatedTime.replace(\"Z\", \"\");\r\n\t\t\toItem.ChangedTime = oItem.ChangedTime.replace(\"Z\", \"\");\r\n\t\t\tif (oItem.Agency === \"\") {\r\n\t\t\t\toItem.AgencyDesc = \"\";\r\n\t\t\t}\r\n\t\t\tvar oDate = new Date();\r\n\t\t\tvar iMonth = parseInt(oDate.getMonth()) + 1;\r\n\t\t\t//Time Created/Modified on Server // USERA04 // 2/28/17\r\n\t\t\t//oItem.ChangedTime = oDate.getFullYear() + \"-\" + iMonth + \"-\" + oDate.getDate() + \"T00:00:00\";\r\n\r\n\t\t\t// Remove fields that were added in extra.\r\n\t\t\tdelete oItem.OriginalName;\r\n\t\t\tFormatUtils.stringifyNumbers(oItem);\r\n\t\t\tif (oItem.ItemType === \"PT\") {\r\n\t\t\t\toItem.ActivityType = oData.Input.ProjectType;\r\n\t\t\t\t// oItem.AmtB1 = \"0\";\r\n\t\t\t\t// oItem.AmtB2 = \"0\";\r\n\t\t\t\t// oItem.AmtB3 = \"0\";\r\n\t\t\t\t// oItem.AmtB4 = \"0\";\r\n\t\t\t\t// oItem.AmtB5 = \"0\";\r\n\t\t\t\t// oItem.AmtB6 = \"0\";\r\n\t\t\t\t// oItem.AmtB7 = \"0\";\r\n\t\t\t\t// oItem.AmtB8 = \"0\";\r\n\t\t\t\t// oItem.AmtB9 = \"0\";\r\n\t\t\t\t// oItem.AmtB10 = \"0\";\r\n\t\t\t\t// oItem.AmtB11 = \"0\";\r\n\t\t\t\t// oItem.AmtB12 = \"0\";\r\n\t\t\t} else if (oItem.ItemType === \"SA\") {\r\n\t\t\t\toItem.ActivityType = oData.Input.SubactivityType;\r\n\t\t\t\toItem.ActivityTypeDesc = \"\";\r\n\r\n\t\t\t\t//bhavik\r\n\t\t\t\tif (oItem.SubbrandKey) {\r\n\t\t\t\t\tfor (var j = 0; j < oData.Subbrand.Current.length; j++) {\r\n\t\t\t\t\t\tif (oData.Subbrand.Current[j].Key === oItem.SubbrandKey) {\r\n\t\t\t\t\t\t\tvar desc = oData.Subbrand.Current[j].Description;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar newdata = {},\r\n\t\t\t\t\t\tFData = {};\r\n\r\n\t\t\t\t\tnewdata.SubbrandKey = oItem.SubbrandKey;\r\n\t\t\t\t\tnewdata.SubbrandDesc = desc;\r\n\t\t\t\t\tnewdata.LeadSubbrand = \"X\";\r\n\t\t\t\t\tnewdata.UpdatedFlag = \"I\";\r\n\t\t\t\t\toData.CSBSubbrand.Change.push(newdata);\r\n\r\n\t\t\t\t\t//CSBTest\r\n\t\t\t\t\tFData.K = oItem.SubbrandKey;\r\n\t\t\t\t\tFData.L = \"X\";\r\n\t\t\t\t\tFData.U = \"I\";\r\n\t\t\t\t\toData.CSBSubbrand.NewChange.push(FData);\r\n\t\t\t\t\t//CSBTest\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t// if (oData.CSBSubbrand.Change.length) {\r\n\t\t\t\t// \toItem.CsbConfig = JSON.stringify(oData.CSBSubbrand.Change);\r\n\t\t\t\t// }\r\n\t\t\t\tif (oData.CSBSubbrand.NewChange.length) {\r\n\t\t\t\t\toItem.CsbConfig = JSON.stringify(oData.CSBSubbrand.NewChange);\r\n\t\t\t\t}\r\n\t\t\t\t//bhavik\t\t\t\t\r\n\t\t\t} else if (oItem.ItemType === \"AT\") {\r\n\t\t\t\t// No change needed in Activity Type\r\n\t\t\t}\r\n\t\t\t// oItem.AmtBTot = \"0\";\r\n\t\t\t// oItem.AmtATot = \"0\";\r\n\t\t\t// oItem.AmtCTot = \"0\";\r\n\t\t\t// oItem.AmtCbTot = \"0\";\r\n\t\t\toItem.ItemType = oData.Input.ItemType;\r\n\t\t\tdelete oItem.__metadata;\r\n\t\t\tvar oConfig = {};\r\n\t\t\toConfig.UPDITEM = \"X\";\r\n\t\t\toItem.Config = JSON.stringify(oConfig);\r\n\r\n\t\t\tvar oModel = this.getModel(\"Category\");\r\n\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", true);\r\n\t\t\tvar that = this;\r\n\t\t\tvar sPath = oRaw.__metadata.uri.substring(oRaw.__metadata.uri.lastIndexOf(\"/\"));\r\n\r\n\t\t\toModel.update(sPath, oItem, {\r\n\t\t\t\tsuccess: function(oData, oResponse) {\r\n\t\t\t\t\tTimeoutUtils.onResetTimer(that);\r\n\t\t\t\t\t// Add a Success toast and navigate back to the Project view and refresh the data.\r\n\t\t\t\t\tif (oResponse.statusCode !== \"204\") {\r\n\t\t\t\t\t\toData.ErrorOrigin = \"UpdateProject\";\r\n\t\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.detail\", \"Errors\", oData);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// that.batchupdate();\r\n\r\n\t\t\t\t\t\tvar oInput = that.getModel(\"ChangeActivity\").getData().Input;\r\n\r\n\t\t\t\t\t\t//Different Messages generated depending on item type / USERA04 / 2/10/17\r\n\t\t\t\t\t\t//var sMessage = that.getOwnerComponent().getModel(\"i18n\").getResourceBundle().getText(\"AC_S_created\", [oInput.Name]);\r\n\t\t\t\t\t\tvar sMessage;\r\n\t\t\t\t\t\tif (oItem.ItemType === \"PT\") {\r\n\t\t\t\t\t\t\tsMessage = that.getOwnerComponent().getModel(\"i18n\").getResourceBundle().getText(\"AC_S_pCreated\", [oInput.Name]);\r\n\t\t\t\t\t\t} else if (oItem.ItemType === \"SA\") {\r\n\t\t\t\t\t\t\tsMessage = that.getOwnerComponent().getModel(\"i18n\").getResourceBundle().getText(\"AC_S_saCreated\", [oInput.Name]);\r\n\t\t\t\t\t\t} else if (oItem.ItemType === \"AT\") {\r\n\t\t\t\t\t\t\tsMessage = that.getOwnerComponent().getModel(\"i18n\").getResourceBundle().getText(\"AC_S_aCreated\", [oInput.Name]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t//end of USERA04\r\n\r\n\t\t\t\t\t\tMessageToast.show(sMessage);\r\n\t\t\t\t\t\tif (that._currentAction === \"save\") {\r\n\t\t\t\t\t\t\t//\t\t\t\t\t\t\tthat.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", false); // Stop Spinner\r\n\t\t\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.project\", \"Refresh\", {});\r\n\t\t\t\t\t\t\tthat.getRouter().navTo(\"activities\", {\r\n\t\t\t\t\t\t\t\tobjectId: \"Activities\"\r\n\t\t\t\t\t\t\t}, true);\r\n\t\t\t\t\t\t\t//DblClick Changes // USERA04 // 3/7/17\r\n\t\t\t\t\t\t\tvar oInternalEvents = that.getOwnerComponent().getModel(\"masterShared\").getData().oInternalEvents;\r\n\t\t\t\t\t\t\tvar oEventBus = sap.ui.getCore().getEventBus();\r\n\t\t\t\t\t\t\tif (oInternalEvents.currentMode === \"Edit\") {\r\n\t\t\t\t\t\t\t\toEventBus.publish(\"colgate.asm.planning.master.button.pressed\", \"CancelBudgetEdit\", {});\r\n\t\t\t\t\t\t\t} else if (oInternalEvents.currentMode === \"Status\") {\r\n\t\t\t\t\t\t\t\toEventBus.publish(\"colgate.asm.planning.master.button.pressed\", \"CancelStatus\", {});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t//End Of USERA04\r\n\r\n\t\t\t\t\t\t\tthat._currentAction = \"\";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\terror: function(oError) {\r\n\t\t\t\t\toError.ErrorOrigin = \"UpdateProject\";\r\n\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.detail\", \"Errors\", oError);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t_handleODataErrors: function(oDataIn) {\r\n\t\t\tvar sOrigin = oDataIn.ErrorOrigin;\r\n\t\t\talert(\"Error Occurred\");\r\n\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", false); // Stop Spinner\r\n\t\t},\r\n\t\t_handleInitialize: function(oDataIn) {\r\n\t\t\t// This is called on subsequent loads of this view.\r\n\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", false);\r\n\t\t\tvar oModel = this.getModel(\"ChangeActivity\");\r\n\t\t\tvar oData = oModel.getData();\r\n\t\t\toData.Enabled.Division = true;\r\n\t\t\toData.Enabled.Hub = true;\r\n\t\t\toData.Enabled.Sub = true;\r\n\t\t\toData.Enabled.ProjectType = true;\r\n\t\t\toData.Enabled.ActivityType = true;\r\n\t\t\toData.Enabled.SubactivityType = true;\r\n\t\t\toData.Enabled.StartDt = true;\r\n\t\t\toData.Enabled.EndDt = true;\r\n\t\t\toData.Enabled.Category = true;\r\n\t\t\toData.Enabled.Subcategory = false;\r\n\t\t\toData.Enabled.Brand = true;\r\n\t\t\toData.Enabled.Subbrand = false;\r\n\t\t\toData.Enabled.Channel = true;\r\n\t\t\toData.Enabled.Function = true;\r\n\t\t\toData.Enabled.Agency = false;\r\n\t\t\toData.Enabled.Retailer = false;\r\n\t\t\toData.Enabled.Demographics = true;\r\n\t\t\toData.Enabled.Costcenter = true;\r\n\t\t\toData.Enabled.MaestroBrief = false;\r\n\t\t\toData.Input = {};\r\n\t\t\tthis._setASMConfig();\r\n\t\t\tthis._initializeChange();\r\n\t\t\tthis._initializeCSB(oModel); //INBHD02\r\n\t\t\tvar oACModel = this.getModel(\"ChangeActivity\");\r\n\t\t\tvar oACData = oACModel.getData();\r\n\t\t\toACData.Placeholders.MaestroBrief = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_maestroBrief\");\r\n\t\t\toACData.Placeholders.Agency = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_agency\");\r\n\t\t\toACData.Placeholders.Retailer = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_retailer\");\r\n\t\t\toACData.Enabled.MaestroBrief = false;\r\n\t\t\toACData.Enabled.Agency = false;\r\n\t\t\toACData.Enabled.Retailer = false;\r\n\t\t\tsap.ui.core.BusyIndicator.hide();\r\n\r\n\t\t},\r\n\t\t// PSW Start change For Month Picker May 25th 2016 v2-->\t\t\r\n\t\t_setMonthPicker: function() {\r\n\r\n\t\t\tvar oModel = this.getModel(\"ChangeActivity\");\r\n\t\t\tvar oData = oModel.getData();\r\n\t\t\tvar oMth1 = this.byId(\"MonthSt\");\r\n\t\t\tvar oMth2 = this.byId(\"MonthEd\");\r\n\t\t\toMth1.setMonth((oData.Input.StartDt.substring(7, 5) - 1));\r\n\t\t\toMth2.setMonth((oData.Input.EndDt.substring(7, 5) - 1));\r\n\r\n\t\t},\r\n\t\t// PSW End change For Month Picker May 25th 2016 v2-->\r\n\t\t_initializeChange: function() {\r\n\t\t\tvar oUserData = this.getOwnerComponent().getModel(\"UserData\").getData();\r\n\t\t\tvar oMasterSelect = this.getOwnerComponent().getModel(\"masterShared\").getData().oMasterSelect;\r\n\t\t\tvar oParentSelect = this.getOwnerComponent().getModel(\"masterShared\").getData().oTableSelectParent;\r\n\t\t\tvar oTableSelect = this.getOwnerComponent().getModel(\"masterShared\").getData().oTableSelect;\r\n\t\t\tvar bNoChildDependency = !JSON.parse(oTableSelect.Config).Children;\r\n\t\t\tvar oACData = this.getModel(\"ChangeActivity\").getData();\r\n\r\n\t\t\tif (oUserData.hasOwnProperty(\"DivisionKey\") && oUserData.DivisionKey !== \"\") {\r\n\t\t\t\toACData.Input.DivisionKey = oUserData.DivisionKey;\r\n\t\t\t\tthis._setGeoValues(\"DivisionKey\");\r\n\t\t\t\toACData.Enabled.Division = false;\r\n\t\t\t} else if (oParentSelect && oParentSelect.hasOwnProperty(\"DivisionKey\") && oParentSelect.DivisionKey !== \"\") {\r\n\t\t\t\toACData.Input.DivisionKey = oParentSelect.DivisionKey;\r\n\t\t\t\tthis._setGeoValues(\"DivisionKey\");\r\n\t\t\t\toACData.Enabled.Division = false;\r\n\t\t\t} else if (oTableSelect.hasOwnProperty(\"DivisionKey\") && oTableSelect.DivisionKey !== \"\") {\r\n\t\t\t\toACData.Input.DivisionKey = oTableSelect.DivisionKey;\r\n\t\t\t\tthis._setGeoValues(\"DivisionKey\");\r\n\t\t\t\toACData.Enabled.Division = bNoChildDependency;\r\n\t\t\t} else if (oMasterSelect.hasOwnProperty(\"DivisionKey\") && oMasterSelect.DivisionKey !== \"\") {\r\n\t\t\t\toACData.Input.DivisionKey = oMasterSelect.DivisionKey;\r\n\t\t\t\tthis._setGeoValues(\"DivisionKey\");\r\n\t\t\t\toACData.Enabled.Division = bNoChildDependency;\r\n\t\t\t} else {\r\n\t\t\t\toACData.Enabled.Division = bNoChildDependency;\r\n\t\t\t}\r\n\r\n\t\t\tif (oUserData.hasOwnProperty(\"HubKey\") && oUserData.HubKey !== \"\") {\r\n\t\t\t\toACData.Input.HubKey = oUserData.HubKey;\r\n\t\t\t\tthis._setGeoValues(\"HubKey\");\r\n\t\t\t\toACData.Enabled.Hub = false;\r\n\t\t\t} else if (oParentSelect && oParentSelect.hasOwnProperty(\"HubKey\") && oParentSelect.HubKey !== \"\") {\r\n\t\t\t\toACData.Input.HubKey = oParentSelect.HubKey;\r\n\t\t\t\tthis._setGeoValues(\"HubKey\");\r\n\t\t\t\toACData.Enabled.Hub = false;\r\n\t\t\t} else if (oTableSelect.hasOwnProperty(\"HubKey\") && oTableSelect.HubKey !== \"\") {\r\n\t\t\t\toACData.Input.HubKey = oTableSelect.HubKey;\r\n\t\t\t\tthis._setGeoValues(\"HubKey\");\r\n\t\t\t\toACData.Enabled.Hub = bNoChildDependency;\r\n\t\t\t} else if (oMasterSelect.hasOwnProperty(\"HubKey\") && oMasterSelect.HubKey !== \"\") {\r\n\t\t\t\toACData.Input.HubKey = oMasterSelect.HubKey;\r\n\t\t\t\tthis._setGeoValues(\"HubKey\");\r\n\t\t\t\toACData.Enabled.Hub = bNoChildDependency;\r\n\t\t\t} else {\r\n\t\t\t\toACData.Enabled.Hub = bNoChildDependency;\r\n\t\t\t}\r\n\r\n\t\t\tif (oUserData.hasOwnProperty(\"SubKey\") && oUserData.SubKey !== \"\") {\r\n\t\t\t\toACData.Input.SubKey = oUserData.SubKey;\r\n\t\t\t\tthis._setGeoValues(\"SubKey\");\r\n\t\t\t\toACData.Enabled.Sub = false;\r\n\t\t\t} else if (oParentSelect && oParentSelect.hasOwnProperty(\"SubKey\") && oParentSelect.SubKey !== \"\") {\r\n\t\t\t\toACData.Input.SubKey = oParentSelect.SubKey;\r\n\t\t\t\tthis._setGeoValues(\"SubKey\");\r\n\t\t\t\toACData.Enabled.Sub = false;\r\n\t\t\t} else if (oTableSelect.hasOwnProperty(\"SubKey\") && oTableSelect.SubKey !== \"\") {\r\n\t\t\t\toACData.Input.SubKey = oTableSelect.SubKey;\r\n\t\t\t\tthis._setGeoValues(\"SubKey\");\r\n\t\t\t\toACData.Enabled.Sub = bNoChildDependency;\r\n\t\t\t} else if (oMasterSelect.hasOwnProperty(\"SubKey\") && oMasterSelect.SubKey !== \"\") {\r\n\t\t\t\toACData.Input.SubKey = oMasterSelect.SubKey;\r\n\t\t\t\tthis._setGeoValues(\"SubKey\");\r\n\t\t\t\toACData.Enabled.Sub = bNoChildDependency;\r\n\t\t\t} else {\r\n\t\t\t\toACData.Enabled.Sub = bNoChildDependency;\r\n\t\t\t}\r\n\r\n\t\t\tif (oUserData.hasOwnProperty(\"Function\") && oUserData.Function !== \"\") {\r\n\t\t\t\toACData.Input.Function = oUserData.Function;\r\n\t\t\t\toACData.Enabled.Function = false;\r\n\t\t\t} else if (oParentSelect && oParentSelect.hasOwnProperty(\"Function\") && oParentSelect.Function !== \"\") {\r\n\t\t\t\toACData.Input.Function = oParentSelect.Function;\r\n\t\t\t\toACData.Enabled.Function = false;\r\n\t\t\t} else if (oTableSelect.hasOwnProperty(\"Function\") && oTableSelect.Function !== \"\") {\r\n\t\t\t\toACData.Input.Function = oTableSelect.Function;\r\n\t\t\t\toACData.Enabled.Function = bNoChildDependency;\r\n\t\t\t} else if (oMasterSelect.hasOwnProperty(\"Function\") && oMasterSelect.Function !== \"\") {\r\n\t\t\t\toACData.Input.Function = oMasterSelect.Function;\r\n\t\t\t\toACData.Enabled.Function = bNoChildDependency;\r\n\t\t\t} else {\r\n\t\t\t\toACData.Enabled.Function = bNoChildDependency;\r\n\t\t\t}\r\n\r\n\t\t\tif (oUserData.hasOwnProperty(\"Channel\") && oUserData.Channel !== \"\") {\r\n\t\t\t\toACData.Input.Channel = oUserData.Channel;\r\n\t\t\t\toACData.Enabled.Channel = false;\r\n\t\t\t} else if (oParentSelect && oParentSelect.hasOwnProperty(\"Channel\") && oParentSelect.Channel !== \"\") {\r\n\t\t\t\toACData.Input.Channel = oParentSelect.Channel;\r\n\t\t\t\toACData.Enabled.Channel = false;\r\n\t\t\t} else if (oTableSelect.hasOwnProperty(\"Channel\") && oTableSelect.Channel !== \"\") {\r\n\t\t\t\toACData.Input.Channel = oTableSelect.Channel;\r\n\t\t\t\toACData.Enabled.Channel = bNoChildDependency;\r\n\t\t\t} else if (oMasterSelect.hasOwnProperty(\"Channel\") && oMasterSelect.Channel !== \"\") {\r\n\t\t\t\toACData.Input.Channel = oMasterSelect.Channel;\r\n\t\t\t\toACData.Enabled.Channel = bNoChildDependency;\r\n\t\t\t} else {\r\n\t\t\t\toACData.Enabled.Channel = bNoChildDependency;\r\n\t\t\t}\r\n\r\n\t\t\tif (oUserData.hasOwnProperty(\"BrandKey\") && oUserData.BrandKey !== \"\") {\r\n\t\t\t\toACData.Input.BrandKey = oUserData.BrandKey;\r\n\t\t\t\tthis._setPHValues(\"BrandKey\");\r\n\t\t\t\toACData.Enabled.Brand = false;\r\n\t\t\t} else if (oParentSelect && oParentSelect.hasOwnProperty(\"BrandKey\") && oParentSelect.BrandKey !== \"\") {\r\n\t\t\t\toACData.Input.BrandKey = oParentSelect.BrandKey;\r\n\t\t\t\tthis._setPHValues(\"BrandKey\");\r\n\t\t\t\toACData.Enabled.Brand = false;\r\n\t\t\t} else if (oTableSelect.hasOwnProperty(\"BrandKey\") && oTableSelect.BrandKey !== \"\") {\r\n\t\t\t\toACData.Input.BrandKey = oTableSelect.BrandKey;\r\n\t\t\t\tthis._setPHValues(\"BrandKey\");\r\n\t\t\t\toACData.Enabled.Brand = bNoChildDependency;\r\n\t\t\t} else if (oMasterSelect.hasOwnProperty(\"BrandKey\") && oMasterSelect.BrandKey !== \"\") {\r\n\t\t\t\toACData.Input.BrandKey = oMasterSelect.BrandKey;\r\n\t\t\t\tthis._setPHValues(\"BrandKey\");\r\n\t\t\t\toACData.Enabled.Brand = bNoChildDependency;\r\n\t\t\t} else {\r\n\t\t\t\t// if (oACData.Input.hasOwnProperty(\"SubcategoryKey\") && oACData.Input.SubcategoryKey !== \"\") {\r\n\t\t\t\t// \toACData.Enabled.Brand = bNoChildDependency;\r\n\t\t\t\t// } else {\r\n\t\t\t\t// \toACData.Enabled.Brand = false;\r\n\t\t\t\t// }\r\n\t\t\t}\r\n\r\n\t\t\tif (oUserData.hasOwnProperty(\"CategoryKey\") && oUserData.CategoryKey !== \"\") {\r\n\t\t\t\toACData.Input.CategoryKey = oUserData.CategoryKey;\r\n\t\t\t\tthis._setPHValues(\"CategoryKey\");\r\n\t\t\t\toACData.Enabled.Category = false;\r\n\t\t\t} else if (oParentSelect && oParentSelect.hasOwnProperty(\"CategoryKey\") && oParentSelect.CategoryKey !== \"\") {\r\n\t\t\t\toACData.Input.CategoryKey = oParentSelect.CategoryKey;\r\n\t\t\t\tthis._setPHValues(\"CategoryKey\");\r\n\t\t\t\toACData.Enabled.Category = false;\r\n\t\t\t} else if (oTableSelect.hasOwnProperty(\"CategoryKey\") && oTableSelect.CategoryKey !== \"\") {\r\n\t\t\t\toACData.Input.CategoryKey = oTableSelect.CategoryKey;\r\n\t\t\t\tthis._setPHValues(\"CategoryKey\");\r\n\t\t\t\toACData.Enabled.Category = bNoChildDependency;\r\n\t\t\t\tif (!bNoChildDependency) {\r\n\t\t\t\t\toACData.Placeholders.Category = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_hasChild\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\toACData.Placeholders.Category = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_category\");\r\n\t\t\t\t}\r\n\t\t\t} else if (oMasterSelect.hasOwnProperty(\"CategoryKey\") && oMasterSelect.CategoryKey !== \"\") {\r\n\t\t\t\toACData.Input.CategoryKey = oMasterSelect.CategoryKey;\r\n\t\t\t\tthis._setPHValues(\"CategoryKey\");\r\n\t\t\t\toACData.Enabled.Category = bNoChildDependency;\r\n\t\t\t\tif (bNoChildDependency) {\r\n\t\t\t\t\toACData.Placeholders.Category = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_hasChild\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\toACData.Placeholders.Category = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_category\");\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\toACData.Enabled.Category = bNoChildDependency;\r\n\t\t\t\tif (!bNoChildDependency) {\r\n\t\t\t\t\toACData.Placeholders.Category = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_hasChild\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\toACData.Placeholders.Category = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_category\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (oUserData.hasOwnProperty(\"SubcategoryKey\") && oUserData.SubcategoryKey !== \"\") {\r\n\t\t\t\toACData.Input.SubcategoryKey = oUserData.SubcategoryKey;\r\n\t\t\t\tthis._setPHValues(\"SubcategoryKey\");\r\n\t\t\t\toACData.Enabled.Subcategory = false;\r\n\t\t\t} else if (oParentSelect && oParentSelect.hasOwnProperty(\"SubcategoryKey\") && oParentSelect.SubcategoryKey !== \"\") {\r\n\t\t\t\toACData.Input.SubcategoryKey = oParentSelect.SubcategoryKey;\r\n\t\t\t\tthis._setPHValues(\"SubcategoryKey\");\r\n\t\t\t\toACData.Enabled.Subcategory = false;\r\n\t\t\t} else if (oTableSelect.hasOwnProperty(\"SubcategoryKey\") && oTableSelect.SubcategoryKey !== \"\") {\r\n\t\t\t\toACData.Input.SubcategoryKey = oTableSelect.SubcategoryKey;\r\n\t\t\t\tthis._setPHValues(\"SubcategoryKey\");\r\n\t\t\t\toACData.Enabled.Subcategory = bNoChildDependency;\r\n\t\t\t\tif (!bNoChildDependency) {\r\n\t\t\t\t\toACData.Placeholders.Subcategory = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_hasChild\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\toACData.Placeholders.Subcategory = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_subcategory_e\");\r\n\t\t\t\t}\r\n\t\t\t} else if (oMasterSelect.hasOwnProperty(\"SubcategoryKey\") && oMasterSelect.SubcategoryKey !== \"\") {\r\n\t\t\t\toACData.Input.SubcategoryKey = oMasterSelect.SubcategoryKey;\r\n\t\t\t\tthis._setPHValues(\"SubcategoryKey\");\r\n\t\t\t\toACData.Enabled.Subcategory = bNoChildDependency;\r\n\t\t\t\tif (!bNoChildDependency) {\r\n\t\t\t\t\toACData.Placeholders.Subcategory = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_hasChild\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\toACData.Placeholders.Subcategory = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_subcategory_e\");\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (oACData.Input.hasOwnProperty(\"CategoryKey\") && oACData.Input.CategoryKey !== \"\") {\r\n\t\t\t\t\toACData.Enabled.Subcategory = bNoChildDependency;\r\n\t\t\t\t\tif (!bNoChildDependency) {\r\n\t\t\t\t\t\toACData.Placeholders.Subcategory = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_hasChild\");\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\toACData.Placeholders.Subcategory = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_subcategory_e\");\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\toACData.Enabled.Subcategory = false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (oACData.Input.hasOwnProperty(\"SubcategoryKey\") && oACData.Input.SubcategoryKey !== \"\") {\r\n\t\t\t\toACData.Enabled.Subbrand = bNoChildDependency;\r\n\t\t\t\tif (!bNoChildDependency) {\r\n\t\t\t\t\toACData.Placeholders.Subbrand = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_hasChild\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\toACData.Placeholders.Subbrand = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_subbrand_e\");\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\toACData.Enabled.Subbrand = false;\r\n\t\t\t}\r\n\r\n\t\t\tif (oParentSelect && oParentSelect.hasOwnProperty(\"Agency\") && oParentSelect.Agency !== \"\") {\r\n\t\t\t\toACData.Input.Agency = oParentSelect.Agency;\r\n\t\t\t\toACData.Enabled.Agency = false;\r\n\t\t\t} else if (oTableSelect.hasOwnProperty(\"Agency\") && oTableSelect.Agency !== \"\") {\r\n\t\t\t\toACData.Input.Agency = oTableSelect.Agency;\r\n\t\t\t\toACData.Enabled.Agency = bNoChildDependency;\r\n\t\t\t\tif (!bNoChildDependency) {\r\n\t\t\t\t\toACData.Placeholders.Agency = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_hasChild\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\toACData.Placeholders.Agency = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_agency_e\");\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\toACData.Enabled.Agency = bNoChildDependency;\r\n\t\t\t\tif (!bNoChildDependency) {\r\n\t\t\t\t\toACData.Placeholders.Agency = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_hasChild\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\toACData.Placeholders.Agency = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_agency_e\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (oParentSelect && oParentSelect.hasOwnProperty(\"Demographics\") && oParentSelect.Demographics !== \"\") {\r\n\t\t\t\toACData.Input.Demographics = oParentSelect.Demographics;\r\n\t\t\t\toACData.Enabled.Demographics = false;\r\n\t\t\t} else if (oTableSelect.hasOwnProperty(\"Demographics\") && oTableSelect.Demographics !== \"\") {\r\n\t\t\t\toACData.Input.Demographics = oTableSelect.Demographics;\r\n\t\t\t\toACData.Enabled.Demographics = bNoChildDependency;\r\n\t\t\t} else {\r\n\t\t\t\toACData.Enabled.Demographics = bNoChildDependency;\r\n\t\t\t}\r\n\r\n\t\t\tif (oParentSelect && oParentSelect.hasOwnProperty(\"Costcenter\") && oParentSelect.Costcenter !== \"\") {\r\n\t\t\t\toACData.Input.Costcenter = oParentSelect.Costcenter;\r\n\t\t\t\toACData.Enabled.Costcenter = false;\r\n\t\t\t} else if (oTableSelect.hasOwnProperty(\"Costcenter\") && oTableSelect.Costcenter !== \"\") {\r\n\t\t\t\toACData.Input.Costcenter = oTableSelect.Costcenter;\r\n\t\t\t\toACData.Enabled.Costcenter = bNoChildDependency;\r\n\t\t\t} else {\r\n\t\t\t\toACData.Enabled.Costcenter = bNoChildDependency;\r\n\t\t\t}\r\n\t\t\tvar sBrand = oACData.Input.BrandKey;\r\n\t\t\tif (oACData.Enabled.Brand) {\r\n\t\t\t\tsBrand = \"\";\r\n\t\t\t}\r\n\t\t\tDropdownUtils.getCategories(this, oACData.Input.CategoryKey, sBrand, this.getModel(\"ChangeActivity\"), \"/Category\", null,\r\n\t\t\t\t\"/Category/Current\");\r\n\t\t\tif (oACData.Input.CategoryKey && oACData.Input.CategoryKey !== \"\") {\r\n\t\t\t\tDropdownUtils.getSubcategories(this, oACData.Input.CategoryKey, oACData.Input.SubcategoryKey, oACData.Input.BrandKey, this.getModel(\r\n\t\t\t\t\t\"ChangeActivity\"), \"/Subcategory\", null, \"/Subcategory/Current\");\r\n\r\n\t\t\t\t//INBHD02\r\n\t\t\t\tif (oTableSelect.ItemType === \"SA\") {\r\n\r\n\t\t\t\t\tthis._getExistingCSBSubbrand(oTableSelect.Id);\r\n\t\t\t\t}\r\n\t\t\t\t//INBHD02\t\t\t\t\t\t\t\t\r\n\t\t\t}\r\n\t\t},\r\n\t\t_resetChange: function() {\r\n\t\t\tvar oModel = this.getModel(\"ChangeActivity\");\r\n\t\t\tvar oInput = oModel.getData().Input;\r\n\t\t\tvar oPlaceholders = oModel.getData().Placeholders;\r\n\t\t\tvar oOriginal = this.getOwnerComponent().getModel(\"masterShared\").getData().oTableSelect;\r\n\t\t\tvar oParent = this.getOwnerComponent().getModel(\"masterShared\").getData().oTableSelectParent;\r\n\t\t\tvar oVisible = this.getModel(\"ChangeActivity\").getData().Visible;\r\n\t\t\tvar oEnabled = this.getModel(\"ChangeActivity\").getData().Enabled;\r\n\t\t\tvar sSubbrandKey = oOriginal.SubbrandKey;\r\n\t\t\tvar bNoChildDependency = !JSON.parse(oInput.Config).Children;\r\n\t\t\toInput.StartDt = oInput.StartDt.substring(0, 4) + oInput.StartDt.substring(5, 7) + oInput.StartDt.substring(\r\n\t\t\t\t8, 10);\r\n\t\t\toInput.EndDt = oInput.EndDt.substring(0, 4) + oInput.EndDt.substring(5, 7) + oInput.EndDt.substring(8, 10);\r\n\t\t\toInput.OriginalName = oInput.Name;\r\n\t\t\toEnabled.ProjectType = bNoChildDependency;\r\n\t\t\toEnabled.ActivityType = bNoChildDependency;\r\n\t\t\toEnabled.SubactivityType = bNoChildDependency;\r\n\t\t\toEnabled.StartDt = bNoChildDependency;\r\n\t\t\toEnabled.EndDt = bNoChildDependency;\r\n\t\t\toEnabled.Retailer = bNoChildDependency;\r\n\t\t\toEnabled.MaestroBrief = bNoChildDependency;\r\n\t\t\toEnabled.Demographics = bNoChildDependency;\r\n\t\t\toEnabled.Costcenter = bNoChildDependency;\r\n\t\t\toEnabled.GlAccount = bNoChildDependency;\r\n\t\t\toEnabled.PO = bNoChildDependency;\r\n\t\t\toEnabled.Priority = true; // You can always change the priority\r\n\t\t\tif (this.getOwnerComponent().getModel(\"masterShared\").getData().oInternalEvents.lastAction !== \"NavToDisplayActivity\") {\r\n\t\t\t\tthis._setRequiredFlags(oInput.ItemType);\r\n\t\t\t\tif ((oInput.Status === '9012' || oInput.Status === '9013' || oInput.Status === '9014') && oInput.ItemType === \"SA\") {\r\n\t\t\t\t\t// Change Required Fields for Published\r\n\t\t\t\t\tthis.byId(\"FEHub\")._oLabel.setRequired(true);\r\n\t\t\t\t\tthis.byId(\"FESub\")._oLabel.setRequired(true);\r\n\t\t\t\t\tthis.byId(\"FECategory\")._oLabel.setRequired(true);\r\n\t\t\t\t\tthis.byId(\"FESubcategory\")._oLabel.setRequired(true);\r\n\t\t\t\t\tthis.byId(\"FEBrand\")._oLabel.setRequired(true);\r\n\t\t\t\t\tthis.byId(\"FESubbrand\")._oLabel.setRequired(true);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (oInput.ItemType === \"SA\") {\r\n\t\t\t\t\t\tthis.byId(\"FEHub\")._oLabel.setRequired(true);\r\n\t\t\t\t\t\tthis.byId(\"FESub\")._oLabel.setRequired(true);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.byId(\"FEHub\")._oLabel.setRequired(false);\r\n\t\t\t\t\t\tthis.byId(\"FESub\")._oLabel.setRequired(false);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.byId(\"FECategory\")._oLabel.setRequired(false);\r\n\t\t\t\t\tthis.byId(\"FESubcategory\")._oLabel.setRequired(false);\r\n\t\t\t\t\tthis.byId(\"FEBrand\")._oLabel.setRequired(false);\r\n\t\t\t\t\tthis.byId(\"FESubbrand\")._oLabel.setRequired(false);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// psutram Modified Dec 12th 2016. \r\n\t\t\t// For Status of Release/9014 the SubActivityType and Subsidary values cannot be modified\r\n\t\t\tif (oInput.Status === \"9014\") {\r\n\t\t\t\toEnabled.SubactivityType = false;\r\n\t\t\t\toEnabled.Sub = false;\r\n\t\t\t\toEnabled.Hub = false;\r\n\t\t\t\toEnabled.Category = false;\r\n\t\t\t\toEnabled.Subcategory = false;\r\n\t\t\t\toEnabled.Brand = false;\r\n\t\t\t\toEnabled.Subbrand = false;\r\n\t\t\t\toEnabled.CrossSubBrandButton = false; //INBHD02\t\t\t\t\r\n\t\t\t} else {\r\n\t\t\t\toEnabled.CrossSubBrandButton = true; //INBHD02\r\n\t\t\t}\r\n\t\t\t// end of changes\r\n\t\t\toModel.refresh(false);\r\n\t\t\tif (oInput.ItemType === \"AT\" || oInput.ItemType === \"SA\") {\r\n\t\t\t\toVisible.MaxValueC = false;\r\n\t\t\t\t// Activity\r\n\t\t\t\tif (oInput.ItemType === \"AT\") {\r\n\t\t\t\t\toVisible.ProjectType = false;\r\n\t\t\t\t\toVisible.ActivityType = true;\r\n\t\t\t\t\toVisible.SubactivityType = false;\r\n\t\t\t\t\toInput.SubactivityType = \"\";\r\n\t\t\t\t\toInput.ProjectType = \"\";\r\n\t\t\t\t\toInput.TypeDescription = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_activity\");\r\n\t\t\t\t\toVisible.Retailer = true;\r\n\t\t\t\t\toVisible.Agency = false;\r\n\t\t\t\t\toVisible.MaestroBrief = true;\r\n\t\t\t\t\toVisible.Costcenter = true;\r\n\t\t\t\t\toVisible.PO = false;\r\n\t\t\t\t\toVisible.GlAccount = false;\r\n\t\t\t\t\toVisible.Status = true;\r\n\t\t\t\t\t//INBHD02\r\n\t\t\t\t\toVisible.CrossSubBrand = false;\r\n\t\t\t\t\toVisible.CrossSubBrandList = false;\r\n\t\t\t\t\t//INBHD02\r\n\t\t\t\t} else if (oInput.ItemType === \"SA\") {\r\n\t\t\t\t\toInput.ProjectType = \"\";\r\n\t\t\t\t\toInput.SubactivityType = oInput.ActivityType;\r\n\t\t\t\t\toInput.ActivityType = oParent.ActivityType;\r\n\t\t\t\t\toInput.ActivityTypeDesc = oParent.ActivityTypeDesc;\r\n\t\t\t\t\toVisible.ProjectType = false;\r\n\t\t\t\t\toVisible.ActivityType = true;\r\n\t\t\t\t\toEnabled.ActivityType = false;\r\n\t\t\t\t\toVisible.SubactivityType = true;\r\n\t\t\t\t\toInput.TypeDescription = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_subactivity\");\r\n\t\t\t\t\toVisible.Retailer = true;\r\n\t\t\t\t\toVisible.Agency = true;\r\n\t\t\t\t\toVisible.MaestroBrief = true;\r\n\t\t\t\t\toVisible.GlAccount = true;\r\n\t\t\t\t\toVisible.Costcenter = true;\r\n\t\t\t\t\toVisible.PO = false;\r\n\t\t\t\t\toVisible.Status = true;\r\n\t\t\t\t\t//INBHD02\t\t\t\t\t\r\n\t\t\t\t\toVisible.CrossSubBrand = true;\r\n\t\t\t\t\toVisible.CrossSubBrandList = true;\r\n\t\t\t\t\t//INBHD02\r\n\t\t\t\t\tthis._getSubactivityTypes();\r\n\t\t\t\t}\r\n\t\t\t} else if (oInput.ItemType === \"PT\") {\r\n\t\t\t\toVisible.ProjectType = true;\r\n\t\t\t\toInput.ProjectType = oInput.ActivityType;\r\n\t\t\t\toVisible.ActivityType = false;\r\n\t\t\t\toInput.ActivityType = \"\";\r\n\t\t\t\toVisible.SubactivityType = false;\r\n\t\t\t\toInput.SubactivityType = \"\";\r\n\t\t\t\toVisible.Retailer = false;\r\n\t\t\t\toVisible.Agency = false;\r\n\t\t\t\toVisible.MaestroBrief = false;\r\n\t\t\t\toInput.TypeDescription = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_project\");\r\n\t\t\t\toVisible.GlAccount = false;\r\n\t\t\t\toVisible.Costcenter = false;\r\n\t\t\t\toVisible.PO = false;\r\n\t\t\t\toVisible.Status = false;\r\n\t\t\t\toVisible.MaxValueC = true;\r\n\t\t\t\t//INBHD02\t\t\t\t\r\n\t\t\t\toVisible.CrossSubBrand = false;\r\n\t\t\t\toVisible.CrossSubBrandList = false;\r\n\t\t\t\t//INBHD02\r\n\t\t\t}\r\n\t\t\tif (!bNoChildDependency) {\r\n\t\t\t\t// Now we need to turn off editable of fields that shouldn't be edited\r\n\t\t\t\toEnabled.Division = bNoChildDependency;\r\n\t\t\t\toEnabled.Hub = bNoChildDependency;\r\n\t\t\t\toEnabled.Sub = bNoChildDependency;\r\n\t\t\t\toEnabled.ProjectType = bNoChildDependency;\r\n\t\t\t\toEnabled.ActivityType = bNoChildDependency;\r\n\t\t\t\toEnabled.SubactivityType = bNoChildDependency;\r\n\t\t\t\toEnabled.StartDt = bNoChildDependency;\r\n\t\t\t\toEnabled.EndDt = bNoChildDependency;\r\n\t\t\t\toEnabled.Category = bNoChildDependency;\r\n\t\t\t\toEnabled.Subcategory = bNoChildDependency;\r\n\t\t\t\toEnabled.Brand = bNoChildDependency;\r\n\t\t\t\toEnabled.Subbrand = bNoChildDependency;\r\n\t\t\t\toEnabled.Channel = bNoChildDependency;\r\n\t\t\t\toEnabled.Function = bNoChildDependency;\r\n\t\t\t\toEnabled.Agency = bNoChildDependency;\r\n\t\t\t\toEnabled.Retailer = bNoChildDependency;\r\n\t\t\t\toEnabled.Demographics = bNoChildDependency;\r\n\t\t\t\toEnabled.Costcenter = bNoChildDependency;\r\n\t\t\t\toEnabled.MaestroBrief = bNoChildDependency;\r\n\t\t\t\toPlaceholders.Division = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_hasChild\");\r\n\t\t\t\toPlaceholders.Hub = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_hasChild\");\r\n\t\t\t\toPlaceholders.Sub = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_hasChild\");\r\n\t\t\t\toPlaceholders.ActivityType = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_hasChild\");\r\n\t\t\t\toPlaceholders.SubactivityType = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_hasChild\");\r\n\t\t\t\toPlaceholders.Category = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_hasChild\");\r\n\t\t\t\toPlaceholders.Subcategory = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_hasChild\");\r\n\t\t\t\toPlaceholders.Brand = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_hasChild\");\r\n\t\t\t\toPlaceholders.Subbrand = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_hasChild\");\r\n\t\t\t\toPlaceholders.Channel = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_hasChild\");\r\n\t\t\t\toPlaceholders.ActivityType = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_hasChild\");\r\n\t\t\t\toPlaceholders.Function = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_hasChild\");\r\n\t\t\t\toPlaceholders.Agency = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_hasChild\");\r\n\t\t\t\toPlaceholders.Retailer = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_hasChild\");\r\n\t\t\t\toPlaceholders.Demographics = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_hasChild\");\r\n\t\t\t\toPlaceholders.Costcenter = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_hasChild\");\r\n\t\t\t\toPlaceholders.MaestroBrief = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_hasChild\");\r\n\t\t\t}\r\n\t\t\toModel.refresh(false);\r\n\t\t\t// this.getModel(\"ChangeActivity\").refresh(false);\r\n\t\t},\r\n\t\t_resetDemographics: function() {\r\n\t\t\tvar oACData = this.getModel(\"ChangeActivity\").getData();\r\n\t\t\toACData.Enabled.Demographics = false;\r\n\t\t\toACData.Input.Demographics = \"\";\r\n\t\t\toACData.Demographics.Current = {};\r\n\t\t\toACData.Placeholders.Demographics = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_demographics_e\");\r\n\t\t},\r\n\t\t_getDemographics: function() {\r\n\t\t\t// Get the Retailers\r\n\t\t\tvar oRModel = this.getModel(\"Demographics\");\r\n\t\t\tvar oACModel = this.getModel(\"ChangeActivity\");\r\n\t\t\tvar sServiceUrl = this.getOwnerComponent().getModel(\"masterShared\").getProperty(\"/oServiceUrls/mainService\");\r\n\t\t\tvar oACData = oACModel.getData();\r\n\t\t\t// Clear the current retailer (if any)\r\n\t\t\toACData.Input.Demographics = \"\";\r\n\t\t\tif (!oRModel) {\r\n\t\t\t\toRModel = new sap.ui.model.odata.v2.ODataModel(sServiceUrl);\r\n\t\t\t\toRModel.setSizeLimit(50000);\r\n\t\t\t\toRModel.setDefaultCountMode(sap.ui.model.odata.CountMode.None);\r\n\t\t\t\tthis.setModel(oRModel, \"Demographics\");\r\n\t\t\t}\r\n\t\t\tif (oACData.Input.SubKey && oACData.Input.SubKey !== \"\") {\r\n\t\t\t\tvar filters = [];\r\n\t\t\t\tvar sAdditionalData = \"{ SUB:'\" + oACData.Input.SubKey + \"'}\";\r\n\t\t\t\tfilters.push(new sap.ui.model.Filter({\r\n\t\t\t\t\tpath: \"AdditionalData\",\r\n\t\t\t\t\toperator: sap.ui.model.FilterOperator.EQ,\r\n\t\t\t\t\tvalue1: sAdditionalData\r\n\t\t\t\t}));\r\n\t\t\t\tvar sPath = \"/VHDemographics\";\r\n\t\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", true); // Start Spinner\r\n\t\t\t\tvar that = this;\r\n\t\t\t\toRModel.read(sPath, {\r\n\t\t\t\t\tasync: true,\r\n\t\t\t\t\tfilters: filters,\r\n\t\t\t\t\tsuccess: function(oData, oResponse) {\r\n\t\t\t\t\t\tTimeoutUtils.onResetTimer(that);\r\n\t\t\t\t\t\tthat._setDemographics(oData);\r\n\t\t\t\t\t},\r\n\t\t\t\t\terror: function(oError) {\r\n\t\t\t\t\t\toError.ErrorOrigin = \"Demographics\";\r\n\t\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.detail\", \"Errors\", oError);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\t_setDemographics: function(oDataIn) {\r\n\t\t\tvar oModel = this.getModel(\"ChangeActivity\");\r\n\t\t\tvar oData = oModel.getData();\r\n\t\t\tif (!oData.Demographics) {\r\n\t\t\t\toData.Demographics = {};\r\n\t\t\t}\r\n\t\t\toData.Demographics.Current = oDataIn.results;\r\n\t\t\tif (oData.Demographics.Current.length === 0) {\r\n\t\t\t\toData.Enabled.Demographics = false;\r\n\t\t\t\toData.Placeholders.Demographics = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_demographics_n\");\r\n\t\t\t} else {\r\n\t\t\t\tif (!JSON.parse(oData.Input.Config).Children) {\r\n\t\t\t\t\tvar oParentSelect = this.getOwnerComponent().getModel(\"masterShared\").getData().oTableSelectParent;\r\n\t\t\t\t\tif (oParentSelect && oParentSelect.hasOwnProperty(\"Demographics\") && oParentSelect.Demographics !== \"\") {\r\n\t\t\t\t\t\toData.Enabled.Demographics = false;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\toData.Enabled.Demographics = true;\r\n\t\t\t\t\t\toData.Placeholders.Demographics = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_demographics_e\");\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\toModel.refresh(false);\r\n\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", false); // Stop Spinner\r\n\t\t},\r\n\t\t_resetCostcenters: function() {\r\n\t\t\tvar oACData = this.getModel(\"ChangeActivity\").getData();\r\n\t\t\toACData.Enabled.Costcenter = false;\r\n\t\t\toACData.Input.Costcenter = \"\";\r\n\t\t\toACData.Costcenter.Current = {};\r\n\t\t\toACData.Placeholders.Costcenter = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_costcenter_e\");\r\n\t\t},\r\n\t\t_getCostcenters: function() {\r\n\t\t\t// Get the Costcenter\r\n\t\t\tvar oRModel = this.getModel(\"Costcenter\");\r\n\t\t\tvar oACModel = this.getModel(\"ChangeActivity\");\r\n\t\t\tvar sServiceUrl = this.getOwnerComponent().getModel(\"masterShared\").getProperty(\"/oServiceUrls/mainService\");\r\n\t\t\tvar oACData = oACModel.getData();\r\n\t\t\t// Clear the current retailer (if any)\r\n\t\t\toACData.Input.Costcenter = \"\";\r\n\t\t\tif (!oRModel) {\r\n\t\t\t\toRModel = new sap.ui.model.odata.v2.ODataModel(sServiceUrl);\r\n\t\t\t\toRModel.setSizeLimit(50000);\r\n\t\t\t\toRModel.setDefaultCountMode(sap.ui.model.odata.CountMode.None);\r\n\t\t\t\tthis.setModel(oRModel, \"Costcenter\");\r\n\t\t\t}\r\n\t\t\tif (oACData.Input.SubKey && oACData.Input.SubKey !== \"\") {\r\n\t\t\t\tvar filters = [];\r\n\t\t\t\tvar sAdditionalData = \"{ SUB:'\" + oACData.Input.SubKey + \"'}\";\r\n\t\t\t\tfilters.push(new sap.ui.model.Filter({\r\n\t\t\t\t\tpath: \"AdditionalData\",\r\n\t\t\t\t\toperator: sap.ui.model.FilterOperator.EQ,\r\n\t\t\t\t\tvalue1: sAdditionalData\r\n\t\t\t\t}));\r\n\t\t\t\tvar sPath = \"/VHCostcenter\";\r\n\t\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", true); // Start Spinner\r\n\t\t\t\tvar that = this;\r\n\t\t\t\toRModel.read(sPath, {\r\n\t\t\t\t\tasync: true,\r\n\t\t\t\t\tfilters: filters,\r\n\t\t\t\t\tsuccess: function(oData, oResponse) {\r\n\t\t\t\t\t\tTimeoutUtils.onResetTimer(that);\r\n\t\t\t\t\t\tthat._setCostcenters(oData);\r\n\t\t\t\t\t},\r\n\t\t\t\t\terror: function(oError) {\r\n\t\t\t\t\t\toError.ErrorOrigin = \"Costcenter\";\r\n\t\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.detail\", \"Errors\", oError);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\t_setCostcenters: function(oDataIn) {\r\n\t\t\tvar oModel = this.getModel(\"ChangeActivity\");\r\n\t\t\tvar oData = oModel.getData();\r\n\t\t\tif (!oData.Costcenter) {\r\n\t\t\t\toData.Costcenter = {};\r\n\t\t\t}\r\n\t\t\toData.Costcenter.Current = [];\r\n\t\t\tfor (var i = 0; i < oDataIn.results.length; i++) {\r\n\t\t\t\tvar oRecord = {};\r\n\t\t\t\toRecord.Key = oDataIn.results[i].Key;\r\n\t\t\t\toRecord.Description = oDataIn.results[i].Key + \" - \" + oDataIn.results[i].Description;\r\n\t\t\t\toRecord.Selected = oDataIn.results[i].Selected;\r\n\t\t\t\toRecord.AdditionalData = oDataIn.results[i].AdditionalData;\r\n\t\t\t\toData.Costcenter.Current.push(oRecord);\r\n\t\t\t}\r\n\t\t\tif (oData.Costcenter.Current.length === 0) {\r\n\t\t\t\toData.Enabled.Costcenter = false;\r\n\t\t\t\toData.Placeholders.Costcenter = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_costcenter_n\");\r\n\t\t\t} else {\r\n\t\t\t\tif (!JSON.parse(oData.Input.Config).Children) {\r\n\t\t\t\t\toData.Enabled.Costcenter = true;\r\n\t\t\t\t\toData.Placeholders.Costcenter = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_costcenter_e\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\toModel.refresh(false);\r\n\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", false); // Stop Spinner\r\n\t\t},\r\n\t\t_resetRetailers: function() {\r\n\t\t\tvar oACData = this.getModel(\"ChangeActivity\").getData();\r\n\t\t\toACData.Enabled.Retailer = false;\r\n\t\t\toACData.Input.Retailer = \"\";\r\n\t\t\toACData.Retailer.Current = {};\r\n\t\t\toACData.Placeholders.Retailer = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_retailer\");\r\n\t\t},\r\n\t\t_getRetailers: function() {\r\n\t\t\t// Get the Retailers\r\n\t\t\tvar oRModel = this.getModel(\"Retailer\");\r\n\t\t\tvar oACModel = this.getModel(\"ChangeActivity\");\r\n\t\t\tvar sServiceUrl = this.getOwnerComponent().getModel(\"masterShared\").getProperty(\"/oServiceUrls/mainService\");\r\n\t\t\tvar oACData = oACModel.getData();\r\n\t\t\t// Clear the current retailer (if any)\r\n\t\t\toACData.Input.Retailer = \"\";\r\n\t\t\tif (!oRModel) {\r\n\t\t\t\toRModel = new sap.ui.model.odata.v2.ODataModel(sServiceUrl);\r\n\t\t\t\toRModel.setSizeLimit(50000);\r\n\t\t\t\toRModel.setDefaultCountMode(sap.ui.model.odata.CountMode.None);\r\n\t\t\t\tthis.setModel(oRModel, \"Retailer\");\r\n\t\t\t}\r\n\t\t\tif (oACData.Input.SubKey && oACData.Input.SubKey !== \"\") {\r\n\t\t\t\tvar filters = [];\r\n\t\t\t\tvar sAdditionalData = \"{ SUB:'\" + oACData.Input.SubKey + \"'}\";\r\n\t\t\t\tfilters.push(new sap.ui.model.Filter({\r\n\t\t\t\t\tpath: \"AdditionalData\",\r\n\t\t\t\t\toperator: sap.ui.model.FilterOperator.EQ,\r\n\t\t\t\t\tvalue1: sAdditionalData\r\n\t\t\t\t}));\r\n\t\t\t\tvar sPath = \"/VHRetailers\";\r\n\t\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", true); // Start Spinner\r\n\t\t\t\tvar that = this;\r\n\t\t\t\toRModel.read(sPath, {\r\n\t\t\t\t\tasync: true,\r\n\t\t\t\t\tfilters: filters,\r\n\t\t\t\t\tsuccess: function(oData, oResponse) {\r\n\t\t\t\t\t\tTimeoutUtils.onResetTimer(that);\r\n\t\t\t\t\t\tthat._setRetailers(oData);\r\n\t\t\t\t\t},\r\n\t\t\t\t\terror: function(oError) {\r\n\t\t\t\t\t\toError.ErrorOrigin = \"Retailer\";\r\n\t\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.detail\", \"Errors\", oError);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\t_setRetailers: function(oDataIn) {\r\n\t\t\tvar oModel = this.getModel(\"ChangeActivity\");\r\n\t\t\tvar oData = oModel.getData();\r\n\t\t\tif (!oData.Retailer) {\r\n\t\t\t\toData.Retailer = {};\r\n\t\t\t}\r\n\t\t\toData.Retailer.Current = oDataIn.results;\r\n\t\t\tif (oData.Retailer.Current.length === 0) {\r\n\t\t\t\toData.Enabled.Retailer = false;\r\n\t\t\t\toData.Placeholders.Retailer = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_retailer_n\");\r\n\t\t\t} else {\r\n\t\t\t\tvar oInput = this.getModel(\"ChangeActivity\").getData().Input;\r\n\t\t\t\tvar bNoChildDependency = !JSON.parse(oInput.Config).Children;\r\n\t\t\t\toData.Enabled.Retailer = bNoChildDependency;\r\n\t\t\t\tif (bNoChildDependency) {\r\n\t\t\t\t\toData.Placeholders.Retailer = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_retailer_e\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\toData.Placeholders.Retailer = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_hasChild\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\toModel.refresh(false);\r\n\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", false); // Stop Spinner\r\n\t\t},\r\n\t\t_resetAgencies: function() {\r\n\t\t\tvar oACData = this.getModel(\"ChangeActivity\").getData();\r\n\t\t\toACData.Enabled.Agency = false;\r\n\t\t\toACData.Input.Agency = \"\";\r\n\t\t\toACData.Agency.Current = {};\r\n\t\t\toACData.Placeholders.Agency = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_agency\");\r\n\t\t},\r\n\t\t_getAgencies: function() {\r\n\t\t\t// Get the Retailers\r\n\t\t\tvar oRModel = this.getModel(\"Agency\");\r\n\t\t\tvar oACModel = this.getModel(\"ChangeActivity\");\r\n\t\t\tvar sServiceUrl = this.getOwnerComponent().getModel(\"masterShared\").getProperty(\"/oServiceUrls/mainService\");\r\n\t\t\tvar oACData = oACModel.getData();\r\n\t\t\toACData.Input.Agency = \"\";\r\n\t\t\tif (!oRModel) {\r\n\t\t\t\toRModel = new sap.ui.model.odata.v2.ODataModel(sServiceUrl);\r\n\t\t\t\toRModel.setSizeLimit(50000);\r\n\t\t\t\toRModel.setDefaultCountMode(sap.ui.model.odata.CountMode.None);\r\n\t\t\t\tthis.setModel(oRModel, \"Agency\");\r\n\t\t\t}\r\n\t\t\tif (oACData.Input.SubKey && oACData.Input.SubKey !== \"\") {\r\n\t\t\t\tvar filters = [];\r\n\t\t\t\tvar sAdditionalData = \"{ Sub:'\" + oACData.Input.SubKey + \"'}\";\r\n\t\t\t\tfilters.push(new sap.ui.model.Filter({\r\n\t\t\t\t\tpath: \"AdditionalData\",\r\n\t\t\t\t\toperator: sap.ui.model.FilterOperator.EQ,\r\n\t\t\t\t\tvalue1: sAdditionalData\r\n\t\t\t\t}));\r\n\t\t\t\tvar sPath = \"/VHAgencies\";\r\n\t\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", true); // Start Spinner\r\n\t\t\t\tvar that = this;\r\n\t\t\t\toRModel.read(sPath, {\r\n\t\t\t\t\tasync: true,\r\n\t\t\t\t\tfilters: filters,\r\n\t\t\t\t\tsuccess: function(oData, oResponse) {\r\n\t\t\t\t\t\tTimeoutUtils.onResetTimer(that);\r\n\t\t\t\t\t\tthat._setAgencies(oData);\r\n\t\t\t\t\t},\r\n\t\t\t\t\terror: function(oError) {\r\n\t\t\t\t\t\toError.ErrorOrigin = \"Agency\";\r\n\t\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.detail\", \"Errors\", oError);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\t_setAgencies: function(oDataIn) {\r\n\t\t\tvar oModel = this.getModel(\"ChangeActivity\");\r\n\t\t\tvar oData = oModel.getData();\r\n\t\t\tif (!oData.Agency) {\r\n\t\t\t\toData.Agency = {};\r\n\t\t\t}\r\n\t\t\toData.Agency.Current = oDataIn.results;\r\n\t\t\tif (oData.Agency.Current.length === 0) {\r\n\t\t\t\toData.Enabled.Agency = false;\r\n\t\t\t\toData.Placeholders.Agency = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_agency_n\");\r\n\t\t\t} else {\r\n\t\t\t\toData.Enabled.Agency = true;\r\n\t\t\t\toData.Placeholders.Agency = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_agency_e\");\r\n\t\t\t}\r\n\t\t\toModel.refresh(false);\r\n\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", false); // Stop Spinner\r\n\t\t},\r\n\t\t_resetMaestroBrief: function() {\r\n\t\t\tvar oACData = this.getModel(\"ChangeActivity\").getData();\r\n\t\t\toACData.Enabled.MaestroBrief = false;\r\n\t\t\toACData.Input.MaestroBrief = \"\";\r\n\t\t\toACData.MaestroBrief.Current = {};\r\n\t\t\toACData.Placeholders.MasteroBrief = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_maestroBrief\");\r\n\t\t},\r\n\t\t_getMaestroBrief: function() {\r\n\t\t\t// Get the Retailers\r\n\t\t\tvar oRModel = this.getModel(\"MaestroBrief\");\r\n\t\t\tvar oACModel = this.getModel(\"ChangeActivity\");\r\n\t\t\tvar sServiceUrl = this.getOwnerComponent().getModel(\"masterShared\").getProperty(\"/oServiceUrls/mainService\");\r\n\t\t\tvar oACData = oACModel.getData();\r\n\t\t\tif (!oRModel) {\r\n\t\t\t\toRModel = new sap.ui.model.odata.v2.ODataModel(sServiceUrl);\r\n\t\t\t\toRModel.setSizeLimit(50000);\r\n\t\t\t\toRModel.setDefaultCountMode(sap.ui.model.odata.CountMode.None);\r\n\t\t\t\tthis.setModel(oRModel, \"MaestroBrief\");\r\n\t\t\t}\r\n\t\t\tif (oACData.Input.DivisionKey && oACData.Input.DivisionKey !== \"\" && oACData.Input.CategoryKey && oACData.Input.CategoryKey !== \"\") {\r\n\t\t\t\tvar filters = [];\r\n\t\t\t\tfilters.push(new sap.ui.model.Filter({\r\n\t\t\t\t\tpath: \"DivisionKey\",\r\n\t\t\t\t\toperator: sap.ui.model.FilterOperator.EQ,\r\n\t\t\t\t\tvalue1: oACData.Input.DivisionKey\r\n\t\t\t\t}));\r\n\t\t\t\tfilters.push(new sap.ui.model.Filter({\r\n\t\t\t\t\tpath: \"CategoryKey\",\r\n\t\t\t\t\toperator: sap.ui.model.FilterOperator.EQ,\r\n\t\t\t\t\tvalue1: oACData.Input.CategoryKey\r\n\t\t\t\t}));\r\n\t\t\t\tif (oACData.Input.SubecategoryKey && oACData.Input.SubcategoryKey !== \"\") {\r\n\t\t\t\t\tfilters.push(new sap.ui.model.Filter({\r\n\t\t\t\t\t\tpath: \"SubcategoryKey\",\r\n\t\t\t\t\t\toperator: sap.ui.model.FilterOperator.EQ,\r\n\t\t\t\t\t\tvalue1: oACData.Input.SubcategoryKey\r\n\t\t\t\t\t}));\r\n\t\t\t\t}\r\n\t\t\t\tif (oACData.Input.BrandKey && oACData.Input.BrandKey !== \"\") {\r\n\t\t\t\t\tfilters.push(new sap.ui.model.Filter({\r\n\t\t\t\t\t\tpath: \"BrandKey\",\r\n\t\t\t\t\t\toperator: sap.ui.model.FilterOperator.EQ,\r\n\t\t\t\t\t\tvalue1: oACData.Input.BrandKey\r\n\t\t\t\t\t}));\r\n\t\t\t\t}\r\n\t\t\t\tvar sPath = \"/VHBriefs\";\r\n\t\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", true); // Start Spinner\r\n\t\t\t\tvar that = this;\r\n\t\t\t\toRModel.read(sPath, {\r\n\t\t\t\t\tasync: true,\r\n\t\t\t\t\tfilters: filters,\r\n\t\t\t\t\tsuccess: function(oData, oResponse) {\r\n\t\t\t\t\t\tTimeoutUtils.onResetTimer(that);\r\n\t\t\t\t\t\tthat._setMaestroBrief(oData);\r\n\t\t\t\t\t},\r\n\t\t\t\t\terror: function(oError) {\r\n\t\t\t\t\t\toError.ErrorOrigin = \"MaestroBrief\";\r\n\t\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.detail\", \"Errors\", oError);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\t_setMaestroBrief: function(oDataIn) {\r\n\t\t\tvar oModel = this.getModel(\"ChangeActivity\");\r\n\t\t\tvar oData = oModel.getData();\r\n\t\t\tif (!oData.MaestroBrief) {\r\n\t\t\t\toData.MaestroBrief = {};\r\n\t\t\t}\r\n\t\t\toData.MaestroBrief.Current = oDataIn.results;\r\n\t\t\tif (oData.MaestroBrief.Current.length === 0) {\r\n\t\t\t\toData.Enabled.MaestroBrief = false;\r\n\t\t\t\toData.Placeholders.MaestroBrief = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_maestroBrief_n\");\r\n\t\t\t} else {\r\n\t\t\t\toData.Enabled.MaestroBrief = true;\r\n\t\t\t\toData.Placeholders.MaestroBrief = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_maestroBrief_e\");\r\n\t\t\t}\r\n\t\t\toModel.refresh(false);\r\n\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", false); // Stop Spinner\r\n\t\t},\r\n\t\t_setRequiredFlags: function(sItemType) {\r\n\t\t\tif (sItemType === \"PT\") {\r\n\t\t\t\tthis.byId(\"FEProjectType\")._oLabel.setRequired(true);\r\n\t\t\t\t//BEGINNING OF EDITS - ALEX\r\n\t\t\t\t// this.byId(\"FEPriorityKey\")._oLabel.setRequired(true);\r\n\t\t\t\t// this.byId(\"FEFunction\")._oLabel.setRequired(true);\r\n\t\t\t\t//END OF EDITS - ALEX\r\n\t\t\t\tthis.byId(\"FEStatus\")._oLabel.setRequired(false);\r\n\t\t\t\tthis.byId(\"FEActivityType\")._oLabel.setRequired(false);\r\n\t\t\t\tthis.byId(\"FESubactivityType\")._oLabel.setRequired(false);\r\n\t\t\t\tthis.byId(\"FEHub\")._oLabel.setRequired(false);\r\n\t\t\t\tthis.byId(\"FESub\")._oLabel.setRequired(false);\r\n\t\t\t} else if (sItemType === \"AT\") {\r\n\t\t\t\tthis.byId(\"FEProjectType\")._oLabel.setRequired(false);\r\n\t\t\t\tthis.byId(\"FEStatus\")._oLabel.setRequired(true);\r\n\t\t\t\tthis.byId(\"FEActivityType\")._oLabel.setRequired(true);\r\n\t\t\t\tthis.byId(\"FESubactivityType\")._oLabel.setRequired(false);\r\n\t\t\t\tthis.byId(\"FEHub\")._oLabel.setRequired(false);\r\n\t\t\t\tthis.byId(\"FESub\")._oLabel.setRequired(false);\r\n\t\t\t} else if (sItemType === \"SA\") {\r\n\t\t\t\tthis.byId(\"FEProjectType\")._oLabel.setRequired(false);\r\n\t\t\t\tthis.byId(\"FEStatus\")._oLabel.setRequired(true);\r\n\t\t\t\tthis.byId(\"FEActivityType\")._oLabel.setRequired(true);\r\n\t\t\t\tthis.byId(\"FESubactivityType\")._oLabel.setRequired(true);\r\n\t\t\t\t// Begin of Changes - Khrystyne Williams - Feb 2017\r\n\t\t\t\tthis.byId(\"FEHub\")._oLabel.setRequired(true);\r\n\t\t\t\tthis.byId(\"FESub\")._oLabel.setRequired(true);\r\n\t\t\t\t// End of Changes - Khrystyne Williams - Feb 2017\r\n\t\t\t}\r\n\t\t\t// Flags the same for all  (This accessor should really be changed - it's using an internal interface now)\r\n\t\t\t// Begin of Changes - Khrystyne Williams - Nov 2016\r\n\t\t\t// this.byId(\"FEName\")._oLabel.setRequired(true);\r\n\t\t\t// End of Changes - Khrystyne Williams - Nov 2016\r\n\t\t\tthis.byId(\"FEDivision\")._oLabel.setRequired(true);\r\n\r\n\t\t\t// Begin of Commenting - Khrystyne Williams - August 26, 2016\r\n\t\t\t// Make Category a non-mandatory field\r\n\t\t\t// this.byId(\"FECategory\")._oLabel.setRequired(true);\r\n\t\t\t// End of Commenting - Khrystyne Williams - August 26, 2016\r\n\t\t},\r\n\t\t_getMonthText: function(iMonth) {\r\n\t\t\tvar sDt1 = iMonth;\r\n\t\t\tswitch (sDt1) {\r\n\t\t\t\tcase 1:\r\n\t\t\t\t\tsDt1 = this.getResourceBundle().getText(\"AC_M_Jan\");\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 2:\r\n\t\t\t\t\tsDt1 = this.getResourceBundle().getText(\"AC_M_Feb\");\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 3:\r\n\t\t\t\t\tsDt1 = this.getResourceBundle().getText(\"AC_M_Mar\");\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 4:\r\n\t\t\t\t\tsDt1 = this.getResourceBundle().getText(\"AC_M_Apr\");\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 5:\r\n\t\t\t\t\tsDt1 = this.getResourceBundle().getText(\"AC_M_May\");\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 6:\r\n\t\t\t\t\tsDt1 = this.getResourceBundle().getText(\"AC_M_Jun\");\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 7:\r\n\t\t\t\t\tsDt1 = this.getResourceBundle().getText(\"AC_M_Jul\");\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 8:\r\n\t\t\t\t\tsDt1 = this.getResourceBundle().getText(\"AC_M_Aug\");\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 9:\r\n\t\t\t\t\tsDt1 = this.getResourceBundle().getText(\"AC_M_Sep\");\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 10:\r\n\t\t\t\t\tsDt1 = this.getResourceBundle().getText(\"AC_M_Oct\");\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 11:\r\n\t\t\t\t\tsDt1 = this.getResourceBundle().getText(\"AC_M_Nov\");\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 12:\r\n\t\t\t\t\tsDt1 = this.getResourceBundle().getText(\"AC_M_Dec\");\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tsDt1 = \"Error\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\treturn sDt1;\r\n\t\t},\r\n\t\tonCheckValues: function(oEvent) {\r\n\t\t\tFieldCheckUtils.onCheckField(this, this.getModel(\"ChangeActivity\"), \"/Input/Name\");\r\n\t\t},\r\n\r\n\t\t// INBHD02\r\n\t\tonSelectCrossBrand: function(oEvent) {\r\n\t\t\tvar oModel = this.getModel(\"ChangeActivity\");\r\n\t\t\t// var oInput = oModel.getData();\r\n\r\n\t\t\tif (!this.oPersonalizationDialog) {\r\n\t\t\t\tthis.oPersonalizationDialog = sap.ui.xmlfragment(\"colgate.asm.planning.base.fragment.CrossSubBrand\", this);\r\n\t\t\t\tthis.getView().addDependent(this.oPersonalizationDialog);\r\n\t\t\t\tthis._getdefaultCSBfilter();\r\n\t\t\t\tthis._initializeCSBCount(oModel);\r\n\t\t\t}\r\n\t\t\tthis.oPersonalizationDialog.open();\r\n\t\t},\r\n\r\n\t\tonCSBok: function(oEvent) {\r\n\t\t\toEvent.getSource().close();\r\n\t\t\tif (this.oPersonalizationDialog) {\r\n\t\t\t\tthis.oPersonalizationDialog.destroy();\r\n\t\t\t\tthis.oPersonalizationDialog = null;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tonCSBcancel: function(oEvent) {\r\n\t\t\tvar that = this;\r\n\t\t\tvar event = oEvent.getSource();\r\n\r\n\t\t\tvar dialog = new Dialog({\r\n\t\t\t\ttitle: 'Confirm',\r\n\t\t\t\ttype: 'Message',\r\n\t\t\t\tstate: 'Warning',\r\n\t\t\t\tcontent: new Text({\r\n\t\t\t\t\ttext: this.getModel(\"i18n\").getResourceBundle().getText(\"CSBConfirmcancel\")\r\n\t\t\t\t\t\t// text: 'Are you sure you want to discard all the changes?'\r\n\t\t\t\t}),\r\n\t\t\t\tbeginButton: new Button({\r\n\t\t\t\t\ttext: 'Yes',\r\n\t\t\t\t\tpress: function() {\r\n\t\t\t\t\t\tdialog.close();\r\n\t\t\t\t\t\tthat._discardallCSBChange();\r\n\t\t\t\t\t\tevent.close();\r\n\t\t\t\t\t\tif (that.oPersonalizationDialog) {\r\n\t\t\t\t\t\t\tthat.oPersonalizationDialog.destroy();\r\n\t\t\t\t\t\t\tthat.oPersonalizationDialog = null;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}),\r\n\t\t\t\tendButton: new Button({\r\n\t\t\t\t\ttext: 'Cancel',\r\n\t\t\t\t\tpress: function() {\r\n\t\t\t\t\t\tdialog.close();\r\n\t\t\t\t\t}\r\n\t\t\t\t}),\r\n\t\t\t\tafterClose: function() {\r\n\t\t\t\t\tdialog.destroy();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tdialog.open();\r\n\t\t},\r\n\r\n\t\tonSearchCSB: function(oEvent) {\r\n\t\t\tvar sQuery = oEvent.getParameter(\"query\");\r\n\r\n\t\t\tthis._oGlobalFilter = null;\r\n\t\t\tif (sQuery) {\r\n\t\t\t\tthis._oGlobalFilter = new Filter([\r\n\t\t\t\t\tnew Filter(\"SubbrandDesc\", FilterOperator.Contains, sQuery)\r\n\t\t\t\t], false);\r\n\t\t\t}\r\n\r\n\t\t\tvar binding = oEvent.oSource.getParent();\r\n\t\t\tbinding.getParent().getBinding(\"rows\").filter(this._oGlobalFilter, \"Application\");\r\n\t\t},\r\n\r\n\t\t_getCSBSubbrand: function(CSBCategoryKey, CSBSubcategoryKey, CSBBrandKey) {\r\n\r\n\t\t\tvar sServiceUrl = this.getOwnerComponent().getModel(\"masterShared\").getProperty(\"/oServiceUrls/mainService\");\r\n\r\n\t\t\tvar sbmodel = this.oPersonalizationDialog.getModel(\"CSBBrands\");\r\n\t\t\tif (!sbmodel) {\r\n\t\t\t\tsbmodel = new sap.ui.model.odata.v2.ODataModel(sServiceUrl, false);\r\n\t\t\t\tsbmodel.setSizeLimit(50000);\r\n\t\t\t\tsbmodel.setDefaultCountMode(sap.ui.model.odata.CountMode.None);\r\n\t\t\t\tthis.oPersonalizationDialog.setModel(sbmodel, \"CSBBrands\");\r\n\t\t\t}\r\n\r\n\t\t\tvar filters = [];\r\n\t\t\tif (CSBCategoryKey) {\r\n\t\t\t\tfilters.push(new sap.ui.model.Filter(\"CategoryKey\", sap.ui.model.FilterOperator.EQ, CSBCategoryKey));\r\n\t\t\t}\r\n\t\t\tif (CSBSubcategoryKey) {\r\n\t\t\t\tfilters.push(new sap.ui.model.Filter(\"PcategoryKey\", sap.ui.model.FilterOperator.EQ, CSBSubcategoryKey));\r\n\t\t\t}\r\n\t\t\tif (CSBBrandKey) {\r\n\t\t\t\tfilters.push(new sap.ui.model.Filter(\"BrandKey\", sap.ui.model.FilterOperator.EQ, CSBBrandKey));\r\n\t\t\t}\r\n\t\t\tvar sPath = \"/VHCrossSubBrand\";\r\n\t\t\tvar that2 = this;\r\n\r\n\t\t\tvar oSBPromise = new Promise(function(resolve, reject) {\r\n\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\tsbmodel.read(sPath, {\r\n\t\t\t\t\t\tasync: true,\r\n\t\t\t\t\t\tfilters: filters,\r\n\t\t\t\t\t\tsuccess: function(oData, oResponse) {\r\n\t\t\t\t\t\t\tTimeoutUtils.onResetTimer(this);\r\n\t\t\t\t\t\t\tthat2._setCSBSubbrand(oData);\r\n\t\t\t\t\t\t\tresolve(oData);\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\terror: function(oError) {\r\n\t\t\t\t\t\t\toError.ErrorOrigin = \"Subbrands\";\r\n\t\t\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.detail\", \"Errors\", oError);\r\n\t\t\t\t\t\t\treject(oError);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}, 200);\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t_setCSBSubbrand: function(oDataIn) {\r\n\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", true); // Start Spinner\r\n\r\n\t\t\tvar oModel = this.getModel(\"ChangeActivity\");\r\n\t\t\tvar oData = oModel.getData();\r\n\t\t\tif (!oData.CSBSubbrand) {\r\n\t\t\t\toData.CSBSubbrand = {};\r\n\t\t\t}\r\n\t\t\toData.CSBSubbrand.Current = [];\r\n\t\t\toData.CSBSubbrand.Current = oDataIn.results;\r\n\t\t\t// oData.CSBSubbrand.Count.Current = \"(\" + oData.CSBSubbrand.Current.length + \")\";\r\n\t\t\toModel.refresh(false);\r\n\t\t\tthis._setinitialCSBSubbrandvalues();\r\n\r\n\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", false); // Stop Spinner\r\n\t\t},\r\n\r\n\t\t_onCSBFilterchange: function(oEvent) {\r\n\t\t\tvar oModel = this.getModel(\"ChangeActivity\");\r\n\t\t\tvar oInput = oModel.getData();\r\n\r\n\t\t\tvar id = oEvent.getParameter(\"id\");\r\n\r\n\t\t\tif (id === \"CSBCategoryKey\") {\r\n\r\n\t\t\t\toInput.CSBSubbrand.CSBSubcategoryKey = \"\";\r\n\t\t\t\toInput.CSBSubcategory.Current = [];\r\n\r\n\t\t\t\toInput.CSBSubbrand.CSBBrandKey = \"\";\r\n\t\t\t\toInput.CSBBrand.Current = [];\r\n\r\n\t\t\t\toModel.refresh(false);\r\n\r\n\t\t\t\tthis._getCSBSubcategory();\r\n\t\t\t\tthis._getCSBBrand();\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tif (id === \"CSBSubcategoryKey\") {\r\n\r\n\t\t\t\t\toInput.CSBSubbrand.CSBBrandKey = \"\";\r\n\t\t\t\t\toInput.CSBBrand.Current = [];\r\n\r\n\t\t\t\t\toModel.refresh(false);\r\n\r\n\t\t\t\t\tthis._getCSBBrand();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tthis._getCSBSubbrand(oInput.CSBSubbrand.CSBCategoryKey, oInput.CSBSubbrand.CSBSubcategoryKey, oInput.CSBSubbrand.CSBBrandKey);\r\n\t\t},\r\n\r\n\t\t_getCSBSubcategory: function() {\r\n\t\t\tvar oModel = this.getModel(\"ChangeActivity\");\r\n\t\t\tvar oInput = oModel.getData();\r\n\t\t\tvar sServiceUrl = this.getOwnerComponent().getModel(\"masterShared\").getProperty(\"/oServiceUrls/mainService\");\r\n\t\t\tvar that = this;\r\n\r\n\t\t\tvar sbmodel = this.oPersonalizationDialog.getModel(\"CSBvhph\");\r\n\t\t\tif (!sbmodel) {\r\n\t\t\t\tsbmodel = new sap.ui.model.odata.v2.ODataModel(sServiceUrl, false);\r\n\t\t\t\tsbmodel.setSizeLimit(50000);\r\n\t\t\t\tsbmodel.setDefaultCountMode(sap.ui.model.odata.CountMode.None);\r\n\t\t\t\tthis.oPersonalizationDialog.setModel(sbmodel, \"CSBvhph\");\r\n\t\t\t}\r\n\r\n\t\t\tvar filters = [];\r\n\t\t\tif (oInput.CSBSubbrand.CSBCategoryKey) {\r\n\t\t\t\tfilters.push(new sap.ui.model.Filter(\"Category\", sap.ui.model.FilterOperator.EQ, oInput.CSBSubbrand.CSBCategoryKey));\r\n\t\t\t}\r\n\t\t\tvar sPath = \"/VHSubcategories\";\r\n\r\n\t\t\tvar oSBPromise = new Promise(function(resolve, reject) {\r\n\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\tsbmodel.read(sPath, {\r\n\t\t\t\t\t\tasync: true,\r\n\t\t\t\t\t\tfilters: filters,\r\n\t\t\t\t\t\tsuccess: function(oData) {\r\n\t\t\t\t\t\t\tTimeoutUtils.onResetTimer(this);\r\n\t\t\t\t\t\t\tthat._setCSBSubcategory(oData);\r\n\t\t\t\t\t\t\tresolve(oData);\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\terror: function(oError) {\r\n\t\t\t\t\t\t\toError.ErrorOrigin = \"Subbrands\";\r\n\t\t\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.detail\", \"Errors\", oError);\r\n\t\t\t\t\t\t\treject(oError);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}, 200);\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t_setCSBSubcategory: function(oDataIn) {\r\n\t\t\tvar oModel = this.getModel(\"ChangeActivity\");\r\n\t\t\tvar oData = oModel.getData();\r\n\r\n\t\t\tif (!oData.CSBSubcategory) {\r\n\t\t\t\toData.CSBSubcategory = {};\r\n\t\t\t}\r\n\t\t\toData.CSBSubcategory.Current = [];\r\n\t\t\toData.CSBSubcategory.Current = oDataIn.results;\r\n\t\t\toModel.refresh(false);\r\n\t\t},\r\n\r\n\t\t_getCSBBrand: function() {\r\n\t\t\tvar oModel = this.getModel(\"ChangeActivity\");\r\n\t\t\tvar oInput = oModel.getData();\r\n\t\t\tvar sServiceUrl = this.getOwnerComponent().getModel(\"masterShared\").getProperty(\"/oServiceUrls/mainService\");\r\n\t\t\tvar that = this;\r\n\r\n\t\t\tvar sbmodel = this.oPersonalizationDialog.getModel(\"CSBvhph\");\r\n\t\t\tif (!sbmodel) {\r\n\t\t\t\tsbmodel = new sap.ui.model.odata.v2.ODataModel(sServiceUrl, false);\r\n\t\t\t\tsbmodel.setSizeLimit(50000);\r\n\t\t\t\tsbmodel.setDefaultCountMode(sap.ui.model.odata.CountMode.None);\r\n\t\t\t\tthis.oPersonalizationDialog.setModel(sbmodel, \"CSBvhph\");\r\n\t\t\t}\r\n\r\n\t\t\tvar filters = [];\r\n\t\t\tif (oInput.CSBSubbrand.CSBCategoryKey) {\r\n\t\t\t\tfilters.push(new sap.ui.model.Filter(\"Category\", sap.ui.model.FilterOperator.EQ, oInput.CSBSubbrand.CSBCategoryKey));\r\n\t\t\t}\r\n\t\t\tif (oInput.CSBSubbrand.CSBSubcategoryKey) {\r\n\t\t\t\tfilters.push(new sap.ui.model.Filter(\"PSubCategory\", sap.ui.model.FilterOperator.EQ, oInput.CSBSubbrand.CSBSubcategoryKey));\r\n\t\t\t}\r\n\t\t\tvar sPath = \"/VHBrands\";\r\n\r\n\t\t\tvar oSBPromise = new Promise(function(resolve, reject) {\r\n\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\tsbmodel.read(sPath, {\r\n\t\t\t\t\t\tasync: true,\r\n\t\t\t\t\t\tfilters: filters,\r\n\t\t\t\t\t\tsuccess: function(oData) {\r\n\t\t\t\t\t\t\tTimeoutUtils.onResetTimer(this);\r\n\t\t\t\t\t\t\tthat._setCSBBrand(oData);\r\n\t\t\t\t\t\t\tresolve(oData);\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\terror: function(oError) {\r\n\t\t\t\t\t\t\toError.ErrorOrigin = \"Subbrands\";\r\n\t\t\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.detail\", \"Errors\", oError);\r\n\t\t\t\t\t\t\treject(oError);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}, 200);\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t_setCSBBrand: function(oDataIn) {\r\n\t\t\tvar oModel = this.getModel(\"ChangeActivity\");\r\n\t\t\tvar oData = oModel.getData();\r\n\r\n\t\t\tif (!oData.CSBBrand) {\r\n\t\t\t\toData.CSBBrand = {};\r\n\t\t\t}\r\n\t\t\toData.CSBBrand.Current = [];\r\n\t\t\toData.CSBBrand.Current = oDataIn.results;\r\n\t\t\toModel.refresh(false);\r\n\t\t},\r\n\r\n\t\t_getExistingCSBSubbrand: function(AsmID) {\r\n\t\t\tvar sServiceUrl = this.getOwnerComponent().getModel(\"masterShared\").getProperty(\"/oServiceUrls/mainService\");\r\n\r\n\t\t\tvar sbmodel = this.getModel(\"CSBESubbrands\");\r\n\r\n\t\t\tif (!sbmodel) {\r\n\t\t\t\tsbmodel = new sap.ui.model.odata.v2.ODataModel(sServiceUrl, false);\r\n\t\t\t\tsbmodel.setSizeLimit(50000);\r\n\t\t\t\tsbmodel.setDefaultCountMode(sap.ui.model.odata.CountMode.None);\r\n\t\t\t\tthis.setModel(sbmodel, \"CSBESubbrands\");\r\n\t\t\t}\r\n\r\n\t\t\tvar filters = [];\r\n\t\t\tif (AsmID) {\r\n\t\t\t\tfilters.push(new sap.ui.model.Filter(\"AsmId\", sap.ui.model.FilterOperator.EQ, AsmID));\r\n\t\t\t}\r\n\t\t\tvar sPath = \"/CrossSubBrandListSet\";\r\n\t\t\tvar that = this;\r\n\r\n\t\t\tvar oSBPromise = new Promise(function(resolve, reject) {\r\n\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\tsbmodel.read(sPath, {\r\n\t\t\t\t\t\tasync: true,\r\n\t\t\t\t\t\tfilters: filters,\r\n\t\t\t\t\t\tsuccess: function(oData, oResponse) {\r\n\t\t\t\t\t\t\tTimeoutUtils.onResetTimer(this);\r\n\t\t\t\t\t\t\tthat._setExistingCSBSubbrand(oData);\r\n\t\t\t\t\t\t\tresolve(oData);\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\terror: function(oError) {\r\n\t\t\t\t\t\t\toError.ErrorOrigin = \"GetSubbrands\";\r\n\t\t\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.detail\", \"Errors\", oError);\r\n\t\t\t\t\t\t\treject(oError);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}, 200);\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t_setExistingCSBSubbrand: function(oDataIn) {\r\n\t\t\tvar oModel = this.getModel(\"ChangeActivity\");\r\n\t\t\tvar oData = oModel.getData();\r\n\t\t\tif (!oData.CSBSubbrand) {\r\n\t\t\t\toData.CSBSubbrand = {};\r\n\t\t\t}\r\n\r\n\t\t\tif (oDataIn.results.length === 0) {\r\n\t\t\t\toData.CSBSubbrand.Selected = [];\r\n\t\t\t} else {\r\n\t\t\t\toData.CSBSubbrand.Selected = oDataIn.results;\r\n\t\t\t}\r\n\r\n\t\t\toData.CSBSubbrand.Count.Selected = \"(\" + oData.CSBSubbrand.Selected.length + \")\";\r\n\t\t\toModel.refresh(false);\r\n\t\t},\r\n\r\n\t\t_getdefaultCSBfilter: function() {\r\n\t\t\tvar oModel = this.getModel(\"ChangeActivity\");\r\n\t\t\tvar oInput = oModel.getData();\r\n\r\n\t\t\toInput.CSBSubbrand.CSBCategoryKey = oInput.Input.CategoryKey;\r\n\t\t\toInput.CSBSubbrand.CSBSubcategoryKey = oInput.Input.SubcategoryKey;\r\n\t\t\toInput.CSBSubbrand.CSBBrandKey = oInput.Input.BrandKey;\r\n\r\n\t\t\tthis._getCSBCategory();\r\n\t\t\toInput.CSBSubcategory.Current = oInput.Subcategory.Current;\r\n\t\t\toInput.CSBBrand.Current = oInput.Brand.Current;\r\n\r\n\t\t\tthis._getCSBSubbrand(oInput.Input.CategoryKey, oInput.Input.SubcategoryKey, oInput.Input.BrandKey);\r\n\r\n\t\t\toModel.refresh(false);\r\n\r\n\t\t},\r\n\r\n\t\t_getCSBCategory: function() {\r\n\r\n\t\t\tvar oModel = this.getModel(\"ChangeActivity\");\r\n\t\t\tvar oInput = oModel.getData();\r\n\t\t\tvar sServiceUrl = this.getOwnerComponent().getModel(\"masterShared\").getProperty(\"/oServiceUrls/mainService\");\r\n\t\t\tvar that = this;\r\n\r\n\t\t\tvar sbmodel = this.oPersonalizationDialog.getModel(\"CSBvhph\");\r\n\t\t\tif (!sbmodel) {\r\n\t\t\t\tsbmodel = new sap.ui.model.odata.v2.ODataModel(sServiceUrl, false);\r\n\t\t\t\tsbmodel.setSizeLimit(50000);\r\n\t\t\t\tsbmodel.setDefaultCountMode(sap.ui.model.odata.CountMode.None);\r\n\t\t\t\tthis.oPersonalizationDialog.setModel(sbmodel, \"CSBvhph\");\r\n\t\t\t}\r\n\r\n\t\t\tvar filters = [];\r\n\t\t\tvar sPath = \"/VHCategories\";\r\n\r\n\t\t\tvar oSBPromise = new Promise(function(resolve, reject) {\r\n\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\tsbmodel.read(sPath, {\r\n\t\t\t\t\t\tasync: true,\r\n\t\t\t\t\t\tfilters: filters,\r\n\t\t\t\t\t\tsuccess: function(oData) {\r\n\t\t\t\t\t\t\tTimeoutUtils.onResetTimer(this);\r\n\t\t\t\t\t\t\tthat._setCSBCategory(oData);\r\n\t\t\t\t\t\t\tresolve(oData);\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\terror: function(oError) {\r\n\t\t\t\t\t\t\toError.ErrorOrigin = \"Subbrands\";\r\n\t\t\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.detail\", \"Errors\", oError);\r\n\t\t\t\t\t\t\treject(oError);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}, 200);\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t_setCSBCategory: function(oDataIn) {\r\n\t\t\tvar oModel = this.getModel(\"ChangeActivity\");\r\n\t\t\tvar oData = oModel.getData();\r\n\t\t\tif (!oData.CSBCategory) {\r\n\t\t\t\toData.CSBCategory = {};\r\n\t\t\t}\r\n\t\t\toData.CSBCategory.Current = [];\r\n\t\t\toData.CSBCategory.Current = oDataIn.results;\r\n\t\t\toModel.refresh(false);\r\n\t\t},\r\n\r\n\t\t_addCSBbrands: function(oEvent) {\r\n\t\t\tvar oModel = this.getModel(\"ChangeActivity\"),\r\n\t\t\t\tCSBTable = oEvent.oSource.getParent().getParent(),\r\n\t\t\t\tSelectedRowContext = CSBTable.getSelectedIndices(),\r\n\t\t\t\tbinding = CSBTable.getBinding(\"rows\"),\r\n\t\t\t\tbindingaIndices = binding.aIndices;\r\n\r\n\t\t\tif (SelectedRowContext.length) {\r\n\t\t\t\tfor (var i = 0; i < SelectedRowContext.length; i++) {\r\n\t\t\t\t\tvar rowIndices = \"\",\r\n\t\t\t\t\t\tnewdata = {},\r\n\t\t\t\t\t\tFData = {};\r\n\r\n\t\t\t\t\trowIndices = bindingaIndices[SelectedRowContext[i]];\r\n\r\n\t\t\t\t\tvar selctedrow = binding.oList[rowIndices];\r\n\r\n\t\t\t\t\tnewdata.SubbrandKey = selctedrow.SubbrandKey;\r\n\t\t\t\t\tnewdata.SubbrandDesc = selctedrow.SubbrandDesc;\r\n\t\t\t\t\tnewdata.LeadSubbrand = \"\";\r\n\t\t\t\t\tnewdata.UpdatedFlag = \"I\";\r\n\r\n\t\t\t\t\toModel.oData.CSBSubbrand.Change.push(newdata);\r\n\t\t\t\t\toModel.oData.CSBSubbrand.Selected.push(newdata);\r\n\r\n\t\t\t\t\t//CSBTest\r\n\t\t\t\t\tFData.K = selctedrow.SubbrandKey;\r\n\t\t\t\t\tFData.L = \"\";\r\n\t\t\t\t\tFData.U = \"I\";\r\n\t\t\t\t\toModel.oData.CSBSubbrand.NewChange.push(FData);\r\n\t\t\t\t\t//CSBTest\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar reverse = [].concat(CSBTable.getSelectedIndices()).reverse();\r\n\t\t\t\t// var reverse = [].concat(binding.aIndices).reverse();\r\n\t\t\t\treverse.forEach(function(index) {\r\n\t\t\t\t\toModel.getData().CSBSubbrand.Current.splice(index, 1);\r\n\t\t\t\t});\r\n\r\n\t\t\t\toModel.oData.CSBSubbrand.Count.Selected = \"(\" + oModel.oData.CSBSubbrand.Selected.length + \")\";\r\n\t\t\t\toModel.oData.CSBSubbrand.Count.Current = \"(\" + oModel.oData.CSBSubbrand.Current.length + \")\";\r\n\r\n\t\t\t\t// oModel.oData.CSBSubbrand.Current.sort();\r\n\r\n\t\t\t\toModel.refresh(false);\r\n\t\t\t\toModel.oData.CSBSubbrand.Selected.sort();\r\n\t\t\t\tCSBTable.clearSelection();\r\n\r\n\t\t\t} else {\r\n\t\t\t\tvar sMessage = this.getModel(\"i18n\").getResourceBundle().getText(\"AC_CSBAddError\");\r\n\t\t\t\tMessageToast.show(sMessage);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_deleteCSBBrands: function(oEvent) {\r\n\t\t\tvar oModel = this.getModel(\"ChangeActivity\"),\r\n\t\t\t\toChange = oModel.getData().CSBSubbrand.Change,\r\n\r\n\t\t\t\tCSBTable_Selected = oEvent.oSource.getParent().getParent(),\r\n\t\t\t\tSelectedRowCount = CSBTable_Selected.getSelectedIndices(),\r\n\t\t\t\tbinding = CSBTable_Selected.getBinding(\"rows\"),\r\n\t\t\t\tSelectedRowContext = binding.aIndices;\r\n\r\n\t\t\tif (SelectedRowCount.length) {\r\n\t\t\t\tfor (var i = 0; i < SelectedRowContext.length; i++) {\r\n\t\t\t\t\tvar newdata = {},\r\n\t\t\t\t\t\tFData = {},\r\n\t\t\t\t\t\tflag = \"\";\r\n\t\t\t\t\tvar rowIndices = SelectedRowContext[i];\r\n\t\t\t\t\tvar selctedrow = binding.oList[rowIndices];\r\n\r\n\t\t\t\t\tfor (var j = 0; j < oChange.length; j++) {\r\n\t\t\t\t\t\tif (oChange[j].SubbrandKey === selctedrow.SubbrandKey && oChange[j].UpdatedFlag === \"I\") {\r\n\t\t\t\t\t\t\toModel.getData().CSBSubbrand.Change.splice(j, 1);\r\n\r\n\t\t\t\t\t\t\tnewdata.SubbrandKey = selctedrow.SubbrandKey;\r\n\t\t\t\t\t\t\tnewdata.SubbrandDesc = selctedrow.SubbrandDesc;\r\n\t\t\t\t\t\t\tnewdata.LeadSubbrand = \"\";\r\n\t\t\t\t\t\t\tnewdata.UpdatedFlag = \"D\";\r\n\r\n\t\t\t\t\t\t\toModel.oData.CSBSubbrand.Current.push(newdata);\r\n\r\n\t\t\t\t\t\t\t//CSBTest\r\n\t\t\t\t\t\t\toModel.getData().CSBSubbrand.NewChange.splice(j, 1);\r\n\t\t\t\t\t\t\t//CSBTest\t\t\t\t\t\r\n\r\n\t\t\t\t\t\t\tflag = \"X\";\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (flag !== \"X\") {\r\n\t\t\t\t\t\tnewdata.SubbrandKey = selctedrow.SubbrandKey;\r\n\t\t\t\t\t\tnewdata.SubbrandDesc = selctedrow.SubbrandDesc;\r\n\t\t\t\t\t\tnewdata.LeadSubbrand = \"\";\r\n\t\t\t\t\t\tnewdata.UpdatedFlag = \"D\";\r\n\r\n\t\t\t\t\t\toModel.oData.CSBSubbrand.Change.push(newdata);\r\n\t\t\t\t\t\toModel.oData.CSBSubbrand.Current.push(newdata);\r\n\r\n\t\t\t\t\t\t//CSBTest\r\n\t\t\t\t\t\tFData.K = selctedrow.SubbrandKey;\r\n\t\t\t\t\t\tFData.L = \"\";\r\n\t\t\t\t\t\tFData.U = \"D\";\r\n\t\t\t\t\t\toModel.oData.CSBSubbrand.NewChange.push(FData);\r\n\t\t\t\t\t\t//CSBTest\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// var reverse = [].concat(CSBTable_Selected.getSelectedIndices()).reverse();\r\n\t\t\t\tvar reverse = [].concat(binding.aIndices).reverse();\r\n\t\t\t\treverse.forEach(function(index) {\r\n\t\t\t\t\toModel.getData().CSBSubbrand.Selected.splice(index, 1);\r\n\t\t\t\t});\r\n\r\n\t\t\t\toModel.oData.CSBSubbrand.Count.Selected = \"(\" + oModel.oData.CSBSubbrand.Selected.length + \")\";\r\n\t\t\t\toModel.oData.CSBSubbrand.Count.Current = \"(\" + oModel.oData.CSBSubbrand.Current.length + \")\";\r\n\r\n\t\t\t\t// oModel.oData.CSBSubbrand.Selected.sort();\r\n\r\n\t\t\t\toModel.refresh(false);\r\n\t\t\t\toModel.oData.CSBSubbrand.Current.sort();\r\n\t\t\t} else {\r\n\t\t\t\tvar sMessage = this.getModel(\"i18n\").getResourceBundle().getText(\"AC_CSBDeleteError\");\r\n\t\t\t\tMessageToast.show(sMessage);\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\t_setinitialCSBSubbrandvalues: function() {\r\n\t\t\tvar oModel = this.getModel(\"ChangeActivity\");\r\n\r\n\t\t\tvar sData = oModel.getData().CSBSubbrand.Selected,\r\n\t\t\t\tcData = oModel.getData().CSBSubbrand.Current;\r\n\r\n\t\t\tfor (var i = 0; i < sData.length; i++) {\r\n\t\t\t\tfor (var j = 0; j < cData.length; j++) {\r\n\t\t\t\t\tif (sData[i].SubbrandKey === cData[j].SubbrandKey) {\r\n\t\t\t\t\t\toModel.getData().CSBSubbrand.Current.splice(j, 1);\r\n\t\t\t\t\t\toModel.refresh(false);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\toModel.oData.CSBSubbrand.Count.Current = \"(\" + oModel.oData.CSBSubbrand.Current.length + \")\";\r\n\t\t\toModel.refresh(false);\r\n\t\t},\r\n\r\n\t\t_discardallCSBChange: function() {\r\n\t\t\tvar oModel = this.getModel(\"ChangeActivity\");\r\n\r\n\t\t\tvar sData = oModel.getData().CSBSubbrand.Selected,\r\n\t\t\t\tcData = oModel.getData().CSBSubbrand.Change;\r\n\r\n\t\t\tfor (var j = 0; j < cData.length; j++) {\r\n\t\t\t\tfor (var i = 0; i < sData.length; i++) {\r\n\t\t\t\t\tif (sData[i].SubbrandKey === cData[j].SubbrandKey) {\r\n\t\t\t\t\t\toModel.getData().CSBSubbrand.Selected.splice(i, 1);\r\n\t\t\t\t\t\toModel.refresh(false);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\toModel.getData().CSBSubbrand.Change = [];\r\n\t\t\toModel.refresh(false);\r\n\t\t},\r\n\r\n\t\t_clearAllCSBSelection: function(oEvent) {\r\n\t\t\tvar Table = oEvent.oSource.getParent().getParent();\r\n\t\t\tTable.clearSelection();\r\n\t\t},\r\n\r\n\t\t_initializeCSB: function(oModel) {\r\n\t\t\tvar oData = oModel.getData();\r\n\r\n\t\t\toData.CSBSubbrand.Change = [];\r\n\t\t\toData.CSBSubbrand.NewChange = [];\r\n\t\t\toData.CSBSubbrand.Selected = [];\r\n\t\t\toData.CSBSubbrand.Count.Current = \"(0)\";\r\n\t\t\toData.CSBSubbrand.Count.Selected = \"(0)\";\r\n\r\n\t\t\toModel.refresh(false);\r\n\t\t},\r\n\r\n\t\t_initializeCSBCount: function(oModel) {\r\n\t\t\tvar oData = oModel.getData();\r\n\r\n\t\t\tif (oData.CSBSubbrand.Selected.length) {\r\n\t\t\t\toData.CSBSubbrand.Count.Selected = {};\r\n\t\t\t\toData.CSBSubbrand.Count.Selected = \"(\" + oData.CSBSubbrand.Selected.length + \")\";\r\n\t\t\t} else {\r\n\t\t\t\toData.CSBSubbrand.Count.Selected = \"(0)\";\r\n\t\t\t}\r\n\r\n\t\t\toModel.refresh(false);\r\n\t\t}\r\n\r\n\t\t// sortCSBTable: function(oTable) {\r\n\r\n\t\t// \toTable.sort(oView.byId(\"name\"), SortOrder.Ascending, true);\r\n\t\t// }\r\n\r\n\t\t// INBHD02\t\t\r\n\t});\r\n});",
		"colgate/asm/planning/base/fragment/CrossSubBrand.fragment.xml": "<core:FragmentDefinition xmlns=\"sap.m\" xmlns:core=\"sap.ui.core\" xmlns:t=\"sap.ui.table\" xmlns:f=\"sap.ui.layout.form\"\n\txmlns:custom=\"colgate.asm.planning.base.util\">\n\t<P13nDialog id=\"CSBDialog\" showHeader=\"false\" showReset=\"false\" ok=\"onCSBok\" cancel=\"onCSBcancel\" resizable=\"false\" class=\"sapUiSizeCompact\"\n\t\tcontentWidth=\"45rem\">\n\t\t<panels>\n\t\t\t<custom:CustomCrossSubBrand type=\"custom1\">\n\t\t\t\t<custom:content id=\"CSBContent\">\n\t\t\t\t\t<FlexBox direction=\"Column\" justifyContent=\"Center\" alignContent=\"SpaceAround\">\n\t\t\t\t\t\t<FlexBox height=\"0.5rem\"/>\n\t\t\t\t\t\t<FlexBox alignContent=\"Center\" alignItems=\"Center\" justifyContent=\"Center\">\n\t\t\t\t\t\t\t<Title id=\"CSBtitle\" text=\"{i18n>AC_TAVCrossSubBrand} {ChangeActivity>/CSBSubbrand/Count/Current}\" level=\"H4\" titleStyle=\"H4\" visible=\"true\"/>\n\t\t\t\t\t\t</FlexBox>\n\t\t\t\t\t\t<FlexBox height=\"0.5rem\"/>\n\t\t\t\t\t\t<FlexBox direction=\"Row\" alignContent=\"center\" alignItems=\"center\" justifyContent=\"Center\">\n\t\t\t\t\t\t\t<FlexBox direction=\"Column\" width=\"15rem\" alignContent=\"Center\" alignItems=\"Start\">\n\t\t\t\t\t\t\t\t<items>\n\t\t\t\t\t\t\t\t\t<Title titleStyle=\"H6\" text=\"{i18n>AC_category}\"/>\n\t\t\t\t\t\t\t\t\t<Select forceSelection=\"false\" id=\"CSBCategoryKey\" selectedKey=\"{ChangeActivity>/CSBSubbrand/CSBCategoryKey}\"\n\t\t\t\t\t\t\t\t\t\titems=\"{path:'ChangeActivity>/CSBCategory/Current'}\" change=\"_onCSBFilterchange\" width=\"14rem\">\n\t\t\t\t\t\t\t\t\t\t<items>\n\t\t\t\t\t\t\t\t\t\t\t<core:Item key=\"{ChangeActivity>Key}\" text=\"{ChangeActivity>Description}\"/>\n\t\t\t\t\t\t\t\t\t\t</items>\n\t\t\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t\t\t</items>\n\t\t\t\t\t\t\t</FlexBox>\n\t\t\t\t\t\t\t<FlexBox direction=\"Column\" width=\"15rem\" alignContent=\"SpaceBetween\" alignItems=\"Start\">\n\t\t\t\t\t\t\t\t<items>\n\t\t\t\t\t\t\t\t\t<Title titleStyle=\"H6\" text=\"{i18n>AC_pscategory}\"/>\n\t\t\t\t\t\t\t\t\t<Select forceSelection=\"false\" id=\"CSBSubcategoryKey\" selectedKey=\"{ChangeActivity>/CSBSubbrand/CSBSubcategoryKey}\"\n\t\t\t\t\t\t\t\t\t\titems=\"{path:'ChangeActivity>/CSBSubcategory/Current'}\" change=\"_onCSBFilterchange\" width=\"14rem\">\n\t\t\t\t\t\t\t\t\t\t<items>\n\t\t\t\t\t\t\t\t\t\t\t<core:Item key=\"{ChangeActivity>Key}\" text=\"{ChangeActivity>Description}\"/>\n\t\t\t\t\t\t\t\t\t\t</items>\n\t\t\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t\t\t</items>\n\t\t\t\t\t\t\t</FlexBox>\n\t\t\t\t\t\t\t<FlexBox direction=\"Column\" width=\"14rem\" alignContent=\"SpaceBetween\" alignItems=\"Start\">\n\t\t\t\t\t\t\t\t<Title titleStyle=\"H6\" text=\"{i18n>AC_brand}\"/>\n\t\t\t\t\t\t\t\t<Select forceSelection=\"false\" id=\"CSBBrandKey\" selectedKey=\"{ChangeActivity>/CSBSubbrand/CSBBrandKey}\"\n\t\t\t\t\t\t\t\t\titems=\"{path:'ChangeActivity>/CSBBrand/Current'}\" change=\"_onCSBFilterchange\" width=\"14rem\">\n\t\t\t\t\t\t\t\t\t<items>\n\t\t\t\t\t\t\t\t\t\t<core:Item key=\"{ChangeActivity>Key}\" text=\"{ChangeActivity>Description}\"/>\n\t\t\t\t\t\t\t\t\t</items>\n\t\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t\t</FlexBox>\n\t\t\t\t\t\t</FlexBox>\n\t\t\t\t\t\t<FlexBox id=\"FCrossSubBrandTable\">\n\t\t\t\t\t\t\t<t:Table id=\"CSBTable_Available\" selectionMode=\"MultiToggle\"\n\t\t\t\t\t\t\t\trows=\"{path:'ChangeActivity>/CSBSubbrand/Current'}\" enableCellFilter=\"true\" ariaLabelledBy=\"title\"\n\t\t\t\t\t\t\t\tvisibleRowCount=\"5\" selectionBehavior=\"Row\">\n\t\t\t\t\t\t\t\t<t:toolbar>\n\t\t\t\t\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t\t\t\t\t<SearchField id=\"CSBSearch\" value=\"{ui>/globalFilter}\" search=\"onSearchCSB\" width=\"28rem\"/>\n\t\t\t\t\t\t\t\t\t\t<ToolbarSeparator/>\n\t\t\t\t\t\t\t\t\t\t<Button icon=\"sap-icon://decline\" tooltip=\"{i18n>AC_Clearselection}\" press=\"_clearAllCSBSelection\"/>\n\t\t\t\t\t\t\t\t\t\t<Button text=\"Add Sub-Brand\" type=\"Accept\" icon=\"sap-icon://add\" tooltip=\"Add Selected Sub-Brand\" press=\"_addCSBbrands\" width=\"10rem\"/>\n\t\t\t\t\t\t\t\t\t</Toolbar>\n\t\t\t\t\t\t\t\t</t:toolbar>\n\t\t\t\t\t\t\t\t<t:columns>\n\t\t\t\t\t\t\t\t\t<t:Column width=\"6rem\" visible=\"false\">\n\t\t\t\t\t\t\t\t\t\t<Label design=\"Bold\" text=\"Sub-Brand Key\"/>\n\t\t\t\t\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t\t\t\t\t<Text text=\"{ChangeActivity>SubbrandKey}\" wrapping=\"false\"/>\n\t\t\t\t\t\t\t\t\t\t</t:template>\n\t\t\t\t\t\t\t\t\t</t:Column>\n\t\t\t\t\t\t\t\t\t<t:Column filterProperty=\"SubbrandDesc\" visible=\"true\" sortOrder=\"Ascending\">\n\t\t\t\t\t\t\t\t\t\t<Label design=\"Bold\" text=\"Sub-Brand\"/>\n\t\t\t\t\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t\t\t\t\t<Text text=\"{ChangeActivity>SubbrandDesc}\" wrapping=\"false\"/>\n\t\t\t\t\t\t\t\t\t\t</t:template>\n\t\t\t\t\t\t\t\t\t</t:Column>\n\t\t\t\t\t\t\t\t\t<t:Column filterProperty=\"BrandDesc\" visible=\"false\">\n\t\t\t\t\t\t\t\t\t\t<Label design=\"Bold\" text=\"Brand\"/>\n\t\t\t\t\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t\t\t\t\t<Text text=\"{ChangeActivity>BrandDesc}\" wrapping=\"false\"/>\n\t\t\t\t\t\t\t\t\t\t</t:template>\n\t\t\t\t\t\t\t\t\t</t:Column>\n\t\t\t\t\t\t\t\t\t<t:Column filterProperty=\"PcategoryDesc\" visible=\"false\">\n\t\t\t\t\t\t\t\t\t\t<Label design=\"Bold\" text=\"Sub-Category\"/>\n\t\t\t\t\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t\t\t\t\t<Text text=\"{ChangeActivity>PcategoryDesc}\" wrapping=\"false\"/>\n\t\t\t\t\t\t\t\t\t\t</t:template>\n\t\t\t\t\t\t\t\t\t</t:Column>\n\t\t\t\t\t\t\t\t\t<t:Column filterProperty=\"CategoryDesc\" visible=\"false\">\n\t\t\t\t\t\t\t\t\t\t<Label design=\"Bold\" text=\"Category\"/>\n\t\t\t\t\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t\t\t\t\t<Text text=\"{ChangeActivity>CategoryDesc}\" wrapping=\"false\"/>\n\t\t\t\t\t\t\t\t\t\t</t:template>\n\t\t\t\t\t\t\t\t\t</t:Column>\n\t\t\t\t\t\t\t\t</t:columns>\n\t\t\t\t\t\t\t</t:Table>\n\t\t\t\t\t\t</FlexBox>\n\t\t\t\t\t\t<FlexBox height=\"0.5rem\"/>\n\t\t\t\t\t\t<FlexBox alignContent=\"Center\" alignItems=\"Center\" justifyContent=\"Center\">\n\t\t\t\t\t\t\t<Title id=\"CSBtitle1\" text=\"{i18n>AC_TSECrossSubBrand} {ChangeActivity>/CSBSubbrand/Count/Selected}\" level=\"H4\" titleStyle=\"H4\"\n\t\t\t\t\t\t\t\tvisible=\"true\"/>\n\t\t\t\t\t\t</FlexBox>\n\t\t\t\t\t\t<FlexBox height=\"0.5rem\"/>\n\t\t\t\t\t\t<FlexBox id=\"ListofCSB\">\n\t\t\t\t\t\t\t<t:Table id=\"CSBTable_Selected\" selectionMode=\"MultiToggle\" rows=\"{path:'ChangeActivity>/CSBSubbrand/Selected'}\" enableCellFilter=\"true\"\n\t\t\t\t\t\t\t\tariaLabelledBy=\"title\" visibleRowCount=\"5\" selectionBehavior=\"Row\">\n\t\t\t\t\t\t\t\t<t:toolbar>\n\t\t\t\t\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t\t\t\t\t<SearchField id=\"CSBSearchavailable\" value=\"{ui>/globalFilter}\" search=\"onSearchCSB\" width=\"28rem\"/>\n\t\t\t\t\t\t\t\t\t\t<ToolbarSeparator/>\n\t\t\t\t\t\t\t\t\t\t<Button icon=\"sap-icon://decline\" tooltip=\"{i18n>AC_Clearselection}\" press=\"_clearAllCSBSelection\"/>\n\t\t\t\t\t\t\t\t\t\t<Button text=\"Delete Sub-Brand\" type=\"Reject\" icon=\"sap-icon://delete\" tooltip=\"Delete Selected Sub-Brand\" press=\"_deleteCSBBrands\"\n\t\t\t\t\t\t\t\t\t\t\twidth=\"10rem\"/>\n\t\t\t\t\t\t\t\t\t</Toolbar>\n\t\t\t\t\t\t\t\t</t:toolbar>\n\t\t\t\t\t\t\t\t<t:columns>\n\t\t\t\t\t\t\t\t\t<t:Column width=\"6rem\" visible=\"false\">\n\t\t\t\t\t\t\t\t\t\t<Label design=\"Bold\" text=\"Sub-Brand Key\"/>\n\t\t\t\t\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t\t\t\t\t<Text text=\"{ChangeActivity>SubbrandKey}\" wrapping=\"false\"/>\n\t\t\t\t\t\t\t\t\t\t</t:template>\n\t\t\t\t\t\t\t\t\t</t:Column>\n\t\t\t\t\t\t\t\t\t<t:Column filterProperty=\"SubbrandDesc\" sortOrder=\"Ascending\">\n\t\t\t\t\t\t\t\t\t\t<Label design=\"Bold\" text=\"Sub-Brand\"/>\n\t\t\t\t\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t\t\t\t\t<Text text=\"{ChangeActivity>SubbrandDesc}\" wrapping=\"false\"/>\n\t\t\t\t\t\t\t\t\t\t</t:template>\n\t\t\t\t\t\t\t\t\t</t:Column>\n\t\t\t\t\t\t\t\t</t:columns>\n\t\t\t\t\t\t\t</t:Table>\n\t\t\t\t\t\t</FlexBox>\n\t\t\t\t\t</FlexBox>\n\t\t\t\t</custom:content>\n\t\t\t</custom:CustomCrossSubBrand>\n\t\t</panels>\n\t</P13nDialog>\n</core:FragmentDefinition>",
		"colgate/asm/planning/base/Component.js": "(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\r\nnew Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\r\nj=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\r\n'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\r\n})(window,document,'script','dataLayer','GTM-N4HPB8V');\r\n\r\nsap.ui.define([\r\n\t\t\"sap/ui/core/UIComponent\",\r\n\t\t\"sap/ui/Device\",\r\n\t\t\"colgate/asm/planning/base/model/models\",\r\n\t\t\"colgate/asm/planning/base/controller/ListSelector\",\r\n\t\t\"colgate/asm/planning/base/controller/ErrorHandler\"\r\n\t], function (UIComponent, Device, models, ListSelector, ErrorHandler) {\r\n\t\t\"use strict\";\r\n\r\n\t\treturn UIComponent.extend(\"colgate.asm.planning.base.Component\", {\r\n\r\n\t\t\tmetadata : {\r\n\t\t\t\tmanifest : \"json\"\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * The component is initialized by UI5 automatically during the startup of the app and calls the init method once.\r\n\t\t\t * In this method, the FLP and device models are set and the router is initialized.\r\n\t\t\t * @public\r\n\t\t\t * @override\r\n\t\t\t */\r\n\t\t\tinit : function () {\r\n\t\t\t\tthis.oListSelector = new ListSelector();\r\n\t\t\t\tthis._oErrorHandler = new ErrorHandler(this);\r\n\r\n\t\t\t\t// set the device model\r\n\t\t\t\tthis.setModel(models.createDeviceModel(), \"device\");\r\n\t\t\t\t// set the FLP model\r\n\t\t\t\tthis.setModel(models.createFLPModel(), \"FLP\");\r\n\r\n\t\t\t\t// call the base component's init function and create the App view\r\n\t\t\t\tUIComponent.prototype.init.apply(this, arguments);\r\n\r\n\t\t\t\t// create the views based on the url/hash\r\n\t\t\t\tthis.getRouter().initialize();\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * The component is destroyed by UI5 automatically.\r\n\t\t\t * In this method, the ListSelector and ErrorHandler are destroyed.\r\n\t\t\t * @public\r\n\t\t\t * @override\r\n\t\t\t */\r\n\t\t\tdestroy : function () {\r\n\t\t\t\tthis.oListSelector.destroy();\r\n\t\t\t\tthis._oErrorHandler.destroy();\r\n\t\t\t\t// call the base component's destroy function\r\n\t\t\t\tUIComponent.prototype.destroy.apply(this, arguments);\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * This method can be called to determine whether the sapUiSizeCompact or sapUiSizeCozy\r\n\t\t\t * design mode class should be set, which influences the size appearance of some controls.\r\n\t\t\t * @public\r\n\t\t\t * @return {string} css class, either 'sapUiSizeCompact' or 'sapUiSizeCozy' - or an empty string if no css class should be set\r\n\t\t\t */\r\n\t\t\tgetContentDensityClass : function() {\r\n\t\t\t\tif (this._sContentDensityClass === undefined) {\r\n\t\t\t\t\t// check whether FLP has already set the content density class; do nothing in this case\r\n\t\t\t\t\tif (jQuery(document.body).hasClass(\"sapUiSizeCozy\") || jQuery(document.body).hasClass(\"sapUiSizeCompact\")) {\r\n\t\t\t\t\t\tthis._sContentDensityClass = \"\";\r\n\t\t\t\t\t} else if (!Device.support.touch) { // apply \"compact\" mode if touch is not supported\r\n\t\t\t\t\t\tthis._sContentDensityClass = \"sapUiSizeCompact\";\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// \"cozy\" in case of touch support; default for most sap.m controls, but needed for desktop-first controls like sap.ui.table.Table\r\n\t\t\t\t\t\tthis._sContentDensityClass = \"sapUiSizeCozy\";\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn this._sContentDensityClass;\r\n\t\t\t}\r\n\r\n\t\t});\r\n\r\n\t}\r\n);",
		"colgate/asm/planning/base/fragment/CostCenterSelection.fragment.xml": "<core:FragmentDefinition xmlns=\"sap.m\" xmlns:core=\"sap.ui.core\">\r\n\t<SelectDialog noDataText=\"{Text>CC_noDataText}\" title=\"{Text>CC_Title}\" liveChange=\"onChange\" search=\"onChange\" confirm=\"onConfirm\" close=\"onClose\"\r\n\t\titems=\"{path:'/Costcenter/Current'}\">\r\n\t\t<StandardListItem title=\"{Description}\"/>\r\n\t</SelectDialog>\r\n</core:FragmentDefinition>",
		"colgate/asm/planning/base/fragment/RetailerSelection.fragment.xml": "<core:FragmentDefinition xmlns=\"sap.m\" xmlns:core=\"sap.ui.core\">\r\n\t<SelectDialog noDataText=\"{Text>Retailer_noDataText}\" title=\"{Text>Retailer_Title}\" liveChange=\"onChange\" search=\"onChange\" confirm=\"onConfirm\" close=\"onClose\"\r\n\t\titems=\"{path:'/Retailer/Current'}\">\r\n\t\t<StandardListItem title=\"{Description}\"/>\r\n\t</SelectDialog>\r\n</core:FragmentDefinition>",
		"colgate/asm/planning/base/fragment/CrossSubBrand_add.fragment.xml": "<core:FragmentDefinition xmlns=\"sap.m\" xmlns:core=\"sap.ui.core\" xmlns:t=\"sap.ui.table\" xmlns:f=\"sap.ui.layout.form\"\n\txmlns:custom=\"colgate.asm.planning.base.util\">\n\t<P13nDialog id=\"CSBDialog\" showHeader=\"false\" showReset=\"false\" ok=\"onCSBok\" cancel=\"onCSBcancel\" resizable=\"false\" class=\"sapUiSizeCompact\"\n\t\tcontentWidth=\"45rem\">\n\t\t<panels>\n\t\t\t<custom:CustomCrossSubBrand type=\"custom1\">\n\t\t\t\t<custom:content id=\"CSBContent\">\n\t\t\t\t\t<FlexBox direction=\"Column\" justifyContent=\"Center\" alignContent=\"SpaceAround\">\n\t\t\t\t\t\t<FlexBox height=\"0.5rem\"/>\n\t\t\t\t\t\t<FlexBox alignContent=\"Center\" alignItems=\"Center\" justifyContent=\"Center\">\n\t\t\t\t\t\t\t<Title id=\"CSBtitle\" text=\"{i18n>AC_TAVCrossSubBrand} {AddActivity>/CSBSubbrand/Count/Current}\" level=\"H4\" titleStyle=\"H4\" visible=\"true\"/>\n\t\t\t\t\t\t</FlexBox>\n\t\t\t\t\t\t<FlexBox height=\"0.5rem\"/>\n\t\t\t\t\t\t<FlexBox direction=\"Row\" alignContent=\"center\" alignItems=\"center\" justifyContent=\"Center\">\n\t\t\t\t\t\t\t<FlexBox direction=\"Column\" width=\"15rem\" alignContent=\"Center\" alignItems=\"Start\">\n\t\t\t\t\t\t\t\t<items>\n\t\t\t\t\t\t\t\t\t<Title titleStyle=\"H6\" text=\"{i18n>AC_category}\"/>\n\t\t\t\t\t\t\t\t\t<Select forceSelection=\"false\" id=\"CSBCategoryKey\" selectedKey=\"{AddActivity>/CSBSubbrand/CSBCategoryKey}\"\n\t\t\t\t\t\t\t\t\t\titems=\"{path:'AddActivity>/CSBCategory/Current'}\" change=\"_onCSBFilterchange\" width=\"14rem\">\n\t\t\t\t\t\t\t\t\t\t<items>\n\t\t\t\t\t\t\t\t\t\t\t<core:Item key=\"{AddActivity>Key}\" text=\"{AddActivity>Description}\"/>\n\t\t\t\t\t\t\t\t\t\t</items>\n\t\t\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t\t\t\t<!--<ComboBox id=\"CSBCategoryKey\" selectedKey=\"{AddActivity>/CSBSubbrand/CSBCategoryKey}\" items=\"{path:'AddActivity>/CSBCategory/Current'}\"-->\n\t\t\t\t\t\t\t\t\t<!--\tchange=\"_onCSBFilterchange\" width=\"14rem\">-->\n\t\t\t\t\t\t\t\t\t<!--\t<items>-->\n\t\t\t\t\t\t\t\t\t<!--\t\t<core:Item key=\"{AddActivity>Key}\" text=\"{AddActivity>Description}\"/>-->\n\t\t\t\t\t\t\t\t\t<!--\t</items>-->\n\t\t\t\t\t\t\t\t\t<!--</ComboBox>-->\n\t\t\t\t\t\t\t\t</items>\n\t\t\t\t\t\t\t</FlexBox>\n\t\t\t\t\t\t\t<FlexBox direction=\"Column\" width=\"15rem\" alignContent=\"SpaceBetween\" alignItems=\"Start\">\n\t\t\t\t\t\t\t\t<items>\n\t\t\t\t\t\t\t\t\t<Title titleStyle=\"H6\" text=\"{i18n>AC_pscategory}\"/>\n\t\t\t\t\t\t\t\t\t<Select forceSelection=\"false\" id=\"CSBSubcategoryKey\" selectedKey=\"{AddActivity>/CSBSubbrand/CSBSubcategoryKey}\"\n\t\t\t\t\t\t\t\t\t\titems=\"{path:'AddActivity>/CSBSubcategory/Current'}\" change=\"_onCSBFilterchange\" width=\"14rem\">\n\t\t\t\t\t\t\t\t\t\t<items>\n\t\t\t\t\t\t\t\t\t\t\t<core:Item key=\"{AddActivity>Key}\" text=\"{AddActivity>Description}\"/>\n\t\t\t\t\t\t\t\t\t\t</items>\n\t\t\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t\t\t\t<!--<ComboBox id=\"CSBSubcategoryKey\" selectedKey=\"{AddActivity>/CSBSubbrand/CSBSubcategoryKey}\"-->\n\t\t\t\t\t\t\t\t\t<!--\titems=\"{path:'AddActivity>/CSBSubcategory/Current'}\" change=\"_onCSBFilterchange\" width=\"14rem\">-->\n\t\t\t\t\t\t\t\t\t<!--\t<items>-->\n\t\t\t\t\t\t\t\t\t<!--\t\t<core:Item key=\"{AddActivity>Key}\" text=\"{AddActivity>Description}\"/>-->\n\t\t\t\t\t\t\t\t\t<!--\t</items>-->\n\t\t\t\t\t\t\t\t\t<!--</ComboBox>-->\n\t\t\t\t\t\t\t\t</items>\n\t\t\t\t\t\t\t</FlexBox>\n\t\t\t\t\t\t\t<FlexBox direction=\"Column\" width=\"14rem\" alignContent=\"SpaceBetween\" alignItems=\"Start\">\n\t\t\t\t\t\t\t\t<Title titleStyle=\"H6\" text=\"{i18n>AC_brand}\"/>\n\t\t\t\t\t\t\t\t<Select forceSelection=\"false\" id=\"CSBBrandKey\" selectedKey=\"{AddActivity>/CSBSubbrand/CSBBrandKey}\"\n\t\t\t\t\t\t\t\t\titems=\"{path:'AddActivity>/CSBBrand/Current'}\" change=\"_onCSBFilterchange\" width=\"14rem\">\n\t\t\t\t\t\t\t\t\t<items>\n\t\t\t\t\t\t\t\t\t\t<core:Item key=\"{AddActivity>Key}\" text=\"{AddActivity>Description}\"/>\n\t\t\t\t\t\t\t\t\t</items>\n\t\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t\t\t<!--<ComboBox id=\"CSBBrandKey\" selectedKey=\"{AddActivity>/CSBSubbrand/CSBBrandKey}\" items=\"{path:'AddActivity>/CSBBrand/Current'}\"-->\n\t\t\t\t\t\t\t\t<!--\tchange=\"_onCSBFilterchange\" width=\"14rem\">-->\n\t\t\t\t\t\t\t\t<!--\t<items>-->\n\t\t\t\t\t\t\t\t<!--\t\t<core:Item key=\"{AddActivity>Key}\" text=\"{AddActivity>Description}\"/>-->\n\t\t\t\t\t\t\t\t<!--\t</items>-->\n\t\t\t\t\t\t\t\t<!--</ComboBox>-->\n\t\t\t\t\t\t\t</FlexBox>\n\t\t\t\t\t\t</FlexBox>\n\t\t\t\t\t\t<FlexBox id=\"FCrossSubBrandTable\">\n\t\t\t\t\t\t\t<t:Table id=\"CSBTable_Available\" selectionMode=\"MultiToggle\" rows=\"{path:'AddActivity>/CSBSubbrand/Current'}\" enableCellFilter=\"true\"\n\t\t\t\t\t\t\t\tariaLabelledBy=\"title\" visibleRowCount=\"5\" selectionBehavior=\"Row\">\n\t\t\t\t\t\t\t\t<t:toolbar>\n\t\t\t\t\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t\t\t\t\t<SearchField id=\"CSBSearch\" value=\"{ui>/globalFilter}\" search=\"onSearchCSB\" width=\"28rem\"/>\n\t\t\t\t\t\t\t\t\t\t<ToolbarSeparator/>\n\t\t\t\t\t\t\t\t\t\t<Button icon=\"sap-icon://decline\" tooltip=\"{i18n>AC_Clearselection}\" press=\"_clearAllCSBSelection\"/>\n\t\t\t\t\t\t\t\t\t\t<Button text=\"Add Sub-Brand\" type=\"Accept\" icon=\"sap-icon://add\" tooltip=\"Add Selected Sub-Brand\" press=\"_addCSBbrands\" width=\"10rem\"/>\n\t\t\t\t\t\t\t\t\t</Toolbar>\n\t\t\t\t\t\t\t\t</t:toolbar>\n\t\t\t\t\t\t\t\t<t:columns>\n\t\t\t\t\t\t\t\t\t<t:Column width=\"6rem\" visible=\"false\">\n\t\t\t\t\t\t\t\t\t\t<Label design=\"Bold\" text=\"Sub-Brand Key\"/>\n\t\t\t\t\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t\t\t\t\t<Text text=\"{AddActivity>SubbrandKey}\" wrapping=\"false\"/>\n\t\t\t\t\t\t\t\t\t\t</t:template>\n\t\t\t\t\t\t\t\t\t</t:Column>\n\t\t\t\t\t\t\t\t\t<t:Column filterProperty=\"SubbrandDesc\">\n\t\t\t\t\t\t\t\t\t\t<Label design=\"Bold\" text=\"Sub-Brand\"/>\n\t\t\t\t\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t\t\t\t\t<Text text=\"{AddActivity>SubbrandDesc}\" wrapping=\"false\"/>\n\t\t\t\t\t\t\t\t\t\t</t:template>\n\t\t\t\t\t\t\t\t\t</t:Column>\n\t\t\t\t\t\t\t\t\t<t:Column filterProperty=\"BrandDesc\" visible=\"false\">\n\t\t\t\t\t\t\t\t\t\t<Label design=\"Bold\" text=\"Brand\"/>\n\t\t\t\t\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t\t\t\t\t<Text text=\"{AddActivity>BrandDesc}\" wrapping=\"false\"/>\n\t\t\t\t\t\t\t\t\t\t</t:template>\n\t\t\t\t\t\t\t\t\t</t:Column>\n\t\t\t\t\t\t\t\t\t<t:Column filterProperty=\"PcategoryDesc\" visible=\"false\">\n\t\t\t\t\t\t\t\t\t\t<Label design=\"Bold\" text=\"Sub-Category\"/>\n\t\t\t\t\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t\t\t\t\t<Text text=\"{AddActivity>PcategoryDesc}\" wrapping=\"false\"/>\n\t\t\t\t\t\t\t\t\t\t</t:template>\n\t\t\t\t\t\t\t\t\t</t:Column>\n\t\t\t\t\t\t\t\t\t<t:Column filterProperty=\"CategoryDesc\" visible=\"false\">\n\t\t\t\t\t\t\t\t\t\t<Label design=\"Bold\" text=\"Category\"/>\n\t\t\t\t\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t\t\t\t\t<Text text=\"{AddActivity>CategoryDesc}\" wrapping=\"false\"/>\n\t\t\t\t\t\t\t\t\t\t</t:template>\n\t\t\t\t\t\t\t\t\t</t:Column>\n\t\t\t\t\t\t\t\t</t:columns>\n\t\t\t\t\t\t\t</t:Table>\n\t\t\t\t\t\t</FlexBox>\n\t\t\t\t\t\t<FlexBox height=\"0.5rem\"/>\n\t\t\t\t\t\t<FlexBox alignContent=\"Center\" alignItems=\"Center\" justifyContent=\"Center\">\n\t\t\t\t\t\t\t<Title id=\"CSBtitle1\" text=\"{i18n>AC_TSECrossSubBrand} {AddActivity>/CSBSubbrand/Count/Selected}\" level=\"H4\" titleStyle=\"H4\" visible=\"true\"/>\n\t\t\t\t\t\t</FlexBox>\n\t\t\t\t\t\t<FlexBox height=\"0.5rem\"/>\n\t\t\t\t\t\t<FlexBox id=\"ListofCSB\">\n\t\t\t\t\t\t\t<t:Table id=\"CSBTable_Selected\" selectionMode=\"MultiToggle\" rows=\"{path:'AddActivity>/CSBSubbrand/Selected'}\" enableCellFilter=\"true\"\n\t\t\t\t\t\t\t\tariaLabelledBy=\"title\" visibleRowCount=\"5\" selectionBehavior=\"Row\">\n\t\t\t\t\t\t\t\t<t:toolbar>\n\t\t\t\t\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t\t\t\t\t<SearchField id=\"CSBSearchavailable\" value=\"{ui>/globalFilter}\" search=\"onSearchCSB\" width=\"28rem\"/>\n\t\t\t\t\t\t\t\t\t\t<ToolbarSeparator/>\n\t\t\t\t\t\t\t\t\t\t<Button icon=\"sap-icon://decline\" tooltip=\"{i18n>AC_Clearselection}\" press=\"_clearAllCSBSelection\"/>\n\t\t\t\t\t\t\t\t\t\t<Button text=\"Delete Sub-Brand\" type=\"Reject\" icon=\"sap-icon://delete\" tooltip=\"Delete Selected Sub-Brand\" press=\"_deleteCSBBrands\"\n\t\t\t\t\t\t\t\t\t\t\twidth=\"10rem\"/>\n\t\t\t\t\t\t\t\t\t</Toolbar>\n\t\t\t\t\t\t\t\t</t:toolbar>\n\t\t\t\t\t\t\t\t<t:columns>\n\t\t\t\t\t\t\t\t\t<t:Column width=\"6rem\" visible=\"false\">\n\t\t\t\t\t\t\t\t\t\t<Label design=\"Bold\" text=\"Sub-Brand Key\"/>\n\t\t\t\t\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t\t\t\t\t<Text text=\"{AddActivity>SubbrandKey}\" wrapping=\"false\"/>\n\t\t\t\t\t\t\t\t\t\t</t:template>\n\t\t\t\t\t\t\t\t\t</t:Column>\n\t\t\t\t\t\t\t\t\t<t:Column filterProperty=\"SubbrandDesc\">\n\t\t\t\t\t\t\t\t\t\t<Label design=\"Bold\" text=\"Sub-Brand\"/>\n\t\t\t\t\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t\t\t\t\t<Text text=\"{AddActivity>SubbrandDesc}\" wrapping=\"false\"/>\n\t\t\t\t\t\t\t\t\t\t</t:template>\n\t\t\t\t\t\t\t\t\t</t:Column>\n\t\t\t\t\t\t\t\t</t:columns>\n\t\t\t\t\t\t\t</t:Table>\n\t\t\t\t\t\t</FlexBox>\n\t\t\t\t\t</FlexBox>\n\t\t\t\t</custom:content>\n\t\t\t</custom:CustomCrossSubBrand>\n\t\t</panels>\n\t</P13nDialog>\n</core:FragmentDefinition>",
		"colgate/asm/planning/base/fragment/DisplayActivity.fragment.xml": "<core:FragmentDefinition xmlns:core=\"sap.ui.core\" xmlns:f=\"sap.ui.layout.form\" xmlns:l=\"sap.ui.layout\" xmlns=\"sap.m\"\n\txmlns:uc=\"sap.ui.unified.calendar\" xmlns:t=\"sap.ui.table\">\n\t<VBox class=\"sapUiSmallMargin\">\n\t\t<f:Form class=\"editableForm\" editable=\"true\" id=\"DDisplayActivityForm\" ariaLabelledBy=\"Title1\">\n\t\t\t<f:toolbar>\n\t\t\t\t<Toolbar id=\"DToolbar\">\n\t\t\t\t\t<Title id=\"DTitle1\" titleStyle=\"H4\" level=\"H4\" text=\"{i18n>itemDisplay}{ChangeActivity>/Input/Name}\"/>\n\t\t\t\t\t<ToolbarSpacer/>\n\t\t\t\t\t<!--Begin of Changes - Khrystyne Williams - Sept-->\n\t\t\t\t\t<!--<Button icon=\"sap-icon://sys-cancel-2\" press=\"onCancel\"/>-->\n\t\t\t\t\t<Button text=\"{i18n>AC_B_cancel}\" press=\"onCancel\" type=\"Reject\"/>\n\t\t\t\t\t<!--End of Changes - Khrystyne Williams - Sept-->\n\t\t\t\t</Toolbar>\n\t\t\t</f:toolbar>\n\t\t\t<f:layout>\n\t\t\t\t<f:ResponsiveGridLayout/>\n\t\t\t</f:layout>\n\t\t\t<f:formContainers>\n\t\t\t\t<f:FormContainer ariaLabelledBy=\"Title2\">\n\t\t\t\t\t<!--Begin of Commenting - Khrystyne Williams - Sept-->\n\t\t\t\t\t<!--<f:toolbar>-->\n\t\t\t\t\t<!--\t<Toolbar>-->\n\t\t\t\t\t<!--\t\t<Title id=\"DTitle2\" text=\"{i18n>AC_information}\" level=\"H5\" titleStyle=\"H5\"/>-->\n\t\t\t\t\t<!--\t\t<ToolbarSpacer/>-->\n\t\t\t\t\t<!--\t</Toolbar>-->\n\t\t\t\t\t<!--</f:toolbar>-->\n\t\t\t\t\t<!--End of Commenting - Khrystyne Williams - Sept-->\n\t\t\t\t\t<f:formElements>\n\t\t\t\t\t\t<f:FormElement id=\"DFEName\" label=\"{i18n>AC_name}\" visible=\"{ChangeActivity>/Visible/Name}\">\n\t\t\t\t\t\t\t<f:fields>\n\t\t\t\t\t\t\t\t<Input id=\"DName\" maxLength=\"40\" value=\"{ChangeActivity>/Input/Name}\" visible=\"{ChangeActivity>/Visible/Name}\" enabled=\"true\"\n\t\t\t\t\t\t\t\t\teditable=\"false\"/>\n\t\t\t\t\t\t\t</f:fields>\n\t\t\t\t\t\t</f:FormElement>\n\t\t\t\t\t\t<!--Begin of Commenting - Khrystyne Williams - Sept-->\n\t\t\t\t\t\t<!--<f:FormElement label=\"{i18n>AC_type}\">-->\n\t\t\t\t\t\t<!--\t<f:fields>-->\n\t\t\t\t\t\t<!--\t\t<Input id=\"DType\" value=\"{ChangeActivity>/Input/TypeDescription}\" enabled=\"true\" editable=\"false\"/>-->\n\t\t\t\t\t\t<!--\t</f:fields>-->\n\t\t\t\t\t\t<!--</f:FormElement>-->\n\t\t\t\t\t\t<!--End of Commenting - Khrystyne Williams - Sept-->\n\t\t\t\t\t\t<f:FormElement id=\"DFEProjectType\" label=\"{i18n>AC_projectType}\" visible=\"{ChangeActivity>/Visible/ProjectType}\">\n\t\t\t\t\t\t\t<f:fields>\n\t\t\t\t\t\t\t\t<ComboBox id=\"DProjectType\" items=\"{path:'ChangeActivity>/ProjectType/Current'}\" selectedKey=\"{ChangeActivity>/Input/ProjectType}\"\n\t\t\t\t\t\t\t\t\tvisible=\"{ChangeActivity>/Visible/ProjectType}\" enabled=\"true\" editable=\"false\">\n\t\t\t\t\t\t\t\t\t<items>\n\t\t\t\t\t\t\t\t\t\t<core:Item key=\"{ChangeActivity>Key}\" text=\"{ChangeActivity>Description}\"/>\n\t\t\t\t\t\t\t\t\t</items>\n\t\t\t\t\t\t\t\t</ComboBox>\n\t\t\t\t\t\t\t</f:fields>\n\t\t\t\t\t\t</f:FormElement>\n\t\t\t\t\t\t<f:FormElement id=\"DFEActivityType\" label=\"{i18n>AC_activityType}\" visible=\"{ChangeActivity>/Visible/ActivityType}\">\n\t\t\t\t\t\t\t<f:fields>\n\t\t\t\t\t\t\t\t<ComboBox id=\"DActivityType\" items=\"{path:'ChangeActivity>/ActivityType/Current'}\" selectedKey=\"{ChangeActivity>/Input/ActivityType}\"\n\t\t\t\t\t\t\t\t\tvisible=\"{ChangeActivity>/Visible/ActivityType}\" enabled=\"true\" editable=\"false\">\n\t\t\t\t\t\t\t\t\t<items>\n\t\t\t\t\t\t\t\t\t\t<core:Item key=\"{ChangeActivity>Key}\" text=\"{ChangeActivity>Description}\"/>\n\t\t\t\t\t\t\t\t\t</items>\n\t\t\t\t\t\t\t\t</ComboBox>\n\t\t\t\t\t\t\t</f:fields>\n\t\t\t\t\t\t</f:FormElement>\n\t\t\t\t\t\t<f:FormElement id=\"DFESubactivityType\" label=\"{i18n>AC_subactivityType}\" visible=\"{ChangeActivity>/Visible/SubactivityType}\">\n\t\t\t\t\t\t\t<f:fields>\n\t\t\t\t\t\t\t\t<ComboBox id=\"DSubactivityType\" items=\"{path:'ChangeActivity>/SubactivityType/Current'}\"\n\t\t\t\t\t\t\t\t\tselectedKey=\"{ChangeActivity>/Input/SubactivityType}\" visible=\"{ChangeActivity>/Visible/SubactivityType}\" enabled=\"true\" editable=\"false\">\n\t\t\t\t\t\t\t\t\t<items>\n\t\t\t\t\t\t\t\t\t\t<core:Item key=\"{ChangeActivity>Key}\" text=\"{ChangeActivity>Description}\"/>\n\t\t\t\t\t\t\t\t\t</items>\n\t\t\t\t\t\t\t\t</ComboBox>\n\t\t\t\t\t\t\t</f:fields>\n\t\t\t\t\t\t</f:FormElement>\n\t\t\t\t\t\t<f:FormElement id=\"DFEStatus\" label=\"{i18n>AC_status}\" visible=\"{ChangeActivity>/Visible/Status}\">\n\t\t\t\t\t\t\t<f:fields>\n\t\t\t\t\t\t\t\t<ComboBox id=\"DStatus\" items=\"{path:'ChangeActivity>/Status'}\" selectedKey=\"{ChangeActivity>/Input/Status}\"\n\t\t\t\t\t\t\t\t\tvisible=\"{ChangeActivity>/Visible/Status}\" enabled=\"true\" editable=\"false\">\n\t\t\t\t\t\t\t\t\t<items>\n\t\t\t\t\t\t\t\t\t\t<core:Item key=\"{ChangeActivity>Status}\" text=\"{ChangeActivity>Description}\"/>\n\t\t\t\t\t\t\t\t\t</items>\n\t\t\t\t\t\t\t\t</ComboBox>\n\t\t\t\t\t\t\t</f:fields>\n\t\t\t\t\t\t</f:FormElement>\n\t\t\t\t\t\t<f:FormElement id=\"DFEPriorityKey\" label=\"{i18n>AC_priority}\" visible=\"{ChangeActivity>/Visible/Priority}\">\n\t\t\t\t\t\t\t<f:fields>\n\t\t\t\t\t\t\t\t<ComboBox id=\"DPriorityKey\" items=\"{path:'ChangeActivity>/Priority/Current'}\" selectedKey=\"{ChangeActivity>/Input/PriorityKey}\" width=\"100%\"\n\t\t\t\t\t\t\t\t\tvisible=\"{ChangeActivity>/Visible/Priority}\" enabled=\"true\" editable=\"false\">\n\t\t\t\t\t\t\t\t\t<items>\n\t\t\t\t\t\t\t\t\t\t<core:Item key=\"{ChangeActivity>Key}\" text=\"{ChangeActivity>Description}\"/>\n\t\t\t\t\t\t\t\t\t</items>\n\t\t\t\t\t\t\t\t</ComboBox>\n\t\t\t\t\t\t\t</f:fields>\n\t\t\t\t\t\t</f:FormElement>\n\t\t\t\t\t\t<f:FormElement id=\"DFEFunction\" label=\"{i18n>AC_function}\" visible=\"{ChangeActivity>/Visible/Function}\">\n\t\t\t\t\t\t\t<f:fields>\n\t\t\t\t\t\t\t\t<ComboBox id=\"DFunction\" items=\"{path:'Category>/VHFunctions'}\" selectedKey=\"{ChangeActivity>/Input/Function}\" width=\"100%\"\n\t\t\t\t\t\t\t\t\tvisible=\"{ChangeActivity>/Visible/Function}\" enabled=\"true\" editable=\"false\">\n\t\t\t\t\t\t\t\t\t<items>\n\t\t\t\t\t\t\t\t\t\t<core:Item key=\"{Category>Key}\" text=\"{Category>Description}\"/>\n\t\t\t\t\t\t\t\t\t</items>\n\t\t\t\t\t\t\t\t</ComboBox>\n\t\t\t\t\t\t\t</f:fields>\n\t\t\t\t\t\t</f:FormElement>\n\t\t\t\t\t\t<f:FormElement id=\"DFEChannel\" label=\"{i18n>AC_channel}\" visible=\"{ChangeActivity>/Visible/Channel}\">\n\t\t\t\t\t\t\t<f:fields>\n\t\t\t\t\t\t\t\t<ComboBox id=\"DChannel\" items=\"{path:'Category>/VHChannels'}\" selectedKey=\"{ChangeActivity>/Input/Channel}\" width=\"100%\"\n\t\t\t\t\t\t\t\t\tvisible=\"{ChangeActivity>/Visible/Channel}\" enabled=\"true\" editable=\"false\">\n\t\t\t\t\t\t\t\t\t<items>\n\t\t\t\t\t\t\t\t\t\t<core:Item key=\"{Category>Key}\" text=\"{Category>Description}\"/>\n\t\t\t\t\t\t\t\t\t</items>\n\t\t\t\t\t\t\t\t</ComboBox>\n\t\t\t\t\t\t\t</f:fields>\n\t\t\t\t\t\t</f:FormElement>\n\t\t\t\t\t\t<f:FormElement id=\"DFERetailer\" label=\"{i18n>AC_retailer}\" visible=\"{ChangeActivity>/Visible/Retailer}\">\n\t\t\t\t\t\t\t<f:fields>\n\t\t\t\t\t\t\t\t<ComboBox id=\"DRetailer\" items=\"{path:'ChangeActivity>/Retailer/Current'}\" selectedKey=\"{ChangeActivity>/Input/Retailer}\" width=\"100%\"\n\t\t\t\t\t\t\t\t\tvisible=\"{ChangeActivity>/Visible/Retailer}\" enabled=\"true\" editable=\"false\">\n\t\t\t\t\t\t\t\t\t<items>\n\t\t\t\t\t\t\t\t\t\t<core:Item key=\"{ChangeActivity>Key}\" text=\"{ChangeActivity>Description}\"/>\n\t\t\t\t\t\t\t\t\t</items>\n\t\t\t\t\t\t\t\t</ComboBox>\n\t\t\t\t\t\t\t</f:fields>\n\t\t\t\t\t\t</f:FormElement>\n\t\t\t\t\t\t<f:FormElement id=\"DFEPlanningYear\" label=\"{i18n>AC_planyear}\">\n\t\t\t\t\t\t\t<f:fields>\n\t\t\t\t\t\t\t\t<Input id=\"DPlanningYear\" value=\"{ChangeActivity>/Input/PlanningYear}\" enabled=\"true\" editable=\"false\"/>\n\t\t\t\t\t\t\t</f:fields>\n\t\t\t\t\t\t</f:FormElement>\n\t\t\t\t\t\t<f:FormElement id=\"DFEStartDt\" label=\"{i18n>AC_startDt}\">\n\t\t\t\t\t\t\t<f:fields>\n\t\t\t\t\t\t\t\t<FlexBox id=\"DFStartDt\">\n\t\t\t\t\t\t\t\t\t<Text text=\"{ path:'ChangeActivity>/Input/StartDt', formatter: '.formatter.formatDate'}\"/>\n\t\t\t\t\t\t\t\t</FlexBox>\n\t\t\t\t\t\t\t</f:fields>\n\t\t\t\t\t\t</f:FormElement>\n\t\t\t\t\t\t<f:FormElement id=\"DFEEndDt\" label=\"{i18n>AC_endDt}\">\n\t\t\t\t\t\t\t<f:fields>\n\t\t\t\t\t\t\t\t<FlexBox id=\"DFEndDt\">\n\t\t\t\t\t\t\t\t\t<Text text=\"{ path:'ChangeActivity>/Input/EndDt', formatter: '.formatter.formatDate'}\"/>\n\t\t\t\t\t\t\t\t</FlexBox>\n\t\t\t\t\t\t\t</f:fields>\n\t\t\t\t\t\t</f:FormElement>\n\t\t\t\t\t</f:formElements>\n\t\t\t\t\t<!--INSERT - INBHD02-->\n\t\t\t\t\t<f:formElements>\n\t\t\t\t\t\t<f:FormElement>\n\t\t\t\t\t\t\t<f:fields>\n\t\t\t\t\t\t\t\t<Title id=\"DTitle3\" text=\"{i18n>AC_aInformation}\" level=\"H5\" titleStyle=\"H5\"/>\n\t\t\t\t\t\t\t\t<ToolbarSpacer/>\n\t\t\t\t\t\t\t</f:fields>\n\t\t\t\t\t\t</f:FormElement>\n\t\t\t\t\t\t<f:FormElement id=\"DFEDemographics\" label=\"{i18n>AC_demographics}\" visible=\"{ChangeActivity>/Visible/Demographics}\">\n\t\t\t\t\t\t\t<f:fields>\n\t\t\t\t\t\t\t\t<ComboBox id=\"DDemographics\" items=\"{path:'Category>/VHDemographics'}\" selectedKey=\"{ChangeActivity>/Input/Demographics}\" width=\"100%\"\n\t\t\t\t\t\t\t\t\tvisible=\"{ChangeActivity>/Visible/Demographics}\" enabled=\"true\" editable=\"false\">\n\t\t\t\t\t\t\t\t\t<items>\n\t\t\t\t\t\t\t\t\t\t<core:Item key=\"{Category>Key}\" text=\"{Category>Description}\"/>\n\t\t\t\t\t\t\t\t\t</items>\n\t\t\t\t\t\t\t\t</ComboBox>\n\t\t\t\t\t\t\t</f:fields>\n\t\t\t\t\t\t</f:FormElement>\n\t\t\t\t\t\t<f:FormElement label=\"{i18n>AC_longText}\">\n\t\t\t\t\t\t\t<f:fields>\n\t\t\t\t\t\t\t\t<TextArea maxLength=\"255\" rows=\"3\" value=\"{ChangeActivity>/Input/LongText}\" editable=\"false\" enabled=\"true\"/>\n\t\t\t\t\t\t\t</f:fields>\n\t\t\t\t\t\t</f:FormElement>\n\t\t\t\t\t\t<f:FormElement label=\"{i18n>AC_agency}\" visible=\"{ChangeActivity>/Visible/Agency}\">\n\t\t\t\t\t\t\t<f:fields>\n\t\t\t\t\t\t\t\t<ComboBox id=\"DAgency\" items=\"{path:'ChangeActivity>/Agency/Current'}\" selectedKey=\"{ChangeActivity>/Input/Agency}\" width=\"100%\"\n\t\t\t\t\t\t\t\t\tvisible=\"{ChangeActivity>/Visible/Agency}\" enabled=\"true\" editable=\"false\">\n\t\t\t\t\t\t\t\t\t<items>\n\t\t\t\t\t\t\t\t\t\t<core:Item key=\"{ChangeActivity>Key}\" text=\"{ChangeActivity>Description}\"/>\n\t\t\t\t\t\t\t\t\t</items>\n\t\t\t\t\t\t\t\t</ComboBox>\n\t\t\t\t\t\t\t</f:fields>\n\t\t\t\t\t\t</f:FormElement>\n\t\t\t\t\t\t<f:FormElement label=\"{i18n>AC_glAccount}\" visible=\"{ChangeActivity>/Visible/GlAccount}\">\n\t\t\t\t\t\t\t<f:fields>\n\t\t\t\t\t\t\t\t<Input id=\"DGlAccount\" editable=\"false\" visible=\"{ChangeActivity>/Visible/GlAccount}\" enabled=\"true\"\n\t\t\t\t\t\t\t\t\tvalue=\"{ChangeActivity>/Input/GlAccount}\"/>\n\t\t\t\t\t\t\t</f:fields>\n\t\t\t\t\t\t</f:FormElement>\n\t\t\t\t\t\t<f:FormElement label=\"{i18n>AC_po}\" visible=\"{ChangeActivity>/Visible/PO}\">\n\t\t\t\t\t\t\t<f:fields>\n\t\t\t\t\t\t\t\t<Input id=\"DPO\" value=\"{ChangeActivity>/Display/PO}\" visible=\"{ChangeActivity>/Visible/PO}\" enabled=\"true\" editable=\"false\"/>\n\t\t\t\t\t\t\t</f:fields>\n\t\t\t\t\t\t</f:FormElement>\n\t\t\t\t\t</f:formElements>\n\t\t\t\t\t<!--INSERT + INBHD02-->\n\t\t\t\t</f:FormContainer>\n\t\t\t\t<f:FormContainer ariaLabelledBy=\"Title3\">\n\t\t\t\t\t<f:FormElement>\n\t\t\t\t\t\t<f:fields>\n\t\t\t\t\t\t\t<Title id=\"DTitleGeo\" text=\"{i18n>AC_G_geography}\" level=\"H5\" titleStyle=\"H5\"/>\n\t\t\t\t\t\t</f:fields>\n\t\t\t\t\t</f:FormElement>\n\t\t\t\t\t<f:FormElement id=\"DFEDivision\" label=\"{i18n>AC_division}\" visible=\"{ChangeActivity>/Visible/Division}\">\n\t\t\t\t\t\t<f:fields>\n\t\t\t\t\t\t\t<ComboBox id=\"DDivisionKey\" items=\"{path:'Division>/VHDivision'}\" selectedKey=\"{ChangeActivity>/Input/DivisionKey}\"\n\t\t\t\t\t\t\t\tselectionChange=\"onGeoSelectionChange\" visible=\"{ChangeActivity>/Visible/Division}\" enabled=\"true\" editable=\"false\">\n\t\t\t\t\t\t\t\t<items>\n\t\t\t\t\t\t\t\t\t<core:Item key=\"{Division>GeoKey}\" text=\"{Division>Desc}\"/>\n\t\t\t\t\t\t\t\t</items>\n\t\t\t\t\t\t\t</ComboBox>\n\t\t\t\t\t\t</f:fields>\n\t\t\t\t\t</f:FormElement>\n\t\t\t\t\t<f:FormElement id=\"DFEHub\" label=\"{i18n>AC_hub}\" visible=\"{ChangeActivity>/Visible/Hub}\">\n\t\t\t\t\t\t<f:fields>\n\t\t\t\t\t\t\t<ComboBox id=\"DHubKey\" items=\"{path:'ChangeActivity>/Hub/Current'}\" selectedKey=\"{ChangeActivity>/Input/HubKey}\"\n\t\t\t\t\t\t\t\tselectionChange=\"onGeoSelectionChange\" visible=\"{ChangeActivity>/Visible/Hub}\" enabled=\"true\" editable=\"false\">\n\t\t\t\t\t\t\t\t<items>\n\t\t\t\t\t\t\t\t\t<core:Item key=\"{ChangeActivity>GeoKey}\" text=\"{ChangeActivity>Desc}\"/>\n\t\t\t\t\t\t\t\t</items>\n\t\t\t\t\t\t\t</ComboBox>\n\t\t\t\t\t\t</f:fields>\n\t\t\t\t\t</f:FormElement>\n\t\t\t\t\t<f:FormElement id=\"DFESub\" label=\"{i18n>AC_subsidiary}\" visible=\"{ChangeActivity>/Visible/Sub}\">\n\t\t\t\t\t\t<f:fields>\n\t\t\t\t\t\t\t<ComboBox id=\"DSubKey\" items=\"{path:'ChangeActivity>/Sub/Current'}\" selectedKey=\"{ChangeActivity>/Input/SubKey}\"\n\t\t\t\t\t\t\t\tselectionChange=\"onGeoSelectionChange\" visible=\"{ChangeActivity>/Visible/Sub}\" enabled=\"true\" editable=\"false\">\n\t\t\t\t\t\t\t\t<items>\n\t\t\t\t\t\t\t\t\t<core:Item key=\"{ChangeActivity>GeoKey}\" text=\"{ChangeActivity>Desc}\"/>\n\t\t\t\t\t\t\t\t</items>\n\t\t\t\t\t\t\t</ComboBox>\n\t\t\t\t\t\t</f:fields>\n\t\t\t\t\t</f:FormElement>\n\t\t\t\t\t<f:FormElement>\n\t\t\t\t\t\t<f:fields>\n\t\t\t\t\t\t\t<Title id=\"DTitlePH\" text=\"{i18n>AC_G_prodhier}\" level=\"H5\" titleStyle=\"H5\"/>\n\t\t\t\t\t\t</f:fields>\n\t\t\t\t\t</f:FormElement>\n\t\t\t\t\t<f:FormElement id=\"DFECategory\" label=\"{i18n>AC_category}\" visible=\"{ChangeActivity>/Visible/Category}\">\n\t\t\t\t\t\t<f:fields>\n\t\t\t\t\t\t\t<ComboBox id=\"DCategoryKey\" items=\"{path:'Category>/VHCategories'}\" selectedKey=\"{ChangeActivity>/Input/CategoryKey}\"\n\t\t\t\t\t\t\t\tselectionChange=\"onSelectionChange\" visible=\"{ChangeActivity>/Visible/Category}\" enabled=\"true\" editable=\"false\">\n\t\t\t\t\t\t\t\t<items>\n\t\t\t\t\t\t\t\t\t<core:Item key=\"{Category>Key}\" text=\"{Category>Description}\"/>\n\t\t\t\t\t\t\t\t</items>\n\t\t\t\t\t\t\t</ComboBox>\n\t\t\t\t\t\t</f:fields>\n\t\t\t\t\t</f:FormElement>\n\t\t\t\t\t<f:FormElement id=\"DFESubcategory\" label=\"{i18n>AC_pscategory}\" visible=\"{ChangeActivity>/Visible/Subcategory}\">\n\t\t\t\t\t\t<f:fields>\n\t\t\t\t\t\t\t<ComboBox id=\"DSubcategoryKey\" items=\"{path:'ChangeActivity>/Subcategory/Current'}\" selectedKey=\"{ChangeActivity>/Input/SubcategoryKey}\"\n\t\t\t\t\t\t\t\tselectionChange=\"onSelectionChange\" visible=\"{ChangeActivity>/Visible/Subcategory}\" enabled=\"true\" editable=\"false\">\n\t\t\t\t\t\t\t\t<items>\n\t\t\t\t\t\t\t\t\t<core:Item key=\"{ChangeActivity>Key}\" text=\"{ChangeActivity>Description}\"/>\n\t\t\t\t\t\t\t\t</items>\n\t\t\t\t\t\t\t</ComboBox>\n\t\t\t\t\t\t</f:fields>\n\t\t\t\t\t</f:FormElement>\n\t\t\t\t\t<f:FormElement id=\"DFEBrand\" label=\"{i18n>AC_brand}\" visible=\"{ChangeActivity>/Visible/Brand}\">\n\t\t\t\t\t\t<f:fields>\n\t\t\t\t\t\t\t<ComboBox id=\"DBrandKey\" items=\"{path:'ChangeActivity>/Brand/Current'}\" selectedKey=\"{ChangeActivity>/Input/BrandKey}\"\n\t\t\t\t\t\t\t\tselectionChange=\"onSelectionChange\" visible=\"{ChangeActivity>/Visible/Brand}\" enabled=\"true\" editable=\"false\">\n\t\t\t\t\t\t\t\t<items>\n\t\t\t\t\t\t\t\t\t<core:Item key=\"{ChangeActivity>Key}\" text=\"{ChangeActivity>Description}\"/>\n\t\t\t\t\t\t\t\t</items>\n\t\t\t\t\t\t\t</ComboBox>\n\t\t\t\t\t\t</f:fields>\n\t\t\t\t\t</f:FormElement>\n\t\t\t\t\t<f:FormElement label=\"{i18n>AC_subbrand}\" visible=\"{ChangeActivity>/Visible/Subbrand}\">\n\t\t\t\t\t\t<f:fields>\n\t\t\t\t\t\t\t<ComboBox id=\"DSubbrandKey\" items=\"{path:'ChangeActivity>/Subbrand/Current'}\" selectedKey=\"{ChangeActivity>/Input/SubbrandKey}\"\n\t\t\t\t\t\t\t\tselectionChange=\"onSelectionChange\" visible=\"{ChangeActivity>/Visible/Subbrand}\" enabled=\"true\" editable=\"false\">\n\t\t\t\t\t\t\t\t<items>\n\t\t\t\t\t\t\t\t\t<core:Item key=\"{ChangeActivity>Key}\" text=\"{ChangeActivity>Description}\"/>\n\t\t\t\t\t\t\t\t</items>\n\t\t\t\t\t\t\t</ComboBox>\n\t\t\t\t\t\t</f:fields>\n\t\t\t\t\t</f:FormElement>\n\t\t\t\t\t<!--INSERT + INBHD02-->\n\t\t\t\t\t\t<f:FormElement id=\"DSCrossSubbrandList\" label=\"{i18n>AC_listcrosssubbrand}\" visible=\"{ChangeActivity>/Visible/CrossSubBrandList}\">\n\t\t\t\t\t\t\t<f:fields>\n\t\t\t\t\t\t\t\t<FlexBox fitContainer=\"true\">\n\t\t\t\t\t\t\t\t\t<t:Table rows=\"{path:'ChangeActivity>/CSBSubbrand/Selected'}\"  selectionMode=\"None\" visibleRowCount=\"8\" columnHeaderVisible=\"false\">\n\t\t\t\t\t\t\t\t\t\t<t:columns>\n\t\t\t\t\t\t\t\t\t\t\t<t:Column resizable=\"false\">\n\t\t\t\t\t\t\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Text text=\"{ChangeActivity>SubbrandDesc}\"/>\n\t\t\t\t\t\t\t\t\t\t\t\t</t:template>\n\t\t\t\t\t\t\t\t\t\t\t</t:Column>\n\t\t\t\t\t\t\t\t\t\t</t:columns>\n\t\t\t\t\t\t\t\t\t</t:Table>\n\t\t\t\t\t\t\t\t</FlexBox>\n\t\t\t\t\t\t\t</f:fields>\n\t\t\t\t\t\t</f:FormElement>\n\t\t\t\t\t<!--INSERT - INBHD02-->\t\t\t\t\t\n\t\t\t\t\t<!--COMMENT + INBHD02-->\n\t\t\t\t\t<!--<f:formElements>-->\n\t\t\t\t\t<!--\t<f:FormElement>-->\n\t\t\t\t\t<!--\t\t<f:fields>-->\n\t\t\t\t\t<!--\t\t\t<Title id=\"DTitle3\" text=\"{i18n>AC_aInformation}\" level=\"H5\" titleStyle=\"H5\"/>-->\n\t\t\t\t\t<!--\t\t\t<ToolbarSpacer/>-->\n\t\t\t\t\t<!--\t\t</f:fields>-->\n\t\t\t\t\t<!--\t</f:FormElement>-->\n\t\t\t\t\t<!--\t<f:FormElement id=\"DFEDemographics\" label=\"{i18n>AC_demographics}\" visible=\"{ChangeActivity>/Visible/Demographics}\">-->\n\t\t\t\t\t<!--\t\t<f:fields>-->\n\t\t\t\t\t<!--\t\t\t<ComboBox id=\"DDemographics\" items=\"{path:'Category>/VHDemographics'}\" selectedKey=\"{ChangeActivity>/Input/Demographics}\" width=\"100%\"-->\n\t\t\t\t\t<!--\t\t\t\tvisible=\"{ChangeActivity>/Visible/Demographics}\" enabled=\"true\" editable=\"false\">-->\n\t\t\t\t\t<!--\t\t\t\t<items>-->\n\t\t\t\t\t<!--\t\t\t\t\t<core:Item key=\"{Category>Key}\" text=\"{Category>Description}\"/>-->\n\t\t\t\t\t<!--\t\t\t\t</items>-->\n\t\t\t\t\t<!--\t\t\t</ComboBox>-->\n\t\t\t\t\t<!--\t\t</f:fields>-->\n\t\t\t\t\t<!--\t</f:FormElement>-->\n\t\t\t\t\t<!--\t<f:FormElement label=\"{i18n>AC_longText}\">-->\n\t\t\t\t\t<!--\t\t<f:fields>-->\n\t\t\t\t\t<!--\t\t\t<TextArea maxLength=\"255\" rows=\"3\" value=\"{ChangeActivity>/Input/LongText}\" editable=\"false\" enabled=\"true\"/>-->\n\t\t\t\t\t<!--\t\t</f:fields>-->\n\t\t\t\t\t<!--\t</f:FormElement>-->\n\t\t\t\t\t<!--\t<f:FormElement label=\"{i18n>AC_agency}\" visible=\"{ChangeActivity>/Visible/Agency}\">-->\n\t\t\t\t\t<!--\t\t<f:fields>-->\n\t\t\t\t\t<!--\t\t\t<ComboBox id=\"DAgency\" items=\"{path:'ChangeActivity>/Agency/Current'}\" selectedKey=\"{ChangeActivity>/Input/Agency}\" width=\"100%\"-->\n\t\t\t\t\t<!--\t\t\t\tvisible=\"{ChangeActivity>/Visible/Agency}\" enabled=\"true\" editable=\"false\">-->\n\t\t\t\t\t<!--\t\t\t\t<items>-->\n\t\t\t\t\t<!--\t\t\t\t\t<core:Item key=\"{ChangeActivity>Key}\" text=\"{ChangeActivity>Description}\"/>-->\n\t\t\t\t\t<!--\t\t\t\t</items>-->\n\t\t\t\t\t<!--\t\t\t</ComboBox>-->\n\t\t\t\t\t<!--\t\t</f:fields>-->\n\t\t\t\t\t<!--\t</f:FormElement>-->\n\t\t\t\t\t<!--\t<f:FormElement label=\"{i18n>AC_glAccount}\" visible=\"{ChangeActivity>/Visible/GlAccount}\">-->\n\t\t\t\t\t<!--\t\t<f:fields>-->\n\t\t\t\t\t<!--\t\t\t<Input id=\"DGlAccount\" editable=\"false\" visible=\"{ChangeActivity>/Visible/GlAccount}\" enabled=\"true\"-->\n\t\t\t\t\t<!--\t\t\t\tvalue=\"{ChangeActivity>/Input/GlAccount}\"/>-->\n\t\t\t\t\t<!--\t\t</f:fields>-->\n\t\t\t\t\t<!--\t</f:FormElement>-->\n\t\t\t\t\t<!--\t<f:FormElement label=\"{i18n>AC_po}\" visible=\"{ChangeActivity>/Visible/PO}\">-->\n\t\t\t\t\t<!--\t\t<f:fields>-->\n\t\t\t\t\t<!--\t\t\t<Input id=\"DPO\" value=\"{ChangeActivity>/Display/PO}\" visible=\"{ChangeActivity>/Visible/PO}\" enabled=\"true\" editable=\"false\"/>-->\n\t\t\t\t\t<!--\t\t</f:fields>-->\n\t\t\t\t\t<!--\t</f:FormElement>-->\n\t\t\t\t\t<!--</f:formElements>-->\n\t\t\t\t\t<!--COMMENT - INBHD02-->\n\t\t\t\t</f:FormContainer>\n\t\t\t</f:formContainers>\n\t\t</f:Form>\n\t</VBox>\n</core:FragmentDefinition>",
		"colgate/asm/planning/base/fragment/TableSettings.fragment.xml": "<core:FragmentDefinition xmlns=\"sap.m\" xmlns:core=\"sap.ui.core\">\r\n\t<ActionSheet title=\"\" showCancelButton=\"true\" placement=\"Bottom\">\r\n\t\t<buttons>\r\n\t\t\t<Button visible=\"{projectView>/oTableControl/bPersonalizeVisible}\" enabled=\"{projectView>/oTableControl/personalizeEnabled}\"\r\n\t\t\t\ticon=\"sap-icon://personnel-view\" press=\"onShowP13nScreen\" text=\"{i18n>C_T_personalization}\"/>\r\n\t\t\t<Button text=\"{i18n>C_T_refresh}\" press=\"onPressRefresh\" enabled=\"{projectView>/oTableControl/refreshEnabled}\"\r\n\t\t\t\tvisible=\"{projectView>/oTableControl/bRefreshVisible}\" icon=\"sap-icon://refresh\"/>\r\n\t\t\t<Button visible=\"{projectView>/oTableControl/bClearVisible}\" enabled=\"{projectView>/oTableControl/clearEnabled}\"\r\n\t\t\t\ticon=\"sap-icon://clear-filter\" press=\"onClearAllFilters\" text=\"{i18n&gt;C_T_clearfilters}\"/>\r\n\t\t\t<!--<ToggleButton icon=\"sap-icon://filter\" text=\"{projectView>/oTableControl/projectFilterText}\"-->\r\n\t\t\t<!--\tenabled=\"{projectView>/oTableControl/projectFilterEnabled}\" pressed=\"{projectView>/oTableControl/projectFilterPressed}\"-->\r\n\t\t\t<!--\tpress=\"getMyProjects\"/>-->\r\n\t\t</buttons>\r\n\t</ActionSheet>\r\n</core:FragmentDefinition>",
		"colgate/asm/planning/base/fragment/AddActivity.fragment.xml": "<core:FragmentDefinition xmlns:core=\"sap.ui.core\" xmlns:f=\"sap.ui.layout.form\" xmlns:l=\"sap.ui.layout\" xmlns=\"sap.m\"\n\txmlns:uc=\"sap.ui.unified.calendar\" xmlns:t=\"sap.ui.table\">\n\t<VBox class=\"sapUiSmallMargin\">\n\t\t<f:Form class=\"editableForm\" editable=\"true\" id=\"AddActivityForm\" ariaLabelledBy=\"Title1\">\n\t\t\t<f:toolbar>\n\t\t\t\t<Toolbar id=\"Toolbar\">\n\t\t\t\t\t<Title id=\"Titlea\" text=\"{AddActivity>/Labels/Title1}\" level=\"H4\" titleStyle=\"H4\" visible=\"{AddActivity>/Visible/Title1}\"/>\n\t\t\t\t\t<Title id=\"Titleb\" text=\"{AddActivity>/Labels/Title2}\" level=\"H4\" titleStyle=\"H4\" visible=\"{AddActivity>/Visible/Title2}\"/>\n\t\t\t\t\t<Title id=\"Titlec\" text=\"{AddActivity>/Labels/Title3}\" level=\"H4\" titleStyle=\"H4\" visible=\"{AddActivity>/Visible/Title3}\"/>\n\t\t\t\t\t<ToolbarSpacer/>\n\t\t\t\t\t<Button text=\"{i18n>AC_B_save}\" press=\"onSave\" type=\"Accept\" visible=\"{AddActivity>/Visible/Title3}\"/>\n\t\t\t\t\t<Button id=\"Save2\" text=\"{AddActivity>/Labels/Save2}\" press=\"onSaveAndAdd\" type=\"Emphasized\" visible=\"{AddActivity>/Visible/Save2}\"/>\n\t\t\t\t\t<Button id=\"Save3\" text=\"{AddActivity>/Labels/Save3}\" press=\"onSaveAndAdd\" type=\"Emphasized\" visible=\"{AddActivity>/Visible/Title3}\"/>\n\t\t\t\t\t<Button text=\"{i18n>AC_B_cancel}\" press=\"onCancel\" type=\"Reject\" visible=\"{AddActivity>/Visible/Cancel}\"/>\n\t\t\t\t</Toolbar>\n\t\t\t</f:toolbar>\n\t\t\t<f:layout>\n\t\t\t\t<f:ResponsiveGridLayout/>\n\t\t\t</f:layout>\n\t\t\t<f:formContainers>\n\t\t\t\t<f:FormContainer ariaLabelledBy=\"Title2\">\n\t\t\t\t\t<f:formElements>\n\t\t\t\t\t\t<f:FormElement id=\"FEParent\" label=\"{AddActivity>/Labels/Parent}\" visible=\"{AddActivity>/Visible/Parent}\">\n\t\t\t\t\t\t\t<f:fields>\n\t\t\t\t\t\t\t\t<ComboBox id=\"Parent\" items=\"{path:'masterShared>/aAddOptions'}\" placeholder=\"{i18n>AC_P_noparent}\"\n\t\t\t\t\t\t\t\t\tselectedKey=\"{AddActivity>/Input/Parent}\" selectionChange=\"onParentChange\" visible=\"{AddActivity>/Visible/Parent}\"\n\t\t\t\t\t\t\t\t\tenabled=\"{AddActivity>/Enabled/Parent}\">\n\t\t\t\t\t\t\t\t\t<items>\n\t\t\t\t\t\t\t\t\t\t<core:Item key=\"{masterShared>Key}\" text=\"{masterShared>Description}\"/>\n\t\t\t\t\t\t\t\t\t</items>\n\t\t\t\t\t\t\t\t</ComboBox>\n\t\t\t\t\t\t\t</f:fields>\n\t\t\t\t\t\t</f:FormElement>\n\t\t\t\t\t\t<f:FormElement id=\"FEProjectType\" label=\"{i18n>AC_projectType}\" visible=\"{AddActivity>/Visible/ProjectType}\">\n\t\t\t\t\t\t\t<f:fields>\n\t\t\t\t\t\t\t\t<Select id=\"ProjectType\" items=\"{path:'AddActivity>/ProjectType/Current'}\" selectedKey=\"{AddActivity>/Input/ProjectType}\"\n\t\t\t\t\t\t\t\t\tforceSelection=\"false\" visible=\"{AddActivity>/Visible/ProjectType}\" enabled=\"{AddActivity>/Enabled/ProjectType}\">\n\t\t\t\t\t\t\t\t\t<items>\n\t\t\t\t\t\t\t\t\t\t<core:Item key=\"{AddActivity>Key}\" text=\"{AddActivity>Description}\"/>\n\t\t\t\t\t\t\t\t\t</items>\n\t\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t\t</f:fields>\n\t\t\t\t\t\t</f:FormElement>\n\t\t\t\t\t\t<f:FormElement id=\"FEActivityType\" label=\"{i18n>AC_activityType}\" visible=\"{AddActivity>/Visible/ActivityType}\">\n\t\t\t\t\t\t\t<f:fields>\n\t\t\t\t\t\t\t\t<Select id=\"ActivityType\" items=\"{path:'AddActivity>/ActivityType/Current'}\" selectedKey=\"{AddActivity>/Input/ActivityType}\"\n\t\t\t\t\t\t\t\t\tforceSelection=\"false\" visible=\"{AddActivity>/Visible/ActivityType}\" enabled=\"{AddActivity>/Enabled/ActivityType}\">\n\t\t\t\t\t\t\t\t\t<items>\n\t\t\t\t\t\t\t\t\t\t<core:Item key=\"{AddActivity>Key}\" text=\"{AddActivity>Description}\"/>\n\t\t\t\t\t\t\t\t\t</items>\n\t\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t\t</f:fields>\n\t\t\t\t\t\t</f:FormElement>\n\t\t\t\t\t\t<f:FormElement id=\"FESubactivityType\" label=\"{i18n>AC_subactivityType}\" visible=\"{AddActivity>/Visible/SubactivityType}\">\n\t\t\t\t\t\t\t<f:fields>\n\t\t\t\t\t\t\t\t<Select id=\"SubactivityType\" items=\"{path:'AddActivity>/SubactivityType/Current'}\" selectedKey=\"{AddActivity>/Input/SubactivityType}\"\n\t\t\t\t\t\t\t\t\tvisible=\"{AddActivity>/Visible/SubactivityType}\" forceSelection=\"false\" change=\"onSubActSelectionChange\"\n\t\t\t\t\t\t\t\t\tenabled=\"{AddActivity>/Enabled/SubactivityType}\">\n\t\t\t\t\t\t\t\t\t<items>\n\t\t\t\t\t\t\t\t\t\t<core:Item key=\"{AddActivity>Key}\" text=\"{AddActivity>Description}\"/>\n\t\t\t\t\t\t\t\t\t</items>\n\t\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t\t</f:fields>\n\t\t\t\t\t\t</f:FormElement>\n\t\t\t\t\t\t<f:FormElement id=\"FEName\" label=\"{i18n>AC_name}\" visible=\"{AddActivity>/Visible/Name}\">\n\t\t\t\t\t\t\t<f:fields>\n\t\t\t\t\t\t\t\t<Input id=\"Name\" maxLength=\"40\" placeholder=\"{i18n>AC_P_name}\" value=\"{AddActivity>/Input/Name}\" visible=\"{AddActivity>/Visible/Name}\"\n\t\t\t\t\t\t\t\t\tenabled=\"{AddActivity>/Enabled/Name}\" change=\"onCheckValues\"/>\n\t\t\t\t\t\t\t</f:fields>\n\t\t\t\t\t\t</f:FormElement>\n\t\t\t\t\t\t<f:FormElement id=\"FEPriorityKey\" label=\"{i18n>AC_priority}\" visible=\"{AddActivity>/Visible/Priority}\">\n\t\t\t\t\t\t\t<f:fields>\n\t\t\t\t\t\t\t\t<ComboBox id=\"PriorityKey\" items=\"{path:'AddActivity>/Priority/Current'}\" placeholder=\"{AddActivity>/Placeholders/Priority}\"\n\t\t\t\t\t\t\t\t\tselectedKey=\"{AddActivity>/Input/PriorityKey}\" width=\"100%\" visible=\"{AddActivity>/Visible/Priority}\"\n\t\t\t\t\t\t\t\t\tenabled=\"{AddActivity>/Enabled/Priority}\">\n\t\t\t\t\t\t\t\t\t<items>\n\t\t\t\t\t\t\t\t\t\t<core:Item key=\"{AddActivity>Key}\" text=\"{AddActivity>Description}\"/>\n\t\t\t\t\t\t\t\t\t</items>\n\t\t\t\t\t\t\t\t</ComboBox>\n\t\t\t\t\t\t\t</f:fields>\n\t\t\t\t\t\t</f:FormElement>\n\t\t\t\t\t\t<f:FormElement id=\"FEFunction\" label=\"{i18n>AC_function}\" visible=\"{AddActivity>/Visible/Function}\">\n\t\t\t\t\t\t\t<f:fields>\n\t\t\t\t\t\t\t\t<ComboBox id=\"Function\" items=\"{path:'Category>/VHFunctions'}\" placeholder=\"{AddActivity>/Placeholders/Function}\"\n\t\t\t\t\t\t\t\t\tselectedKey=\"{AddActivity>/Input/Function}\" width=\"100%\" visible=\"{AddActivity>/Visible/Function}\" enabled=\"{AddActivity>/Enabled/Function}\">\n\t\t\t\t\t\t\t\t\t<items>\n\t\t\t\t\t\t\t\t\t\t<core:Item key=\"{Category>Key}\" text=\"{Category>Description}\"/>\n\t\t\t\t\t\t\t\t\t</items>\n\t\t\t\t\t\t\t\t</ComboBox>\n\t\t\t\t\t\t\t</f:fields>\n\t\t\t\t\t\t</f:FormElement>\n\t\t\t\t\t\t<f:FormElement id=\"FEChannel\" label=\"{i18n>AC_channel}\" visible=\"{AddActivity>/Visible/Channel}\">\n\t\t\t\t\t\t\t<f:fields>\n\t\t\t\t\t\t\t\t<ComboBox id=\"Channel\" items=\"{path:'Category>/VHChannels'}\" placeholder=\"{AddActivity>/Placeholders/Channel}\"\n\t\t\t\t\t\t\t\t\tselectedKey=\"{AddActivity>/Input/Channel}\" width=\"100%\" visible=\"{AddActivity>/Visible/Channel}\" enabled=\"{AddActivity>/Enabled/Channel}\">\n\t\t\t\t\t\t\t\t\t<items>\n\t\t\t\t\t\t\t\t\t\t<core:Item key=\"{Category>Key}\" text=\"{Category>Description}\"/>\n\t\t\t\t\t\t\t\t\t</items>\n\t\t\t\t\t\t\t\t</ComboBox>\n\t\t\t\t\t\t\t</f:fields>\n\t\t\t\t\t\t</f:FormElement>\n\t\t\t\t\t\t<f:FormElement id=\"FERetailer\" label=\"{i18n>AC_retailer}\" visible=\"{AddActivity>/Visible/Retailer}\">\n\t\t\t\t\t\t\t<f:fields>\n\t\t\t\t\t\t\t\t<FlexBox justifyContent=\"SpaceBetween\" fitContainer=\"true\">\n\t\t\t\t\t\t\t\t\t<items>\n\t\t\t\t\t\t\t\t\t\t<ComboBox id=\"Retailer\" items=\"{path:'AddActivity>/Retailer/Current'}\" placeholder=\"{AddActivity>/Placeholders/Retailer}\"\n\t\t\t\t\t\t\t\t\t\t\tselectedKey=\"{AddActivity>/Input/Retailer}\" visible=\"{AddActivity>/Visible/Retailer}\" enabled=\"false\" showButton=\"false\" width=\"300px\">\n\t\t\t\t\t\t\t\t\t\t\t<items>\n\t\t\t\t\t\t\t\t\t\t\t\t<core:Item key=\"{AddActivity>Key}\" text=\"{AddActivity>Description}\"/>\n\t\t\t\t\t\t\t\t\t\t\t</items>\n\t\t\t\t\t\t\t\t\t\t</ComboBox>\n\t\t\t\t\t\t\t\t\t\t<Button icon=\"sap-icon://sys-cancel\" press=\"onRetailerClear\" visible=\"{AddActivity>/Visible/Retailer}\"\n\t\t\t\t\t\t\t\t\t\t\tenabled=\"{AddActivity>/Enabled/Retailer}\"/>\n\t\t\t\t\t\t\t\t\t\t<Button icon=\"sap-icon://search\" press=\"onRetailerShow\" visible=\"{AddActivity>/Visible/Retailer}\" enabled=\"{AddActivity>/Enabled/Retailer}\"/>\n\t\t\t\t\t\t\t\t\t</items>\n\t\t\t\t\t\t\t\t</FlexBox>\n\t\t\t\t\t\t\t</f:fields>\n\t\t\t\t\t\t</f:FormElement>\n\t\t\t\t\t\t<f:FormElement id=\"FEPlanningYear\" label=\"{i18n>AC_planyear}\">\n\t\t\t\t\t\t\t<f:fields>\n\t\t\t\t\t\t\t\t<Input editable=\"false\" id=\"PlanningYear\" value=\"{AddActivity>/Input/PlanningYear}\"/>\n\t\t\t\t\t\t\t</f:fields>\n\t\t\t\t\t\t</f:FormElement>\n\t\t\t\t\t\t<f:FormElement id=\"FEStartDt\" label=\"{i18n>AC_startend}\">\n\t\t\t\t\t\t\t<f:fields>\n\t\t\t\t\t\t\t\t<FlexBox id=\"FStartDt\">\n\t\t\t\t\t\t\t\t\t<DatePicker visible=\"false\" enabled=\"false\" displayFormat=\"MM/yyyy\" id=\"StartDt\" placeholder=\"{i18n>AC_P_start}\"\n\t\t\t\t\t\t\t\t\t\tvalue=\"{AddActivity>/Input/StartDt}\" valueFormat=\"yyyyMMdd\"/>\n\t\t\t\t\t\t\t\t\t<uc:MonthPicker id=\"MonthSt\" select=\"onDtChange\"/>\n\t\t\t\t\t\t\t\t</FlexBox>\n\t\t\t\t\t\t\t</f:fields>\n\t\t\t\t\t\t</f:FormElement>\n\t\t\t\t\t\t<f:FormElement id=\"FEEndDt\" label=\"{i18n>AC_endmonth}\">\n\t\t\t\t\t\t\t<f:fields>\n\t\t\t\t\t\t\t\t<FlexBox id=\"FEndDt\">\n\t\t\t\t\t\t\t\t\t<DatePicker visible=\"false\" enabled=\"false\" displayFormat=\"MM/yyyy\" id=\"EndDt\" placeholder=\"{i18n>AC_P_end}\"\n\t\t\t\t\t\t\t\t\t\tvalue=\"{AddActivity>/Input/EndDt}\" valueFormat=\"yyyyMMdd\"/>\n\t\t\t\t\t\t\t\t\t<uc:MonthPicker id=\"MonthEd\" select=\"onDtChange\"/>\n\t\t\t\t\t\t\t\t</FlexBox>\n\t\t\t\t\t\t\t</f:fields>\n\t\t\t\t\t\t</f:FormElement>\n\t\t\t\t\t</f:formElements>\n\t\t\t\t\t<!--INBHD02-->\n\t\t\t\t\t<f:FormElement>\n\t\t\t\t\t\t<f:fields>\n\t\t\t\t\t\t\t<Title id=\"Title3\" text=\"{i18n>AC_aInformation}\" level=\"H5\" titleStyle=\"H5\"/>\n\t\t\t\t\t\t</f:fields>\n\t\t\t\t\t</f:FormElement>\n\t\t\t\t\t<f:FormElement id=\"FEMaxValueC\" label=\"{i18n>AC_maxc}\" visible=\"{AddActivity>/Visible/MaxValueC}\">\n\t\t\t\t\t\t<f:fields>\n\t\t\t\t\t\t\t<HBox alignItems=\"Center\">\n\t\t\t\t\t\t\t\t<Input editable=\"true\" id=\"MaxValueC\" liveChange=\"onBudgetChange\"\n\t\t\t\t\t\t\t\t\tvalue=\"{parts:[{path:'AddActivity>/Input/MaxValueC'},{path:'AddActivity>/Input/Currency'}], type: 'colgate.asm.planning.base.util.CustomCurrencyType', formatOptions: {showMeasure: false, currencyCode: false, minFractionDigits:0, maxFractionDigits:0}}\"/>\n\t\t\t\t\t\t\t\t<Label text=\"{AddActivity>/Input/Currency}\" class=\"sapUiTinyMarginBegin\"/>\n\t\t\t\t\t\t\t</HBox>\n\t\t\t\t\t\t</f:fields>\n\t\t\t\t\t</f:FormElement>\n\t\t\t\t\t<f:FormElement id=\"FEDemographics\" label=\"{i18n>AC_demographics}\" visible=\"{AddActivity>/Visible/Demographics}\">\n\t\t\t\t\t\t<f:fields>\n\t\t\t\t\t\t\t<ComboBox id=\"Demographics\" items=\"{path:'AddActivity>/Demographics/Current'}\" placeholder=\"{AddActivity>/Placeholders/Demographics}\"\n\t\t\t\t\t\t\t\tselectedKey=\"{AddActivity>/Input/Demographics}\" width=\"100%\" visible=\"{AddActivity>/Visible/Demographics}\"\n\t\t\t\t\t\t\t\tenabled=\"{AddActivity>/Enabled/Demographics}\">\n\t\t\t\t\t\t\t\t<items>\n\t\t\t\t\t\t\t\t\t<core:Item key=\"{AddActivity>Key}\" text=\"{AddActivity>Description}\"/>\n\t\t\t\t\t\t\t\t</items>\n\t\t\t\t\t\t\t</ComboBox>\n\t\t\t\t\t\t</f:fields>\n\t\t\t\t\t</f:FormElement>\n\t\t\t\t\t<f:formElements>\n\t\t\t\t\t\t<f:FormElement label=\"{i18n>AC_longText}\">\n\t\t\t\t\t\t\t<f:fields>\n\t\t\t\t\t\t\t\t<TextArea maxLength=\"255\" rows=\"3\" value=\"{AddActivity>/Input/LongText}\"/>\n\t\t\t\t\t\t\t</f:fields>\n\t\t\t\t\t\t</f:FormElement>\n\t\t\t\t\t\t<f:FormElement label=\"{i18n>AC_agency}\" visible=\"{AddActivity>/Visible/Agency}\">\n\t\t\t\t\t\t\t<f:fields>\n\t\t\t\t\t\t\t\t<FlexBox justifyContent=\"SpaceBetween\" fitContainer=\"true\" direction=\"Row\">\n\t\t\t\t\t\t\t\t\t<items>\n\t\t\t\t\t\t\t\t\t\t<ComboBox id=\"Agency\" items=\"{path:'AddActivity>/Agency/Current'}\" placeholder=\"{AddActivity>/Placeholders/Agency}\"\n\t\t\t\t\t\t\t\t\t\t\tselectedKey=\"{AddActivity>/Input/Agency}\" visible=\"{AddActivity>/Visible/Agency}\" enabled=\"false\" showButton=\"false\" width=\"300px\">\n\t\t\t\t\t\t\t\t\t\t\t<items>\n\t\t\t\t\t\t\t\t\t\t\t\t<core:Item key=\"{AddActivity>Key}\" text=\"{AddActivity>Description}\"/>\n\t\t\t\t\t\t\t\t\t\t\t</items>\n\t\t\t\t\t\t\t\t\t\t</ComboBox>\n\t\t\t\t\t\t\t\t\t\t<Button icon=\"sap-icon://sys-cancel\" press=\"onAgencyClear\" visible=\"{AddActivity>/Visible/Agency}\" enabled=\"{AddActivity>/Enabled/Agency}\"/>\n\t\t\t\t\t\t\t\t\t\t<Button icon=\"sap-icon://search\" press=\"onAgencyShow\" visible=\"{AddActivity>/Visible/Agency}\" enabled=\"{AddActivity>/Enabled/Agency}\"/>\n\t\t\t\t\t\t\t\t\t</items>\n\t\t\t\t\t\t\t\t</FlexBox>\n\t\t\t\t\t\t\t</f:fields>\n\t\t\t\t\t\t</f:FormElement>\n\t\t\t\t\t\t<f:FormElement label=\"{i18n>AC_glAccount}\" visible=\"{AddActivity>/Visible/GlAccount}\">\n\t\t\t\t\t\t\t<f:fields>\n\t\t\t\t\t\t\t\t<Input editable=\"false\" id=\"GlAccount\" value=\"{AddActivity>/Display/GlAccount}\" visible=\"{AddActivity>/Visible/GlAccount}\"/>\n\t\t\t\t\t\t\t</f:fields>\n\t\t\t\t\t\t</f:FormElement>\n\t\t\t\t\t</f:formElements>\n\t\t\t\t\t<!--INBHD02-->\n\t\t\t\t</f:FormContainer>\n\t\t\t\t<f:FormContainer ariaLabelledBy=\"Title3\">\n\t\t\t\t\t<f:FormElement>\n\t\t\t\t\t\t<f:fields>\n\t\t\t\t\t\t\t<Title id=\"TitleGeo\" text=\"{i18n>AC_G_geography}\" level=\"H5\" titleStyle=\"H5\"/>\n\t\t\t\t\t\t</f:fields>\n\t\t\t\t\t</f:FormElement>\n\t\t\t\t\t<f:FormElement id=\"FEDivision\" label=\"{i18n>AC_division}\" visible=\"{AddActivity>/Visible/Division}\">\n\t\t\t\t\t\t<f:fields>\n\t\t\t\t\t\t\t<ComboBox id=\"DivisionKey\" items=\"{path:'Division>/VHDivision'}\" placeholder=\"{i18n>AC_P_division}\"\n\t\t\t\t\t\t\t\tselectedKey=\"{AddActivity>/Input/DivisionKey}\" selectionChange=\"onGeoSelectionChange\" visible=\"{AddActivity>/Visible/Division}\"\n\t\t\t\t\t\t\t\tenabled=\"{AddActivity>/Enabled/Division}\">\n\t\t\t\t\t\t\t\t<items>\n\t\t\t\t\t\t\t\t\t<core:Item key=\"{Division>GeoKey}\" text=\"{Division>Desc}\"/>\n\t\t\t\t\t\t\t\t</items>\n\t\t\t\t\t\t\t</ComboBox>\n\t\t\t\t\t\t</f:fields>\n\t\t\t\t\t</f:FormElement>\n\t\t\t\t\t<f:FormElement id=\"FEHub\" label=\"{i18n>AC_hub}\" visible=\"{AddActivity>/Visible/Hub}\">\n\t\t\t\t\t\t<f:fields>\n\t\t\t\t\t\t\t<ComboBox id=\"HubKey\" items=\"{path:'AddActivity>/Hub/Current'}\" placeholder=\"{AddActivity>/Placeholders/Hub}\"\n\t\t\t\t\t\t\t\tselectedKey=\"{AddActivity>/Input/HubKey}\" selectionChange=\"onGeoSelectionChange\" visible=\"{AddActivity>/Visible/Hub}\"\n\t\t\t\t\t\t\t\tenabled=\"{AddActivity>/Enabled/Hub}\">\n\t\t\t\t\t\t\t\t<items>\n\t\t\t\t\t\t\t\t\t<core:Item key=\"{AddActivity>GeoKey}\" text=\"{AddActivity>Desc}\"/>\n\t\t\t\t\t\t\t\t</items>\n\t\t\t\t\t\t\t</ComboBox>\n\t\t\t\t\t\t</f:fields>\n\t\t\t\t\t</f:FormElement>\n\t\t\t\t\t<f:FormElement id=\"FESub\" label=\"{i18n>AC_subsidiary}\" visible=\"{AddActivity>/Visible/Sub}\">\n\t\t\t\t\t\t<f:fields>\n\t\t\t\t\t\t\t<ComboBox id=\"SubKey\" items=\"{path:'AddActivity>/Sub/Current'}\" placeholder=\"{AddActivity>/Placeholders/Sub}\"\n\t\t\t\t\t\t\t\tselectedKey=\"{AddActivity>/Input/SubKey}\" selectionChange=\"onGeoSelectionChange\" visible=\"{AddActivity>/Visible/Sub}\"\n\t\t\t\t\t\t\t\tenabled=\"{AddActivity>/Enabled/Sub}\">\n\t\t\t\t\t\t\t\t<items>\n\t\t\t\t\t\t\t\t\t<core:Item key=\"{AddActivity>GeoKey}\" text=\"{AddActivity>Desc}\"/>\n\t\t\t\t\t\t\t\t</items>\n\t\t\t\t\t\t\t</ComboBox>\n\t\t\t\t\t\t</f:fields>\n\t\t\t\t\t</f:FormElement>\n\t\t\t\t\t<f:FormElement>\n\t\t\t\t\t\t<f:fields>\n\t\t\t\t\t\t\t<Title id=\"TitlePH\" text=\"{i18n>AC_G_prodhier}\" level=\"H5\" titleStyle=\"H5\"/>\n\t\t\t\t\t\t</f:fields>\n\t\t\t\t\t</f:FormElement>\n\t\t\t\t\t<f:FormElement id=\"FECategory\" label=\"{i18n>AC_category}\" visible=\"{AddActivity>/Visible/Category}\">\n\t\t\t\t\t\t<f:fields>\n\t\t\t\t\t\t\t<ComboBox id=\"CategoryKey\" items=\"{path:'AddActivity>/Category/Current'}\" placeholder=\"{i18n>AC_P_category}\"\n\t\t\t\t\t\t\t\tselectedKey=\"{AddActivity>/Input/CategoryKey}\" selectionChange=\"onSelectionChange\" visible=\"{AddActivity>/Visible/Category}\"\n\t\t\t\t\t\t\t\tenabled=\"{AddActivity>/Enabled/Category}\">\n\t\t\t\t\t\t\t\t<items>\n\t\t\t\t\t\t\t\t\t<core:Item key=\"{AddActivity>Key}\" text=\"{AddActivity>Description}\"/>\n\t\t\t\t\t\t\t\t</items>\n\t\t\t\t\t\t\t</ComboBox>\n\t\t\t\t\t\t</f:fields>\n\t\t\t\t\t</f:FormElement>\n\t\t\t\t\t<f:FormElement id=\"FESubcategory\" label=\"{i18n>AC_pscategory}\" visible=\"{AddActivity>/Visible/Subcategory}\">\n\t\t\t\t\t\t<f:fields>\n\t\t\t\t\t\t\t<ComboBox id=\"SubcategoryKey\" items=\"{path:'AddActivity>/Subcategory/Current'}\" placeholder=\"{AddActivity>/Placeholders/Subcategory}\"\n\t\t\t\t\t\t\t\tselectedKey=\"{AddActivity>/Input/SubcategoryKey}\" selectionChange=\"onSelectionChange\" visible=\"{AddActivity>/Visible/Subcategory}\"\n\t\t\t\t\t\t\t\tenabled=\"{AddActivity>/Enabled/Subcategory}\">\n\t\t\t\t\t\t\t\t<items>\n\t\t\t\t\t\t\t\t\t<core:Item key=\"{AddActivity>Key}\" text=\"{AddActivity>Description}\"/>\n\t\t\t\t\t\t\t\t</items>\n\t\t\t\t\t\t\t</ComboBox>\n\t\t\t\t\t\t</f:fields>\n\t\t\t\t\t</f:FormElement>\n\t\t\t\t\t<f:FormElement id=\"FEBrand\" label=\"{i18n>AC_brand}\" visible=\"{AddActivity>/Visible/Brand}\">\n\t\t\t\t\t\t<f:fields>\n\t\t\t\t\t\t\t<ComboBox id=\"BrandKey\" items=\"{path:'AddActivity>/Brand/Current'}\" placeholder=\"{AddActivity>/Placeholders/Brand}\"\n\t\t\t\t\t\t\t\tselectedKey=\"{AddActivity>/Input/BrandKey}\" selectionChange=\"onSelectionChange\" visible=\"{AddActivity>/Visible/Brand}\"\n\t\t\t\t\t\t\t\tenabled=\"{AddActivity>/Enabled/Brand}\">\n\t\t\t\t\t\t\t\t<items>\n\t\t\t\t\t\t\t\t\t<core:Item key=\"{AddActivity>Key}\" text=\"{AddActivity>Description}\"/>\n\t\t\t\t\t\t\t\t</items>\n\t\t\t\t\t\t\t</ComboBox>\n\t\t\t\t\t\t</f:fields>\n\t\t\t\t\t</f:FormElement>\n\t\t\t\t\t<f:FormElement id=\"FESubbrand\" label=\"{i18n>AC_subbrand}\" visible=\"{AddActivity>/Visible/Subbrand}\">\n\t\t\t\t\t\t<f:fields>\n\t\t\t\t\t\t\t<ComboBox id=\"SubbrandKey\" items=\"{path:'AddActivity>/Subbrand/Current'}\" placeholder=\"{AddActivity>/Placeholders/Subbrand}\"\n\t\t\t\t\t\t\t\tselectedKey=\"{AddActivity>/Input/SubbrandKey}\" selectionChange=\"onSelectionChange\" visible=\"{AddActivity>/Visible/Subbrand}\"\n\t\t\t\t\t\t\t\tenabled=\"{AddActivity>/Enabled/Subbrand}\">\n\t\t\t\t\t\t\t\t<items>\n\t\t\t\t\t\t\t\t\t<core:Item key=\"{AddActivity>Key}\" text=\"{AddActivity>Description}\"/>\n\t\t\t\t\t\t\t\t</items>\n\t\t\t\t\t\t\t</ComboBox>\n\t\t\t\t\t\t</f:fields>\n\t\t\t\t\t</f:FormElement>\n\t\t\t\t\t<!--INBHD02 Cross sub brand allocation-->\n\t\t\t\t\t<f:FormElement id=\"FECrossSubbrand\" label=\"{i18n>AC_crosssubbrand}\" visible=\"{AddActivity>/Visible/CrossSubBrand}\">\n\t\t\t\t\t\t<f:fields>\n\t\t\t\t\t\t\t<FlexBox justifyContent=\"SpaceBetween\" fitContainer=\"true\">\n\t\t\t\t\t\t\t\t<Button icon=\"sap-icon://add-activity\" text=\"{i18n>AC_SelCrossSubBrand}\" press=\"onSelectCrossBrand\" visible=\"true\" enabled=\"true\"/>\n\t\t\t\t\t\t\t</FlexBox>\n\t\t\t\t\t\t</f:fields>\n\t\t\t\t\t</f:FormElement>\n\t\t\t\t\t<f:FormElement id=\"FECrossSubbrandList\" label=\"{i18n>AC_listcrosssubbrand}\" visible=\"{AddActivity>/Visible/CrossSubBrandList}\">\n\t\t\t\t\t\t<f:fields>\n\t\t\t\t\t\t\t<FlexBox fitContainer=\"true\">\n\t\t\t\t\t\t\t\t<t:Table id=\"CSBListView\" rows=\"{path:'AddActivity>/CSBSubbrand/Selected'}\" selectionMode=\"None\" visibleRowCount=\"12\"\n\t\t\t\t\t\t\t\t\tcolumnHeaderVisible=\"false\">\n\t\t\t\t\t\t\t\t\t<t:columns>\n\t\t\t\t\t\t\t\t\t\t<t:Column resizable=\"false\">\n\t\t\t\t\t\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t\t\t\t\t\t<Text text=\"{AddActivity>SubbrandDesc}\"/>\n\t\t\t\t\t\t\t\t\t\t\t</t:template>\n\t\t\t\t\t\t\t\t\t\t</t:Column>\n\t\t\t\t\t\t\t\t\t</t:columns>\n\t\t\t\t\t\t\t\t</t:Table>\n\t\t\t\t\t\t\t</FlexBox>\n\t\t\t\t\t\t</f:fields>\n\t\t\t\t\t</f:FormElement>\n\t\t\t\t\t<!--INBHD02 Cross sub brand allocation-->\n\t\t\t\t\t<!--INBHD02-->\n\t\t\t\t\t<!--<f:FormElement>-->\n\t\t\t\t\t<!--\t<f:fields>-->\n\t\t\t\t\t<!--\t\t<Title id=\"Title3\" text=\"{i18n>AC_aInformation}\" level=\"H5\" titleStyle=\"H5\"/>-->\n\t\t\t\t\t<!--\t</f:fields>-->\n\t\t\t\t\t<!--</f:FormElement>-->\n\t\t\t\t\t<!--<f:FormElement id=\"FEMaxValueC\" label=\"{i18n>AC_maxc}\" visible=\"{AddActivity>/Visible/MaxValueC}\">-->\n\t\t\t\t\t<!--\t<f:fields>-->\n\t\t\t\t\t<!--\t\t<HBox alignItems=\"Center\">-->\n\t\t\t\t\t<!--\t\t\t<Input editable=\"true\" id=\"MaxValueC\" liveChange=\"onBudgetChange\"-->\n\t\t\t\t\t<!--\t\t\t\tvalue=\"{parts:[{path:'AddActivity>/Input/MaxValueC'},{path:'AddActivity>/Input/Currency'}], type: 'colgate.asm.planning.base.util.CustomCurrencyType', formatOptions: {showMeasure: false, currencyCode: false, minFractionDigits:0, maxFractionDigits:0}}\"/>-->\n\t\t\t\t\t<!--\t\t\t<Label text=\"{AddActivity>/Input/Currency}\" class=\"sapUiTinyMarginBegin\"/>-->\n\t\t\t\t\t<!--\t\t</HBox>-->\n\t\t\t\t\t<!--\t</f:fields>-->\n\t\t\t\t\t<!--</f:FormElement>-->\n\t\t\t\t\t<!--<f:FormElement id=\"FEDemographics\" label=\"{i18n>AC_demographics}\" visible=\"{AddActivity>/Visible/Demographics}\">-->\n\t\t\t\t\t<!--\t<f:fields>-->\n\t\t\t\t\t<!--\t\t<ComboBox id=\"Demographics\" items=\"{path:'AddActivity>/Demographics/Current'}\" placeholder=\"{AddActivity>/Placeholders/Demographics}\"-->\n\t\t\t\t\t<!--\t\t\tselectedKey=\"{AddActivity>/Input/Demographics}\" width=\"100%\" visible=\"{AddActivity>/Visible/Demographics}\"-->\n\t\t\t\t\t<!--\t\t\tenabled=\"{AddActivity>/Enabled/Demographics}\">-->\n\t\t\t\t\t<!--\t\t\t<items>-->\n\t\t\t\t\t<!--\t\t\t\t<core:Item key=\"{AddActivity>Key}\" text=\"{AddActivity>Description}\"/>-->\n\t\t\t\t\t<!--\t\t\t</items>-->\n\t\t\t\t\t<!--\t\t</ComboBox>-->\n\t\t\t\t\t<!--\t</f:fields>-->\n\t\t\t\t\t<!--</f:FormElement>-->\n\t\t\t\t\t<!--<f:formElements>-->\n\t\t\t\t\t<!--\t<f:FormElement label=\"{i18n>AC_longText}\">-->\n\t\t\t\t\t<!--\t\t<f:fields>-->\n\t\t\t\t\t<!--\t\t\t<TextArea maxLength=\"255\" rows=\"3\" value=\"{AddActivity>/Input/LongText}\"/>-->\n\t\t\t\t\t<!--\t\t</f:fields>-->\n\t\t\t\t\t<!--\t</f:FormElement>-->\n\t\t\t\t\t<!--\t<f:FormElement label=\"{i18n>AC_agency}\" visible=\"{AddActivity>/Visible/Agency}\">-->\n\t\t\t\t\t<!--\t\t<f:fields>-->\n\t\t\t\t\t<!--\t\t\t<FlexBox justifyContent=\"SpaceBetween\" fitContainer=\"true\">-->\n\t\t\t\t\t<!--\t\t\t\t<items>-->\n\t\t\t\t\t<!--\t\t\t\t\t<ComboBox id=\"Agency\" items=\"{path:'AddActivity>/Agency/Current'}\" placeholder=\"{AddActivity>/Placeholders/Agency}\"-->\n\t\t\t\t\t<!--\t\t\t\t\t\tselectedKey=\"{AddActivity>/Input/Agency}\" visible=\"{AddActivity>/Visible/Agency}\" enabled=\"false\" showButton=\"false\" width=\"300px\">-->\n\t\t\t\t\t<!--\t\t\t\t\t\t<items>-->\n\t\t\t\t\t<!--\t\t\t\t\t\t\t<core:Item key=\"{AddActivity>Key}\" text=\"{AddActivity>Description}\"/>-->\n\t\t\t\t\t<!--\t\t\t\t\t\t</items>-->\n\t\t\t\t\t<!--\t\t\t\t\t</ComboBox>-->\n\t\t\t\t\t<!--\t\t\t\t\t<Button icon=\"sap-icon://sys-cancel\" press=\"onAgencyClear\" visible=\"{AddActivity>/Visible/Agency}\" enabled=\"{AddActivity>/Enabled/Agency}\"/>-->\n\t\t\t\t\t<!--\t\t\t\t\t<Button icon=\"sap-icon://search\" press=\"onAgencyShow\" visible=\"{AddActivity>/Visible/Agency}\" enabled=\"{AddActivity>/Enabled/Agency}\"/>-->\n\t\t\t\t\t<!--\t\t\t\t</items>-->\n\t\t\t\t\t<!--\t\t\t</FlexBox>-->\n\t\t\t\t\t<!--\t\t</f:fields>-->\n\t\t\t\t\t<!--\t</f:FormElement>-->\n\t\t\t\t\t<!--\t<f:FormElement label=\"{i18n>AC_glAccount}\" visible=\"{AddActivity>/Visible/GlAccount}\">-->\n\t\t\t\t\t<!--\t\t<f:fields>-->\n\t\t\t\t\t<!--\t\t\t<Input editable=\"false\" id=\"GlAccount\" value=\"{AddActivity>/Display/GlAccount}\" visible=\"{AddActivity>/Visible/GlAccount}\"/>-->\n\t\t\t\t\t<!--\t\t</f:fields>-->\n\t\t\t\t\t<!--\t</f:FormElement>-->\n\t\t\t\t\t<!--</f:formElements>-->\n\t\t\t\t\t<!--INBHD02-->\n\t\t\t\t</f:FormContainer>\n\t\t\t</f:formContainers>\n\t\t</f:Form>\n\t</VBox>\n</core:FragmentDefinition>",
		"colgate/asm/planning/base/fragment/ChangeActivity.fragment.xml": "<core:FragmentDefinition xmlns:core=\"sap.ui.core\" xmlns:f=\"sap.ui.layout.form\" xmlns:l=\"sap.ui.layout\" xmlns=\"sap.m\"\n\txmlns:uc=\"sap.ui.unified.calendar\" xmlns:t=\"sap.ui.table\">\n\t<VBox class=\"sapUiSmallMargin\">\n\t\t<f:Form class=\"editableForm\" editable=\"true\" id=\"ChangeActivityForm\" ariaLabelledBy=\"Title1\">\n\t\t\t<f:toolbar>\n\t\t\t\t<Toolbar id=\"Toolbar\">\n\t\t\t\t\t<Title id=\"Title1\" titleStyle=\"H4\" level=\"H4\" text=\"{i18n>itemChange}{ChangeActivity>/Input/OriginalName}\"/>\n\t\t\t\t\t<ToolbarSpacer/>\n\t\t\t\t\t<Button text=\"{i18n>AC_B_save}\" press=\"onSave\" type=\"Accept\"/>\n\t\t\t\t\t<Button text=\"{i18n>AC_B_cancel}\" press=\"onCancel\" type=\"Reject\"/>\n\t\t\t\t</Toolbar>\n\t\t\t</f:toolbar>\n\t\t\t<f:layout>\n\t\t\t\t<f:ResponsiveGridLayout/>\n\t\t\t</f:layout>\n\t\t\t<f:formContainers>\n\t\t\t\t<f:FormContainer ariaLabelledBy=\"Title2\">\n\t\t\t\t\t<f:formElements>\n\t\t\t\t\t\t<f:FormElement id=\"FEGuid\" label=\"{i18n>AC_guid}\">\n\t\t\t\t\t\t\t<f:fields>\n\t\t\t\t\t\t\t\t<Input editable=\"false\" id=\"Guid\" value=\"{ChangeActivity>/Input/OriginalName}\"/>\n\t\t\t\t\t\t\t</f:fields>\n\t\t\t\t\t\t</f:FormElement>\n\t\t\t\t\t\t<f:FormElement id=\"FEProjectType\" label=\"{i18n>AC_projectType}\" visible=\"{ChangeActivity>/Visible/ProjectType}\">\n\t\t\t\t\t\t\t<f:fields>\n\t\t\t\t\t\t\t\t<ComboBox id=\"ProjectType\" items=\"{path:'ChangeActivity>/ProjectType/Current'}\" placeholder=\"{i18n>AC_P_projectType}\"\n\t\t\t\t\t\t\t\t\tselectedKey=\"{ChangeActivity>/Input/ProjectType}\" visible=\"{ChangeActivity>/Visible/ProjectType}\"\n\t\t\t\t\t\t\t\t\tenabled=\"{ChangeActivity>/Enabled/ProjectType}\">\n\t\t\t\t\t\t\t\t\t<items>\n\t\t\t\t\t\t\t\t\t\t<core:Item key=\"{ChangeActivity>Key}\" text=\"{ChangeActivity>Description}\"/>\n\t\t\t\t\t\t\t\t\t</items>\n\t\t\t\t\t\t\t\t</ComboBox>\n\t\t\t\t\t\t\t</f:fields>\n\t\t\t\t\t\t</f:FormElement>\n\t\t\t\t\t\t<f:FormElement id=\"FEActivityType\" label=\"{i18n>AC_activityType}\" visible=\"{ChangeActivity>/Visible/ActivityType}\">\n\t\t\t\t\t\t\t<f:fields>\n\t\t\t\t\t\t\t\t<ComboBox id=\"ActivityType\" items=\"{path:'ChangeActivity>/ActivityType/Current'}\" placeholder=\"{i18n>AC_P_activityType}\"\n\t\t\t\t\t\t\t\t\tselectedKey=\"{ChangeActivity>/Input/ActivityType}\" visible=\"{ChangeActivity>/Visible/ActivityType}\"\n\t\t\t\t\t\t\t\t\tenabled=\"{ChangeActivity>/Enabled/ActivityType}\">\n\t\t\t\t\t\t\t\t\t<items>\n\t\t\t\t\t\t\t\t\t\t<core:Item key=\"{ChangeActivity>Key}\" text=\"{ChangeActivity>Description}\"/>\n\t\t\t\t\t\t\t\t\t</items>\n\t\t\t\t\t\t\t\t</ComboBox>\n\t\t\t\t\t\t\t</f:fields>\n\t\t\t\t\t\t</f:FormElement>\n\t\t\t\t\t\t<f:FormElement id=\"FESubactivityType\" label=\"{i18n>AC_subactivityType}\" visible=\"{ChangeActivity>/Visible/SubactivityType}\">\n\t\t\t\t\t\t\t<f:fields>\n\t\t\t\t\t\t\t\t<!--Begin of Changes - Khrystyne Williams - Nov 2016-->\n\t\t\t\t\t\t\t\t<!--Added a selection change on the Subactivity type-->\n\t\t\t\t\t\t\t\t<ComboBox id=\"SubactivityType\" items=\"{path:'ChangeActivity>/SubactivityType/Current'}\" placeholder=\"{i18n>AC_P_subactivityType}\"\n\t\t\t\t\t\t\t\t\tselectedKey=\"{ChangeActivity>/Input/SubactivityType}\" visible=\"{ChangeActivity>/Visible/SubactivityType}\"\n\t\t\t\t\t\t\t\t\tenabled=\"{ChangeActivity>/Enabled/SubactivityType}\" selectionChange=\"onSubActSelectionChange\">\n\t\t\t\t\t\t\t\t\t<items>\n\t\t\t\t\t\t\t\t\t\t<core:Item key=\"{ChangeActivity>Key}\" text=\"{ChangeActivity>Description}\"/>\n\t\t\t\t\t\t\t\t\t</items>\n\t\t\t\t\t\t\t\t</ComboBox>\n\t\t\t\t\t\t\t\t<!--End of Changes - Khrystyne Williams - Nov 2016-->\n\t\t\t\t\t\t\t</f:fields>\n\t\t\t\t\t\t</f:FormElement>\n\t\t\t\t\t\t<!--Begin of Addition - Khrystyne Williams - September -->\n\t\t\t\t\t\t<f:FormElement id=\"FEName\" label=\"{i18n>AC_name}\" visible=\"{ChangeActivity>/Visible/Name}\">\n\t\t\t\t\t\t\t<f:fields>\n\t\t\t\t\t\t\t\t<Input id=\"Name\" maxLength=\"40\" placeholder=\"{i18n>AC_P_name}\" value=\"{ChangeActivity>/Input/Name}\" visible=\"{ChangeActivity>/Visible/Name}\"\n\t\t\t\t\t\t\t\t\tenabled=\"{ChangeActivity>/Enabled/Name}\" change=\"onCheckValues\"/>\n\t\t\t\t\t\t\t</f:fields>\n\t\t\t\t\t\t</f:FormElement>\n\t\t\t\t\t\t<!--End of Addition - Khrystyne Williams - September-->\n\t\t\t\t\t\t<f:FormElement id=\"FEStatus\" label=\"{i18n>AC_status}\" visible=\"{ChangeActivity>/Visible/Status}\">\n\t\t\t\t\t\t\t<f:fields>\n\t\t\t\t\t\t\t\t<ComboBox id=\"Status\" items=\"{path:'ChangeActivity>/Status'}\" placeholder=\"{i18n>AC_P_status}\" selectedKey=\"{ChangeActivity>/Input/Status}\"\n\t\t\t\t\t\t\t\t\tvisible=\"{ChangeActivity>/Visible/Status}\" enabled=\"{ChangeActivity>/Enabled/Status}\">\n\t\t\t\t\t\t\t\t\t<items>\n\t\t\t\t\t\t\t\t\t\t<core:Item key=\"{ChangeActivity>Status}\" text=\"{ChangeActivity>Description}\"/>\n\t\t\t\t\t\t\t\t\t</items>\n\t\t\t\t\t\t\t\t</ComboBox>\n\t\t\t\t\t\t\t</f:fields>\n\t\t\t\t\t\t</f:FormElement>\n\t\t\t\t\t\t<f:FormElement id=\"FEPriorityKey\" label=\"{i18n>AC_priority}\" visible=\"{ChangeActivity>/Visible/Priority}\">\n\t\t\t\t\t\t\t<f:fields>\n\t\t\t\t\t\t\t\t<ComboBox id=\"PriorityKey\" items=\"{path:'ChangeActivity>/Priority/Current'}\" placeholder=\"{ChangeActivity>/Placeholders/Priority}\"\n\t\t\t\t\t\t\t\t\tselectedKey=\"{ChangeActivity>/Input/PriorityKey}\" width=\"100%\" visible=\"{ChangeActivity>/Visible/Priority}\"\n\t\t\t\t\t\t\t\t\tenabled=\"{ChangeActivity>/Enabled/Priority}\">\n\t\t\t\t\t\t\t\t\t<items>\n\t\t\t\t\t\t\t\t\t\t<core:Item key=\"{ChangeActivity>Key}\" text=\"{ChangeActivity>Description}\"/>\n\t\t\t\t\t\t\t\t\t</items>\n\t\t\t\t\t\t\t\t</ComboBox>\n\t\t\t\t\t\t\t</f:fields>\n\t\t\t\t\t\t</f:FormElement>\n\t\t\t\t\t\t<f:FormElement id=\"FEFunction\" label=\"{i18n>AC_function}\" visible=\"{ChangeActivity>/Visible/Function}\">\n\t\t\t\t\t\t\t<f:fields>\n\t\t\t\t\t\t\t\t<ComboBox id=\"Function\" items=\"{path:'Category>/VHFunctions'}\" placeholder=\"{ChangeActivity>/Placeholders/Function}\"\n\t\t\t\t\t\t\t\t\tselectedKey=\"{ChangeActivity>/Input/Function}\" width=\"100%\" visible=\"{ChangeActivity>/Visible/Function}\"\n\t\t\t\t\t\t\t\t\tenabled=\"{ChangeActivity>/Enabled/Function}\">\n\t\t\t\t\t\t\t\t\t<items>\n\t\t\t\t\t\t\t\t\t\t<core:Item key=\"{Category>Key}\" text=\"{Category>Description}\"/>\n\t\t\t\t\t\t\t\t\t</items>\n\t\t\t\t\t\t\t\t</ComboBox>\n\t\t\t\t\t\t\t</f:fields>\n\t\t\t\t\t\t</f:FormElement>\n\t\t\t\t\t\t<f:FormElement id=\"FEChannel\" label=\"{i18n>AC_channel}\" visible=\"{ChangeActivity>/Visible/Channel}\">\n\t\t\t\t\t\t\t<f:fields>\n\t\t\t\t\t\t\t\t<ComboBox id=\"Channel\" items=\"{path:'Category>/VHChannels'}\" placeholder=\"{ChangeActivity>/Placeholders/Channel}\"\n\t\t\t\t\t\t\t\t\tselectedKey=\"{ChangeActivity>/Input/Channel}\" width=\"100%\" visible=\"{ChangeActivity>/Visible/Channel}\"\n\t\t\t\t\t\t\t\t\tenabled=\"{ChangeActivity>/Enabled/Channel}\">\n\t\t\t\t\t\t\t\t\t<items>\n\t\t\t\t\t\t\t\t\t\t<core:Item key=\"{Category>Key}\" text=\"{Category>Description}\"/>\n\t\t\t\t\t\t\t\t\t</items>\n\t\t\t\t\t\t\t\t</ComboBox>\n\t\t\t\t\t\t\t</f:fields>\n\t\t\t\t\t\t</f:FormElement>\n\t\t\t\t\t\t<f:FormElement id=\"FERetailer\" label=\"{i18n>AC_retailer}\" visible=\"{ChangeActivity>/Visible/Retailer}\">\n\t\t\t\t\t\t\t<f:fields>\n\t\t\t\t\t\t\t\t<FlexBox justifyContent=\"SpaceBetween\" fitContainer=\"true\">\n\t\t\t\t\t\t\t\t\t<items>\n\t\t\t\t\t\t\t\t\t\t<ComboBox id=\"Retailer\" items=\"{path:'ChangeActivity>/Retailer/Current'}\" placeholder=\"{ChangeActivity>/Placeholders/Retailer}\"\n\t\t\t\t\t\t\t\t\t\t\tselectedKey=\"{ChangeActivity>/Input/Retailer}\" visible=\"{ChangeActivity>/Visible/Retailer}\" enabled=\"false\" showButton=\"false\" width=\"300px\">\n\t\t\t\t\t\t\t\t\t\t\t<items>\n\t\t\t\t\t\t\t\t\t\t\t\t<core:Item key=\"{ChangeActivity>Key}\" text=\"{ChangeActivity>Description}\"/>\n\t\t\t\t\t\t\t\t\t\t\t</items>\n\t\t\t\t\t\t\t\t\t\t</ComboBox>\n\t\t\t\t\t\t\t\t\t\t<Button icon=\"sap-icon://sys-cancel\" press=\"onRetailerClear\" visible=\"{ChangeActivity>/Visible/Retailer}\"\n\t\t\t\t\t\t\t\t\t\t\tenabled=\"{ChangeActivity>/Enabled/Retailer}\"/>\n\t\t\t\t\t\t\t\t\t\t<Button icon=\"sap-icon://search\" press=\"onRetailerShow\" visible=\"{ChangeActivity>/Visible/Retailer}\"\n\t\t\t\t\t\t\t\t\t\t\tenabled=\"{ChangeActivity>/Enabled/Retailer}\"/>\n\t\t\t\t\t\t\t\t\t</items>\n\t\t\t\t\t\t\t\t</FlexBox>\n\t\t\t\t\t\t\t</f:fields>\n\t\t\t\t\t\t</f:FormElement>\n\t\t\t\t\t\t<f:FormElement id=\"FEPlanningYear\" label=\"{i18n>AC_planyear}\">\n\t\t\t\t\t\t\t<f:fields>\n\t\t\t\t\t\t\t\t<Input editable=\"false\" id=\"PlanningYear\" value=\"{ChangeActivity>/Input/PlanningYear}\"/>\n\t\t\t\t\t\t\t</f:fields>\n\t\t\t\t\t\t</f:FormElement>\n\t\t\t\t\t\t<f:FormElement id=\"FEStartDt\" label=\"{i18n>AC_startend}\">\n\t\t\t\t\t\t\t<f:fields>\n\t\t\t\t\t\t\t\t<FlexBox id=\"FStartDt\">\n\t\t\t\t\t\t\t\t\t<DatePicker visible=\"false\" enabled=\"false\" displayFormat=\"MM/yyyy\" id=\"StartDt\" placeholder=\"{i18n>AC_P_start}\"\n\t\t\t\t\t\t\t\t\t\tvalue=\"{ChangeActivity>/Input/StartDt}\" valueFormat=\"yyyyMMdd\"/>\n\t\t\t\t\t\t\t\t\t<uc:MonthPicker id=\"MonthSt\" select=\"onDtChange\"/>\n\t\t\t\t\t\t\t\t</FlexBox>\n\t\t\t\t\t\t\t</f:fields>\n\t\t\t\t\t\t</f:FormElement>\n\t\t\t\t\t\t<f:FormElement id=\"FEEndDt\" label=\"{i18n>AC_endmonth}\">\n\t\t\t\t\t\t\t<f:fields>\n\t\t\t\t\t\t\t\t<FlexBox id=\"FEndDt\">\n\t\t\t\t\t\t\t\t\t<DatePicker visible=\"false\" enabled=\"false\" displayFormat=\"MM/yyyy\" id=\"EndDt\" placeholder=\"{i18n>AC_P_end}\"\n\t\t\t\t\t\t\t\t\t\tvalue=\"{ChangeActivity>/Input/EndDt}\" valueFormat=\"yyyyMMdd\"/>\n\t\t\t\t\t\t\t\t\t<uc:MonthPicker id=\"MonthEd\" select=\"onDtChange\"/>\n\t\t\t\t\t\t\t\t</FlexBox>\n\t\t\t\t\t\t\t</f:fields>\n\t\t\t\t\t\t</f:FormElement>\n\t\t\t\t\t\t<!--INBHD02-->\n\t\t\t\t\t\t<f:FormElement>\n\t\t\t\t\t\t\t<f:fields>\n\t\t\t\t\t\t\t\t<Title id=\"Title3\" text=\"{i18n>AC_aInformation}\" level=\"H5\" titleStyle=\"H5\"/>\n\t\t\t\t\t\t\t</f:fields>\n\t\t\t\t\t\t</f:FormElement>\n\t\t\t\t\t\t<f:FormElement id=\"FEMaxValueC\" label=\"{i18n>AC_maxc}\" visible=\"{ChangeActivity>/Visible/MaxValueC}\">\n\t\t\t\t\t\t\t<f:fields>\n\t\t\t\t\t\t\t\t<HBox alignItems=\"Center\">\n\t\t\t\t\t\t\t\t\t<Input editable=\"false\" id=\"MaxValueC\" liveChange=\"onBudgetChange\"\n\t\t\t\t\t\t\t\t\t\tvalue=\"{parts:[{path:'ChangeActivity>/Input/MaxValueC'},{path:'ChangeActivity>/Input/Currency'}], type: 'colgate.asm.planning.base.util.CustomCurrencyType', formatOptions: {showMeasure: false, currencyCode: false, minFractionDigits:0, maxFractionDigits:0}}\"/>\n\t\t\t\t\t\t\t\t\t<Label text=\"{ChangeActivity>/Input/Currency}\" class=\"sapUiTinyMarginBegin\"/>\n\t\t\t\t\t\t\t\t</HBox>\n\t\t\t\t\t\t\t</f:fields>\n\t\t\t\t\t\t</f:FormElement>\n\t\t\t\t\t\t<f:FormElement id=\"FEDemographics\" label=\"{i18n>AC_demographics}\" visible=\"{ChangeActivity>/Visible/Demographics}\">\n\t\t\t\t\t\t\t<f:fields>\n\t\t\t\t\t\t\t\t<ComboBox id=\"Demographics\" items=\"{path:'ChangeActivity>/Demographics/Current'}\" placeholder=\"{ChangeActivity>/Placeholders/Demographics}\"\n\t\t\t\t\t\t\t\t\tselectedKey=\"{ChangeActivity>/Input/Demographics}\" width=\"100%\" visible=\"{ChangeActivity>/Visible/Demographics}\"\n\t\t\t\t\t\t\t\t\tenabled=\"{ChangeActivity>/Enabled/Demographics}\">\n\t\t\t\t\t\t\t\t\t<items>\n\t\t\t\t\t\t\t\t\t\t<core:Item key=\"{ChangeActivity>Key}\" text=\"{ChangeActivity>Description}\"/>\n\t\t\t\t\t\t\t\t\t</items>\n\t\t\t\t\t\t\t\t</ComboBox>\n\t\t\t\t\t\t\t</f:fields>\n\t\t\t\t\t\t</f:FormElement>\n\t\t\t\t\t\t<f:FormElement label=\"{i18n>AC_longText}\">\n\t\t\t\t\t\t\t<f:fields>\n\t\t\t\t\t\t\t\t<TextArea maxLength=\"255\" rows=\"3\" value=\"{ChangeActivity>/Input/LongText}\"/>\n\t\t\t\t\t\t\t</f:fields>\n\t\t\t\t\t\t</f:FormElement>\n\t\t\t\t\t\t<f:FormElement label=\"{i18n>AC_agency}\" visible=\"{ChangeActivity>/Visible/Agency}\">\n\t\t\t\t\t\t\t<f:fields>\n\t\t\t\t\t\t\t\t<FlexBox justifyContent=\"SpaceBetween\" fitContainer=\"true\">\n\t\t\t\t\t\t\t\t\t<items>\n\t\t\t\t\t\t\t\t\t\t<ComboBox id=\"Agency\" items=\"{path:'ChangeActivity>/Agency/Current'}\" placeholder=\"{ChangeActivity>/Placeholders/Agency}\"\n\t\t\t\t\t\t\t\t\t\t\tselectedKey=\"{ChangeActivity>/Input/Agency}\" visible=\"{ChangeActivity>/Visible/Agency}\" enabled=\"false\" showButton=\"false\" width=\"300px\">\n\t\t\t\t\t\t\t\t\t\t\t<items>\n\t\t\t\t\t\t\t\t\t\t\t\t<core:Item key=\"{ChangeActivity>Key}\" text=\"{ChangeActivity>Description}\"/>\n\t\t\t\t\t\t\t\t\t\t\t</items>\n\t\t\t\t\t\t\t\t\t\t</ComboBox>\n\t\t\t\t\t\t\t\t\t\t<Button icon=\"sap-icon://sys-cancel\" press=\"onAgencyClear\" visible=\"{ChangeActivity>/Visible/Agency}\"\n\t\t\t\t\t\t\t\t\t\t\tenabled=\"{ChangeActivity>/Enabled/Agency}\"/>\n\t\t\t\t\t\t\t\t\t\t<Button icon=\"sap-icon://search\" press=\"onAgencyShow\" visible=\"{ChangeActivity>/Visible/Agency}\" enabled=\"{ChangeActivity>/Enabled/Agency}\"/>\n\t\t\t\t\t\t\t\t\t</items>\n\t\t\t\t\t\t\t\t</FlexBox>\n\t\t\t\t\t\t\t</f:fields>\n\t\t\t\t\t\t</f:FormElement>\n\t\t\t\t\t\t<f:FormElement label=\"{i18n>AC_glAccount}\" visible=\"{ChangeActivity>/Visible/GlAccount}\">\n\t\t\t\t\t\t\t<f:fields>\n\t\t\t\t\t\t\t\t<Input id=\"GlAccount\" editable=\"false\" value=\"{ChangeActivity>/Input/GlAccount}\" visible=\"{ChangeActivity>/Visible/GlAccount}\"/>\n\t\t\t\t\t\t\t</f:fields>\n\t\t\t\t\t\t</f:FormElement>\n\t\t\t\t\t\t<!--INBHD02-->\n\t\t\t\t\t</f:formElements>\n\t\t\t\t</f:FormContainer>\n\t\t\t\t<f:FormContainer ariaLabelledBy=\"Title3\">\n\t\t\t\t\t<f:formElements>\n\t\t\t\t\t\t<f:FormElement>\n\t\t\t\t\t\t\t<f:fields>\n\t\t\t\t\t\t\t\t<Title id=\"TitleGeo\" text=\"{i18n>AC_G_geography}\" level=\"H5\" titleStyle=\"H5\"/>\n\t\t\t\t\t\t\t</f:fields>\n\t\t\t\t\t\t</f:FormElement>\n\t\t\t\t\t\t<f:FormElement id=\"FEDivision\" label=\"{i18n>AC_division}\" visible=\"{ChangeActivity>/Visible/Division}\">\n\t\t\t\t\t\t\t<f:fields>\n\t\t\t\t\t\t\t\t<ComboBox id=\"DivisionKey\" items=\"{path:'Division>/VHDivision'}\" placeholder=\"{i18n>AC_P_division}\"\n\t\t\t\t\t\t\t\t\tselectedKey=\"{ChangeActivity>/Input/DivisionKey}\" selectionChange=\"onGeoSelectionChange\" visible=\"{ChangeActivity>/Visible/Division}\"\n\t\t\t\t\t\t\t\t\tenabled=\"{ChangeActivity>/Enabled/Division}\">\n\t\t\t\t\t\t\t\t\t<items>\n\t\t\t\t\t\t\t\t\t\t<core:Item key=\"{Division>GeoKey}\" text=\"{Division>Desc}\"/>\n\t\t\t\t\t\t\t\t\t</items>\n\t\t\t\t\t\t\t\t</ComboBox>\n\t\t\t\t\t\t\t</f:fields>\n\t\t\t\t\t\t</f:FormElement>\n\t\t\t\t\t\t<f:FormElement id=\"FEHub\" label=\"{i18n>AC_hub}\" visible=\"{ChangeActivity>/Visible/Hub}\">\n\t\t\t\t\t\t\t<f:fields>\n\t\t\t\t\t\t\t\t<ComboBox id=\"HubKey\" items=\"{path:'ChangeActivity>/Hub/Current'}\" placeholder=\"{ChangeActivity>/Placeholders/Hub}\"\n\t\t\t\t\t\t\t\t\tselectedKey=\"{ChangeActivity>/Input/HubKey}\" selectionChange=\"onGeoSelectionChange\" visible=\"{ChangeActivity>/Visible/Hub}\"\n\t\t\t\t\t\t\t\t\tenabled=\"{ChangeActivity>/Enabled/Hub}\">\n\t\t\t\t\t\t\t\t\t<items>\n\t\t\t\t\t\t\t\t\t\t<core:Item key=\"{ChangeActivity>GeoKey}\" text=\"{ChangeActivity>Desc}\"/>\n\t\t\t\t\t\t\t\t\t</items>\n\t\t\t\t\t\t\t\t</ComboBox>\n\t\t\t\t\t\t\t</f:fields>\n\t\t\t\t\t\t</f:FormElement>\n\t\t\t\t\t\t<f:FormElement id=\"FESub\" label=\"{i18n>AC_subsidiary}\" visible=\"{ChangeActivity>/Visible/Sub}\">\n\t\t\t\t\t\t\t<f:fields>\n\t\t\t\t\t\t\t\t<ComboBox id=\"SubKey\" items=\"{path:'ChangeActivity>/Sub/Current'}\" placeholder=\"{ChangeActivity>/Placeholders/Sub}\"\n\t\t\t\t\t\t\t\t\tselectedKey=\"{ChangeActivity>/Input/SubKey}\" selectionChange=\"onGeoSelectionChange\" visible=\"{ChangeActivity>/Visible/Sub}\"\n\t\t\t\t\t\t\t\t\tenabled=\"{ChangeActivity>/Enabled/Sub}\">\n\t\t\t\t\t\t\t\t\t<items>\n\t\t\t\t\t\t\t\t\t\t<core:Item key=\"{ChangeActivity>GeoKey}\" text=\"{ChangeActivity>Desc}\"/>\n\t\t\t\t\t\t\t\t\t</items>\n\t\t\t\t\t\t\t\t</ComboBox>\n\t\t\t\t\t\t\t</f:fields>\n\t\t\t\t\t\t</f:FormElement>\n\t\t\t\t\t\t<f:FormElement>\n\t\t\t\t\t\t\t<f:fields>\n\t\t\t\t\t\t\t\t<Title id=\"TitlePH\" text=\"{i18n>AC_G_prodhier}\" level=\"H5\" titleStyle=\"H5\"/>\n\t\t\t\t\t\t\t</f:fields>\n\t\t\t\t\t\t</f:FormElement>\n\t\t\t\t\t\t<f:FormElement id=\"FECategory\" label=\"{i18n>AC_category}\" visible=\"{ChangeActivity>/Visible/Category}\">\n\t\t\t\t\t\t\t<f:fields>\n\t\t\t\t\t\t\t\t<ComboBox id=\"CategoryKey\" items=\"{path:'ChangeActivity>/Category/Current'}\" placeholder=\"{ChangeActivity>/Placeholders/Category}\"\n\t\t\t\t\t\t\t\t\tselectedKey=\"{ChangeActivity>/Input/CategoryKey}\" selectionChange=\"onSelectionChange\" visible=\"{ChangeActivity>/Visible/Category}\"\n\t\t\t\t\t\t\t\t\tenabled=\"{ChangeActivity>/Enabled/Category}\">\n\t\t\t\t\t\t\t\t\t<items>\n\t\t\t\t\t\t\t\t\t\t<core:Item key=\"{ChangeActivity>Key}\" text=\"{ChangeActivity>Description}\"/>\n\t\t\t\t\t\t\t\t\t</items>\n\t\t\t\t\t\t\t\t</ComboBox>\n\t\t\t\t\t\t\t</f:fields>\n\t\t\t\t\t\t</f:FormElement>\n\t\t\t\t\t\t<f:FormElement id=\"FESubcategory\" label=\"{i18n>AC_pscategory}\" visible=\"{ChangeActivity>/Visible/Subcategory}\">\n\t\t\t\t\t\t\t<f:fields>\n\t\t\t\t\t\t\t\t<ComboBox id=\"SubcategoryKey\" items=\"{path:'ChangeActivity>/Subcategory/Current'}\" placeholder=\"{ChangeActivity>/Placeholders/Subcategory}\"\n\t\t\t\t\t\t\t\t\tselectedKey=\"{ChangeActivity>/Input/SubcategoryKey}\" selectionChange=\"onSelectionChange\" visible=\"{ChangeActivity>/Visible/Subcategory}\"\n\t\t\t\t\t\t\t\t\tenabled=\"{ChangeActivity>/Enabled/Subcategory}\">\n\t\t\t\t\t\t\t\t\t<items>\n\t\t\t\t\t\t\t\t\t\t<core:Item key=\"{ChangeActivity>Key}\" text=\"{ChangeActivity>Description}\"/>\n\t\t\t\t\t\t\t\t\t</items>\n\t\t\t\t\t\t\t\t</ComboBox>\n\t\t\t\t\t\t\t</f:fields>\n\t\t\t\t\t\t</f:FormElement>\n\t\t\t\t\t\t<f:FormElement id=\"FEBrand\" label=\"{i18n>AC_brand}\" visible=\"{ChangeActivity>/Visible/Brand}\">\n\t\t\t\t\t\t\t<f:fields>\n\t\t\t\t\t\t\t\t<ComboBox id=\"BrandKey\" items=\"{path:'ChangeActivity>/Brand/Current'}\" placeholder=\"{ChangeActivity>/Placeholders/Brand}\"\n\t\t\t\t\t\t\t\t\tselectedKey=\"{ChangeActivity>/Input/BrandKey}\" selectionChange=\"onSelectionChange\" visible=\"{ChangeActivity>/Visible/Brand}\"\n\t\t\t\t\t\t\t\t\tenabled=\"{ChangeActivity>/Enabled/Brand}\">\n\t\t\t\t\t\t\t\t\t<items>\n\t\t\t\t\t\t\t\t\t\t<core:Item key=\"{ChangeActivity>Key}\" text=\"{ChangeActivity>Description}\"/>\n\t\t\t\t\t\t\t\t\t</items>\n\t\t\t\t\t\t\t\t</ComboBox>\n\t\t\t\t\t\t\t</f:fields>\n\t\t\t\t\t\t</f:FormElement>\n\t\t\t\t\t\t<f:FormElement id=\"FESubbrand\" label=\"{i18n>AC_subbrand}\" visible=\"{ChangeActivity>/Visible/Subbrand}\">\n\t\t\t\t\t\t\t<f:fields>\n\t\t\t\t\t\t\t\t<ComboBox id=\"SubbrandKey\" items=\"{path:'ChangeActivity>/Subbrand/Current'}\" placeholder=\"{ChangeActivity>/Placeholders/Subbrand}\"\n\t\t\t\t\t\t\t\t\tselectedKey=\"{ChangeActivity>/Input/SubbrandKey}\" selectionChange=\"onSelectionChange\" visible=\"{ChangeActivity>/Visible/Subbrand}\"\n\t\t\t\t\t\t\t\t\tenabled=\"{ChangeActivity>/Enabled/Subbrand}\">\n\t\t\t\t\t\t\t\t\t<items>\n\t\t\t\t\t\t\t\t\t\t<core:Item key=\"{ChangeActivity>Key}\" text=\"{ChangeActivity>Description}\"/>\n\t\t\t\t\t\t\t\t\t</items>\n\t\t\t\t\t\t\t\t</ComboBox>\n\t\t\t\t\t\t\t</f:fields>\n\t\t\t\t\t\t</f:FormElement>\n\t\t\t\t\t\t<!--INBHD02 Cross sub brand allocation-->\n\t\t\t\t\t\t<f:FormElement id=\"FECrossSubbrand\" label=\"{i18n>AC_crosssubbrand}\" visible=\"{ChangeActivity>/Visible/CrossSubBrand}\">\n\t\t\t\t\t\t\t<f:fields>\n\t\t\t\t\t\t\t\t<FlexBox justifyContent=\"SpaceBetween\" fitContainer=\"true\">\n\t\t\t\t\t\t\t\t\t<Button icon=\"sap-icon://add-activity\" text=\"{i18n>AC_SelCrossSubBrand}\" press=\"onSelectCrossBrand\" visible=\"true\"\n\t\t\t\t\t\t\t\t\t\tenabled=\"{ChangeActivity>/Enabled/CrossSubBrandButton}\"/>\n\t\t\t\t\t\t\t\t</FlexBox>\n\t\t\t\t\t\t\t</f:fields>\n\t\t\t\t\t\t</f:FormElement>\n\t\t\t\t\t\t<f:FormElement id=\"FECrossSubbrandList\" label=\"{i18n>AC_listcrosssubbrand}\" visible=\"{ChangeActivity>/Visible/CrossSubBrandList}\">\n\t\t\t\t\t\t\t<f:fields>\n\t\t\t\t\t\t\t\t<FlexBox fitContainer=\"true\">\n\t\t\t\t\t\t\t\t\t<t:Table id=\"CSBListView\" rows=\"{path:'ChangeActivity>/CSBSubbrand/Selected'}\" selectionMode=\"None\" visibleRowCount=\"12\"\n\t\t\t\t\t\t\t\t\t\tcolumnHeaderVisible=\"false\">\n\t\t\t\t\t\t\t\t\t\t<t:columns>\n\t\t\t\t\t\t\t\t\t\t\t<t:Column resizable=\"false\">\n\t\t\t\t\t\t\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Text text=\"{ChangeActivity>SubbrandDesc}\"/>\n\t\t\t\t\t\t\t\t\t\t\t\t</t:template>\n\t\t\t\t\t\t\t\t\t\t\t</t:Column>\n\t\t\t\t\t\t\t\t\t\t</t:columns>\n\t\t\t\t\t\t\t\t\t</t:Table>\n\t\t\t\t\t\t\t\t</FlexBox>\n\t\t\t\t\t\t\t</f:fields>\n\t\t\t\t\t\t</f:FormElement>\n\t\t\t\t\t\t<!--INBHD02 Cross sub brand allocation-->\n\t\t\t\t\t\t<!--INBHD02-->\n\t\t\t\t\t\t<!--<f:FormElement>-->\n\t\t\t\t\t\t<!--\t<f:fields>-->\n\t\t\t\t\t\t<!--\t\t<Title id=\"Title3\" text=\"{i18n>AC_aInformation}\" level=\"H5\" titleStyle=\"H5\"/>-->\n\t\t\t\t\t\t<!--\t</f:fields>-->\n\t\t\t\t\t\t<!--</f:FormElement>-->\n\t\t\t\t\t\t<!--<f:FormElement id=\"FEMaxValueC\" label=\"{i18n>AC_maxc}\" visible=\"{ChangeActivity>/Visible/MaxValueC}\">-->\n\t\t\t\t\t\t<!--\t<f:fields>-->\n\t\t\t\t\t\t<!--\t\t<HBox alignItems=\"Center\">-->\n\t\t\t\t\t\t<!--\t\t\t<Input editable=\"false\" id=\"MaxValueC\" liveChange=\"onBudgetChange\"-->\n\t\t\t\t\t\t<!--\t\t\t\tvalue=\"{parts:[{path:'ChangeActivity>/Input/MaxValueC'},{path:'ChangeActivity>/Input/Currency'}], type: 'colgate.asm.planning.base.util.CustomCurrencyType', formatOptions: {showMeasure: false, currencyCode: false, minFractionDigits:0, maxFractionDigits:0}}\"/>-->\n\t\t\t\t\t\t<!--\t\t\t<Label text=\"{ChangeActivity>/Input/Currency}\" class=\"sapUiTinyMarginBegin\"/>-->\n\t\t\t\t\t\t<!--\t\t</HBox>-->\n\t\t\t\t\t\t<!--\t</f:fields>-->\n\t\t\t\t\t\t<!--</f:FormElement>-->\n\t\t\t\t\t\t<!--<f:FormElement id=\"FEDemographics\" label=\"{i18n>AC_demographics}\" visible=\"{ChangeActivity>/Visible/Demographics}\">-->\n\t\t\t\t\t\t<!--\t<f:fields>-->\n\t\t\t\t\t\t<!--\t\t<ComboBox id=\"Demographics\" items=\"{path:'ChangeActivity>/Demographics/Current'}\" placeholder=\"{ChangeActivity>/Placeholders/Demographics}\"-->\n\t\t\t\t\t\t<!--\t\t\tselectedKey=\"{ChangeActivity>/Input/Demographics}\" width=\"100%\" visible=\"{ChangeActivity>/Visible/Demographics}\"-->\n\t\t\t\t\t\t<!--\t\t\tenabled=\"{ChangeActivity>/Enabled/Demographics}\">-->\n\t\t\t\t\t\t<!--\t\t\t<items>-->\n\t\t\t\t\t\t<!--\t\t\t\t<core:Item key=\"{ChangeActivity>Key}\" text=\"{ChangeActivity>Description}\"/>-->\n\t\t\t\t\t\t<!--\t\t\t</items>-->\n\t\t\t\t\t\t<!--\t\t</ComboBox>-->\n\t\t\t\t\t\t<!--\t</f:fields>-->\n\t\t\t\t\t\t<!--</f:FormElement>-->\n\t\t\t\t\t\t<!--<f:FormElement label=\"{i18n>AC_longText}\">-->\n\t\t\t\t\t\t<!--\t<f:fields>-->\n\t\t\t\t\t\t<!--\t\t<TextArea maxLength=\"255\" rows=\"3\" value=\"{ChangeActivity>/Input/LongText}\"/>-->\n\t\t\t\t\t\t<!--\t</f:fields>-->\n\t\t\t\t\t\t<!--</f:FormElement>-->\n\t\t\t\t\t\t<!--<f:FormElement label=\"{i18n>AC_agency}\" visible=\"{ChangeActivity>/Visible/Agency}\">-->\n\t\t\t\t\t\t<!--\t<f:fields>-->\n\t\t\t\t\t\t<!--\t\t<FlexBox justifyContent=\"SpaceBetween\" fitContainer=\"true\">-->\n\t\t\t\t\t\t<!--\t\t\t<items>-->\n\t\t\t\t\t\t<!--\t\t\t\t<ComboBox id=\"Agency\" items=\"{path:'ChangeActivity>/Agency/Current'}\" placeholder=\"{ChangeActivity>/Placeholders/Agency}\"-->\n\t\t\t\t\t\t<!--\t\t\t\t\tselectedKey=\"{ChangeActivity>/Input/Agency}\" visible=\"{ChangeActivity>/Visible/Agency}\" enabled=\"false\" showButton=\"false\" width=\"300px\">-->\n\t\t\t\t\t\t<!--\t\t\t\t\t<items>-->\n\t\t\t\t\t\t<!--\t\t\t\t\t\t<core:Item key=\"{ChangeActivity>Key}\" text=\"{ChangeActivity>Description}\"/>-->\n\t\t\t\t\t\t<!--\t\t\t\t\t</items>-->\n\t\t\t\t\t\t<!--\t\t\t\t</ComboBox>-->\n\t\t\t\t\t\t<!--\t\t\t\t<Button icon=\"sap-icon://sys-cancel\" press=\"onAgencyClear\" visible=\"{ChangeActivity>/Visible/Agency}\"-->\n\t\t\t\t\t\t<!--\t\t\t\t\tenabled=\"{ChangeActivity>/Enabled/Agency}\"/>-->\n\t\t\t\t\t\t<!--\t\t\t\t<Button icon=\"sap-icon://search\" press=\"onAgencyShow\" visible=\"{ChangeActivity>/Visible/Agency}\" enabled=\"{ChangeActivity>/Enabled/Agency}\"/>-->\n\t\t\t\t\t\t<!--\t\t\t</items>-->\n\t\t\t\t\t\t<!--\t\t</FlexBox>-->\n\t\t\t\t\t\t<!--\t</f:fields>-->\n\t\t\t\t\t\t<!--</f:FormElement>-->\n\t\t\t\t\t\t<!--<f:FormElement label=\"{i18n>AC_glAccount}\" visible=\"{ChangeActivity>/Visible/GlAccount}\">-->\n\t\t\t\t\t\t<!--\t<f:fields>-->\n\t\t\t\t\t\t<!--\t\t<Input id=\"GlAccount\" editable=\"false\" value=\"{ChangeActivity>/Input/GlAccount}\" visible=\"{ChangeActivity>/Visible/GlAccount}\"/>-->\n\t\t\t\t\t\t<!--\t</f:fields>-->\n\t\t\t\t\t\t<!--</f:FormElement>-->\n\t\t\t\t\t</f:formElements>\n\t\t\t\t</f:FormContainer>\n\t\t\t</f:formContainers>\n\t\t</f:Form>\n\t</VBox>\n</core:FragmentDefinition>",
		"colgate/asm/planning/base/fragment/VendorSelection.fragment.xml": "<core:FragmentDefinition xmlns=\"sap.m\" xmlns:core=\"sap.ui.core\">\r\n\t<SelectDialog noDataText=\"{Text>Agency_noDataText}\" title=\"{Text>Agency_Title}\" liveChange=\"onChange\" search=\"onChange\" confirm=\"onConfirm\" close=\"onClose\"\r\n\t\titems=\"{path:'/Agency/Current'}\">\r\n\t\t<StandardListItem title=\"{Description}\"/>\r\n\t</SelectDialog>\r\n</core:FragmentDefinition>",
		"colgate/asm/planning/base/fragment/GlobalSettings.fragment.xml": "<core:FragmentDefinition\r\n\t\txmlns=\"sap.m\"\r\n\t\txmlns:core=\"sap.ui.core\">\r\n\t<ViewSettingsDialog\r\n\t\t\tconfirm=\"onGPConfirm\">\r\n\t\t<customTabs>\r\n\t\t\t<ViewSettingsCustomTab id=\"app-settings\" icon=\"sap-icon://action-settings\" title=\"{i18n>GS_settings}\" tooltip=\"{i18n>GS_personalization}\">\r\n\t\t\t\t<content>\r\n\t\t\t\t\t<Panel height=\"388px\">\r\n\t\t\t\t\t\t<content>\r\n\t\t\t\t\t\t<Label text=\"{i18n>GS_hideMaster}\" design=\"Bold\"/>\r\n\t\t\t\t\t\t<SegmentedButton width=\"100%\" id=\"GS_hideMaster\">\r\n\t\t\t\t\t\t\t<Button text=\"{i18n>GS_yes}\" id=\"YES\" />\r\n\t\t\t\t\t\t\t<Button text=\"{i18n>GS_no}\" id=\"NO\" />\r\n\t\t\t\t\t\t</SegmentedButton>\r\n\t\t\t\t\t\t</content>\r\n\t\t\t\t\t</Panel>\r\n\t\t\t\t</content>\r\n\t\t\t</ViewSettingsCustomTab>\r\n\t\t</customTabs>\r\n\t</ViewSettingsDialog>\r\n</core:FragmentDefinition>",
		"colgate/asm/planning/base/fragment/ProjectsPersonalizationDialog.fragment.xml": "<core:FragmentDefinition xmlns:app=\"http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1\" xmlns:core=\"sap.ui.core\"\r\n\txmlns:custom=\"colgate.asm.planning.base.util\" xmlns:f=\"sap.ui.layout.form\" xmlns=\"sap.m\">\r\n\t<P13nDialog busy=\"{masterShared>/oDetailBusy/busy}\" busyIndicatorDelay=\"{masterShared>/oDetailBusy/delay}\" cancel=\"onP13nHandleCancel\"\r\n\t\tinitialVisiblePanelType=\"columns\" ok=\"onP13nHandleClose\" reset=\"onP13nHandleReset\" showReset=\"true\">\r\n\t\t<panels>\r\n\t\t\t<P13nColumnsPanel addColumnsItem=\"onP13nAddColumnsItem\" changeColumnsItems=\"onP13nChangeColumnsItem\"\r\n\t\t\t\titems=\"{ path: 'P13n>/ColumnCollection' }\" title=\"Columns\" type=\"columns\" visible=\"true\">\r\n\t\t\t\t<items>\r\n\t\t\t\t\t<P13nItem columnKey=\"{P13n>path}\" text=\"{P13n>text}\" visible=\"{P13n>visible}\"/>\r\n\t\t\t\t</items>\r\n\t\t\t</P13nColumnsPanel>\r\n\t\t\t<P13nSortPanel addSortItem=\"onP13nAddSortItem\" containerQuery=\"true\" id=\"oP13nProjectSortPanel\" items=\"{ path: 'P13n>/ColumnCollection' }\"\r\n\t\t\t\tlayoutMode=\"Desktop\" removeSortItem=\"onP13nRemoveSortItem\" sortItems=\"{ path: 'P13n>/SortItems' }\" title=\"Sort\" type=\"sort\"\r\n\t\t\t\tupdateSortItem=\"onP13nUpdateSortItem\" visible=\"false\">\r\n\t\t\t\t<P13nItem columnKey=\"{P13n>path}\" text=\"{P13n>text}\"/>\r\n\t\t\t\t<sortItems>\r\n\t\t\t\t\t<P13nSortItem columnKey=\"{P13n>columnKey}\" operation=\"{P13n>operation}\"/>\r\n\t\t\t\t</sortItems>\r\n\t\t\t</P13nSortPanel>\r\n\t\t\t<P13nFilterPanel addFilterItem=\"onP13nAddFilterItem\" containerQuery=\"true\" filterItems=\"{ path: 'P13n>/FilterItems' }\"\r\n\t\t\t\tid=\"oP13nProjectFilterPanel\" items=\"{ path: 'P13n>/ColumnCollection' }\" layoutMode=\"Desktop\" removeFilterItem=\"onP13nRemoveFilterItem\"\r\n\t\t\t\ttitle=\"Filter\" type=\"filter\" updateFilterItem=\"onP13nUpdateFilterItem\" visible=\"true\">\r\n\t\t\t\t<P13nItem columnKey=\"{P13n>path}\" text=\"{P13n>text}\"/>\r\n\t\t\t\t<filterItems>\r\n\t\t\t\t\t<P13nFilterItem columnKey=\"{P13n>columnKey}\" operation=\"{P13n>operation}\" value1=\"{P13n>value1}\" exclude=\"{P13n>exclude}\"/>\r\n\t\t\t\t</filterItems>\r\n\t\t\t</P13nFilterPanel>\r\n\t\t\t<custom:CustomPersonalizationPanel title=\"{i18n>CP_tabtitle}\" type=\"custom1\" visible=\"true\">\r\n\t\t\t\t<custom:content>\r\n\t\t\t\t\t<FlexBox alignItems=\"Left\" direction=\"Column\" width=\"100%\">\r\n\t\t\t\t\t\t<items>\r\n\t\t\t\t\t\t\t<FlexBox alignItems=\"Center\" direction=\"Row\" justifyContent=\"spaceAround\" width=\"100%\">\r\n\t\t\t\t\t\t\t\t<items>\r\n\t\t\t\t\t\t\t\t\t<Panel>\r\n\t\t\t\t\t\t\t\t\t\t<headerToolbar>\r\n\t\t\t\t\t\t\t\t\t\t\t<Toolbar height=\"3rem\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Title text=\"{i18n>CP_header}\"/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ToolbarSpacer/>\r\n\t\t\t\t\t\t\t\t\t\t\t</Toolbar>\r\n\t\t\t\t\t\t\t\t\t\t</headerToolbar>\r\n\t\t\t\t\t\t\t\t\t\t<content>\r\n\t\t\t\t\t\t\t\t\t\t\t<Text text=\"{i18n>CP_instructions}\"/>\r\n\t\t\t\t\t\t\t\t\t\t\t<FlexBox alignItems=\"Start\" direction=\"Column\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Button icon=\"sap-icon://display-more\" press=\"onP13nHandleReload\" text=\"{i18n>CP_fetch}\"/>\r\n\t\t\t\t\t\t\t\t\t\t\t</FlexBox>\r\n\t\t\t\t\t\t\t\t\t\t</content>\r\n\t\t\t\t\t\t\t\t\t</Panel>\r\n\t\t\t\t\t\t\t\t</items>\r\n\t\t\t\t\t\t\t</FlexBox>\r\n\t\t\t\t\t\t\t<FlexBox alignItems=\"Left\" direction=\"Column\">\r\n\t\t\t\t\t\t\t\t<items>\r\n\t\t\t\t\t\t\t\t\t<f:SimpleForm class=\"editableForm\" columnsL=\"1\" columnsM=\"1\" editable=\"true\" emptySpanL=\"4\" emptySpanM=\"4\" id=\"AddActivityForm\"\r\n\t\t\t\t\t\t\t\t\t\tlabelSpanL=\"3\" labelSpanM=\"3\" layout=\"ResponsiveGridLayout\" maxContainerCols=\"2\" minWidth=\"1024\" title=\"{i18n>CP_Other}\">\r\n\t\t\t\t\t\t\t\t\t\t<f:content>\r\n\t\t\t\t\t\t\t\t\t\t\t<Label required=\"true\" text=\"{i18n>CP_rows}\"/>\r\n\t\t\t\t\t\t\t\t\t\t\t<Input id=\"Rows\" type=\"Number\" value=\"{P13n_ActivitiesConfig>/MaxTableRows}\"/>\r\n\t\t\t\t\t\t\t\t\t\t</f:content>\r\n\t\t\t\t\t\t\t\t\t</f:SimpleForm>\r\n\t\t\t\t\t\t\t\t</items>\r\n\t\t\t\t\t\t\t</FlexBox>\r\n\t\t\t\t\t\t</items>\r\n\t\t\t\t\t</FlexBox>\r\n\t\t\t\t</custom:content>\r\n\t\t\t</custom:CustomPersonalizationPanel>\r\n\t\t</panels>\r\n\t</P13nDialog>\r\n</core:FragmentDefinition>",
		"colgate/asm/planning/base/fragment/MonthYearPickerDialog.fragment.xml": "<core:FragmentDefinition xmlns:app=\"http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1\" xmlns:core=\"sap.ui.core\"\r\n\txmlns:custom=\"colgate.asm.planning.base.util\" xmlns:f=\"sap.ui.layout.form\" xmlns=\"sap.m\" xmlns:uc=\"sap.ui.unified.calendar\">\r\n\t<Dialog title=\"\">\r\n\t\t<VBox class=\"sapUiSmallMargin\">\r\n\t\t\t<f:SimpleForm id=\"SimpleFormDisplay354\" minWidth=\"1024\" maxContainerCols=\"2\" editable=\"false\" layout=\"ResponsiveGridLayout\" title=\"\"\r\n\t\t\t\tlabelSpanL=\"3\" labelSpanM=\"3\" emptySpanL=\"4\" emptySpanM=\"4\" columnsL=\"1\" columnsM=\"1\">\r\n\t\t\t\t<f:content>\r\n\t\t\t\t\t<Label text=\"{i18n&gt;CP_MonthSelLbl}\"/>\r\n\t\t\t\t\t<uc:MonthPicker id=\"idMonthPicker\" select=\"onDateDialogConfirm\" month=\"{Copy>/MonthSelect}\"></uc:MonthPicker>\r\n\t\t\t\t\t<Label text=\"{i18n&gt;CP_MonthYrLbl}\"/>\r\n\t\t\t\t</f:content>\r\n\t\t\t</f:SimpleForm>\r\n\t\t</VBox>\r\n\t\t<buttons>\r\n\t\t\t<Button text=\"{i18n>AC_cancel}\" press=\"onDateDialogClose\"></Button>\r\n\t\t</buttons>\r\n\t</Dialog>\r\n</core:FragmentDefinition>",
		"colgate/asm/planning/base/util/CustomCrossSubBrand.js": "sap.ui.define([], function() {\r\n\t\"use strict\";\r\n\r\n\treturn sap.m.P13nPanel.extend(\"colgate.asm.planning.base.util.CustomCrossSubBrand\", {\r\n\t\tconstructor: function(sId, mSettings) {\r\n\t\t\tsap.m.P13nPanel.apply(this, arguments);\r\n\t\t},\r\n\t\tmetadata: {\r\n\t\t\tlibrary: \"sap.m\",\r\n\t\t\taggregations: {\r\n\t\t\t\tcontent: {\r\n\t\t\t\t\ttype: \"sap.m.FlexBox\",\r\n\t\t\t\t\tmultiple: false,\r\n\t\t\t\t\tsingularName: \"content\"\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\trenderer: function(oRm, oControl) {\r\n\t\t\tif (!oControl.getVisible()) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\toRm.renderControl(oControl.getContent());\r\n\t\t}\r\n\t});\r\n});",
		"colgate/asm/planning/base/util/CrossSubBrandUtils.js": "sap.ui.define([\r\n\t\"sap/ui/model/Filter\",\r\n\t\"sap/ui/model/FilterOperator\",\r\n\t\"sap/m/Button\",\r\n\t\"sap/m/Text\",\r\n\t\"sap/m/Dialog\",\r\n\t\"sap/m/MessageToast\",\r\n\t\"colgate/asm/planning/base/util/TimeoutUtils\"\r\n], function(Filter, FilterOperator, Button, Text, Dialog, MessageToast, TimeoutUtils) {\r\n\t\"use strict\";\r\n\r\n\treturn {\r\n\r\n\t// \tonSelectCrossBrand: function(Model, oContext, oEvent) {\r\n\t// \t\tvar oModel = oContext.getModel(Model);\r\n\t// \t\tvar oInput = oModel.getData();\r\n\r\n\t// \t\tif (!oContext.oPersonalizationDialog) {\r\n\t// \t\t\toContext.oPersonalizationDialog = sap.ui.xmlfragment(\"colgate.asm.planning.base.fragment.CrossSubBrand\", oContext);\r\n\t// \t\t\toContext.getView().addDependent(oContext.oPersonalizationDialog);\r\n\t// \t\t}\r\n\t// \t\tif (!oInput.CSBSubbrand.CSBCategoryKey) {\r\n\t// \t\t\toContext._getdefaultCSBfilter(Model, oContext);\r\n\t// \t\t}\r\n\t// \t\toContext.oPersonalizationDialog.open();\r\n\t// \t},\r\n\r\n\t// \t_onCSBFilterchange: function(Model, oContext, oEvent) {\r\n\t// \t\tvar oModel = oContext.getModel(Model);\r\n\t// \t\tvar oInput = oModel.getData();\r\n\r\n\t// \t\tvar id = oEvent.getParameter(\"id\");\r\n\r\n\t// \t\tif (id === \"CSBCategoryKey\") {\r\n\t// \t\t\toInput.CSBSubbrand.CSBSubcategoryKey = \"\";\r\n\t// \t\t\toInput.CSBSubcategory.Current = [];\r\n\r\n\t// \t\t\toInput.CSBSubbrand.CSBBrandKey = \"\";\r\n\t// \t\t\toInput.CSBBrand.Current = [];\r\n\r\n\t// \t\t\toModel.refresh(false);\r\n\r\n\t// \t\t\tthis._getCSBSubcategory();\r\n\t// \t\t\tthis._getCSBBrand();\r\n\t// \t\t} else {\r\n\t// \t\t\tif (id === \"CSBSubcategoryKey\") {\r\n\t// \t\t\t\toInput.CSBSubbrand.CSBBrandKey = \"\";\r\n\t// \t\t\t\toInput.CSBBrand.Current = [];\r\n\r\n\t// \t\t\t\toModel.refresh(false);\r\n\r\n\t// \t\t\t\tthis._getCSBBrand();\r\n\t// \t\t\t}\r\n\t// \t\t}\r\n\t// \t\tthis._getCSBSubbrand(oInput.CSBSubbrand.CSBCategoryKey, oInput.CSBSubbrand.CSBSubcategoryKey, oInput.CSBSubbrand.CSBBrandKey);\r\n\t// \t},\r\n\r\n\t// \tonSearchCSB: function(Model, oContext, oEvent) {\r\n\t// \t\tvar sQuery = oEvent.getParameter(\"query\");\r\n\r\n\t// \t\toContext._oGlobalFilter = null;\r\n\t// \t\tif (sQuery) {\r\n\t// \t\t\toContext._oGlobalFilter = new Filter([\r\n\t// \t\t\t\tnew Filter(\"SubbrandDesc\", FilterOperator.Contains, sQuery)\r\n\t// \t\t\t], false);\r\n\t// \t\t}\r\n\r\n\t// \t\tvar binding = oEvent.oSource.getParent();\r\n\t// \t\tbinding.getParent().getBinding().filter(oContext._oGlobalFilter, \"Application\");\r\n\t// \t},\r\n\r\n\t// \t_clearAllCSBSelection: function(Model, oContext, oEvent) {\r\n\t// \t\tvar Table = oEvent.oSource.getParent().getParent();\r\n\t// \t\tTable.clearSelection();\r\n\t// \t},\r\n\r\n\t// \t_addCSBbrands: function(Model, oContext, oEvent) {\r\n\r\n\t// \t\tvar oModel = oContext.getModel(Model),\r\n\t// \t\t\tCSBTable = oEvent.oSource.getParent().getParent(),\r\n\t// \t\t\tSelectedRowContext = CSBTable.getSelectedIndices(),\r\n\t// \t\t\tbinding = CSBTable.getBinding();\r\n\r\n\t// \t\tif (SelectedRowContext.length) {\r\n\t// \t\t\tfor (var i = 0; i < SelectedRowContext.length; i++) {\r\n\t// \t\t\t\tvar rowIndices = \"\",\r\n\t// \t\t\t\t\tnewdata = {};\r\n\r\n\t// \t\t\t\trowIndices = SelectedRowContext[i];\r\n\r\n\t// \t\t\t\tvar selctedrow = binding.oList[rowIndices];\r\n\r\n\t// \t\t\t\tnewdata.SubbrandKey = selctedrow.SubbrandKey;\r\n\t// \t\t\t\tnewdata.SubbrandDesc = selctedrow.SubbrandDesc;\r\n\t// \t\t\t\tnewdata.LeadSubbrand = \"\";\r\n\t// \t\t\t\tnewdata.UpdatedFlag = \"I\";\r\n\r\n\t// \t\t\t\toModel.oData.CSBSubbrand.Change.push(newdata);\r\n\t// \t\t\t\toModel.oData.CSBSubbrand.Selected.push(newdata);\r\n\r\n\t// \t\t\t}\r\n\r\n\t// \t\t\tvar reverse = [].concat(CSBTable.getSelectedIndices()).reverse();\r\n\r\n\t// \t\t\treverse.forEach(function(index) {\r\n\t// \t\t\t\toModel.getData().CSBSubbrand.Current.splice(index, 1);\r\n\t// \t\t\t});\r\n\r\n\t// \t\t\toModel.oData.CSBSubbrand.Count.Selected = \"(\" + oModel.oData.CSBSubbrand.Selected.length + \")\";\r\n\t// \t\t\toModel.oData.CSBSubbrand.Count.Current = \"(\" + oModel.oData.CSBSubbrand.Current.length + \")\";\r\n\r\n\t// \t\t\toModel.refresh(false);\r\n\t// \t\t\tCSBTable.clearSelection();\r\n\r\n\t// \t\t} else {\r\n\t// \t\t\tvar sMessage = oContext.getModel(\"i18n\").getResourceBundle().getText(\"AC_CSBAddError\");\r\n\t// \t\t\tMessageToast.show(sMessage);\r\n\t// \t\t}\r\n\t// \t},\r\n\r\n\t// \t_deleteCSBBrands: function(Model, oContext, oEvent) {\r\n\t// \t\tvar oModel = oContext.getModel(Model),\r\n\t// \t\t\toChange = oModel.getData().CSBSubbrand.Change,\r\n\r\n\t// \t\t\tCSBTable_Selected = oEvent.oSource.getParent().getParent(),\r\n\t// \t\t\tSelectedRowContext = CSBTable_Selected.getSelectedIndices(),\r\n\t// \t\t\tbinding = CSBTable_Selected.getBinding();\r\n\r\n\t// \t\tif (SelectedRowContext.length) {\r\n\t// \t\t\tfor (var i = 0; i < SelectedRowContext.length; i++) {\r\n\t// \t\t\t\tvar newdata = {},\r\n\t// \t\t\t\t\tflag = \"\";\r\n\t// \t\t\t\tvar rowIndices = SelectedRowContext[i];\r\n\t// \t\t\t\tvar selctedrow = binding.oList[rowIndices];\r\n\r\n\t// \t\t\t\tfor (var j = 0; j < oChange.length; j++) {\r\n\t// \t\t\t\t\tif (oChange[j].SubbrandKey === selctedrow.SubbrandKey && oChange[j].UpdatedFlag === \"I\") {\r\n\t// \t\t\t\t\t\toModel.getData().CSBSubbrand.Change.splice(j, 1);\r\n\r\n\t// \t\t\t\t\t\tnewdata.SubbrandKey = selctedrow.SubbrandKey;\r\n\t// \t\t\t\t\t\tnewdata.SubbrandDesc = selctedrow.SubbrandDesc;\r\n\t// \t\t\t\t\t\tnewdata.LeadSubbrand = \"\";\r\n\t// \t\t\t\t\t\tnewdata.UpdatedFlag = \"D\";\r\n\r\n\t// \t\t\t\t\t\toModel.oData.CSBSubbrand.Current.push(newdata);\r\n\r\n\t// \t\t\t\t\t\tflag = \"X\";\r\n\t// \t\t\t\t\t\tbreak;\r\n\t// \t\t\t\t\t}\r\n\t// \t\t\t\t}\r\n\r\n\t// \t\t\t\tif (flag !== \"X\") {\r\n\t// \t\t\t\t\tnewdata.SubbrandKey = selctedrow.SubbrandKey;\r\n\t// \t\t\t\t\tnewdata.SubbrandDesc = selctedrow.SubbrandDesc;\r\n\t// \t\t\t\t\tnewdata.LeadSubbrand = \"\";\r\n\t// \t\t\t\t\tnewdata.UpdatedFlag = \"D\";\r\n\r\n\t// \t\t\t\t\toModel.oData.CSBSubbrand.Change.push(newdata);\r\n\t// \t\t\t\t\toModel.oData.CSBSubbrand.Current.push(newdata);\r\n\t// \t\t\t\t}\r\n\t// \t\t\t}\r\n\r\n\t// \t\t\tvar reverse = [].concat(CSBTable_Selected.getSelectedIndices()).reverse();\r\n\r\n\t// \t\t\treverse.forEach(function(index) {\r\n\t// \t\t\t\toModel.getData().CSBSubbrand.Selected.splice(index, 1);\r\n\t// \t\t\t});\r\n\r\n\t// \t\t\toModel.oData.CSBSubbrand.Count.Selected = \"(\" + oModel.oData.CSBSubbrand.Selected.length + \")\";\r\n\t// \t\t\toModel.oData.CSBSubbrand.Count.Current = \"(\" + oModel.oData.CSBSubbrand.Current.length + \")\";\r\n\r\n\t// \t\t\toModel.refresh(false);\r\n\t// \t\t\tCSBTable_Selected.clearSelection();\r\n\r\n\t// \t\t} else {\r\n\t// \t\t\tvar sMessage = oContext.getModel(\"i18n\").getResourceBundle().getText(\"AC_CSBDeleteError\");\r\n\t// \t\t\tMessageToast.show(sMessage);\r\n\t// \t\t}\r\n\t// \t},\r\n\r\n\t// \tonCSBok: function(Model, oContext, oEvent) {\r\n\t// \t\toEvent.getSource().close();\r\n\t// \t\tif (oContext.oPersonalizationDialog) {\r\n\t// \t\t\toContext.oPersonalizationDialog.destroy();\r\n\t// \t\t\toContext.oPersonalizationDialog = null;\r\n\t// \t\t}\r\n\t// \t},\r\n\r\n\t// \tonCSBcancel: function(Model, oContext, oEvent) {\r\n\t// \t\tvar that = this;\r\n\t// \t\tvar event = oEvent.getSource();\r\n\r\n\t// \t\tvar dialog = new Dialog({\r\n\t// \t\t\ttitle: 'Confirm',\r\n\t// \t\t\ttype: 'Message',\r\n\t// \t\t\tcontent: new Text({\r\n\t// \t\t\t\ttext: 'Are you sure you want to discard all the changes?'\r\n\t// \t\t\t}),\r\n\t// \t\t\tbeginButton: new Button({\r\n\t// \t\t\t\ttext: 'Yes',\r\n\t// \t\t\t\tpress: function() {\r\n\t// \t\t\t\t\tdialog.close();\r\n\t// \t\t\t\t\tthat._discardallCSBChange();\r\n\t// \t\t\t\t\tevent.close();\r\n\t// \t\t\t\t\tif (that.oPersonalizationDialog) {\r\n\t// \t\t\t\t\t\tthat.oPersonalizationDialog.destroy();\r\n\t// \t\t\t\t\t\tthat.oPersonalizationDialog = null;\r\n\t// \t\t\t\t\t}\r\n\t// \t\t\t\t}\r\n\t// \t\t\t}),\r\n\t// \t\t\tendButton: new Button({\r\n\t// \t\t\t\ttext: 'Cancel',\r\n\t// \t\t\t\tpress: function() {\r\n\t// \t\t\t\t\tdialog.close();\r\n\t// \t\t\t\t}\r\n\t// \t\t\t}),\r\n\t// \t\t\tafterClose: function() {\r\n\t// \t\t\t\tdialog.destroy();\r\n\t// \t\t\t}\r\n\t// \t\t});\r\n\t// \t\tdialog.open();\r\n\t// \t},\r\n\r\n\r\n\r\n\r\n\r\n\r\n\t// \t_getCSBSubbrand: function(CSBCategoryKey, CSBSubcategoryKey, CSBBrandKey) {\r\n\r\n\t// \t\tvar sServiceUrl = this.getOwnerComponent().getModel(\"masterShared\").getProperty(\"/oServiceUrls/mainService\");\r\n\r\n\t// \t\tvar sbmodel = this.oPersonalizationDialog.getModel(\"CSBBrands\");\r\n\t// \t\tif (!sbmodel) {\r\n\t// \t\t\tsbmodel = new sap.ui.model.odata.v2.ODataModel(sServiceUrl, false);\r\n\t// \t\t\tsbmodel.setSizeLimit(50000);\r\n\t// \t\t\tsbmodel.setDefaultCountMode(sap.ui.model.odata.CountMode.None);\r\n\t// \t\t\tthis.oPersonalizationDialog.setModel(sbmodel, \"CSBBrands\");\r\n\t// \t\t}\r\n\r\n\t// \t\tvar filters = [];\r\n\t// \t\tif (CSBCategoryKey) {\r\n\t// \t\t\tfilters.push(new sap.ui.model.Filter(\"CategoryKey\", sap.ui.model.FilterOperator.EQ, CSBCategoryKey));\r\n\t// \t\t}\r\n\t// \t\tif (CSBSubcategoryKey) {\r\n\t// \t\t\tfilters.push(new sap.ui.model.Filter(\"PcategoryKey\", sap.ui.model.FilterOperator.EQ, CSBSubcategoryKey));\r\n\t// \t\t}\r\n\t// \t\tif (CSBBrandKey) {\r\n\t// \t\t\tfilters.push(new sap.ui.model.Filter(\"BrandKey\", sap.ui.model.FilterOperator.EQ, CSBBrandKey));\r\n\t// \t\t}\r\n\t// \t\tvar sPath = \"/VHCrossSubBrand\";\r\n\t// \t\tvar that2 = this;\r\n\r\n\t// \t\tvar oSBPromise = new Promise(function(resolve, reject) {\r\n\t// \t\t\tsetTimeout(function() {\r\n\t// \t\t\t\tsbmodel.read(sPath, {\r\n\t// \t\t\t\t\tasync: true,\r\n\t// \t\t\t\t\tfilters: filters,\r\n\t// \t\t\t\t\tsuccess: function(oData, oResponse) {\r\n\t// \t\t\t\t\t\tTimeoutUtils.onResetTimer(this);\r\n\t// \t\t\t\t\t\tthat2._setCSBSubbrand(oData);\r\n\t// \t\t\t\t\t\tresolve(oData);\r\n\t// \t\t\t\t\t},\r\n\t// \t\t\t\t\terror: function(oError) {\r\n\t// \t\t\t\t\t\toError.ErrorOrigin = \"Subbrands\";\r\n\t// \t\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.detail\", \"Errors\", oError);\r\n\t// \t\t\t\t\t\treject(oError);\r\n\t// \t\t\t\t\t}\r\n\t// \t\t\t\t});\r\n\t// \t\t\t}, 200);\r\n\t// \t\t});\r\n\t// \t},\r\n\r\n\t// \t_setCSBSubbrand: function(oDataIn) {\r\n\t// \t\tthis.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", true); // Start Spinner\r\n\r\n\t// \t\tvar oModel = this.getModel(Model);\r\n\t// \t\tvar oData = oModel.getData();\r\n\t// \t\tif (!oData.CSBSubbrand) {\r\n\t// \t\t\toData.CSBSubbrand = {};\r\n\t// \t\t}\r\n\t// \t\toData.CSBSubbrand.Current = [];\r\n\t// \t\toData.CSBSubbrand.Current = oDataIn.results;\r\n\t// \t\t// oData.CSBSubbrand.Count.Current = \"(\" + oData.CSBSubbrand.Current.length + \")\";\r\n\t// \t\toModel.refresh(false);\r\n\t// \t\tthis._setinitialCSBSubbrandvalues();\r\n\r\n\t// \t\tthis.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", false); // Stop Spinner\r\n\t// \t},\r\n\r\n\t// \t_getCSBSubcategory: function() {\r\n\t// \t\tvar oModel = this.getModel(Model);\r\n\t// \t\tvar oInput = oModel.getData();\r\n\t// \t\tvar sServiceUrl = this.getOwnerComponent().getModel(\"masterShared\").getProperty(\"/oServiceUrls/mainService\");\r\n\t// \t\tvar that = this;\r\n\r\n\t// \t\tvar sbmodel = this.oPersonalizationDialog.getModel(\"CSBvhph\");\r\n\t// \t\tif (!sbmodel) {\r\n\t// \t\t\tsbmodel = new sap.ui.model.odata.v2.ODataModel(sServiceUrl, false);\r\n\t// \t\t\tsbmodel.setSizeLimit(50000);\r\n\t// \t\t\tsbmodel.setDefaultCountMode(sap.ui.model.odata.CountMode.None);\r\n\t// \t\t\tthis.oPersonalizationDialog.setModel(sbmodel, \"CSBvhph\");\r\n\t// \t\t}\r\n\r\n\t// \t\tvar filters = [];\r\n\t// \t\tif (oInput.CSBSubbrand.CSBCategoryKey) {\r\n\t// \t\t\tfilters.push(new sap.ui.model.Filter(\"Category\", sap.ui.model.FilterOperator.EQ, oInput.CSBSubbrand.CSBCategoryKey));\r\n\t// \t\t}\r\n\t// \t\tvar sPath = \"/VHSubcategories\";\r\n\r\n\t// \t\tvar oSBPromise = new Promise(function(resolve, reject) {\r\n\t// \t\t\tsetTimeout(function() {\r\n\t// \t\t\t\tsbmodel.read(sPath, {\r\n\t// \t\t\t\t\tasync: true,\r\n\t// \t\t\t\t\tfilters: filters,\r\n\t// \t\t\t\t\tsuccess: function(oData) {\r\n\t// \t\t\t\t\t\tTimeoutUtils.onResetTimer(this);\r\n\t// \t\t\t\t\t\tthat._setCSBSubcategory(oData);\r\n\t// \t\t\t\t\t\tresolve(oData);\r\n\t// \t\t\t\t\t},\r\n\t// \t\t\t\t\terror: function(oError) {\r\n\t// \t\t\t\t\t\toError.ErrorOrigin = \"Subbrands\";\r\n\t// \t\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.detail\", \"Errors\", oError);\r\n\t// \t\t\t\t\t\treject(oError);\r\n\t// \t\t\t\t\t}\r\n\t// \t\t\t\t});\r\n\t// \t\t\t}, 200);\r\n\t// \t\t});\r\n\t// \t},\r\n\r\n\t// \t_setCSBSubcategory: function(oDataIn) {\r\n\t// \t\tvar oModel = this.getModel(Model);\r\n\t// \t\tvar oData = oModel.getData();\r\n\r\n\t// \t\tif (!oData.CSBSubcategory) {\r\n\t// \t\t\toData.CSBSubcategory = {};\r\n\t// \t\t}\r\n\t// \t\toData.CSBSubcategory.Current = [];\r\n\t// \t\toData.CSBSubcategory.Current = oDataIn.results;\r\n\t// \t\toModel.refresh(false);\r\n\t// \t},\r\n\r\n\t// \t_getCSBBrand: function() {\r\n\t// \t\tvar oModel = this.getModel(Model);\r\n\t// \t\tvar oInput = oModel.getData();\r\n\t// \t\tvar sServiceUrl = this.getOwnerComponent().getModel(\"masterShared\").getProperty(\"/oServiceUrls/mainService\");\r\n\t// \t\tvar that = this;\r\n\r\n\t// \t\tvar sbmodel = this.oPersonalizationDialog.getModel(\"CSBvhph\");\r\n\t// \t\tif (!sbmodel) {\r\n\t// \t\t\tsbmodel = new sap.ui.model.odata.v2.ODataModel(sServiceUrl, false);\r\n\t// \t\t\tsbmodel.setSizeLimit(50000);\r\n\t// \t\t\tsbmodel.setDefaultCountMode(sap.ui.model.odata.CountMode.None);\r\n\t// \t\t\tthis.oPersonalizationDialog.setModel(sbmodel, \"CSBvhph\");\r\n\t// \t\t}\r\n\r\n\t// \t\tvar filters = [];\r\n\t// \t\tif (oInput.CSBSubbrand.CSBCategoryKey) {\r\n\t// \t\t\tfilters.push(new sap.ui.model.Filter(\"Category\", sap.ui.model.FilterOperator.EQ, oInput.CSBSubbrand.CSBCategoryKey));\r\n\t// \t\t}\r\n\t// \t\tif (oInput.CSBSubbrand.CSBSubcategoryKey) {\r\n\t// \t\t\tfilters.push(new sap.ui.model.Filter(\"PSubCategory\", sap.ui.model.FilterOperator.EQ, oInput.CSBSubbrand.CSBSubcategoryKey));\r\n\t// \t\t}\r\n\t// \t\tvar sPath = \"/VHBrands\";\r\n\r\n\t// \t\tvar oSBPromise = new Promise(function(resolve, reject) {\r\n\t// \t\t\tsetTimeout(function() {\r\n\t// \t\t\t\tsbmodel.read(sPath, {\r\n\t// \t\t\t\t\tasync: true,\r\n\t// \t\t\t\t\tfilters: filters,\r\n\t// \t\t\t\t\tsuccess: function(oData) {\r\n\t// \t\t\t\t\t\tTimeoutUtils.onResetTimer(this);\r\n\t// \t\t\t\t\t\tthat._setCSBBrand(oData);\r\n\t// \t\t\t\t\t\tresolve(oData);\r\n\t// \t\t\t\t\t},\r\n\t// \t\t\t\t\terror: function(oError) {\r\n\t// \t\t\t\t\t\toError.ErrorOrigin = \"Subbrands\";\r\n\t// \t\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.detail\", \"Errors\", oError);\r\n\t// \t\t\t\t\t\treject(oError);\r\n\t// \t\t\t\t\t}\r\n\t// \t\t\t\t});\r\n\t// \t\t\t}, 200);\r\n\t// \t\t});\r\n\t// \t},\r\n\r\n\t// \t_setCSBBrand: function(oDataIn) {\r\n\t// \t\tvar oModel = this.getModel(Model);\r\n\t// \t\tvar oData = oModel.getData();\r\n\r\n\t// \t\tif (!oData.CSBBrand) {\r\n\t// \t\t\toData.CSBBrand = {};\r\n\t// \t\t}\r\n\t// \t\toData.CSBBrand.Current = [];\r\n\t// \t\toData.CSBBrand.Current = oDataIn.results;\r\n\t// \t\toModel.refresh(false);\r\n\t// \t},\r\n\r\n\t// \t_getExistingCSBSubbrand: function(AsmID) {\r\n\t// \t\tvar sServiceUrl = this.getOwnerComponent().getModel(\"masterShared\").getProperty(\"/oServiceUrls/mainService\");\r\n\r\n\t// \t\tvar sbmodel = this.getModel(\"CSBESubbrands\");\r\n\r\n\t// \t\tif (!sbmodel) {\r\n\t// \t\t\tsbmodel = new sap.ui.model.odata.v2.ODataModel(sServiceUrl, false);\r\n\t// \t\t\tsbmodel.setSizeLimit(50000);\r\n\t// \t\t\tsbmodel.setDefaultCountMode(sap.ui.model.odata.CountMode.None);\r\n\t// \t\t\tthis.setModel(sbmodel, \"CSBESubbrands\");\r\n\t// \t\t}\r\n\r\n\t// \t\tvar filters = [];\r\n\t// \t\tif (AsmID) {\r\n\t// \t\t\tfilters.push(new sap.ui.model.Filter(\"AsmId\", sap.ui.model.FilterOperator.EQ, AsmID));\r\n\t// \t\t}\r\n\t// \t\tvar sPath = \"/CrossSubBrandListSet\";\r\n\t// \t\tvar that = this;\r\n\r\n\t// \t\tvar oSBPromise = new Promise(function(resolve, reject) {\r\n\t// \t\t\tsetTimeout(function() {\r\n\t// \t\t\t\tsbmodel.read(sPath, {\r\n\t// \t\t\t\t\tasync: true,\r\n\t// \t\t\t\t\tfilters: filters,\r\n\t// \t\t\t\t\tsuccess: function(oData, oResponse) {\r\n\t// \t\t\t\t\t\tTimeoutUtils.onResetTimer(this);\r\n\t// \t\t\t\t\t\tthat._setExistingCSBSubbrand(oData);\r\n\t// \t\t\t\t\t\tresolve(oData);\r\n\t// \t\t\t\t\t},\r\n\t// \t\t\t\t\terror: function(oError) {\r\n\t// \t\t\t\t\t\toError.ErrorOrigin = \"GetSubbrands\";\r\n\t// \t\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.detail\", \"Errors\", oError);\r\n\t// \t\t\t\t\t\treject(oError);\r\n\t// \t\t\t\t\t}\r\n\t// \t\t\t\t});\r\n\t// \t\t\t}, 200);\r\n\t// \t\t});\r\n\t// \t},\r\n\r\n\t// \t_setExistingCSBSubbrand: function(oDataIn) {\r\n\t// \t\tvar oModel = this.getModel(Model);\r\n\t// \t\tvar oData = oModel.getData();\r\n\t// \t\tif (!oData.CSBSubbrand) {\r\n\t// \t\t\toData.CSBSubbrand = {};\r\n\t// \t\t}\r\n\t// \t\toData.CSBSubbrand.Selected = oDataIn.results;\r\n\t// \t\toData.CSBSubbrand.Count.Selected = \"(\" + oData.CSBSubbrand.Selected.length + \")\";\r\n\t// \t\toModel.refresh(false);\r\n\t// \t},\r\n\r\n\t// \t_getdefaultCSBfilter: function(Model, oContext) {\r\n\t// \t\tvar oModel = oContext.getModel(Model);\r\n\t// \t\tvar oInput = oModel.getData();\r\n\r\n\t// \t\toInput.CSBSubbrand.CSBCategoryKey = oInput.Input.CategoryKey;\r\n\t// \t\toInput.CSBSubbrand.CSBSubcategoryKey = oInput.Input.SubcategoryKey;\r\n\t// \t\toInput.CSBSubbrand.CSBBrandKey = oInput.Input.BrandKey;\r\n\r\n\t// \t\tthis._getCSBCategory(Model, oContext);\r\n\t// \t\toInput.CSBSubcategory.Current = oInput.Subcategory.Current;\r\n\t// \t\toInput.CSBBrand.Current = oInput.Brand.Current;\r\n\r\n\t// \t\tthis._getCSBSubbrand(Model, oContext, oInput.Input.CategoryKey, oInput.Input.SubcategoryKey, oInput.Input.BrandKey);\r\n\r\n\t// \t\toModel.refresh(false);\r\n\r\n\t// \t},\r\n\r\n\t// \t_getCSBCategory: function(Model, oContext) {\r\n\t// \t\tvar sServiceUrl = oContext.getOwnerComponent().getModel(\"masterShared\").getProperty(\"/oServiceUrls/mainService\");\r\n\t// \t\tvar that = this;\r\n\r\n\t// \t\tvar sbmodel = oContext.oPersonalizationDialog.getModel(\"CSBvhph\");\r\n\t// \t\tif (!sbmodel) {\r\n\t// \t\t\tsbmodel = new sap.ui.model.odata.v2.ODataModel(sServiceUrl, false);\r\n\t// \t\t\tsbmodel.setSizeLimit(50000);\r\n\t// \t\t\tsbmodel.setDefaultCountMode(sap.ui.model.odata.CountMode.None);\r\n\t// \t\t\toContext.oPersonalizationDialog.setModel(sbmodel, \"CSBvhph\");\r\n\t// \t\t}\r\n\r\n\t// \t\tvar filters = [];\r\n\t// \t\tvar sPath = \"/VHCategories\";\r\n\r\n\t// \t\tvar oSBPromise = new Promise(function(resolve, reject) {\r\n\t// \t\t\tsetTimeout(function() {\r\n\t// \t\t\t\tsbmodel.read(sPath, {\r\n\t// \t\t\t\t\tasync: true,\r\n\t// \t\t\t\t\tfilters: filters,\r\n\t// \t\t\t\t\tsuccess: function(oData) {\r\n\t// \t\t\t\t\t\tTimeoutUtils.onResetTimer(this);\r\n\t// \t\t\t\t\t\tthat._setCSBCategory(oData);\r\n\t// \t\t\t\t\t\tresolve(oData);\r\n\t// \t\t\t\t\t},\r\n\t// \t\t\t\t\terror: function(oError) {\r\n\t// \t\t\t\t\t\toError.ErrorOrigin = \"Subbrands\";\r\n\t// \t\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.detail\", \"Errors\", oError);\r\n\t// \t\t\t\t\t\treject(oError);\r\n\t// \t\t\t\t\t}\r\n\t// \t\t\t\t});\r\n\t// \t\t\t}, 200);\r\n\t// \t\t});\r\n\t// \t},\r\n\r\n\t// \t_setCSBCategory: function(oDataIn) {\r\n\t// \t\tvar oModel = this.getModel(Model);\r\n\t// \t\tvar oData = oModel.getData();\r\n\t// \t\tif (!oData.CSBCategory) {\r\n\t// \t\t\toData.CSBCategory = {};\r\n\t// \t\t}\r\n\t// \t\toData.CSBCategory.Current = [];\r\n\t// \t\toData.CSBCategory.Current = oDataIn.results;\r\n\t// \t\toModel.refresh(false);\r\n\t// \t},\r\n\r\n\r\n\r\n\t// \t_setinitialCSBSubbrandvalues: function() {\r\n\t// \t\tvar oModel = this.getModel(Model);\r\n\r\n\t// \t\tvar sData = oModel.getData().CSBSubbrand.Selected,\r\n\t// \t\t\tcData = oModel.getData().CSBSubbrand.Current;\r\n\r\n\t// \t\tfor (var i = 0; i < sData.length; i++) {\r\n\t// \t\t\tfor (var j = 0; j < cData.length; j++) {\r\n\t// \t\t\t\tif (sData[i].SubbrandKey === cData[j].SubbrandKey) {\r\n\t// \t\t\t\t\toModel.getData().CSBSubbrand.Current.splice(j, 1);\r\n\t// \t\t\t\t\toModel.refresh(false);\r\n\t// \t\t\t\t\tbreak;\r\n\t// \t\t\t\t}\r\n\t// \t\t\t}\r\n\t// \t\t}\r\n\t// \t\toModel.oData.CSBSubbrand.Count.Current = \"(\" + oModel.oData.CSBSubbrand.Current.length + \")\";\r\n\t// \t\toModel.refresh(false);\r\n\t// \t},\r\n\r\n\t// \t_discardallCSBChange: function() {\r\n\t// \t\tvar oModel = this.getModel(Model);\r\n\r\n\t// \t\tvar sData = oModel.getData().CSBSubbrand.Selected,\r\n\t// \t\t\tcData = oModel.getData().CSBSubbrand.Change;\r\n\r\n\t// \t\tfor (var j = 0; j < cData.length; j++) {\r\n\t// \t\t\tfor (var i = 0; i < sData.length; i++) {\r\n\t// \t\t\t\tif (sData[i].SubbrandKey === cData[j].SubbrandKey) {\r\n\t// \t\t\t\t\toModel.getData().CSBSubbrand.Selected.splice(i, 1);\r\n\t// \t\t\t\t\toModel.refresh(false);\r\n\t// \t\t\t\t\tbreak;\r\n\t// \t\t\t\t}\r\n\t// \t\t\t}\r\n\t// \t\t}\r\n\r\n\t// \t\toModel.getData().CSBSubbrand.Change = [];\r\n\t// \t\toModel.refresh(false);\r\n\t// \t}\r\n\t};\r\n});",
		"colgate/asm/planning/base/util/FieldControlUtils.js": "sap.ui.define([], function() {\r\n\t\"use strict\";\r\n\treturn {\r\n\t\taddFieldControl: function(oData) {\t\t\toData.FC_Editable_AmtB1 = false;\r\n\t\t\toData.FC_Editable_AmtB2 = false;\r\n\t\t\toData.FC_Editable_AmtB3 = false;\r\n\t\t\toData.FC_Editable_AmtB4 = false;\r\n\t\t\toData.FC_Editable_AmtB5 = false;\r\n\t\t\toData.FC_Editable_AmtB6 = false;\r\n\t\t\toData.FC_Editable_AmtB7 = false;\r\n\t\t\toData.FC_Editable_AmtB8 = false;\r\n\t\t\toData.FC_Editable_AmtB9 = false;\r\n\t\t\toData.FC_Editable_AmtB10 = false;\r\n\t\t\toData.FC_Editable_AmtB11 = false;\r\n\t\t\toData.FC_Editable_AmtB12 = false;\r\n\t\t\toData.FC_Editable_MaxValueB = false;\r\n\t\t\toData.FC_Editable_MaxValueC = false;\r\n\t\t\toData.FC_Editable_StartDt = false;\r\n\t\t\toData.FC_Editable_EndDt = false;\r\n\t\t\toData.FC_Editable_MaxValueBo = false;\r\n\t\t\toData.FC_PlaceHolder_AmtB1 = \"\";\r\n\t\t\toData.FC_ValueState_AmtB1 = sap.ui.core.ValueState.None;\r\n\t\t\toData.FC_ValueStateText_AmtB1 = \"\";\r\n\t\t\toData.FC_PlaceHolder_AmtB2 = \"\";\r\n\t\t\toData.FC_ValueState_AmtB2 = sap.ui.core.ValueState.None;\r\n\t\t\toData.FC_ValueStateText_AmtB2 = \"\";\r\n\t\t\toData.FC_PlaceHolder_AmtB3 = \"\";\r\n\t\t\toData.FC_ValueState_AmtB1 = sap.ui.core.ValueState.None;\r\n\t\t\toData.FC_ValueStateText_AmtB3 = \"\";\r\n\t\t\toData.FC_PlaceHolder_AmtB4 = \"\";\r\n\t\t\toData.FC_ValueState_AmtB4 = sap.ui.core.ValueState.None;\r\n\t\t\toData.FC_ValueStateText_AmtB4 = \"\";\r\n\t\t\toData.FC_PlaceHolder_AmtB5 = \"\";\r\n\t\t\toData.FC_ValueState_AmtB5 = sap.ui.core.ValueState.None;\r\n\t\t\toData.FC_ValueStateText_AmtB5 = \"\";\r\n\t\t\toData.FC_PlaceHolder_AmtB6 = \"\";\r\n\t\t\toData.FC_ValueState_AmtB6 = sap.ui.core.ValueState.None;\r\n\t\t\toData.FC_ValueStateText_AmtB6 = \"\";\r\n\t\t\toData.FC_PlaceHolder_AmtB7 = \"\";\r\n\t\t\toData.FC_ValueState_AmtB7 = sap.ui.core.ValueState.None;\r\n\t\t\toData.FC_ValueStateText_AmtB7 = \"\";\r\n\t\t\toData.FC_PlaceHolder_AmtB8 = \"\";\r\n\t\t\toData.FC_ValueState_AmtB8 = sap.ui.core.ValueState.None;\r\n\t\t\toData.FC_ValueStateText_AmtB8 = \"\";\r\n\t\t\toData.FC_PlaceHolder_AmtB9 = \"\";\r\n\t\t\toData.FC_ValueState_AmtB9 = sap.ui.core.ValueState.None;\r\n\t\t\toData.FC_ValueStateText_AmtB9 = \"\";\r\n\t\t\toData.FC_PlaceHolder_AmtB10 = \"\";\r\n\t\t\toData.FC_ValueState_AmtB10 = sap.ui.core.ValueState.None;\r\n\t\t\toData.FC_ValueStateText_AmtB10 = \"\";\r\n\t\t\toData.FC_PlaceHolder_AmtB11 = \"\";\r\n\t\t\toData.FC_ValueState_AmtB11 = sap.ui.core.ValueState.None;\r\n\t\t\toData.FC_ValueStateText_AmtB11 = \"\";\r\n\t\t\toData.FC_PlaceHolder_AmtB12 = \"\";\r\n\t\t\toData.FC_ValueState_AmtB12 = sap.ui.core.ValueState.None;\r\n\t\t\toData.FC_ValueStateText_AmtB12 = \"\";\r\n\t\t\toData.FC_PlaceHolder_MaxValueB = \"\";\r\n\t\t\toData.FC_ValueState_MaxValueB = sap.ui.core.ValueState.None;\r\n\t\t\toData.FC_ValueStateText_MaxValueB = \"\";\r\n\t\t\toData.FC_PlaceHolder_StartDt = \"\";\r\n\t\t\toData.FC_ValueState_StartDt = sap.ui.core.ValueState.None;\r\n\t\t\toData.FC_ValueStateText_StartDt = \"\";\r\n\t\t\toData.FC_PlaceHolder_EndDt = \"\";\r\n\t\t\toData.FC_ValueState_EndDt = sap.ui.core.ValueState.None;\r\n\t\t\toData.FC_ValueStateText_EndDt = \"\";\r\n\t\t\toData.FC_PlaceHolder_MaxValueBo = \"\";\r\n\t\t\toData.FC_ValueState_MaxValueBo = sap.ui.core.ValueState.None;\r\n\t\t\toData.FC_ValueStateText_MaxValueBo = \"\";\r\n\t\t\toData.FC_PlaceHolder_MaxValueC = \"\";\r\n\t\t\toData.FC_ValueState_MaxValueC = sap.ui.core.ValueState.None;\r\n\t\t\toData.FC_ValueStateText_MaxValueC = \"\";\r\n\t\t}\r\n\t};\r\n});",
		"colgate/asm/planning/base/util/CostCenterUtils.js": "sap.ui.define([\r\n\t'sap/m/Dialog',\r\n\t'sap/m/MessageToast'\r\n], function(Dialog, MessageToast) {\r\n\t\"use strict\";\r\n\treturn {\r\n\t\tonChange: function(oEvent) {\r\n\t\t\tvar oSearchField = oEvent.getSource();\r\n\t\t\tvar value = oEvent.getParameter(\"value\");\r\n\t\t\tvar filters = [];\r\n\t\t\tif (value) {\r\n\t\t\t\tfilters = [new sap.ui.model.Filter([\r\n\t\t\t\t\tnew sap.ui.model.Filter(\"Description\", function(sText) {\r\n\t\t\t\t\t\treturn (sText || \"\").toUpperCase().indexOf(value.toUpperCase()) > -1;\r\n\t\t\t\t\t})\r\n\t\t\t\t], false)];\r\n\t\t\t}\r\n\t\t\toSearchField.getBinding(\"items\").filter(filters);\r\n\t\t},\r\n\t\tonClose: function(oEvent) {\r\n\t\t\tif (this._oDialog) {\r\n\t\t\t\tthis._oDialog.destroy();\r\n\t\t\t}\r\n\t\t},\r\n\t\tonConfirm: function(oEvent) {\r\n\t\t\tvar sPath = oEvent.getParameter(\"selectedItems\")[0].getBindingInfo(\"title\").binding.getContext().getPath();\r\n\t\t\tthis._oComboBox.setSelectedKey(this._oDialog.getModel().getProperty(sPath).Key);\r\n\t\t\toEvent.getSource().getBinding(\"items\").filter([]);\r\n\t\t\tif (this._oDialog) {\r\n\t\t\t\tthis._oDialog.destroy();\r\n\t\t\t}\r\n\t\t},\r\n\t\tonShow: function(oEvent, oModel, oTextModel, oComboBox) {\r\n\t\t\t\tif (this._oDialog) { \r\n\t\t\t\t\tthis._oDialog.destroy();\r\n\t\t\t\t}\r\n\t\t\t\tthis._oDialog = sap.ui.xmlfragment(\"colgate.asm.planning.base.fragment.CostCenterSelection\", this);\r\n\t\t\t\tthis._oDialog.setModel(oModel);\r\n\t\t\t\tthis._oDialog.setModel(oTextModel, \"Text\");\r\n\t\t\t\tthis._oComboBox = oComboBox;\r\n\t\t\t\t// clear the old search filter\r\n\t\t\t\tthis._oDialog.getBinding(\"items\").filter([]);\r\n\t\t\t\tthis._oDialog.open();\r\n\t\t\t}\r\n\t\t\t// handleCostcenter: function(oModel) {\r\n\t\t\t// \tvar oData = oModel.getData();\r\n\t\t\t// \tif (oData.Input.BrandKey && oData.Input.BrandKey !== \"\") {\r\n\t\t\t// \t\t// Set the Cost Center\r\n\t\t\t// \t\tvar aBrands = oData.Brand.Current;\r\n\t\t\t// \t\tfor (var i = 0; i < aBrands.length; i++) {\r\n\t\t\t// \t\t\tif (aBrands[i].Key === oData.Input.BrandKey) {\r\n\t\t\t// \t\t\t\tvar oAdditionalData = JSON.parse(aBrands[i].AdditionalData);\r\n\t\t\t// \t\t\t\tif (oAdditionalData.costcenter) {\r\n\t\t\t// \t\t\t\t\toData.Display.Costcenter = oAdditionalData.costcenter;\r\n\t\t\t// \t\t\t\t}\r\n\t\t\t// \t\t\t}\r\n\t\t\t// \t\t}\r\n\t\t\t// \t\toData.Visible.Costcenter = true;\r\n\t\t\t// \t} else {\r\n\t\t\t// \t\toData.Display.Costcenter = \"\";\r\n\t\t\t// \t\toData.Visible.Costcenter = false;\r\n\t\t\t// \t}\r\n\t\t\t// \toModel.refresh(false);\r\n\t\t\t// }\r\n\t};\r\n});",
		"colgate/asm/planning/base/util/SpinnerUtils.js": "sap.ui.define([\r\n\t'sap/m/Dialog',\r\n\t'sap/m/MessageToast'\r\n], function(Dialog, MessageToast) {\r\n\t\"use strict\";\r\n\treturn {\r\n\t\tstopSpinnerAfterPromise: function(oContext, oPromise) {\r\n\t\t\tvar that = this;\r\n\t\t\toPromise.then(function(oData) {\r\n\t\t\t\tif (!oContext.getOwnerComponent().getModel(\"masterShared\").getProperty(\"/oBusy/skipStop\")) {\r\n\t\t\t\t\toContext.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oBusy/busy\", false);\r\n\t\t\t\t\toContext.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", false);\r\n\t\t\t\t\toContext.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oMasterBusy/busy\", false);\r\n\t\t\t\t\toContext.getOwnerComponent().getModel(\"masterShared\").refresh(false);\r\n\t\t\t\t}\r\n\t\t\t}).catch(function(oError) {\r\n\t\t\t\tif (!oContext.getOwnerComponent().getModel(\"masterShared\").getProperty(\"/oBusy/skipStop\")) {\r\n\t\t\t\t\toContext.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oBusy/busy\", false);\r\n\t\t\t\t\toContext.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", false);\r\n\t\t\t\t\toContext.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oMasterBusy/busy\", false);\r\n\t\t\t\t\toContext.getOwnerComponent().getModel(\"masterShared\").refresh(false);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tstartSpinner: function(oContext) {\r\n\t\t\toContext.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oBusy/busy\", true);\r\n\t\t\toContext.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", true);\r\n\t\t\toContext.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oMasterBusy/busy\", true);\r\n\t\t\toContext.getOwnerComponent().getModel(\"masterShared\").refresh(false);\r\n\t\t},\r\n\t\tstopSpinner: function(oContext) {\r\n\t\t\tif (!oContext.getOwnerComponent().getModel(\"masterShared\").getProperty(\"/oBusy/skipStop\")) {\r\n\t\t\t\toContext.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", false);\r\n\t\t\t\toContext.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oMasterBusy/busy\", false);\r\n\t\t\t\toContext.getOwnerComponent().getModel(\"masterShared\").refresh(false);\r\n\t\t\t}\r\n\t\t},\r\n\t\tstartDetailSpinner: function(oContext) {\r\n\t\t\toContext.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oBusy/busy\", true);\r\n\t\t\toContext.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", true);\r\n\t\t\toContext.getOwnerComponent().getModel(\"masterShared\").refresh(false);\r\n\t\t},\r\n\t\tstopDetailSpinner: function(oContext) {\r\n\t\t\tif (!oContext.getOwnerComponent().getModel(\"masterShared\").getProperty(\"/oBusy/skipStop\")) {\r\n\t\t\t\toContext.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oBusy/busy\", false);\r\n\t\t\t\toContext.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", false);\r\n\t\t\t\toContext.getOwnerComponent().getModel(\"masterShared\").refresh(false);\r\n\t\t\t}\r\n\t\t},\r\n\t\tstartHeaderSpinner: function(oContext) {\r\n\t\t\toContext.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oBusy/busy\", true);\r\n\t\t\toContext.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oMasterBusy/busy\", true);\r\n\t\t\toContext.getOwnerComponent().getModel(\"masterShared\").refresh(false);\r\n\t\t},\r\n\t\tstopHeaderSpinner: function(oContext) {\r\n\t\t\tif (!oContext.getOwnerComponent().getModel(\"masterShared\").getProperty(\"/oBusy/skipStop\")) {\r\n\t\t\t\toContext.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oBusy/busy\", false);\r\n\t\t\t\toContext.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oMasterBusy/busy\", false);\r\n\t\t\t\toContext.getOwnerComponent().getModel(\"masterShared\").refresh(false);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n});",
		"colgate/asm/planning/base/util/VendorUtils.js": "sap.ui.define([\r\n\t'sap/m/Dialog',\r\n\t'sap/m/MessageToast'\r\n], function(Dialog, MessageToast) {\r\n\t\"use strict\";\r\n\treturn {\r\n\t\tonChange: function(oEvent) {\r\n\t\t\tvar oSearchField = oEvent.getSource();\r\n\t\t\tvar value = oEvent.getParameter(\"value\");\r\n\t\t\tvar filters = [];\r\n\t\t\tif (value) {\r\n\t\t\t\tfilters = [new sap.ui.model.Filter([\r\n\t\t\t\t\tnew sap.ui.model.Filter(\"Description\", function(sText) {\r\n\t\t\t\t\t\treturn (sText || \"\").toUpperCase().indexOf(value.toUpperCase()) > -1;\r\n\t\t\t\t\t})\r\n\t\t\t\t], false)];\r\n\t\t\t}\r\n\t\t\toSearchField.getBinding(\"items\").filter(filters);\r\n\t\t},\r\n\t\tonClose: function(oEvent) {\r\n\t\t\tif (this._oDialog) {\r\n\t\t\t\tthis._oDialog.destroy();\r\n\t\t\t}\r\n\t\t},\r\n\t\tonConfirm: function(oEvent) {\r\n\t\t\tvar sPath = oEvent.getParameter(\"selectedItems\")[0].getBindingInfo(\"title\").binding.getContext().getPath();\r\n\t\t\tthis._oComboBox.setSelectedKey(this._oDialog.getModel().getProperty(sPath).Key);\r\n\t\t\toEvent.getSource().getBinding(\"items\").filter([]);\r\n\t\t\tif (this._oDialog) {\r\n\t\t\t\tthis._oDialog.destroy();\r\n\t\t\t}\r\n\t\t},\r\n\t\tonShow: function(oEvent, oModel, oTextModel, oComboBox) {\r\n\t\t\t\tif (this._oDialog) { \r\n\t\t\t\t\tthis._oDialog.destroy();\r\n\t\t\t\t}\r\n\t\t\t\tthis._oDialog = sap.ui.xmlfragment(\"colgate.asm.planning.base.fragment.VendorSelection\", this);\r\n\t\t\t\tthis._oDialog.setModel(oModel);\r\n\t\t\t\tthis._oDialog.setModel(oTextModel, \"Text\");\r\n\t\t\t\tthis._oComboBox = oComboBox;\r\n\t\t\t\t// clear the old search filter\r\n\t\t\t\tthis._oDialog.getBinding(\"items\").filter([]);\r\n\t\t\t\tthis._oDialog.open();\r\n\t\t},\r\n\t\tonClear: function(oEvent,oComboBox) {\r\n\t\t\toComboBox.setSelectedKey(\"\");\r\n\t\t}\r\n\t};\r\n});",
		"colgate/asm/planning/base/util/ValidationUtils.js": "sap.ui.define([\r\n\t'sap/m/MessageToast'\r\n], function(MessageToast) {\r\n\t\"use strict\";\r\n\treturn {\r\n\t\tisNumeric: function(obj) {\r\n\t\t\treturn !jQuery.isArray(obj) && (obj - parseFloat(obj) + 1) >= 0;\r\n\t\t},\r\n\t\tgetTableRow: function(sPath, sBindingContext, aRows) {\r\n\t\t\tvar oRow = null;\r\n\t\t\tfor (var i = 0; i < aRows.length; i++) {\r\n\t\t\t\tif (aRows[i].getBindingContext(sBindingContext)) {\r\n\t\t\t\t\tif (sPath === aRows[i].getBindingContext(sBindingContext).getPath()) {\r\n\t\t\t\t\t\toRow = aRows[i];\r\n\t\t\t\t\t\ti = aRows.length;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn oRow;\r\n\t\t},\r\n\t\tcheckBudgetOverAllocate: function(oContext, oTotal, oRaw) {\r\n\t\t\tvar bAllSuccessful = true;\r\n\t\t\tvar i = 0;\r\n\t\t\tdo {\r\n\t\t\t\ti++;\r\n\t\t\t\tvar sColumnName = \"AmtB\" + i;\r\n\t\t\t\tvar sFieldEditable = \"FC_Editable_AmtB\" + i;\r\n\t\t\t\tif (parseFloat(oTotal[sColumnName]) > parseFloat(oRaw[sColumnName])) {\r\n\t\t\t\t\tvar sValueState = \"FC_ValueState_AmtB\" + i;\r\n\t\t\t\t\tvar sValueStateText = \"FC_ValueStateText_AmtB\" + i;\r\n\t\t\t\t\tif (oRaw[sFieldEditable] === true) {\r\n\t\t\t\t\t\t// Begin of Changes - Khrystyne Williams - Nov 2016\r\n\t\t\t\t\t\t// oRaw[sValueState] = sap.ui.core.ValueState.Error;\r\n\t\t\t\t\t\toRaw[sValueState] = sap.ui.core.ValueState.Warning;\r\n\t\t\t\t\t\t// End of Changes - Khrystyne Williams - Nov 2016\r\n\t\t\t\t\t\toRaw[sValueStateText] = oContext.getOwnerComponent().getModel(\"i18n\").getResourceBundle().getText(\r\n\t\t\t\t\t\t\t\"A_E_subTooMuch\", []);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tfor (var j = 0; j < oRaw._SubactivityCount; j++) {\r\n\t\t\t\t\t\t\tif (oRaw[j][sFieldEditable] === true) {\r\n\t\t\t\t\t\t\t\t// Begin of Changes - Khrystyne Williams - Nov 2016\r\n\t\t\t\t\t\t\t\t// oRaw[j][sValueState] = sap.ui.core.ValueState.Error;\r\n\t\t\t\t\t\t\t\toRaw[j][sValueState] = sap.ui.core.ValueState.Warning;\r\n\t\t\t\t\t\t\t\t// End of Changes - Khrystyne Williams - Nov 2016\r\n\t\t\t\t\t\t\t\toRaw[j][sValueStateText] = oContext.getOwnerComponent().getModel(\"i18n\").getResourceBundle().getText(\r\n\t\t\t\t\t\t\t\t\t\"A_E_subTooMuch\", []);\r\n\t\t\t\t\t\t\t\tj = oRaw._SubactivityCount;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbAllSuccessful = false;\r\n\t\t\t\t}\r\n\t\t\t} while (i < 12);\r\n\t\t\treturn bAllSuccessful;\r\n\t\t},\r\n\t\tcheckMaxValueOverAllocate: function(oContext, oRaw) {\r\n\t\t\tvar bAllSuccessful = true;\r\n\t\t\tif (parseFloat(oRaw.MaxValueB) > parseFloat(0)) {\r\n\t\t\t\tif (parseFloat(oRaw.AmtBTot) > parseFloat(oRaw.MaxValueB)) {\r\n\t\t\t\t\tvar sValueState = \"FC_ValueState_MaxValueB\";\r\n\t\t\t\t\tvar sValueStateText = \"FC_ValueStateText_MaxValueB\";\r\n\t\t\t\t\toRaw[sValueState] = sap.ui.core.ValueState.Error;\r\n\t\t\t\t\toRaw[sValueStateText] = oContext.getOwnerComponent().getModel(\"i18n\").getResourceBundle().getText(\r\n\t\t\t\t\t\t\"A_E_BTooMuch\", []);\r\n\t\t\t\t\tbAllSuccessful = false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn bAllSuccessful;\r\n\t\t},\r\n\t\tcompletenessCheck: function(oContext) {\r\n\t\t\tthis.removeErrorMessages(oContext);\r\n\t\t\tvar aDraftRecords = [];\r\n\t\t\tvar aPublishedRecords = [];\r\n\t\t\tvar aPlanApprovedRecords = [];\r\n\t\t\tvar aSelected = oContext.byId(\"Table\").getSelectedIndices();\r\n\t\t\tif (aSelected.length > 0) {\r\n\t\t\t\tfor (var i = 0; i < aSelected.length; i++) {\r\n\t\t\t\t\tvar sPath = oContext.byId(\"Table\").getContextByIndex(aSelected[i]).getPath();\r\n\t\t\t\t\tvar oRecord = oContext.getModel(\"Project\").getProperty(sPath);\r\n\t\t\t\t\tif (oRecord.Status === '9002') {\r\n\t\t\t\t\t\taDraftRecords.push(aSelected[i]);\r\n\t\t\t\t\t} else if (oRecord.Status === '9012') {\r\n\t\t\t\t\t\taPublishedRecords.push(aSelected[i]);\r\n\t\t\t\t\t} else if (oRecord.Status === '9013') {\r\n\t\t\t\t\t\taPlanApprovedRecords.push(aSelected[i]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tvar oOnScreen = oContext.getModel(\"Project\").getProperty(\"/OnScreen\");\r\n\t\t\t\tif (oOnScreen && oOnScreen[0]) {\r\n\t\t\t\t\tfor (var i = 0; i < oOnScreen[0]._projectCount; i++) {\r\n\t\t\t\t\t\tvar oProject = oOnScreen[0][i];\r\n\t\t\t\t\t\tfor (var j = 0; j < oProject._activityCount; j++) {\r\n\t\t\t\t\t\t\tvar oActivity = oProject[j];\r\n\t\t\t\t\t\t\tif (oActivity.Status === '9002') {\r\n\t\t\t\t\t\t\t\taDraftRecords.push(aSelected[i]);\r\n\t\t\t\t\t\t\t} else if (oActivity.Status === '9012') {\r\n\t\t\t\t\t\t\t\taPublishedRecords.push(aSelected[i]);\r\n\t\t\t\t\t\t\t} else if (oActivity.Status === '9013') {\r\n\t\t\t\t\t\t\t\taPlanApprovedRecords.push(aSelected[i]);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tfor (var k = 0; k < oActivity._subactivityCount; k++) {\r\n\t\t\t\t\t\t\t\tvar oSubactivity = oActivity[k];\r\n\t\t\t\t\t\t\t\tif (oSubactivity.Status === '9002') {\r\n\t\t\t\t\t\t\t\t\taDraftRecords.push(aSelected[i]);\r\n\t\t\t\t\t\t\t\t} else if (oSubactivity.Status === '9012') {\r\n\t\t\t\t\t\t\t\t\taPublishedRecords.push(aSelected[i]);\r\n\t\t\t\t\t\t\t\t} else if (oSubactivity.Status === '9013') {\r\n\t\t\t\t\t\t\t\t\taPlanApprovedRecords.push(aSelected[i]);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tvar bNoReleaseErrors = this.cc_ReleaseCheck(oContext, aPlanApprovedRecords);\r\n\t\t\tvar bNoPlanApproveErrors = this.cc_PlanApprovedCheck(oContext, aPublishedRecords);\r\n\t\t\tvar bNoPublishErrors = this.cc_PublishCheck(oContext, aDraftRecords);\r\n\t\t\tif (!bNoReleaseErrors || !bNoPublishErrors || !bNoPlanApproveErrors) {\r\n\t\t\t\toContext._setRowStyle();\r\n\t\t\t\tvar sMessage = oContext.getOwnerComponent().getModel(\"i18n\").getResourceBundle().getText(\"SCU_E_LookAtErrors\", []);\r\n\t\t\t\tMessageToast.show(sMessage);\r\n\t\t\t}\r\n\t\t},\r\n\t\tcc_ReleaseCheck: function(oContext, aSelected) {\r\n\t\t\tvar bSuccess = true;\r\n\t\t\tfor (var j = 0; j < aSelected.length; j++) {\r\n\t\t\t\tvar oRowContext = oContext.byId(\"Table\").getContextByIndex(aSelected[j]);\r\n\t\t\t\t// Begin of Changes - Khrystyne Williams - Dec 2016\r\n\t\t\t\t// var oRecord = oContext.getModel(\"Project\").getProperty(sPath);\r\n\t\t\t\t// if (oRecord.ItemType === 'SA') {\r\n\t\t\t\t// \t// Do not allow freezes or unallocations to be released\r\n\t\t\t\t// }\r\n\t\t\t\t// End of Changes - Khrystyne Williams - Dec 2016\r\n\t\t\t\tif (oRowContext) {\r\n\t\t\t\t\tvar sPath = oContext.byId(\"Table\").getContextByIndex(aSelected[j]).getPath();\r\n\t\t\t\t\tvar oRecord = oContext.getModel(\"Project\").getProperty(sPath);\r\n\t\t\t\t\tif (oRecord.ItemType === 'SA') {\r\n\t\t\t\t\t\tif (!oRecord.CategoryKey || oRecord.CategoryKey === '') {\r\n\t\t\t\t\t\t\toRecord._ValueState = \"Error\";\r\n\t\t\t\t\t\t\tbSuccess = false;\r\n\t\t\t\t\t\t\tvar sMessage = oContext.getOwnerComponent().getModel(\"i18n\").getResourceBundle().getText(\"SCU_E_SANoCat\", [oRecord.Name]);\r\n\t\t\t\t\t\t\toContext.oMessageManager.addMessages(\r\n\t\t\t\t\t\t\t\tnew sap.ui.core.message.Message({\r\n\t\t\t\t\t\t\t\t\tmessage: sMessage,\r\n\t\t\t\t\t\t\t\t\tdescription: \"\",\r\n\t\t\t\t\t\t\t\t\ttype: sap.ui.core.ValueState.Error,\r\n\t\t\t\t\t\t\t\t\tprocessor: oContext.oMessageProcessor\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (!oRecord.SubcategoryKey || oRecord.SubcategoryKey === '') {\r\n\t\t\t\t\t\t\toRecord._ValueState = \"Error\";\r\n\t\t\t\t\t\t\tbSuccess = false;\r\n\t\t\t\t\t\t\tvar sMessage = oContext.getOwnerComponent().getModel(\"i18n\").getResourceBundle().getText(\"SCU_E_SANoSubCat\", [oRecord.Name]);\r\n\t\t\t\t\t\t\toContext.oMessageManager.addMessages(\r\n\t\t\t\t\t\t\t\tnew sap.ui.core.message.Message({\r\n\t\t\t\t\t\t\t\t\tmessage: sMessage,\r\n\t\t\t\t\t\t\t\t\tdescription: \"\",\r\n\t\t\t\t\t\t\t\t\ttype: sap.ui.core.ValueState.Error,\r\n\t\t\t\t\t\t\t\t\tprocessor: oContext.oMessageProcessor\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// Check Brand\r\n\t\t\t\t\t\tif (!oRecord.BrandKey || oRecord.BrandKey === '') {\r\n\t\t\t\t\t\t\toRecord._ValueState = \"Error\";\r\n\t\t\t\t\t\t\tbSuccess = false;\r\n\t\t\t\t\t\t\tvar sMessage = oContext.getOwnerComponent().getModel(\"i18n\").getResourceBundle().getText(\"SCU_E_SANoBrand\", [oRecord.Name]);\r\n\t\t\t\t\t\t\toContext.oMessageManager.addMessages(\r\n\t\t\t\t\t\t\t\tnew sap.ui.core.message.Message({\r\n\t\t\t\t\t\t\t\t\tmessage: sMessage,\r\n\t\t\t\t\t\t\t\t\tdescription: \"\",\r\n\t\t\t\t\t\t\t\t\ttype: sap.ui.core.ValueState.Error,\r\n\t\t\t\t\t\t\t\t\tprocessor: oContext.oMessageProcessor\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// Check Subbrand\r\n\t\t\t\t\t\tif (!oRecord.SubbrandKey || oRecord.SubbrandKey === '') {\r\n\t\t\t\t\t\t\toRecord._ValueState = \"Error\";\r\n\t\t\t\t\t\t\tbSuccess = false;\r\n\t\t\t\t\t\t\tvar sMessage = oContext.getOwnerComponent().getModel(\"i18n\").getResourceBundle().getText(\"SCU_E_SANoSubBrand\", [oRecord.Name]);\r\n\t\t\t\t\t\t\toContext.oMessageManager.addMessages(\r\n\t\t\t\t\t\t\t\tnew sap.ui.core.message.Message({\r\n\t\t\t\t\t\t\t\t\tmessage: sMessage,\r\n\t\t\t\t\t\t\t\t\tdescription: \"\",\r\n\t\t\t\t\t\t\t\t\ttype: sap.ui.core.ValueState.Error,\r\n\t\t\t\t\t\t\t\t\tprocessor: oContext.oMessageProcessor\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// Check if plan is empty\r\n\t\t\t\t\tif (oRecord.ItemType === 'SA' && (oRecord.Agency === \"\" || oRecord.Agency === \"0000000000\")) {\r\n\t\t\t\t\t\t// Add in logic for putting a warning on these records\r\n\t\t\t\t\t\toRecord._ValueState = \"Warning\";\r\n\t\t\t\t\t\tvar sMessage = oContext.getOwnerComponent().getModel(\"i18n\").getResourceBundle().getText(\"VU_W_NoAgency\", [oRecord.Name]);\r\n\t\t\t\t\t\tbSuccess = false;\r\n\t\t\t\t\t\toContext.oMessageManager.addMessages(\r\n\t\t\t\t\t\t\tnew sap.ui.core.message.Message({\r\n\t\t\t\t\t\t\t\tmessage: sMessage,\r\n\t\t\t\t\t\t\t\tdescription: \"\",\r\n\t\t\t\t\t\t\t\ttype: sap.ui.core.ValueState.Warning,\r\n\t\t\t\t\t\t\t\tprocessor: oContext.oMessageProcessor\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn bSuccess;\r\n\t\t},\r\n\t\tcc_PublishCheck: function(oContext, aSelected) {\r\n\t\t\tvar bAllowSave = true;\r\n\t\t\tfor (var j = 0; j < aSelected.length; j++) {\r\n\t\t\t\tvar oRowContext = oContext.byId(\"Table\").getContextByIndex(aSelected[j]);\r\n\t\t\t\tif (oRowContext) {\r\n\t\t\t\t\tvar sPath = oRowContext.getPath();\r\n\t\t\t\t\tvar oRecord = oContext.getModel(\"Project\").getProperty(sPath);\r\n\t\t\t\t\toRecord._ValueState = \"None\";\r\n\t\t\t\t\tif (oRecord.ItemType === 'AT') {\r\n\t\t\t\t\t\t// Must already contain Sub and Brand\r\n\t\t\t\t\t\t// Begin of Commenting - Khrystyne Williams - Nov 2016\r\n\t\t\t\t\t\t// if (!oRecord.SubKey || oRecord.SubKey === '') {\r\n\t\t\t\t\t\t// \tbAllowSave = false;\r\n\t\t\t\t\t\t// \tvar sMessage = oContext.getOwnerComponent().getModel(\"i18n\").getResourceBundle().getText(\"SCU_E_NoSub\", [oRecord.Name]);\r\n\t\t\t\t\t\t// \tif (!oRecord.CHasChildren || oRecord.CHasChildren === ' ') {\r\n\t\t\t\t\t\t// \t\toRecord._ValueState = \"Error\";\r\n\t\t\t\t\t\t// \t\toContext.oMessageManager.addMessages(\r\n\t\t\t\t\t\t// \t\t\tnew sap.ui.core.message.Message({\r\n\t\t\t\t\t\t// \t\t\t\tmessage: sMessage,\r\n\t\t\t\t\t\t// \t\t\t\tdescription: \"\",\r\n\t\t\t\t\t\t// \t\t\t\ttype: sap.ui.core.ValueState.Error,\r\n\t\t\t\t\t\t// \t\t\t\tprocessor: oContext.oMessageProcessor\r\n\t\t\t\t\t\t// \t\t\t})\r\n\t\t\t\t\t\t// \t\t);\r\n\t\t\t\t\t\t// \t};\r\n\t\t\t\t\t\t// }\r\n\t\t\t\t\t\t// End of Commenting - Khrystyne Williams - Nov 2016\r\n\r\n\t\t\t\t\t\t// Begin of Commenting - Khrystyne Williams - August 26, 2016\r\n\t\t\t\t\t\t// Remove the check for Brand and budget total match check\r\n\t\t\t\t\t\t// if (!oRecord.BrandKey || oRecord.BrandKey === '') {\r\n\t\t\t\t\t\t// \tbAllowSave = false;\r\n\t\t\t\t\t\t// \tvar sMessage = oContext.getOwnerComponent().getModel(\"i18n\").getResourceBundle().getText(\"SCU_E_NoBrand\", [oRecord.Name]);\r\n\t\t\t\t\t\t// \tif (!oRecord.CHasChildren || oRecord.CHasChildren === ' ') {\r\n\t\t\t\t\t\t// \t\toRecord._ValueState = \"Error\";\r\n\t\t\t\t\t\t// \t\toContext.oMessageManager.addMessages(\r\n\t\t\t\t\t\t// \t\t\tnew sap.ui.core.message.Message({\r\n\t\t\t\t\t\t// \t\t\t\tmessage: sMessage,\r\n\t\t\t\t\t\t// \t\t\t\tdescription: \"\",\r\n\t\t\t\t\t\t// \t\t\t\ttype: sap.ui.core.ValueState.Error,\r\n\t\t\t\t\t\t// \t\t\t\tprocessor: oContext.oMessageProcessor\r\n\t\t\t\t\t\t// \t\t\t})\r\n\t\t\t\t\t\t// \t\t);\r\n\t\t\t\t\t\t// \t}\r\n\t\t\t\t\t\t// }\r\n\r\n\t\t\t\t\t\t// Begin of Changes and Uncommenting - Khrystyne Williams - Nov 2016\r\n\t\t\t\t\t\t// If the activity does not have a sub-activity, the user is not allowed to promote to Published\r\n\t\t\t\t\t\tif (oRecord.CHasChildren !== 'X') {\r\n\t\t\t\t\t\t\toRecord._ValueState = \"Error\";\r\n\t\t\t\t\t\t\tbAllowSave = false;\r\n\t\t\t\t\t\t\tvar sMessage = oContext.getOwnerComponent().getModel(\"i18n\").getResourceBundle().getText(\"SCU_E_SANoSubAct\", [oRecord.Name]);\r\n\t\t\t\t\t\t\toContext.oMessageManager.addMessages(\r\n\t\t\t\t\t\t\t\tnew sap.ui.core.message.Message({\r\n\t\t\t\t\t\t\t\t\tmessage: sMessage,\r\n\t\t\t\t\t\t\t\t\tdescription: \"\",\r\n\t\t\t\t\t\t\t\t\ttype: sap.ui.core.ValueState.Error,\r\n\t\t\t\t\t\t\t\t\tprocessor: oContext.oMessageProcessor\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (bAllowSave) {\r\n\t\t\t\t\t\t\t// Begin of Commenting - Khrystyne Williams - Feb 2017\r\n\t\t\t\t\t\t\t// Since we are only entering plans at the subactivity level, there is no need to check against activity numbers\r\n\t\t\t\t\t\t\t// Check all children to make sure they match the value of the parent\r\n\t\t\t\t\t\t\t// var oTotalSubactivityBudget = oContext._getBudgetObject();\r\n\t\t\t\t\t\t\t// for (var k = 0; k < aSelected.length; k++) {\r\n\t\t\t\t\t\t\t// \tvar sSubPath = oContext.byId(\"Table\").getContextByIndex(aSelected[k]).getPath();\r\n\t\t\t\t\t\t\t// \tvar oSubactivity = oContext.getModel(\"Project\").getProperty(sSubPath);\r\n\t\t\t\t\t\t\t// \tfor (var w = 0; w < oSubactivity._subactivityCount; w++) {\r\n\t\t\t\t\t\t\t// \t\tif (oSubactivity[w].ItemType === 'SA' && oSubactivity[w].ActivityGuid === oRecord.Guid) {\r\n\t\t\t\t\t\t\t// \t\t\t// This one is a child of Activity that was chosen\r\n\t\t\t\t\t\t\t// \t\t\toContext._sumBudgetNumbers(oTotalSubactivityBudget, oSubactivity[w]);\r\n\t\t\t\t\t\t\t// \t\t}\r\n\t\t\t\t\t\t\t// \t}\r\n\t\t\t\t\t\t\t// }\r\n\t\t\t\t\t\t\t// // Begin of Changes - Khrystyne Williams - Dec 2016\r\n\t\t\t\t\t\t\t// // var bMatch = this._matchBudget(oRecord, oTotalSubactivityBudget);\r\n\t\t\t\t\t\t\t// var bMatch = this._matchTotalBudget(oRecord, oTotalSubactivityBudget);\r\n\t\t\t\t\t\t\t// // End of Changes - Khrystyne Williams - Dec 2016\r\n\r\n\t\t\t\t\t\t\t// if (!bMatch) {\r\n\t\t\t\t\t\t\t// \toRecord._ValueState = \"Error\";\r\n\t\t\t\t\t\t\t// \tbAllowSave = false;\r\n\t\t\t\t\t\t\t// \tvar sMessage = oContext.getOwnerComponent().getModel(\"i18n\").getResourceBundle().getText(\"SCU_E_ANoMatch\", [oRecord.Name]);\r\n\t\t\t\t\t\t\t// \toContext.oMessageManager.addMessages(\r\n\t\t\t\t\t\t\t// \t\tnew sap.ui.core.message.Message({\r\n\t\t\t\t\t\t\t// \t\t\tmessage: sMessage,\r\n\t\t\t\t\t\t\t// \t\t\tdescription: \"\",\r\n\t\t\t\t\t\t\t// \t\t\ttype: sap.ui.core.ValueState.Error,\r\n\t\t\t\t\t\t\t// \t\t\tprocessor: oContext.oMessageProcessor\r\n\t\t\t\t\t\t\t// \t\t})\r\n\t\t\t\t\t\t\t// \t);\r\n\t\t\t\t\t\t\t// }\r\n\t\t\t\t\t\t\t// End of Commenting - Khrystyne Williams - Feb 2017\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// End of Commenting - Khrystyne Williams - August 26, 2016\r\n\t\t\t\t\t} else if (oRecord.ItemType === 'SA') {\r\n\t\t\t\t\t\t// Check Subsidiary\r\n\t\t\t\t\t\tif (!oRecord.SubKey || oRecord.SubKey === '') {\r\n\t\t\t\t\t\t\toRecord._ValueState = \"Error\";\r\n\t\t\t\t\t\t\tbAllowSave = false;\r\n\t\t\t\t\t\t\tvar sMessage = oContext.getOwnerComponent().getModel(\"i18n\").getResourceBundle().getText(\"SCU_E_SANoSub\", [oRecord.Name]);\r\n\t\t\t\t\t\t\toContext.oMessageManager.addMessages(\r\n\t\t\t\t\t\t\t\tnew sap.ui.core.message.Message({\r\n\t\t\t\t\t\t\t\t\tmessage: sMessage,\r\n\t\t\t\t\t\t\t\t\tdescription: \"\",\r\n\t\t\t\t\t\t\t\t\ttype: sap.ui.core.ValueState.Error,\r\n\t\t\t\t\t\t\t\t\tprocessor: oContext.oMessageProcessor\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// Begin of Commenting - Khrystyne Williams - August 26, 2016\r\n\t\t\t\t\t\t// Begin of Changes and Uncommenting - Khrystyne Williams - Nov 2016\r\n\t\t\t\t\t\t// Check Category, Sub-category, Brand and Sub-Brand on Status Change\r\n\r\n\t\t\t\t\t\tif (!oRecord.CategoryKey || oRecord.CategoryKey === '') {\r\n\t\t\t\t\t\t\toRecord._ValueState = \"Error\";\r\n\t\t\t\t\t\t\tbAllowSave = false;\r\n\t\t\t\t\t\t\tvar sMessage = oContext.getOwnerComponent().getModel(\"i18n\").getResourceBundle().getText(\"SCU_E_SANoCat\", [oRecord.Name]);\r\n\t\t\t\t\t\t\toContext.oMessageManager.addMessages(\r\n\t\t\t\t\t\t\t\tnew sap.ui.core.message.Message({\r\n\t\t\t\t\t\t\t\t\tmessage: sMessage,\r\n\t\t\t\t\t\t\t\t\tdescription: \"\",\r\n\t\t\t\t\t\t\t\t\ttype: sap.ui.core.ValueState.Error,\r\n\t\t\t\t\t\t\t\t\tprocessor: oContext.oMessageProcessor\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (!oRecord.SubcategoryKey || oRecord.SubcategoryKey === '') {\r\n\t\t\t\t\t\t\toRecord._ValueState = \"Error\";\r\n\t\t\t\t\t\t\tbAllowSave = false;\r\n\t\t\t\t\t\t\tvar sMessage = oContext.getOwnerComponent().getModel(\"i18n\").getResourceBundle().getText(\"SCU_E_SANoSubCat\", [oRecord.Name]);\r\n\t\t\t\t\t\t\toContext.oMessageManager.addMessages(\r\n\t\t\t\t\t\t\t\tnew sap.ui.core.message.Message({\r\n\t\t\t\t\t\t\t\t\tmessage: sMessage,\r\n\t\t\t\t\t\t\t\t\tdescription: \"\",\r\n\t\t\t\t\t\t\t\t\ttype: sap.ui.core.ValueState.Error,\r\n\t\t\t\t\t\t\t\t\tprocessor: oContext.oMessageProcessor\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// Check Brand\r\n\t\t\t\t\t\tif (!oRecord.BrandKey || oRecord.BrandKey === '') {\r\n\t\t\t\t\t\t\toRecord._ValueState = \"Error\";\r\n\t\t\t\t\t\t\tbAllowSave = false;\r\n\t\t\t\t\t\t\tvar sMessage = oContext.getOwnerComponent().getModel(\"i18n\").getResourceBundle().getText(\"SCU_E_SANoBrand\", [oRecord.Name]);\r\n\t\t\t\t\t\t\toContext.oMessageManager.addMessages(\r\n\t\t\t\t\t\t\t\tnew sap.ui.core.message.Message({\r\n\t\t\t\t\t\t\t\t\tmessage: sMessage,\r\n\t\t\t\t\t\t\t\t\tdescription: \"\",\r\n\t\t\t\t\t\t\t\t\ttype: sap.ui.core.ValueState.Error,\r\n\t\t\t\t\t\t\t\t\tprocessor: oContext.oMessageProcessor\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// Check Subbrand\r\n\t\t\t\t\t\tif (!oRecord.SubbrandKey || oRecord.SubbrandKey === '') {\r\n\t\t\t\t\t\t\toRecord._ValueState = \"Error\";\r\n\t\t\t\t\t\t\tbAllowSave = false;\r\n\t\t\t\t\t\t\tvar sMessage = oContext.getOwnerComponent().getModel(\"i18n\").getResourceBundle().getText(\"SCU_E_SANoSubBrand\", [oRecord.Name]);\r\n\t\t\t\t\t\t\toContext.oMessageManager.addMessages(\r\n\t\t\t\t\t\t\t\tnew sap.ui.core.message.Message({\r\n\t\t\t\t\t\t\t\t\tmessage: sMessage,\r\n\t\t\t\t\t\t\t\t\tdescription: \"\",\r\n\t\t\t\t\t\t\t\t\ttype: sap.ui.core.ValueState.Error,\r\n\t\t\t\t\t\t\t\t\tprocessor: oContext.oMessageProcessor\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// Check if plan is empty\r\n\t\t\t\t\t\tvar nTotalPlan = parseFloat(oRecord.AmtB1) + parseFloat(oRecord.AmtB2) + parseFloat(oRecord.AmtB3) +\r\n\t\t\t\t\t\t\tparseFloat(oRecord.AmtB4) + parseFloat(oRecord.AmtB5) + parseFloat(oRecord.AmtB6) +\r\n\t\t\t\t\t\t\tparseFloat(oRecord.AmtB7) + parseFloat(oRecord.AmtB8) + parseFloat(oRecord.AmtB9) +\r\n\t\t\t\t\t\t\tparseFloat(oRecord.AmtB10) + parseFloat(oRecord.AmtB11) + parseFloat(oRecord.AmtB12);\r\n\t\t\t\t\t\t// if (nTotalPlan <= parseFloat(\"0.0\") && !oRecord._EmptyPlanWarning) {\r\n\t\t\t\t\t\t\t// oRecord._EmptyPlanWarning = true;\r\n\t\t\t\t\t\t\t// if (oRecord._ValueState === \"None\") {\r\n\t\t\t\t\t\t\t// oRecord._ValueState = \"Warning\";\r\n\t\t\t\t\t\t\t// }\r\n\t\t\t\t\t\tif (nTotalPlan <= parseFloat(\"0.0\")) {\r\n\t\t\t\t\t\t\toRecord._ValueState = \"Error\"; //Bhavik\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tbAllowSave = false;\r\n\t\t\t\t\t\t\toContext.oMessageManager.addMessages(\r\n\t\t\t\t\t\t\t\tnew sap.ui.core.message.Message({\r\n\t\t\t\t\t\t\t\t\tmessage: oContext.getOwnerComponent().getModel(\"i18n\").getResourceBundle().getText(\"SCU_E_SANoPlan\", [oRecord.Name]),\r\n\t\t\t\t\t\t\t\t\tdescription: \"\",\r\n\t\t\t\t\t\t\t\t\ttype: sap.ui.core.ValueState.Error,\r\n\t\t\t\t\t\t\t\t\tprocessor: oContext.oMessageProcessor\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t} \r\n\t\t\t\t\t\t// else {\r\n\t\t\t\t\t\t// \toRecord._EmptyPlanWarning = false;\r\n\t\t\t\t\t\t// }\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn bAllowSave;\r\n\t\t},\r\n\t\tcc_PlanApprovedCheck: function(oContext, aSelected) {\r\n\t\t\tvar bAllowSave = true;\r\n\t\t\tfor (var j = 0; j < aSelected.length; j++) {\r\n\t\t\t\tvar oRowContext = oContext.byId(\"Table\").getContextByIndex(aSelected[j]);\r\n\t\t\t\tif (oRowContext) {\r\n\t\t\t\t\tvar sPath = oRowContext.getPath();\r\n\t\t\t\t\tvar oRecord = oContext.getModel(\"Project\").getProperty(sPath);\r\n\t\t\t\t\tif (oRecord.ItemType === 'AT') {\r\n\t\t\t\t\t\t// If the activity does not have a sub-activity, the user is not allowed to promote to Plan Approved\r\n\t\t\t\t\t\tif (oRecord.CHasChildren === 'X') {\r\n\t\t\t\t\t\t\t// Nothing further to do at this time\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tbAllowSave = false;\r\n\t\t\t\t\t\t\tvar sMessage = oContext.getOwnerComponent().getModel(\"i18n\").getResourceBundle().getText(\"SCU_E_SANoSubAct\", [oRecord.Name]);\r\n\t\t\t\t\t\t\toContext.oMessageManager.addMessages(\r\n\t\t\t\t\t\t\t\tnew sap.ui.core.message.Message({\r\n\t\t\t\t\t\t\t\t\tmessage: sMessage,\r\n\t\t\t\t\t\t\t\t\tdescription: \"\",\r\n\t\t\t\t\t\t\t\t\ttype: sap.ui.core.ValueState.Error,\r\n\t\t\t\t\t\t\t\t\tprocessor: oContext.oMessageProcessor\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else if (oRecord.ItemType === 'SA') {\r\n\t\t\t\t\t\tif (!oRecord.CategoryKey || oRecord.CategoryKey === '') {\r\n\t\t\t\t\t\t\toRecord._ValueState = \"Error\";\r\n\t\t\t\t\t\t\tbAllowSave = false;\r\n\t\t\t\t\t\t\tvar sMessage = oContext.getOwnerComponent().getModel(\"i18n\").getResourceBundle().getText(\"SCU_E_SANoCat\", [oRecord.Name]);\r\n\t\t\t\t\t\t\toContext.oMessageManager.addMessages(\r\n\t\t\t\t\t\t\t\tnew sap.ui.core.message.Message({\r\n\t\t\t\t\t\t\t\t\tmessage: sMessage,\r\n\t\t\t\t\t\t\t\t\tdescription: \"\",\r\n\t\t\t\t\t\t\t\t\ttype: sap.ui.core.ValueState.Error,\r\n\t\t\t\t\t\t\t\t\tprocessor: oContext.oMessageProcessor\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (!oRecord.SubcategoryKey || oRecord.SubcategoryKey === '') {\r\n\t\t\t\t\t\t\toRecord._ValueState = \"Error\";\r\n\t\t\t\t\t\t\tbAllowSave = false;\r\n\t\t\t\t\t\t\tvar sMessage = oContext.getOwnerComponent().getModel(\"i18n\").getResourceBundle().getText(\"SCU_E_SANoSubCat\", [oRecord.Name]);\r\n\t\t\t\t\t\t\toContext.oMessageManager.addMessages(\r\n\t\t\t\t\t\t\t\tnew sap.ui.core.message.Message({\r\n\t\t\t\t\t\t\t\t\tmessage: sMessage,\r\n\t\t\t\t\t\t\t\t\tdescription: \"\",\r\n\t\t\t\t\t\t\t\t\ttype: sap.ui.core.ValueState.Error,\r\n\t\t\t\t\t\t\t\t\tprocessor: oContext.oMessageProcessor\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// Check Brand\r\n\t\t\t\t\t\tif (!oRecord.BrandKey || oRecord.BrandKey === '') {\r\n\t\t\t\t\t\t\toRecord._ValueState = \"Error\";\r\n\t\t\t\t\t\t\tbAllowSave = false;\r\n\t\t\t\t\t\t\tvar sMessage = oContext.getOwnerComponent().getModel(\"i18n\").getResourceBundle().getText(\"SCU_E_SANoBrand\", [oRecord.Name]);\r\n\t\t\t\t\t\t\toContext.oMessageManager.addMessages(\r\n\t\t\t\t\t\t\t\tnew sap.ui.core.message.Message({\r\n\t\t\t\t\t\t\t\t\tmessage: sMessage,\r\n\t\t\t\t\t\t\t\t\tdescription: \"\",\r\n\t\t\t\t\t\t\t\t\ttype: sap.ui.core.ValueState.Error,\r\n\t\t\t\t\t\t\t\t\tprocessor: oContext.oMessageProcessor\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// Check Subbrand\r\n\t\t\t\t\t\tif (!oRecord.SubbrandKey || oRecord.SubbrandKey === '') {\r\n\t\t\t\t\t\t\toRecord._ValueState = \"Error\";\r\n\t\t\t\t\t\t\tbAllowSave = false;\r\n\t\t\t\t\t\t\tvar sMessage = oContext.getOwnerComponent().getModel(\"i18n\").getResourceBundle().getText(\"SCU_E_SANoSubBrand\", [oRecord.Name]);\r\n\t\t\t\t\t\t\toContext.oMessageManager.addMessages(\r\n\t\t\t\t\t\t\t\tnew sap.ui.core.message.Message({\r\n\t\t\t\t\t\t\t\t\tmessage: sMessage,\r\n\t\t\t\t\t\t\t\t\tdescription: \"\",\r\n\t\t\t\t\t\t\t\t\ttype: sap.ui.core.ValueState.Error,\r\n\t\t\t\t\t\t\t\t\tprocessor: oContext.oMessageProcessor\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvar nTotalPlan = parseFloat(oRecord.AmtB1) + parseFloat(oRecord.AmtB2) + parseFloat(oRecord.AmtB3) +\r\n\t\t\t\t\t\t\tparseFloat(oRecord.AmtB4) + parseFloat(oRecord.AmtB5) + parseFloat(oRecord.AmtB6) +\r\n\t\t\t\t\t\t\tparseFloat(oRecord.AmtB7) + parseFloat(oRecord.AmtB8) + parseFloat(oRecord.AmtB9) +\r\n\t\t\t\t\t\t\tparseFloat(oRecord.AmtB10) + parseFloat(oRecord.AmtB11) + parseFloat(oRecord.AmtB12);\r\n\t\t\t\t\t\tif (nTotalPlan === parseFloat(\"0.0\")) {\r\n\t\t\t\t\t\t\toRecord._ValueState = \"Error\";\r\n\t\t\t\t\t\t\tbAllowSave = false;\r\n\t\t\t\t\t\t\toContext.oMessageManager.addMessages(\r\n\t\t\t\t\t\t\t\tnew sap.ui.core.message.Message({\r\n\t\t\t\t\t\t\t\t\tmessage: oContext.getOwnerComponent().getModel(\"i18n\").getResourceBundle().getText(\"SCU_E_SARNoPlan\", [oRecord.Name]),\r\n\t\t\t\t\t\t\t\t\tdescription: \"\",\r\n\t\t\t\t\t\t\t\t\ttype: sap.ui.core.ValueState.Error,\r\n\t\t\t\t\t\t\t\t\tprocessor: oContext.oMessageProcessor\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\toRecord._ValueState = \"None\";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn bAllowSave;\r\n\t\t},\r\n\t\t// End of Addition - Khrystyne Williams - Nov 2016\r\n\r\n\t\tremoveErrorMessages: function(oContext) {\r\n\t\t\toContext.oMessageManager.removeAllMessages();\r\n\t\t\t// Clear errors\r\n\t\t\tvar oOnScreen = oContext.getModel(\"Project\").getProperty(\"/OnScreen\");\r\n\t\t\tif (oOnScreen && oOnScreen[0]) {\r\n\t\t\t\tfor (var i = 0; i < oOnScreen[0]._projectCount; i++) {\r\n\t\t\t\t\tvar oProject = oOnScreen[0][i];\r\n\t\t\t\t\tdelete oProject._ValueState;\r\n\t\t\t\t\tfor (var j = 0; j < oProject._activityCount; j++) {\r\n\t\t\t\t\t\tvar sPath = \"/OnScreen/0/\" + i + \"/\" + j;\r\n\t\t\t\t\t\tvar oActivity = oProject[j];\r\n\t\t\t\t\t\tdelete oActivity._ValueState;\r\n\t\t\t\t\t\tfor (var k = 0; k < oActivity._subactivityCount; k++) {\r\n\t\t\t\t\t\t\tsPath = \"/OnScreen/0/\" + i + \"/\" + j + \"/\" + k;\r\n\t\t\t\t\t\t\tvar oSubactivity = oActivity[k];\r\n\t\t\t\t\t\t\tdelete oSubactivity._ValueState;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\toContext._setRowStyle();\r\n\t\t},\r\n\t\t_matchBudget: function(oRecordA, oRecordB) {\r\n\t\t\tvar i = 0;\r\n\t\t\tdo {\r\n\t\t\t\ti++;\r\n\t\t\t\tvar sColumnName = \"AmtB\" + i;\r\n\t\t\t\tif (Math.floor(parseFloat(oRecordA[sColumnName])) !== Math.floor(parseFloat(oRecordB[sColumnName]))) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t} while (i < 12);\r\n\t\t\treturn true;\r\n\t\t},\r\n\t\t// Begin of Changes - Khrystyne Williams - Dec 2016\r\n\t\t_matchTotalBudget: function(oRecordA, oRecordB) {\r\n\t\t\t\tvar i = 0;\r\n\t\t\t\tvar sColumnName = \"\";\r\n\t\t\t\tvar sRecordBTotal = 0;\r\n\t\t\t\tdo {\r\n\t\t\t\t\ti++;\r\n\t\t\t\t\tsColumnName = \"AmtB\" + i;\r\n\t\t\t\t\tsRecordBTotal = parseFloat(sRecordBTotal) + parseFloat(oRecordB[sColumnName]);\r\n\t\t\t\t} while (i < 12);\r\n\t\t\t\tif (Math.floor(parseFloat(oRecordA[\"AmtBTot\"])) !== Math.floor(parseFloat(sRecordBTotal))) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\t// End of Changes - Khrystyne Williams - Dec 2016\r\n\t};\r\n});",
		"colgate/asm/planning/base/util/RetailerUtils.js": "sap.ui.define([\r\n\t'sap/m/Dialog',\r\n\t'sap/m/MessageToast'\r\n], function(Dialog, MessageToast) {\r\n\t\"use strict\";\r\n\treturn {\r\n\t\tonChange: function(oEvent) {\r\n\t\t\tvar oSearchField = oEvent.getSource();\r\n\t\t\tvar value = oEvent.getParameter(\"value\");\r\n\t\t\tvar filters = [];\r\n\t\t\tif (value) {\r\n\t\t\t\tfilters = [new sap.ui.model.Filter([\r\n\t\t\t\t\tnew sap.ui.model.Filter(\"Description\", function(sText) {\r\n\t\t\t\t\t\treturn (sText || \"\").toUpperCase().indexOf(value.toUpperCase()) > -1;\r\n\t\t\t\t\t})\r\n\t\t\t\t], false)];\r\n\t\t\t}\r\n\t\t\toSearchField.getBinding(\"items\").filter(filters);\r\n\t\t},\r\n\t\tonClose: function(oEvent) {\r\n\t\t\tif (this._oDialog) {\r\n\t\t\t\tthis._oDialog.destroy();\r\n\t\t\t}\r\n\t\t},\r\n\t\tonConfirm: function(oEvent) {\r\n\t\t\tvar sPath = oEvent.getParameter(\"selectedItems\")[0].getBindingInfo(\"title\").binding.getContext().getPath();\r\n\t\t\tthis._oComboBox.setSelectedKey(this._oDialog.getModel().getProperty(sPath).Key);\r\n\t\t\toEvent.getSource().getBinding(\"items\").filter([]);\r\n\t\t\tif (this._oDialog) {\r\n\t\t\t\tthis._oDialog.destroy();\r\n\t\t\t}\r\n\t\t},\r\n\t\tonShow: function(oEvent, oModel, oTextModel, oComboBox) {\r\n\t\t\t\tif (this._oDialog) { \r\n\t\t\t\t\tthis._oDialog.destroy();\r\n\t\t\t\t}\r\n\t\t\t\tthis._oDialog = sap.ui.xmlfragment(\"colgate.asm.planning.base.fragment.RetailerSelection\", this);\r\n\t\t\t\tthis._oDialog.setModel(oModel);\r\n\t\t\t\tthis._oDialog.setModel(oTextModel, \"Text\");\r\n\t\t\t\tthis._oComboBox = oComboBox;\r\n\t\t\t\t// clear the old search filter\r\n\t\t\t\tthis._oDialog.getBinding(\"items\").filter([]);\r\n\t\t\t\tthis._oDialog.open();\r\n\t\t},\r\n\t\tonClear: function(oEvent,oComboBox) {\r\n\t\t\toComboBox.setSelectedKey(\"\");\r\n\t\t}\r\n\t};\r\n});",
		"colgate/asm/planning/base/util/CurrencyUtils.js": "sap.ui.define([\r\n\t'sap/m/Dialog',\r\n\t'sap/m/MessageToast',\r\n\t'colgate/asm/planning/base/util/ValidationUtils',\r\n\t\"colgate/asm/planning/base/util/PersonalizationUtils\",\r\n\t\"colgate/asm/planning/base/util/TimeoutUtils\"\r\n], function(Dialog, MessageToast, ValidationUtils, PersonalizationUtils, TimeoutUtils) {\r\n\t\"use strict\";\r\n\treturn {\r\n\t\tgetCurrency: function(oContext) {\r\n\t\t\tthis._getCurrencies(oContext);\r\n\t\t},\r\n\t\t_getCurrencyDialog: function(oContext) {\r\n\t\t\tvar that = oContext;\r\n\t\t\tvar that2 = this;\r\n\t\t\tvar dialog = new Dialog(\"scu_currency\", {\r\n\t\t\t\ttitle: oContext.getModel(\"i18n\").getResourceBundle().getText(\"SCU_T_Currency\"),\r\n\t\t\t\ttype: 'Message',\r\n\t\t\t\tcontent: [\r\n\t\t\t\t\tnew sap.m.VBox({\r\n\t\t\t\t\t\tfitContainer: true,\r\n\t\t\t\t\t\talignItems: sap.m.FlexAlignItems.Start,\r\n\t\t\t\t\t\tjustifyContent: sap.m.FlexJustifyContent.SpaceBetween,\r\n\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\tnew sap.m.Text({\r\n\t\t\t\t\t\t\t\ttext: oContext.getModel(\"i18n\").getResourceBundle().getText(\"SCU_B_Currency\")\r\n\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\tnew sap.m.ComboBox(\"scu_cb_currency\", {\r\n\t\t\t\t\t\t\t\titems: {\r\n\t\t\t\t\t\t\t\t\tpath: \"CurrencyUtils>/Currency/Current\",\r\n\t\t\t\t\t\t\t\t\ttemplate: new sap.ui.core.ListItem({\r\n\t\t\t\t\t\t\t\t\t\tkey: \"{CurrencyUtils>Key}\",\r\n\t\t\t\t\t\t\t\t\t\ttext: \"{CurrencyUtils>Description}\"\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tplaceholder: \"{CurrencyUtils>/Placeholders/Currency}\",\r\n\t\t\t\t\t\t\t\tselectedKey: \"{CurrencyUtils>/Input/Currency}\"\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t]\r\n\t\t\t\t\t})\r\n\t\t\t\t],\r\n\t\t\t\tbeginButton: new sap.m.Button({\r\n\t\t\t\t\ttext: oContext.getModel(\"i18n\").getResourceBundle().getText(\"SCU_update\"),\r\n\t\t\t\t\tpress: function() {\r\n\t\t\t\t\t\tvar sCurrency = sap.ui.getCore().byId(\"scu_cb_currency\").getSelectedKey();\r\n\t\t\t\t\t\tif (!sCurrency || sCurrency === \"\") {\r\n\t\t\t\t\t\t\tvar sMessage = this.getModel(\"i18n\").getResourceBundle().getText(\"SCU_E_NoCurrency\");\r\n\t\t\t\t\t\t\tMessageToast.show(sMessage);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t//Changes added for currency from edit / Eric Atempa / 2-1-17\r\n\t\t\t\t\t\t\tvar sMode = that.getModel(\"masterShared\").getData().oInternalEvents.currentMode;\r\n\t\t\t\t\t\t\tif (sMode === \"Edit\" || sMode === \"Status\") {\r\n\t\t\t\t\t\t\t\t// Cancel Edit or Status Mode\r\n\t\t\t\t\t\t\t\tsap.m.MessageBox.show(\r\n\t\t\t\t\t\t\t\t\toContext.getModel(\"i18n\").getResourceBundle().getText(\"B_T_confirmCancel_Body\"), {\r\n\t\t\t\t\t\t\t\t\t\ticon: sap.m.MessageBox.Icon.QUESTION,\r\n\t\t\t\t\t\t\t\t\t\ttitle: oContext.getModel(\"i18n\").getResourceBundle().getText(\"B_T_confirmSwitch\"),\r\n\t\t\t\t\t\t\t\t\t\tactions: [sap.m.MessageBox.Action.YES, sap.m.MessageBox.Action.NO],\r\n\t\t\t\t\t\t\t\t\t\tonClose: function(oAction) {\r\n\t\t\t\t\t\t\t\t\t\t\tif (oAction === sap.m.MessageBox.Action.YES) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tvar oData = {};\r\n\t\t\t\t\t\t\t\t\t\t\t\toData.Currency = sCurrency;\r\n\t\t\t\t\t\t\t\t\t\t\t\tthat.getOwnerComponent().getModel(\"masterShared\").getData().oInternalEvents.lastAction = \"changedCurrency\";\r\n\t\t\t\t\t\t\t\t\t\t\t\tthat.getOwnerComponent().getModel(\"P13n_Configuration\").setProperty(\"/CurrencySettings/Currency\",sCurrency);\r\n\t\t\t\t\t\t\t\t\t\t\t\tPersonalizationUtils.p13nSave(that, oData, \"CurrencySettings\");\r\n\t\t\t\t\t\t\t\t\t\t\t\tif(sMode === \"Status\"){\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.master.button.pressed\", \"CancelStatus\", {});//onSCancel\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.master.reinitialize\", \"CurrencyChange\", oData);\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tvar oData = {};\r\n\t\t\t\t\t\t\toData.Currency = sCurrency;\r\n\t\t\t\t\t\t\t// Eric Atempa / 02-01 / Added new last action\r\n\t\t\t\t\t\t\tthat.getOwnerComponent().getModel(\"masterShared\").getData().oInternalEvents.lastAction = \"changedCurrency\";\r\n\t\t\t\t\t\t\tthat.getOwnerComponent().getModel(\"P13n_Configuration\").setProperty(\"/CurrencySettings/Currency\",sCurrency);\r\n\t\t\t\t\t\t\tPersonalizationUtils.p13nSave(that, oData, \"CurrencySettings\");\r\n\t\t\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.project\", \"Refresh\", {});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tdialog.close();\r\n\t\t\t\t\t}\r\n\t\t\t\t}),\r\n\t\t\t\tendButton: new sap.m.Button({\r\n\t\t\t\t\ttext: oContext.getModel(\"i18n\").getResourceBundle().getText(\"CP_cancel\"),\r\n\t\t\t\t\tpress: function() {\r\n\t\t\t\t\t\tdialog.close();\r\n\t\t\t\t\t}\r\n\t\t\t\t}),\r\n\t\t\t\tafterClose: function() {\r\n\t\t\t\t\tdialog.destroy();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tdialog.setModel(oContext.getModel(\"CurrencyUtils\"), \"CurrencyUtils\");\r\n\t\t\tdialog.open();\r\n\t\t},\r\n\t\t_getCurrencies: function(oContext) {\r\n\t\t\t// Get the Retailers\r\n\t\t\tvar oCModel = oContext.getModel(\"Currency\");\r\n\t\t\tif (!oCModel) {\r\n\t\t\t\tvar sServiceUrl = oContext.getOwnerComponent().getModel(\"masterShared\").getProperty(\"/oServiceUrls/mainService\");\r\n\t\t\t\toCModel = new sap.ui.model.odata.v2.ODataModel(sServiceUrl);\r\n\t\t\t\toCModel.setSizeLimit(50000);\r\n\t\t\t\toCModel.setDefaultCountMode(sap.ui.model.odata.CountMode.None);\r\n\t\t\t\toContext.setModel(oCModel, \"Currency\");\r\n\t\t\t}\r\n\t\t\tvar sPath = \"/VHCurrencies\";\r\n\t\t\toContext.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", true); // Start Spinner\r\n\t\t\tvar that = this;\r\n\t\t\toCModel.read(sPath, {\r\n\t\t\t\tasync: true,\r\n\t\t\t\tsuccess: function(oData, oResponse) {\r\n\t\t\t\t\tTimeoutUtils.onResetTimer(that);\r\n\t\t\t\t\tthat._setCurrencies(oData, oContext);\r\n\t\t\t\t},\r\n\t\t\t\terror: function(oError) {\r\n\t\t\t\t\toError.ErrorOrigin = \"Currency\";\r\n\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.detail\", \"Errors\", oError);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t_setCurrencies: function(oDataIn, oContext) {\r\n\t\t\tvar oModel = oContext.getModel(\"CurrencyUtils\");\r\n\t\t\tif (!oModel) {\r\n\t\t\t\toModel = this._createCurrencyUtils(oContext);\r\n\t\t\t}\r\n\t\t\tvar oData = oModel.getData();\r\n\t\t\tif (!oData.Currency) {\r\n\t\t\t\toData.Currency = {};\r\n\t\t\t}\r\n\t\t\toData.Currency.Current = oDataIn.results;\r\n\t\t\tif (oData.Currency.Current.length === 0) {\r\n\t\t\t\toData.Placeholders.Currency = oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_currency_n\");\r\n\t\t\t} else {\r\n\t\t\t\toData.Placeholders.Currency = oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_currency_e\");\r\n\t\t\t}\r\n\t\t\toModel.refresh(false);\r\n\t\t\toContext.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", false); // Stop Spinner\r\n\t\t\tthis._getCurrencyDialog(oContext);\r\n\t\t},\r\n\t\t_createCurrencyUtils: function(oContext) {\r\n\t\t\t// Set up the initial selections\r\n\t\t\tvar oData = {};\r\n\t\t\toData.Input = {};\r\n\t\t\toData.Input.Currency = oContext.getOwnerComponent().getModel(\"P13n_Configuration\").getProperty(\"/CurrencySettings/Currency\");\r\n\t\t\toData.Placeholders = {};\r\n\t\t\toData.Currency = {};\r\n\t\t\tvar oModel = new sap.ui.model.json.JSONModel(oData);\r\n\t\t\toModel.setSizeLimit(50000);\r\n\t\t\toContext.setModel(oModel, \"CurrencyUtils\");\r\n\t\t\treturn oModel;\r\n\t\t}\r\n\t};\r\n});",
		"colgate/asm/planning/base/util/DateUtils.js": "sap.ui.define([\r\n\t\"sap/ui/core/format/DateFormat\",\r\n\t\"sap/m/MessageToast\"\r\n], function(DateFormat, MessageToast) {\r\n\t\"use strict\";\r\n\r\n\treturn {\r\n\t\t_getSystemOffset: function() {\r\n\t\t\t//var fSystemOffset = -14400000;\r\n\t\t\t// GDH This is really ignored by the back-end (all times are always ET)\r\n\t\t\t// This offset is turned off just so there is no confusion that the manipulated are actually being used\r\n\t\t\tvar fSystemOffset = 0;\r\n\t\t\treturn fSystemOffset;\r\n\t\t},\r\n\t\tgetSystemAdjISODateNoZ_fromISODate: function(sISODate) {\r\n\t\t\tvar oDate = new Date(sISODate);\r\n\t\t\treturn this.getSystemAdjISODate_fromDate(oDate);\r\n\t\t},\r\n\t\tgetSystemAdjISODate_fromCurrentDate: function() {\r\n\t\t\tvar oDate = new Date();\r\n\t\t\treturn this.getSystemAdjISODate_fromDate(oDate);\r\n\t\t},\r\n\t\tgetSystemAdjISODate_fromDate: function(oDate) {\r\n\t\t\tvar iTime = oDate.getTime() + this._getSystemOffset();\r\n\t\t\tvar oRDate = new Date(iTime);\r\n\t\t\tvar sDate = oRDate.toISOString();\r\n\t\t\tsDate = sDate.replace(\"Z\", \"\");\r\n\t\t\treturn sDate;\r\n\t\t},\r\n\t\tgetISODateNoZ_fromISODate: function(sISODate){\r\n\t\t\tvar oDate = new Date(sISODate);\r\n\t\t\treturn this.getISODateNoZ(oDate);\r\n\t\t},\r\n\t\tgetISODateNoZ: function(oDate){\r\n\t\t\t// GDH Created for Dates that shouldn't be changed.\r\n\t\t \tvar sDate = oDate.toISOString();\r\n\t\t\tsDate = sDate.replace(\"Z\", \"\");\r\n\t\t\treturn sDate;\t\r\n\t\t},\r\n\t\tformatDate: function(sValue) {\r\n\t\t\tif (sValue) {\r\n\t\t\t\tvar sYear = sValue.substring(0, 4);\r\n\t\t\t\tvar sMonth = sValue.substring(5, 7);\r\n\t\t\t\tvar sDay = sValue.substring(8, 10);\r\n\t\t\t\tvar oDateFormat = sap.ui.core.format.DateFormat.getInstance({\r\n\t\t\t\t\tstyle: \"medium\"\r\n\t\t\t\t});\r\n\t\t\t\tsValue = oDateFormat.format(new Date(sYear, sMonth - 1, sDay));\r\n\t\t\t\tvar aValues = sValue.split(\" \");\r\n\t\t\t\tsValue = aValues[0] + \" \" + aValues[2];\r\n\t\t\t}\r\n\t\t\treturn sValue;\r\n\t\t},\r\n\t\tformatTimestamp: function(sValue) {\r\n\t\t\tif (sValue && sValue !== \"\") {\r\n\t\t\t\tvar sYear = sValue.substring(0, 4);\r\n\t\t\t\tvar sMonth = sValue.substring(5, 7);\r\n\t\t\t\tvar sDay = sValue.substring(8, 10);\r\n\t\t\t\tvar sHour = sValue.substring(11, 13);\r\n\t\t\t\tvar sMin = sValue.substring(14, 16);\r\n\t\t\t\tvar oDateFormat = sap.ui.core.format.DateFormat.getDateTimeInstance({\r\n\t\t\t\t\tstyle: \"short\"\r\n\t\t\t\t});\r\n\t\t\t\tsValue = oDateFormat.format(new Date(sYear, sMonth - 1, sDay, sHour, sMin));\r\n\t\t\t} else {\r\n\t\t\t\tsValue = \"\";\r\n\t\t\t}\r\n\t\t\treturn sValue;\r\n\t\t}\r\n\t};\r\n});",
		"colgate/asm/planning/base/util/AdvCopyUtils.js": "sap.ui.define([\r\n\t\"colgate/asm/planning/base/util/DateUtils\",\r\n\t\"sap/m/MessageToast\",\r\n\t\"colgate/asm/planning/base/util/CopyUtils\",\r\n\t'colgate/asm/planning/base/util/TimeoutUtils'\r\n], function(DateUtils, MessageToast, CopyUtils, TimeoutUtils) {\r\n\t\"use strict\";\r\n\r\n\treturn {\r\n\t\tcopyItems: function(oContext, bInclude, bIncludeBudget, sPrefix, oTableSelector, oRawItems) {\r\n\t\t\tvar oItems = JSON.parse(JSON.stringify(oTableSelector));\r\n\t\t\tvar oCopyUtilModel = {};\r\n\t\t\tthis._callingContext = oContext;\r\n\t\t\toCopyUtilModel.bInclude = bInclude;\r\n\t\t\toCopyUtilModel.bIncludeBudget = bIncludeBudget;\r\n\t\t\toCopyUtilModel.sPrefix = sPrefix;\r\n\t\t\toCopyUtilModel.oItems = oItems;\r\n\t\t\toCopyUtilModel.oRawItems = oRawItems;\r\n\t\t\toCopyUtilModel.sExternalId = \"\";\r\n\t\t\toCopyUtilModel.oItemRaw = oItems;\r\n\t\t\toCopyUtilModel.oCurrentItem = oItems;\r\n\t\t\toCopyUtilModel.oCurrentIndex = {\r\n\t\t\t\tProject: 0,\r\n\t\t\t\tActivity: 0,\r\n\t\t\t\tSubactivity: -1,\r\n\t\t\t\toTotalItems: 0\r\n\t\t\t};\r\n\t\t\toCopyUtilModel.sMode = \"PT\";\r\n\t\t\toCopyUtilModel.oProject = {};\r\n\t\t\toCopyUtilModel.oActivity = {};\r\n\t\t\toCopyUtilModel.oSubactivity = {};\r\n\t\t\tvar oModel = new sap.ui.model.json.JSONModel(oCopyUtilModel);\r\n\t\t\toModel.setSizeLimit(50000);\r\n\t\t\toContext.getOwnerComponent().setModel(oModel, \"CopyUtilStorage\");\r\n\t\t\tvar sServiceUrl = oContext.getOwnerComponent().getModel(\"masterShared\").getProperty(\"/oServiceUrls/mainService\");\r\n\t\t\tvar oBaseModel = new sap.ui.model.odata.v2.ODataModel(sServiceUrl); \r\n\t\t\toBaseModel.setSizeLimit(50000);\r\n\t\t\tthis._oDataModel = oBaseModel;\r\n\t\t\tif (oItems.ItemType === \"PT\") {} else if (oItems.ItemType === 'AT') {\r\n\t\t\t\tvar oCopyUtilModelData = oContext.getOwnerComponent().getModel(\"CopyUtilStorage\").getData();\r\n\t\t\t\toCopyUtilModelData.oProject = oCopyUtilModelData.oRawItems[oItems.__parentIndex];\r\n\t\t\t\toCopyUtilModelData.sMode = 'AT';\r\n\t\t\t} else if (oItems.ItemType === 'SA') {\r\n\t\t\t\tvar oCopyUtilModelData = oContext.getOwnerComponent().getModel(\"CopyUtilStorage\").getData();\r\n\t\t\t\toCopyUtilModelData.bInclude = false;\r\n\t\t\t}\r\n\t\t\t//GDH Start 20170328 this._getExternalId(oItems);\r\n\t\t\tthis._createItem(oItems);\r\n\t\t\t//GDH End 20170328\r\n\t\t},\r\n\t\t_createItem: function(oData) {\r\n\t\t\tvar oCopyUtilData = this._callingContext.getOwnerComponent().getModel(\"CopyUtilStorage\").getData();\r\n\t\t\tvar oDataR = JSON.parse(JSON.stringify(oCopyUtilData.oRawItems[oData.__index]));\r\n\t\t\tvar aKeys = Object.keys(oDataR);\r\n\t\t\tvar oItem = {};\r\n\t\t\tfor (var i = 0; i < aKeys.length; i++) {\r\n\t\t\t\toItem[aKeys[i]] = oDataR[aKeys[i]];\r\n\t\t\t}\r\n\t\t\tdelete oItem.__metadata;\r\n\t\t\toItem.Guid = \"\";\r\n\t\t\toItem.Name = oCopyUtilData.sPrefix + oItem.Name;\r\n\t\t\toItem.Name = oItem.Name.substring(0, 40);\r\n\t\t\toItem.Id = oCopyUtilData.sExternalId;\r\n\t\t\t//GDH oItem.StartDt = DateUtils.getSystemAdjISODateNoZ_fromISODate(oDataR.StartDt);\r\n\t\t\t//GDH oItem.EndDt = DateUtils.getSystemAdjISODateNoZ_fromISODate(oDataR.EndDt);\r\n\t\t\toItem.StartDt = DateUtils.getISODateNoZ_fromISODate(oDataR.StartDt);\r\n\t\t\toItem.EndDt = DateUtils.getISODateNoZ_fromISODate(oDataR.EndDt);\r\n\t\t\t// oItem.StartDt = oDataR.StartDt.substring(0, 4) + \"-\" + oDataR.StartDt.substring(5, 7) + \"-\" + oDataR.StartDt.substring(\r\n\t\t\t// \t8, 10) + \"T12:00:00\";\r\n\t\t\t// oItem.EndDt = oDataR.EndDt.substring(0, 4) + \"-\" + oDataR.EndDt.substring(5, 7) + \"-\" + oDataR.EndDt.substring(8, 10) +\r\n\t\t\t// \t\"T12:00:00\";\r\n\t\t\t//oItem.StartDt = oItem.StartDt.replace(\"Z\", \"\");\r\n\t\t\t//oItem.EndDt = oItem.EndDt.replace(\"Z\", \"\");\r\n\t\t\toItem.CreatedTime = DateUtils.getSystemAdjISODate_fromCurrentDate();\r\n\t\t\toItem.ChangedTime = DateUtils.getSystemAdjISODate_fromCurrentDate();\r\n\t\t\t// var oDate = new Date();\r\n\t\t\t// var iMonth = parseInt(oDate.getMonth()) + 1;\r\n\t\t\t// oItem.CreatedTime = oDate.getFullYear() + \"-\" + iMonth + \"-\" + oDate.getDate() + \"T00:00:00\";\r\n\t\t\t// oItem.ChangedTime = oDate.getFullYear() + \"-\" + iMonth + \"-\" + oDate.getDate() + \"T00:00:00\";\r\n\t\t\toItem.CreatedBy = \"\";\r\n\t\t\toItem.ChangedBy = \"\";\r\n\t\t\toItem.Config = \"\";\r\n\t\t\toItem.CHasChildren = \"\";\r\n\t\t\t// Remove fields that were added in extra.\r\n\t\t\tif (oItem.ItemType === \"PT\") {\r\n\t\t\t\toItem.ProjectGuid = \"\";\r\n\t\t\t\tdelete oItem.SubactivityType;\r\n\t\t\t\tdelete oItem.ProjectType;\r\n\t\t\t} else if (oItem.ItemType === \"SA\") {\r\n\t\t\t\tdelete oItem.SubactivityType;\r\n\t\t\t\tdelete oItem.ProjectType;\r\n\t\t\t\tif (oCopyUtilData.oActivity.ProjectGuid) {\r\n\t\t\t\t\toItem.ProjectGuid = oCopyUtilData.oActivity.ProjectGuid;\r\n\t\t\t\t\toItem.ActivityGuid = oCopyUtilData.oActivity.ActivityGuid;\r\n\t\t\t\t} else {\r\n\t\t\t\t\toItem.ProjectGuid = oCopyUtilData.oRawItems[oData.__parentIndex].ProjectGuid;\r\n\t\t\t\t\toItem.ActivityGuid = oCopyUtilData.oRawItems[oData.__parentIndex].ActivityGuid;\r\n\t\t\t\t}\r\n\t\t\t\toItem.CategoryBucket = oCopyUtilData.oRawItems[oData.__parentIndex].CategoryBucket;\r\n\t\t\t} else if (oItem.ItemType === \"AT\") {\r\n\t\t\t\tdelete oItem.SubactivityType;\r\n\t\t\t\tdelete oItem.ProjectType;\r\n\t\t\t\tif (oCopyUtilData.oProject.ProjectGuid) {\r\n\t\t\t\t\toItem.ProjectGuid = oCopyUtilData.oProject.ProjectGuid;\r\n\t\t\t\t} else {\r\n\t\t\t\t\toItem.ProjectGuid = oCopyUtilData.oRawItems[oData.__parentIndex].ProjectGuid;\r\n\t\t\t\t}\r\n\t\t\t\toItem.ActivityGuid = \"\";\r\n\t\t\t\toItem.CategoryBucket = oCopyUtilData.oRawItems[oData.__parentIndex].CategoryBucket;\r\n\t\t\t}\r\n\t\t\toItem.Status = \"\";\r\n\t\t\tdelete oItem.Type;\r\n\t\t\tdelete oItem.TypeDescription;\r\n\t\t\tdelete oItem.Parent;\r\n\t\t\toItem.HubDesc = \"\";\r\n\t\t\toItem.SubDesc = \"\";\r\n\t\t\toItem.CategoryDesc = \"\";\r\n\t\t\toItem.SubcategoryDesc = \"\";\r\n\t\t\toItem.BrandDesc = \"\";\r\n\t\t\toItem.SubbrandDesc = \"\";\r\n\t\t\tvar oModel = this._oDataModel;\r\n\t\t\tthis._callingContext.getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", true);\r\n\t\t\tvar that = this._callingContext;\r\n\t\t\tvar oThis = this;\r\n\t\t\toModel.create(\"/Items\", oItem, {\r\n\t\t\t\tsuccess: function(oData, oResponse) {\r\n\t\t\t\t\tTimeoutUtils.onResetTimer(oThis);\r\n\t\t\t\t\t// Add a Success toast and navigate back to the Project view and refresh the data.\r\n\t\t\t\t\tvar oCopyUtilData = that.getOwnerComponent().getModel(\"CopyUtilStorage\").getData();\r\n\t\t\t\t\tif (!oData.Name || oData.Name === \"\") {\r\n\t\t\t\t\t\toData.ErrorOrigin = \"CreateProject\";\r\n\t\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.detail\", \"Errors\", oData);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\toCopyUtilData.oCurrentIndex.oTotalItems++;\r\n\t\t\t\t\t\tvar sMessage = that.getOwnerComponent().getModel(\"i18n\").getResourceBundle().getText(\"AC_S_created\", [oData.Name]);\r\n\t\t\t\t\t\tif (oData.ItemType === \"PT\") {\r\n\t\t\t\t\t\t\tsMessage = that.getOwnerComponent().getModel(\"i18n\").getResourceBundle().getText(\"AC_S_pCreated\", [oData.Name]);\r\n\t\t\t\t\t\t\toCopyUtilData.oProject = oData;\r\n\t\t\t\t\t\t\toCopyUtilData.oCurrentIndex.oActivity = 0;\r\n\t\t\t\t\t\t} else if (oData.ItemType === \"AT\") {\r\n\t\t\t\t\t\t\tsMessage = that.getOwnerComponent().getModel(\"i18n\").getResourceBundle().getText(\"AC_S_aCreated\", [oData.Name]);\r\n\t\t\t\t\t\t\toCopyUtilData.oCurrentIndex.oActivity++;\r\n\t\t\t\t\t\t\toCopyUtilData.oCurrentIndex.oSubactivity = 0;\r\n\t\t\t\t\t\t\toCopyUtilData.oActivity = oData;\r\n\t\t\t\t\t\t} else if (oData.ItemType === \"SA\") {\r\n\t\t\t\t\t\t\tsMessage = that.getOwnerComponent().getModel(\"i18n\").getResourceBundle().getText(\"AC_S_saCreated\", [oData.Name]);\r\n\t\t\t\t\t\t\toCopyUtilData.oCurrentIndex.oSubactivity++;\r\n\t\t\t\t\t\t\toCopyUtilData.oSubactivity = oData;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tMessageToast.show(sMessage);\r\n\t\t\t\t\t\tif (oCopyUtilData.bIncludeBudget && oData.ItemType === \"SA\") {\r\n\t\t\t\t\t\t\toThis._saveBudget(oData, oCopyUtilData.oCurrentItem);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\toThis._nextLoop();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\terror: function(oError) {\r\n\t\t\t\t\toError.ErrorOrigin = \"CreateProject\";\r\n\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.detail\", \"Errors\", oError);\r\n\t\t\t\t},\r\n\t\t\t\tchangeSetId: oItem.Id\r\n\t\t\t});\r\n\t\t},\r\n\t\t_nextLoop: function() {\r\n\t\t\tvar oCopyUtilData = this._callingContext.getOwnerComponent().getModel(\"CopyUtilStorage\").getData();\r\n\t\t\tvar bFinished = true;\r\n\t\t\tif (oCopyUtilData.bInclude) {\r\n\t\t\t\tif (oCopyUtilData.sMode === \"PT\") {\r\n\t\t\t\t\t// Need to do another loop (if any)\r\n\t\t\t\t\tvar iActivity = oCopyUtilData.oCurrentIndex.Activity;\r\n\t\t\t\t\tvar iSubactivity = oCopyUtilData.oCurrentIndex.Subactivity;\r\n\t\t\t\t\tvar oActivity = oCopyUtilData.oItems.rows[iActivity];\r\n\t\t\t\t\tif (oActivity) {\r\n\t\t\t\t\t\tif (iSubactivity > -1) {\r\n\t\t\t\t\t\t\tif (oCopyUtilData.oItems.rows[iActivity].rows && oCopyUtilData.oItems.rows[iActivity].rows[iSubactivity]) {\r\n\t\t\t\t\t\t\t\tbFinished = false;\r\n\t\t\t\t\t\t\t\toCopyUtilData.oCurrentIndex.Subactivity++;\r\n\t\t\t\t\t\t\t\toCopyUtilData.oCurrentItem = oCopyUtilData.oItems.rows[iActivity].rows[iSubactivity];\r\n\t\t\t\t\t\t\t\tthis._createItem(oCopyUtilData.oItems.rows[iActivity].rows[iSubactivity]);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\toCopyUtilData.oCurrentIndex.Activity++;\r\n\t\t\t\t\t\t\t\toCopyUtilData.oCurrentIndex.Subactivity = -1;\r\n\t\t\t\t\t\t\t\toCopyUtilData.oCurrentIndex.Subactivity++;\r\n\t\t\t\t\t\t\t\toActivity = oCopyUtilData.oItems.rows[oCopyUtilData.oCurrentIndex.Activity];\r\n\t\t\t\t\t\t\t\tif (oActivity) {\r\n\t\t\t\t\t\t\t\t\tbFinished = false;\r\n\t\t\t\t\t\t\t\t\toCopyUtilData.oCurrentItem = oActivity;\r\n\t\t\t\t\t\t\t\t\tthis._createItem(oActivity);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tbFinished = false;\r\n\t\t\t\t\t\t\toCopyUtilData.oCurrentIndex.Subactivity++;\r\n\t\t\t\t\t\t\toCopyUtilData.oCurrentItem = oCopyUtilData.oItems.rows[iActivity];\r\n\t\t\t\t\t\t\t// GDH Start 20170328\r\n\t\t\t\t\t\t\tthis._createItem(oActivity);\r\n\t\t\t\t\t\t\t// GDH End 20170328 this._getExternalId(oActivity);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// Everything is finished.\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (oCopyUtilData.sMode === \"AT\") {\r\n\t\t\t\t\t// Need to do another loop (if any)\r\n\t\t\t\t\tvar iActivity = oCopyUtilData.oCurrentIndex.Activity;\r\n\t\t\t\t\tvar iSubactivity = oCopyUtilData.oCurrentIndex.Subactivity;\r\n\t\t\t\t\tif (iSubactivity > -1) {\r\n\t\t\t\t\t\tif (oCopyUtilData.oItems.rows) {\r\n\t\t\t\t\t\t\tif (oCopyUtilData.oItems.rows[iSubactivity]) {\r\n\t\t\t\t\t\t\t\tbFinished = false;\r\n\t\t\t\t\t\t\t\toCopyUtilData.oCurrentIndex.Subactivity++;\r\n\t\t\t\t\t\t\t\toCopyUtilData.oCurrentItem = oCopyUtilData.oItems.rows[iSubactivity];\r\n\t\t\t\t\t\t\t\tif (!oCopyUtilData.oItems.rows[iSubactivity].isCheckVisible ||\r\n\t\t\t\t\t\t\t\t\t(oCopyUtilData.oItems.rows[iSubactivity].isCheckVisible && oCopyUtilData.oItems.rows[iSubactivity].isSelected)) {\r\n\t\t\t\t\t\t\t\t\tthis._createItem(oCopyUtilData.oItems.rows[iSubactivity]);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\toCopyUtilData.oCurrentIndex.oTotalItems++;\r\n\t\t\t\t\t\t\t\t\toCopyUtilData.oCurrentIndex.oSubactivity++;\r\n\t\t\t\t\t\t\t\t\t//oCopyUtilData.oSubactivity = oData;\r\n\t\t\t\t\t\t\t\t\tthis._nextLoop();\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\toCopyUtilData.oCurrentIndex.Activity++;\r\n\t\t\t\t\t\t\t\toCopyUtilData.oCurrentIndex.Subactivity = -1;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tbFinished = false;\r\n\t\t\t\t\t\toCopyUtilData.oCurrentIndex.Subactivity++;\r\n\t\t\t\t\t\tthis._nextLoop();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (bFinished) {\r\n\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.project\", \"Refresh\", {});\r\n\t\t\t}\r\n\t\t},\r\n\t\t_saveBudget: function(oData, oDataRaw) {\r\n\t\t\tvar oModel = this._oDataModel;\r\n\t\t\tvar aKeys = Object.keys(oData);\r\n\t\t\tvar oChangedActivity = {};\r\n\t\t\tfor (var j = 0; j < aKeys.length; j++) {\r\n\t\t\t\toChangedActivity[aKeys[j]] = oData[aKeys[j]];\r\n\t\t\t}\r\n\t\t\t//oChangedActivity.StartDt = DateUtils.getSystemAdjISODate_fromDate(oData.StartDt);\r\n\t\t\t//oChangedActivity.EndDt = DateUtils.getSystemAdjISODate_fromDate(oData.EndDt);\r\n\t\t\toChangedActivity.StartDt = DateUtils.getISODateNoZ(oData.StartDt);\r\n\t\t\toChangedActivity.EndDt = DateUtils.getISODateNoZ(oData.EndDt);\r\n\t\t\toChangedActivity.CreatedTime = DateUtils.getSystemAdjISODate_fromDate(oChangedActivity.CreatedTime);\r\n\t\t\toChangedActivity.ChangedTime = DateUtils.getSystemAdjISODate_fromCurrentDate();\r\n\t\t\t// var iMonth = parseInt(oData.StartDt.getMonth()) + 1;\r\n\t\t\t// oChangedActivity.StartDt = oData.StartDt.getFullYear() + \"-\" + iMonth + \"-\" +\r\n\t\t\t// \toData.StartDt.getDate() + \"T00:00:00\";\r\n\t\t\t// iMonth = parseInt(oData.EndDt.getMonth()) + 1;\r\n\t\t\t// oChangedActivity.EndDt = oData.EndDt.getFullYear() + \"-\" + iMonth + \"-\" +\r\n\t\t\t// \toData.EndDt.getDate() +\r\n\t\t\t// \t\"T00:00:00\";\r\n\t\t\t// iMonth = parseInt(oData.CreatedTime.getMonth()) + 1;\r\n\t\t\t// oChangedActivity.CreatedTime = oChangedActivity.CreatedTime.getFullYear() + \"-\" + iMonth + \"-\" +\r\n\t\t\t// \toChangedActivity.CreatedTime.getDate() +\r\n\t\t\t// \t\"T00:00:00\";\r\n\t\t\t// var oDate = new Date();\r\n\t\t\t// iMonth = parseInt(oDate.getMonth()) + 1;\r\n\t\t\t// oChangedActivity.ChangedTime = oDate.getFullYear() + \"-\" + iMonth + \"-\" + oDate.getDate() + \"T00:00:00\";\r\n\t\t\tvar oConfig = {};\r\n\t\t\toConfig.UPDFIN = \"X\";\r\n\t\t\toConfig.UPDITEM = \"X\";\r\n\t\t\toChangedActivity.Config = JSON.stringify(oConfig);\r\n\t\t\tthis._clearUnused(oChangedActivity);\r\n\t\t\tvar oCopyUtilData = this._callingContext.getOwnerComponent().getModel(\"CopyUtilStorage\").getData();\r\n\t\t\tvar oDataR = JSON.parse(JSON.stringify(oCopyUtilData.oRawItems[oDataRaw.__index]));\r\n\t\t\tthis._addBudgetValues(oChangedActivity, oDataR);\r\n\t\t\tvar sPath = oData.__metadata.uri.substring(oData.__metadata.uri.lastIndexOf(\"/\"));\r\n\t\t\tvar that = this;\r\n\t\t\toModel.update(sPath, oChangedActivity, {\r\n\t\t\t\tsuccess: function(oData, oResponse) {\r\n\t\t\t\t\t// Budget Saved\r\n\t\t\t\t\tTimeoutUtils.onResetTimer(that);\r\n\t\t\t\t\tthat._nextLoop();\r\n\t\t\t\t},\r\n\t\t\t\terror: function(oError) {\r\n\t\t\t\t\toError.ErrorOrigin = \"SaveBudget\";\r\n\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.project\", \"Errors\", oError);\r\n\t\t\t\t},\r\n\t\t\t\tchangeSetId: oChangedActivity.Id + \"B\"\r\n\t\t\t});\r\n\t\t},\r\n\t\t_clearUnused: function(oRaw) {\r\n\t\t\toRaw.AmtBTot = \"0\";\r\n\t\t\toRaw.AmtATot = \"0\";\r\n\t\t\toRaw.AmtCTot = \"0\";\r\n\t\t\toRaw.AmtCbTot = \"0\";\r\n\t\t\toRaw.AmtLeTot = \"0\";\r\n\t\t},\r\n\t\t_addBudgetValues: function(oData, oDataRaw) {\r\n\t\t\tvar i = 0;\r\n\t\t\tdo {\r\n\t\t\t\ti++;\r\n\t\t\t\tvar sColumnName = \"AmtB\" + i;\r\n\t\t\t\toData[sColumnName] = oDataRaw[sColumnName];\r\n\t\t\t} while (i < 12);\r\n\t\t\toData.Currency = oDataRaw.Currency;\r\n\t\t\toData.MaxValueB = oDataRaw.MaxValueB;\r\n\t\t}\r\n\t};\r\n});",
		"colgate/asm/planning/base/util/FormatUtils.js": "sap.ui.define([\r\n\t'sap/m/MessageToast'\r\n], function(MessageToast) {\r\n\t\"use strict\";\r\n\treturn {\r\n\t\tstringifyNumbers: function(oItem) {\r\n\t\t\tvar i = 0;\r\n\t\t\tdo {\r\n\t\t\t\ti++;\r\n\t\t\t\tvar sColumnName = \"AmtB\" + i;\r\n\t\t\t\tvar sAColumnName = \"AmtA\" + i;\r\n\t\t\t\tvar sCColumnName = \"AmtC\" + i;\r\n\t\t\t\tvar sCbColumnName = \"AmtCb\" + i;\r\n\t\t\t\tvar sBoColumnName = \"AmtBo\" + i;\r\n\t\t\t\toItem[sColumnName] = oItem[sColumnName].toString();\r\n\t\t\t\toItem[sAColumnName] = oItem[sAColumnName].toString();\r\n\t\t\t\toItem[sCColumnName] = oItem[sCColumnName].toString();\r\n\t\t\t\toItem[sCbColumnName] = oItem[sCbColumnName].toString();\r\n\t\t\t\toItem[sBoColumnName] = oItem[sCbColumnName].toString();\r\n\t\t\t} while (i < 12);\r\n\t\t\toItem.AmtBTot = oItem.AmtBTot.toString();\r\n\t\t\toItem.AmtATot = oItem.AmtATot.toString();\r\n\t\t\toItem.AmtCTot = oItem.AmtCTot.toString();\r\n\t\t\toItem.AmtCbTot = oItem.AmtCbTot.toString();\r\n\t\t\toItem.AmtBoTot = oItem.AmtBoTot.toString();\r\n\t\t\t// Begin of Changes - Pin-See Wong - Nov 2016\r\n\t\t\toItem.AmtLeTot = oItem.AmtLeTot.toString();\r\n\t\t\t// End of Changes - Pin-See Wong - Nov 2016\r\n\t\t\t// Begin of Changes - Khrystyne Williams - Feb 2017\r\n\t\t\toItem.MaxValueB = oItem.MaxValueB.toString();\r\n\t\t\t// End of Changes - Khrystyne Williams - Feb 2017\r\n\t\t}\r\n\t};\r\n});",
		"colgate/asm/planning/base/util/CustomPersonalizationPanel.js": "sap.ui.define([], function() {\r\n\t\"use strict\";\r\n\r\n\treturn sap.m.P13nPanel.extend(\"colgate.asm.planning.base.util.CustomPersonalizationPanel\", {\r\n\t\tconstructor: function(sId, mSettings) {\r\n\t\t\tsap.m.P13nPanel.apply(this, arguments);\r\n\t\t},\r\n\t\tmetadata: {\r\n\t\t\tlibrary: \"sap.m\",\r\n\t\t\taggregations: {\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * Control embedded into CustomPanel\r\n\t\t\t\t */\r\n\t\t\t\tcontent: {\r\n\t\t\t\t\ttype: \"sap.m.FlexBox\",\r\n\t\t\t\t\tmultiple: false,\r\n\t\t\t\t\tsingularName: \"content\"\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\trenderer: function(oRm, oControl) {\r\n\t\t\tif (!oControl.getVisible()) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\toRm.renderControl(oControl.getContent());\r\n\t\t}\r\n\t});\r\n});",
		"colgate/asm/planning/base/util/FieldCheckUtils.js": "sap.ui.define([\r\n\t'sap/m/MessageToast'\r\n], function(MessageToast) {\r\n\t\"use strict\";\r\n\treturn {\r\n\t\tonCheckField: function(oContext, oModel, sPath) {\r\n\t\t  var sEntry = oModel.getProperty(sPath);\r\n          if (sEntry.indexOf(\"%\") !== -1) {\r\n          \tsEntry = sEntry.replace(/%/g,\"\");\r\n          \tvar sMessage = oContext.getModel(\"i18n\").getResourceBundle().getText(\"FCU_Percentage\");\r\n          \tMessageToast.show(sMessage);\r\n          }\r\n          oModel.setProperty(sPath,sEntry);\r\n          oModel.refresh(false);\r\n\t\t}\r\n\t};\r\n});",
		"colgate/asm/planning/base/util/TimeoutUtils.js": "sap.ui.define([\r\n\t'sap/m/Dialog',\r\n\t'sap/m/MessageToast'\r\n], function(Dialog, MessageToast) {\r\n\t\"use strict\";\r\n\treturn {\r\n\t\tiTimeout: 1700000,\r\n\t\tiWarningTimeout: 30000,\r\n\t\t// iTimeout: 6000,\r\n\t\t// iWarningTimeout: 3000,\r\n\t\tbStarted: false,\r\n\t\toNotification: {\r\n\t\t\tVariables: {\r\n\t\t\t\tOriginalTitle: document.title,\r\n\t\t\t\tOriginalImg: $(\"link[rel='shortcut icon']\").attr(\"href\"),\r\n\t\t\t\tInterval: null\r\n\t\t\t},\r\n\t\t\tOn: function(sNotification, sNewIcon, iSpeed) {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tthat.Variables.Interval = setInterval(function() {\r\n\t\t\t\t\tif (document.title === that.Variables.OriginalTitle) {\r\n\t\t\t\t\t\tdocument.title = sNotification;\r\n\t\t\t\t\t\t$(\"link[rel='shortcut icon']\").attr(\"href\", sNewIcon);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tdocument.title = that.Variables.OriginalTitle;\r\n\t\t\t\t\t\t$(\"link[rel='shortcut icon']\").attr(\"href\", that.Variables.OriginalImg);\r\n\t\t\t\t\t}\r\n\t\t\t\t}, (iSpeed) ? iSpeed : 1000);\r\n\t\t\t},\r\n\t\t\tOff: function() {\r\n\t\t\t\tclearInterval(this.Variables.Interval);\r\n\t\t\t\tdocument.title = this.Variables.OriginalTitle;\r\n\t\t\t\t$(\"link[rel='shortcut icon']\").attr(\"href\", this.Variables.OriginalImg);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonStartTimer: function(oContext) {\r\n\t\t\tthis._oContext = oContext;\r\n\t\t\tif (this._oTimer) {\r\n\t\t\t\tclearTimeout(this._oTimer);\r\n\t\t\t}\r\n\t\t\tthis._oTimer = setTimeout(this._showRunningOutOfTime.bind(this), this.iTimeout);\r\n\t\t\tthis.bStarted = true;\r\n\t\t},\r\n\t\tonResetTimer: function(oContext) {\r\n\t\t\tclearTimeout(this._oTimer);\r\n\t\t\tif (this.bStarted) {\r\n\t\t\t\tthis.onStartTimer(oContext);\r\n\t\t\t}\r\n\t\t},\r\n\t\t_startLogoutTimer: function() {\r\n\t\t\tif (this._oTimer) {\r\n\t\t\t\tclearTimeout(this._oTimer);\r\n\t\t\t}\r\n\t\t\tthis._oTimer = setTimeout(this._logoutUser.bind(this), this.iWarningTimeout);\r\n\t\t},\r\n\t\t_goToLaunchpad: function() {\r\n\t\t\tvar sTarget = '/sap/bc/ui5_ui5/ui2/ushell/shells/abap/FioriLaunchpad.html?sap-theme=ZASM_Theme@/sap/public/bc/themes/~client-321#Shell-home';\r\n\t\t\tsap.m.URLHelper.redirect(sTarget, false);\r\n\t\t},\r\n\t\t_logoutUser: function() {\r\n\t\t\t//sap.ushell.Container.logout(); // GDH Changing to going to the launchpad\r\n\t\t\tthis._goToLaunchpad();\r\n\t\t\t//sap.ui.getCore().getElementById(\"logoutBtn\").firePress();\r\n\t\t\t//this._oTimer = setTimeout(this._pressOK.bind(this), this.iPause);\r\n\t\t\t// $.ajax({\r\n\t\t\t// \ttype: \"GET\",\r\n\t\t\t// \turl: \"/sap/public/bc/icf/logoff\", //Clear SSO cookies: SAP Provided service to do that\r\n\t\t\t// \terror: function(jqXHR, ajaxOptions, thrownError) {\r\n\t\t\t// \t\tMessageToast.show(jqXHR.status);\r\n\t\t\t// \t\tMessageToast.show(thrownError);\r\n\t\t\t// \t},\r\n\t\t\t// \tsuccess: function(data, textStats, jqXHR) {\r\n\t\t\t// \t\tMessageToast.show(jqXHR.status);\r\n\t\t\t// \t}\r\n\t\t\t// }).done(function(data) { //Now clear the authentication header stored in the browser\r\n\t\t\t// \t// if (!document.execCommand(\"ClearAuthenticationCache\")) {\r\n\t\t\t// \t// \t//\"ClearAuthenticationCache\" will work only for IE. Below code for other browsers\r\n\t\t\t// \t// \t$.ajax({\r\n\t\t\t// \t// \t\ttype: \"GET\",\r\n\t\t\t// \t// \t\turl: \"/sap/bc/ui5_ui5/ui2/ushell/shells/abap/Fiorilaunchpad.html\", //any URL to a Gateway service\r\n\t\t\t// \t// \t\tusername: 'dummy', //dummy credentials: when request fails, will clear the authentication header\r\n\t\t\t// \t// \t\tpassword: 'dummy',\r\n\t\t\t// \t// \t\tstatusCode: {\r\n\t\t\t// \t// \t\t\t401: function() {\r\n\t\t\t// \t// \t\t\t\t//This empty handler function will prevent authentication pop-up in chrome/firefox\r\n\t\t\t// \t// \t\t\t}\r\n\t\t\t// \t// \t\t},\r\n\t\t\t// \t// \t\terror: function(jqXHR, exception) {\r\n\t\t\t// \t// \t\t\talert('reached error of wrong username password');\r\n\t\t\t// \t// \t\t}\r\n\t\t\t// \t// \t});\r\n\t\t\t// \t// }\r\n\t\t\t// });\r\n\t\t},\r\n\t\t_showRunningOutOfTime: function() {\r\n\t\t\tvar that = this;\r\n\t\t\tvar dialog = new Dialog(\"timeout\", {\r\n\t\t\t\ttitle: that._oContext.getOwnerComponent().getModel(\"i18n\").getResourceBundle().getText(\"TO_Title\"),\r\n\t\t\t\ttype: 'Message',\r\n\t\t\t\tcontent: [\r\n\t\t\t\t\tnew sap.m.VBox({\r\n\t\t\t\t\t\tfitContainer: true,\r\n\t\t\t\t\t\talignItems: sap.m.FlexAlignItems.Start,\r\n\t\t\t\t\t\tjustifyContent: sap.m.FlexJustifyContent.SpaceBetween,\r\n\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\tnew sap.m.Text({\r\n\t\t\t\t\t\t\t\ttext: that._oContext.getOwnerComponent().getModel(\"i18n\").getResourceBundle().getText(\"TO_30s\")\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t]\r\n\t\t\t\t\t})\r\n\t\t\t\t],\r\n\t\t\t\tbeginButton: new sap.m.Button({\r\n\t\t\t\t\ttext: that._oContext.getOwnerComponent().getModel(\"i18n\").getResourceBundle().getText(\"TO_Continue\"),\r\n\t\t\t\t\tpress: function() {\r\n\t\t\t\t\t\tthat._oContext.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", true);\r\n\t\t\t\t\t\tvar sServiceUrl = that._oContext.getOwnerComponent().getModel(\"masterShared\").getProperty(\"/oServiceUrls/userService\");\r\n\t\t\t\t\t\tvar oModel = new sap.ui.model.odata.v2.ODataModel(sServiceUrl, false);\r\n\t\t\t\t\t\toModel.setSizeLimit(50000);\r\n\t\t\t\t\t\tvar sUser = sap.ushell.Container.getService(\"UserInfo\").getId().toUpperCase();\r\n\t\t\t\t\t\tvar sPath = \"/Users('\" + sUser + \"')\";\r\n\t\t\t\t\t\toModel.read(sPath, {\r\n\t\t\t\t\t\t\tasync: false,\r\n\t\t\t\t\t\t\tsuccess: function(oData, oResponse) {\r\n\t\t\t\t\t\t\t\tthat._oContext.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", false);\r\n\t\t\t\t\t\t\t\tthat.onResetTimer(that._oContext);\r\n\t\t\t\t\t\t\t\tthat.oNotification.Off();\r\n\t\t\t\t\t\t\t\tdialog.close();\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\terror: function(oError) {\r\n\t\t\t\t\t\t\t\tthat.oNotification.Off();\r\n\t\t\t\t\t\t\t\tdialog.close();\r\n\t\t\t\t\t\t\t\tthat._oContext.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", false);\r\n\t\t\t\t\t\t\t\tthat._logoutUser();\r\n\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}),\r\n\t\t\t\tendButton: new sap.m.Button({\r\n\t\t\t\t\ttext: that._oContext.getOwnerComponent().getModel(\"i18n\").getResourceBundle().getText(\"TO_Logout\"),\r\n\t\t\t\t\tpress: function() {\r\n\t\t\t\t\t\tthat._logoutUser();\r\n\t\t\t\t\t\tdialog.close();\r\n\t\t\t\t\t}\r\n\t\t\t\t}),\r\n\t\t\t\tafterClose: function() {\r\n\t\t\t\t\tdialog.destroy();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tdialog.open();\r\n\t\t\tthat._startLogoutTimer();\r\n\t\t\tvar sIPath = jQuery.sap.getModulePath(\"colgate.asm.planning.base\") + \"/img/Warning.png\";\r\n\t\t\tthat.oNotification.On(that._oContext.getOwnerComponent().getModel(\"i18n\").getResourceBundle().getText(\"TO_Title\"), sIPath);\r\n\t\t}\r\n\t};\r\n});",
		"colgate/asm/planning/base/util/StatusChangeUtils.js": "sap.ui.define([\r\n\t'sap/m/Dialog',\r\n\t'sap/m/MessageToast',\r\n\t'colgate/asm/planning/base/util/ValidationUtils',\r\n\t'colgate/asm/planning/base/util/VendorUtils',\r\n\t'colgate/asm/planning/base/util/TimeoutUtils'\r\n], function(Dialog, MessageToast, ValidationUtils, VendorUtils, TimeoutUtils) {\r\n\t\"use strict\";\r\n\treturn {\r\n\t\tonSave: function(oContext) {\r\n\t\t\tValidationUtils.removeErrorMessages(oContext);\r\n\t\t\tvar aSelected = oContext.byId(\"Table\").getSelectedIndices();\r\n\t\t\tvar oModel = oContext.getModel();\r\n\t\t\tvar bAllowSave = true;\r\n\t\t\tvar aAsInputArray = oContext.getModel(\"Project\").getData().AsInputArray;\r\n\t\t\tvar sTStatus = oContext.getModel(\"projectView\").getProperty(\"/oTStatus/Selected\");\r\n\t\t\tvar sFStatus = oContext.getModel(\"projectView\").getProperty(\"/oFStatus/Selected\");\r\n\t\t\t// If Parent is at the same status as the selected item, make sure it is selected too.\r\n\t\t\tfor (var l = 0; l < aSelected.length; l++) {\r\n\t\t\t\tvar iParentIndex = -1;\r\n\t\t\t\tvar iParentPath = \"\";\r\n\t\t\t\tvar bAddIndex = false;\r\n\t\t\t\tvar bAlreadySelected = false;\r\n\t\t\t\tvar sPath = oContext.byId(\"Table\").getContextByIndex(aSelected[l]).getPath();\r\n\t\t\t\tvar oRecord = oContext.getModel(\"Project\").getProperty(sPath);\r\n\t\t\t\tif (oRecord.ItemType === \"SA\") {\r\n\t\t\t\t\tvar aFilterRows = oContext.byId(\"Table\").getBinding(\"rows\").filterInfo.aFilteredContexts;\r\n\t\t\t\t\tfor (var i = 0; i < aFilterRows.length; i++) {\r\n\t\t\t\t\t\tvar sPPath = aFilterRows[i].getPath();\r\n\t\t\t\t\t\tif (sPPath) {\r\n\t\t\t\t\t\t\tvar oPRecord = oContext.getModel(\"Project\").getProperty(sPPath);\r\n\t\t\t\t\t\t\tif (oPRecord.ItemType === \"AT\") {\r\n\t\t\t\t\t\t\t\tif (oRecord.__parentIndex === oPRecord.__index) {\r\n\t\t\t\t\t\t\t\t\t//iParentIndex = oPRecord._index;\r\n\t\t\t\t\t\t\t\t\tiParentIndex = i;\r\n\t\t\t\t\t\t\t\t\tiParentPath = sPPath;\r\n\t\t\t\t\t\t\t\t\tif (oRecord.Status === oPRecord.Status) {\r\n\t\t\t\t\t\t\t\t\t\tbAddIndex = true;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\ti = aFilterRows.length;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (bAddIndex) {\r\n\t\t\t\t\t\tfor (var m = 0; m < l; m++) {\r\n\t\t\t\t\t\t\tvar sPPath = oContext.byId(\"Table\").getContextByIndex(aSelected[m]).getPath();\r\n\t\t\t\t\t\t\tvar oPRecord = oContext.getModel(\"Project\").getProperty(sPPath);\r\n\t\t\t\t\t\t\tif (oPRecord.__index === iParentIndex) {\r\n\t\t\t\t\t\t\t\tbAlreadySelected = true;\r\n\t\t\t\t\t\t\t\tm = l;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (!bAlreadySelected) {\r\n\t\t\t\t\t\t\tfor (var n = 0; n < oContext.byId(\"Table\").getBinding(\"rows\").getLength(); n++) {\r\n\t\t\t\t\t\t\t\tif (oContext.byId(\"Table\").getContextByIndex(n).getPath() === iParentPath) {\r\n\t\t\t\t\t\t\t\t\toContext.byId(\"Table\").addSelectionInterval(n, n);\r\n\t\t\t\t\t\t\t\t\tn = oContext.byId(\"Table\").getBinding(\"rows\").getLength();\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\taSelected = oContext.byId(\"Table\").getSelectedIndices();\r\n\t\t\tif (aSelected.length > 0) {\r\n\t\t\t\tvar selectedIndicies = [];\r\n\t\t\t\tfor (var l = 0; l < aSelected.length; l++) {\r\n\t\t\t\t\t// Get Selected Indicies\r\n\t\t\t\t\tvar sPath = oContext.byId(\"Table\").getContextByIndex(aSelected[l]).getPath();\r\n\t\t\t\t\tvar oRecord = oContext.getModel(\"Project\").getProperty(sPath);\r\n\t\t\t\t\t// psutram: modfied 2017.01.04 to check if GLAccount is 9 and the targeted status is Released, then that row cannot be released\r\n\t\t\t\t\t// Released status code is 9014\r\n\t\t\t\t\tif (sTStatus === \"9014\" && oRecord.GlAccount === \"9\") {\r\n\t\t\t\t\t\toRecord._ValueState = \"Error\";\r\n\t\t\t\t\t\tvar sMessage = oContext.getOwnerComponent().getModel(\"i18n\").getResourceBundle().getText(\"S_W_statusCannotRelease\", [oRecord.Name]);\r\n\t\t\t\t\t\toContext.oMessageManager.addMessages(\r\n\t\t\t\t\t\t\tnew sap.ui.core.message.Message({\r\n\t\t\t\t\t\t\t\tmessage: sMessage,\r\n\t\t\t\t\t\t\t\tdescription: \"\",\r\n\t\t\t\t\t\t\t\ttype: sap.ui.core.ValueState.Error,\r\n\t\t\t\t\t\t\t\tprocessor: oContext.oMessageProcessor\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\tbAllowSave = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// end of modification\r\n\t\t\t\t\tif (sFStatus !== oRecord.Status) {\r\n\t\t\t\t\t\t// The status of the item in the selected row differs from the From Status selected\r\n\t\t\t\t\t\tj = aSelected.length;\r\n\t\t\t\t\t\tbAllowSave = false;\r\n\t\t\t\t\t\toRecord._ValueState = \"Error\";\r\n\t\t\t\t\t\tvar sMessage = oContext.getOwnerComponent().getModel(\"i18n\").getResourceBundle().getText(\"S_E_statusMismatch\", []);\r\n\t\t\t\t\t\toContext.oMessageManager.addMessages(\r\n\t\t\t\t\t\t\tnew sap.ui.core.message.Message({\r\n\t\t\t\t\t\t\t\tmessage: sMessage,\r\n\t\t\t\t\t\t\t\tdescription: \"\",\r\n\t\t\t\t\t\t\t\ttype: sap.ui.core.ValueState.Error,\r\n\t\t\t\t\t\t\t\tprocessor: oContext.oMessageProcessor\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// Check to make sure that Status Progression is not violated.\r\n\t\t\t\t\t\tselectedIndicies.push(oRecord.__index);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (bAllowSave) {\r\n\t\t\t\t\tfor (var j = 0; j < aSelected.length; j++) {\r\n\t\t\t\t\t\t// Check if there are any chosen records which cannot be deleted.\r\n\t\t\t\t\t\tvar sPath = oContext.byId(\"Table\").getContextByIndex(aSelected[j]).getPath();\r\n\t\t\t\t\t\tvar oRecord = oContext.getModel(\"Project\").getProperty(sPath);\r\n\t\t\t\t\t\tif (sFStatus !== oRecord.Status) {\r\n\t\t\t\t\t\t\t// Status of the item selected does not match the from status selected\r\n\t\t\t\t\t\t\tj = aSelected.length;\r\n\t\t\t\t\t\t\tbAllowSave = false;\r\n\t\t\t\t\t\t\toRecord._ValueState = \"Error\";\r\n\t\t\t\t\t\t\tvar sMessage = oContext.getOwnerComponent().getModel(\"i18n\").getResourceBundle().getText(\"S_E_statusMismatch\", []);\r\n\t\t\t\t\t\t\toContext.oMessageManager.addMessages(\r\n\t\t\t\t\t\t\t\tnew sap.ui.core.message.Message({\r\n\t\t\t\t\t\t\t\t\tmessage: sMessage,\r\n\t\t\t\t\t\t\t\t\tdescription: \"\",\r\n\t\t\t\t\t\t\t\t\ttype: sap.ui.core.ValueState.Error,\r\n\t\t\t\t\t\t\t\t\tprocessor: oContext.oMessageProcessor\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t// Determine if we are trying to promote or demote the status.\r\n\t\t\t\t\t\t\tvar bPromote = true;\r\n\t\t\t\t\t\t\tvar sASMConfig = oContext.getOwnerComponent().getModel(\"ASMConfig\").getProperty(\"/Properties/Status\");\r\n\t\t\t\t\t\t\tvar aStatusProgression = (JSON.parse(sASMConfig)).StatusProgression;\r\n\t\t\t\t\t\t\tvar iFStatus = -1;\r\n\t\t\t\t\t\t\tvar iTStatus = -1;\r\n\t\t\t\t\t\t\tfor (var i = 0; i < aStatusProgression.length; i++) {\r\n\t\t\t\t\t\t\t\tif (aStatusProgression[i] === sTStatus) {\r\n\t\t\t\t\t\t\t\t\tiTStatus = i;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif (aStatusProgression[i] === sFStatus) {\r\n\t\t\t\t\t\t\t\t\tiFStatus = i;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (iTStatus === -1 || iFStatus === -1) {\r\n\t\t\t\t\t\t\t\tvar sMessage = oContext.getOwnerComponent().getModel(\"i18n\").getResourceBundle().getText(\"S_E_statusConfigError\", []);\r\n\t\t\t\t\t\t\t\tbAllowSave = false;\r\n\t\t\t\t\t\t\t\toRecord._ValueState = \"Error\";\r\n\t\t\t\t\t\t\t\toContext.oMessageManager.addMessages(\r\n\t\t\t\t\t\t\t\t\tnew sap.ui.core.message.Message({\r\n\t\t\t\t\t\t\t\t\t\tmessage: sMessage,\r\n\t\t\t\t\t\t\t\t\t\tdescription: \"\",\r\n\t\t\t\t\t\t\t\t\t\ttype: sap.ui.core.ValueState.Error,\r\n\t\t\t\t\t\t\t\t\t\tprocessor: oContext.oMessageProcessor\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tif (iTStatus < iFStatus) {\r\n\t\t\t\t\t\t\t\t\tbPromote = false;\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tbPromote = true;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif (oRecord.ItemType === \"AT\" && !bPromote) {\r\n\t\t\t\t\t\t\t\t\t// Check whether any child has same level\r\n\t\t\t\t\t\t\t\t\tfor (var l = 0; l < oRecord._subactivityCount; l++) {\r\n\t\t\t\t\t\t\t\t\t\tfor (var k = 0; k < aStatusProgression.length; k++) {\r\n\t\t\t\t\t\t\t\t\t\t\tif (aStatusProgression[k] === oRecord[l].Status) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (k > iFStatus) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbAllowSave = false;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\toRecord._ValueState = \"Error\";\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvar sMessage = oContext.getOwnerComponent().getModel(\"i18n\").getResourceBundle().getText(\"S_E_statusConfigError\", []);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\toContext.oMessageManager.addMessages(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tnew sap.ui.core.message.Message({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmessage: sMessage,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdescription: \"\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: sap.ui.core.ValueState.Error,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tprocessor: oContext.oMessageProcessor\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t} else if (k === iFStatus) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvar bChildSelected = false;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfor (var m = 0; m < selectedIndicies.length; m++) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (selectedIndicies[m] === oRecord[l].__index) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbChildSelected = true;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tm = selectedIndicies.length;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (!bChildSelected) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar sMessage = oContext.getOwnerComponent().getModel(\"i18n\").getResourceBundle().getText(\"S_E_statusChildNotSelected\", []);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\toContext.oMessageManager.addMessages(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tnew sap.ui.core.message.Message({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmessage: sMessage,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdescription: \"\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: sap.ui.core.ValueState.Error,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tprocessor: oContext.oMessageProcessor\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\toRecord._ValueState = \"Error\";\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbAllowSave = false;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t} else if (oRecord.ItemType == \"SA\" && bPromote) {\r\n\t\t\t\t\t\t\t\t\tvar bParentSelected = false;\r\n\t\t\t\t\t\t\t\t\tfor (var l = 0; l < j; l++) {\r\n\t\t\t\t\t\t\t\t\t\tvar sPath = oContext.byId(\"Table\").getContextByIndex(aSelected[l]).getPath();\r\n\t\t\t\t\t\t\t\t\t\tvar oPRecord = oContext.getModel(\"Project\").getProperty(sPath);\r\n\t\t\t\t\t\t\t\t\t\tif (oPRecord.__index === oRecord.__parentIndex) {\r\n\t\t\t\t\t\t\t\t\t\t\t// Record is selected - Check for matching status\r\n\t\t\t\t\t\t\t\t\t\t\tbParentSelected = true;\r\n\t\t\t\t\t\t\t\t\t\t\tfor (var k = 0; k < aStatusProgression.length; k++) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (aStatusProgression[k] === oPRecord.Status) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (k < iFStatus) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbAllowSave = false;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\toRecord._ValueState = \"Error\";\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar sMessage = oContext.getOwnerComponent().getModel(\"i18n\").getResourceBundle().getText(\"S_E_statusConfigError\", []);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\toContext.oMessageManager.addMessages(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tnew sap.ui.core.message.Message({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmessage: sMessage,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdescription: \"\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: sap.ui.core.ValueState.Error,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tprocessor: oContext.oMessageProcessor\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tif (!bParentSelected) {\r\n\t\t\t\t\t\t\t\t\t\t// Your status must be less than the parent's.\r\n\t\t\t\t\t\t\t\t\t\tvar iParentIndex = oRecord.__parentIndex;\r\n\t\t\t\t\t\t\t\t\t\tvar oParent = oContext.getModel(\"Project\").getProperty(\"/AsInputArray\")[iParentIndex];\r\n\t\t\t\t\t\t\t\t\t\tfor (var k = 0; k < aStatusProgression.length; k++) {\r\n\t\t\t\t\t\t\t\t\t\t\tif (aStatusProgression[k] === oParent.Status) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (iFStatus >= k) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbAllowSave = false;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\toRecord._ValueState = \"Error\";\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvar sMessage = oContext.getOwnerComponent().getModel(\"i18n\").getResourceBundle().getText(\"S_E_statusParentNotSelected\", []);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\toContext.oMessageManager.addMessages(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tnew sap.ui.core.message.Message({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmessage: sMessage,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdescription: \"\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: sap.ui.core.ValueState.Error,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tprocessor: oContext.oMessageProcessor\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tk = aStatusProgression.length;\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// Now add in special checks for data completeness if moving to published.\r\n\t\t\t\t\tif (bAllowSave && sTStatus === '9012') { // Moving to Published\r\n\t\t\t\t\t\t// Root check is that Sub and Brand is known when published.\r\n\t\t\t\t\t\tbAllowSave = ValidationUtils.cc_PublishCheck(oContext, aSelected);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// Now add in special checks for data when moving to Approved for Planning.\r\n\t\t\t\t\tif (bAllowSave && sTStatus === '9013') { // Moving to Approved for Planning\r\n\t\t\t\t\t\tbAllowSave = ValidationUtils.cc_PlanApprovedCheck(oContext, aSelected);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (bAllowSave && sTStatus === '9014') { // Moving to Released\r\n\t\t\t\t\t\tvar bNeedAgency = false;\r\n\t\t\t\t\t\tvar aVendorsNeeded = [];\r\n\t\t\t\t\t\t// Added a check for PH and plan values\t- Khrystyne 10.04.2018\t\t\t\t\t\r\n\t\t\t\t\t\tbAllowSave = ValidationUtils.cc_PublishCheck(oContext, aSelected);\r\n\t\t\t\t\t\tif (bAllowSave) {\r\n\t\t\t\t\t\t// Added a check for PH and plan values\t- Khrystyne 10.04.2018\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tfor (var j = 0; j < aSelected.length; j++) {\r\n\t\t\t\t\t\t\t\tvar sPath = oContext.byId(\"Table\").getContextByIndex(aSelected[j]).getPath();\r\n\t\t\t\t\t\t\t\tvar oRecord = oContext.getModel(\"Project\").getProperty(sPath);\r\n\t\t\t\t\t\t\t\tif (oRecord.ItemType === 'SA' && (oRecord.Agency === \"\" || oRecord.Agency === \"0000000000\")) {\r\n\t\t\t\t\t\t\t\t\tbNeedAgency = true;\r\n\t\t\t\t\t\t\t\t\taVendorsNeeded.push(oRecord);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t//if (!bNeedAgency) {  // GDH Removed to push vendor down to Execution\r\n\t\t\t\t\t\t\tthis._changeStatus(oContext);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\toContext._setRowStyle();\r\n\t\t\t\t\t\t\tvar sMessage = oContext.getOwnerComponent().getModel(\"i18n\").getResourceBundle().getText(\"SCU_E_LookAtErrors\", []);\r\n\t\t\t\t\t\t\tMessageToast.show(sMessage);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t//} else {\r\n\t\t\t\t\t\t//\tthis.getAgency(oContext, aVendorsNeeded);\r\n\t\t\t\t\t\t//}\r\n\t\t\t\t\t} else if (bAllowSave) {\r\n\t\t\t\t\t\tthis._changeStatus(oContext);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\toContext._setRowStyle();\r\n\t\t\t\t\t\tvar sMessage = oContext.getOwnerComponent().getModel(\"i18n\").getResourceBundle().getText(\"SCU_E_LookAtErrors\", []);\r\n\t\t\t\t\t\tMessageToast.show(sMessage);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\t// Selections have been selected for from and to status but no row was selected\r\n\t\t\t\tvar sMessage = oContext.getOwnerComponent().getModel(\"i18n\").getResourceBundle().getText(\"S_E_selectOneStatus\", []);\r\n\t\t\t\t// Begin of Changes - Khrystyne Williams - Nov 2016\r\n\t\t\t\toContext.oMessageManager.addMessages(\r\n\t\t\t\t\tnew sap.ui.core.message.Message({\r\n\t\t\t\t\t\tmessage: sMessage,\r\n\t\t\t\t\t\tdescription: \"\",\r\n\t\t\t\t\t\ttype: sap.ui.core.ValueState.Error,\r\n\t\t\t\t\t\tprocessor: oContext.oMessageProcessor\r\n\t\t\t\t\t})\r\n\t\t\t\t);\r\n\t\t\t\t// MessageToast.show(sMessage);\r\n\t\t\t\t// End of Changes - Khrystyne Williams - Nov 2016\r\n\t\t\t}\r\n\t\t},\r\n\t\t_changeStatusWithAgency: function(oContext) {\r\n\t\t\tvar aSelected = oContext.byId(\"Table\").getSelectedIndices();\r\n\t\t\tvar aAsInputArray = oContext.getModel(\"Project\").getData().AsInputArray;\r\n\t\t\tfor (var i = 0; i < aSelected.length; i++) {\r\n\t\t\t\tvar oScreenRecord = oContext.getModel(\"Project\").getProperty(oContext.byId(\"Table\").getContextByIndex(aSelected[i]).getPath());\r\n\t\t\t\tvar iIndex = oScreenRecord.__index;\r\n\t\t\t\tvar oRecord = aAsInputArray[iIndex];\r\n\t\t\t\tif (oScreenRecord.Agency && oScreenRecord.Agency !== \"\" && oScreenRecord.Agency !== \"0000000000\") {\r\n\t\t\t\t\toRecord.Agency = oScreenRecord.Agency;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis._changeStatus(oContext);\r\n\t\t},\r\n\t\t_changeStatus: function(oContext) {\r\n\t\t\toContext.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", true);\r\n\t\t\toContext.getOwnerComponent().getModel(\"masterShared\").refresh(false);\r\n\t\t\tvar oModel = oContext.getModel();\r\n\t\t\tvar aSelected = oContext.byId(\"Table\").getSelectedIndices();\r\n\t\t\tvar aAsInputArray = oContext.getModel(\"Project\").getData().AsInputArray;\r\n\t\t\tvar sTStatus = oContext.getModel(\"projectView\").getProperty(\"/oTStatus/Selected\");\r\n\t\t\tvar that = oContext;\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\tthat.nTotalCurrentChanges = parseInt(aSelected.length);\r\n\t\t\t\tthat.nChangeCount = parseInt(that.nTotalCurrentChanges);\r\n\t\t\t\tfor (var i = 0; i < aSelected.length; i++) {\r\n\t\t\t\t\tvar oScreenRecord = that.getModel(\"Project\").getProperty(that.byId(\"Table\").getContextByIndex(aSelected[i]).getPath());\r\n\t\t\t\t\tvar iIndex = oScreenRecord.__index;\r\n\t\t\t\t\tvar oRecord = aAsInputArray[iIndex];\r\n\t\t\t\t\tvar oItem = JSON.parse(JSON.stringify(oRecord));\r\n\t\t\t\t\t// Remove fields that were added in extra.\r\n\t\t\t\t\tvar sPath = oItem.__metadata.uri.substring(oItem.__metadata.uri.lastIndexOf(\"/\"));\r\n\t\t\t\t\tdelete oItem.__metadata;\r\n\t\t\t\t\toItem.StartDt = oItem.StartDt.replace(\"Z\", \"\");\r\n\t\t\t\t\toItem.EndDt = oItem.EndDt.replace(\"Z\", \"\");\r\n\t\t\t\t\toItem.CreatedTime = oItem.CreatedTime.replace(\"Z\", \"\");\r\n\t\t\t\t\toItem.ChangedTime = oItem.ChangedTime.replace(\"Z\", \"\");\r\n\t\t\t\t\toItem.Status = sTStatus;\r\n\t\t\t\t\tvar oConfig = {};\r\n\t\t\t\t\toConfig.UPDITEM = \"S\";\r\n\t\t\t\t\t// The only thing that will be updated is the status.  All\r\n\t\t\t\t\t// other entries will stay the same.  (This is a change from earlier design.)\r\n\t\t\t\t\toItem.Config = JSON.stringify(oConfig);\r\n\r\n\t\t\t\t\tvar that2 = that;\r\n\t\t\t\t\toModel.update(sPath, oItem, {\r\n\t\t\t\t\t\tsuccess: function(oData, oResponse) {\r\n\t\t\t\t\t\t\tTimeoutUtils.onResetTimer(that);\r\n\t\t\t\t\t\t\t// Add a Success toast and navigate back to the Project view and refresh the data.\r\n\t\t\t\t\t\t\tif (oResponse.statusCode !== \"204\") {\r\n\t\t\t\t\t\t\t\toData.ErrorOrigin = \"UpdateStatus\";\r\n\t\t\t\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.detail\", \"Errors\", oData);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthat2.nChangeCount = parseInt(that2.nChangeCount) - 1;\r\n\t\t\t\t\t\t\t\tif (that2.nChangeCount === 0) {\r\n\t\t\t\t\t\t\t\t\tthat2._onStatusChange(null);\r\n\t\t\t\t\t\t\t\t\tvar oEventData = {};\r\n\t\t\t\t\t\t\t\t\toEventData.oDataOrigin = \"UpdateStatus\";\r\n\t\t\t\t\t\t\t\t\tthat2.nPendingChangeCount = 1;\r\n\t\t\t\t\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.project\", \"Success\", oEventData);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\terror: function(oError) {\r\n\t\t\t\t\t\t\tthat2.nChangeCount = parseInt(that2.nChangeCount) - 1;\r\n\t\t\t\t\t\t\tif (that2.nChangeCount === 0) {\r\n\t\t\t\t\t\t\t\toError.ErrorOrigin = \"UpdateStatus\";\r\n\t\t\t\t\t\t\t\tthat2.nPendingChangeCount = 1;\r\n\t\t\t\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.project\", \"Errors\", oError);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tchangeSetId: oRecord.Id\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}, 100);\r\n\t\t},\r\n\t\tgetAgency: function(oContext, aVendorsNeeded) {\r\n\t\t\tthis._getAgencies(oContext, aVendorsNeeded);\r\n\t\t},\r\n\r\n\t\t_getAgencyDialog: function(oContext) {\r\n\t\t\tvar that = oContext;\r\n\t\t\tvar that2 = this;\r\n\r\n\t\t\tvar oModel = that.getModel(\"StatusChangeUtils\");\r\n\t\t\tvar oData = oModel.getData();\r\n\t\t\tif (!oData.VendorMissing) {\r\n\t\t\t\toData.VendorMissing = {};\r\n\t\t\t}\r\n\r\n\t\t\tvar dialog = new Dialog(\"scu_agency\", {\r\n\t\t\t\ttitle: oContext.getModel(\"i18n\").getResourceBundle().getText(\"SCU_T_MissingAgency\"),\r\n\t\t\t\ttype: 'Message',\r\n\t\t\t\tcontent: [\r\n\t\t\t\t\tnew sap.m.VBox({\r\n\t\t\t\t\t\tfitContainer: true,\r\n\t\t\t\t\t\talignItems: sap.m.FlexAlignItems.Start,\r\n\t\t\t\t\t\tjustifyContent: sap.m.FlexJustifyContent.SpaceBetween,\r\n\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\tnew sap.m.Text({\r\n\t\t\t\t\t\t\t\ttext: oContext.getModel(\"i18n\").getResourceBundle().getText(\"SCU_B_MissingVendor\")\r\n\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t//psutram: add Table\r\n\t\t\t\t\t\t\tnew sap.m.Table(\"idRandomDataTable\", {\r\n\t\t\t\t\t\t\t\theaderToolbar: new sap.m.Toolbar({\r\n\t\t\t\t\t\t\t\t\tcontent: [new sap.m.Label({\r\n\t\t\t\t\t\t\t\t\t\ttext: oContext.getModel(\"i18n\").getResourceBundle().getText(\"SCU_B_TableTitle\")\r\n\t\t\t\t\t\t\t\t\t})]\r\n\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t\tcolumns: [new sap.m.Column({\r\n\t\t\t\t\t\t\t\t\twidth: \"2em\",\r\n\t\t\t\t\t\t\t\t\theader: new sap.m.Label({\r\n\t\t\t\t\t\t\t\t\t\ttext: oContext.getModel(\"i18n\").getResourceBundle().getText(\"SCU_B_Name\")\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}), new sap.m.Column({\r\n\t\t\t\t\t\t\t\t\twidth: \"2em\",\r\n\t\t\t\t\t\t\t\t\theader: new sap.m.Label({\r\n\t\t\t\t\t\t\t\t\t\ttext: oContext.getModel(\"i18n\").getResourceBundle().getText(\"SCU_B_Agency\")\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t})],\r\n\t\t\t\t\t\t\t\titems: {\r\n\t\t\t\t\t\t\t\t\tpath: \"StatusChangeUtils>/VendorMissing\",\r\n\t\t\t\t\t\t\t\t\ttemplate: new sap.m.ColumnListItem({\r\n\t\t\t\t\t\t\t\t\t\tcells: [\r\n\t\t\t\t\t\t\t\t\t\t\tnew sap.m.Text({\r\n\t\t\t\t\t\t\t\t\t\t\t\ttext: \"{StatusChangeUtils>Name}\"\r\n\t\t\t\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t\t\t\t\tnew sap.m.FlexBox({\r\n\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnew sap.m.ComboBox({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\titems: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpath: \"StatusChangeUtils>PossibleAgencies\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttemplateSharable: false,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttemplate: new sap.ui.core.ListItem({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey: \"{StatusChangeUtils>Key}\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: \"{StatusChangeUtils>Description}\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tselectedKey: \"{StatusChangeUtils>Agency}\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tenabled: false,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tshowButton: false\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnew sap.m.Button({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ticon: \"sap-icon://sys-cancel\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tpress: function(oEvent) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tVendorUtils.onClear(oEvent, oEvent.getSource().getParent().getItems()[0]);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnew sap.m.Button({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ticon: \"sap-icon://search\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tpress: function(oEvent) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar oModel = this.getModel(\"HoldAgencies\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (!oModel) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar oData = {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tAgency: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tCurrent: []\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\toModel = new sap.ui.model.json.JSONModel(oData);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\toData = oModel.getData();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\toData.Agency.Current = this.getModel(\"StatusChangeUtils\").getProperty(oEvent.getSource().getParent().getItems()[\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t0].getBindingContext(\"StatusChangeUtils\").getPath()).PossibleAgencies;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tVendorUtils.onShow(oEvent, oModel, this.getModel(\"i18n\"), oEvent.getSource().getParent().getItems()[0]);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t]\r\n\t\t\t\t\t})\r\n\t\t\t\t],\r\n\t\t\t\tbeginButton: new sap.m.Button({\r\n\t\t\t\t\ttext: oContext.getModel(\"i18n\").getResourceBundle().getText(\"SCU_release\"),\r\n\t\t\t\t\tpress: function() {\r\n\t\t\t\t\t\tvar oModel = this.getModel(\"StatusChangeUtils\");\r\n\t\t\t\t\t\tvar oData = oModel.getData();\r\n\t\t\t\t\t\tvar bAgencyMissing = false;\r\n\t\t\t\t\t\tfor (var i = 0; i < oData.VendorMissing.length; i++) {\r\n\t\t\t\t\t\t\tvar tRecord = oData.VendorMissing[i];\r\n\t\t\t\t\t\t\tvar sAgency = tRecord.Agency;\r\n\t\t\t\t\t\t\tif (!sAgency || sAgency === \"\" || sAgency === \"0000000000\") {\r\n\t\t\t\t\t\t\t\tbAgencyMissing = true;\r\n\t\t\t\t\t\t\t\tvar sMessage = this.getModel(\"i18n\").getResourceBundle().getText(\"SCU_E_NoAgency\");\r\n\t\t\t\t\t\t\t\tMessageToast.show(sMessage);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (!bAgencyMissing) {\r\n\t\t\t\t\t\t\tvar aSelected = that.byId(\"Table\").getSelectedIndices();\r\n\t\t\t\t\t\t\tif (aSelected.length > 0) {\r\n\r\n\t\t\t\t\t\t\t\tfor (var l = 0; l < aSelected.length; l++) {\r\n\t\t\t\t\t\t\t\t\t// Get Selected Indicies\r\n\t\t\t\t\t\t\t\t\tvar sPath = oContext.byId(\"Table\").getContextByIndex(aSelected[l]).getPath();\r\n\t\t\t\t\t\t\t\t\tvar oRecord = oContext.getModel(\"Project\").getProperty(sPath);\r\n\t\t\t\t\t\t\t\t\t// Begin of Changes - Khrystyne Williams - Feb 2017\r\n\t\t\t\t\t\t\t\t\t// if (!oRecord.Agency || oRecord.Agency === \"\" || oRecord.Agency === \"0000000000\") {\r\n\t\t\t\t\t\t\t\t\tif (!oRecord.Agency || oRecord.Agency === \"\" || oRecord.Agency === \"0000000000\") {\r\n\t\t\t\t\t\t\t\t\t\t// End of Changes - Khrystyne Williams - Feb 2017\r\n\t\t\t\t\t\t\t\t\t\t// psutram: modified to set different value for each row\r\n\t\t\t\t\t\t\t\t\t\t// oRecord.Agency = sAgency;\r\n\t\t\t\t\t\t\t\t\t\tfor (var i = 0; i < oData.VendorMissing.length; i++) {\r\n\t\t\t\t\t\t\t\t\t\t\tvar tRecord = oData.VendorMissing[i];\r\n\t\t\t\t\t\t\t\t\t\t\tif (oRecord.Id === tRecord.Id) {\r\n\t\t\t\t\t\t\t\t\t\t\t\toRecord.Agency = tRecord.Agency;\r\n\t\t\t\t\t\t\t\t\t\t\t\ti = oData.VendorMissing.size;\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tdialog.close();\r\n\t\t\t\t\t\t\tthat2._changeStatusWithAgency(oContext);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t}),\r\n\t\t\t\tendButton: new sap.m.Button({\r\n\t\t\t\t\ttext: oContext.getModel(\"i18n\").getResourceBundle().getText(\"CP_cancel\"),\r\n\t\t\t\t\tpress: function() {\r\n\t\t\t\t\t\tdialog.close();\r\n\t\t\t\t\t}\r\n\t\t\t\t}),\r\n\t\t\t\tafterClose: function() {\r\n\t\t\t\t\tdialog.destroy();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t// var aSelected = that.byId(\"Table\").getSelectedIndices();\r\n\t\t\t// var selectedBlankRows = [];\r\n\t\t\t// if (aSelected.length > 0) {\r\n\t\t\t// \tfor (var l = 0; l < aSelected.length; l++) {\r\n\t\t\t// \t\t// Get Selected Indicies\r\n\t\t\t// \t\tvar sPath = oContext.byId(\"Table\").getContextByIndex(aSelected[l]).getPath();\r\n\t\t\t// \t\tvar oRecord = oContext.getModel(\"Project\").getProperty(sPath);\r\n\t\t\t// \t\t// psutram: Adjusted to only evaluate sub-activities\r\n\t\t\t// \t\tif (oRecord.ItemType === \"SA\" && (!oRecord.Agency || oRecord.Agency === \"\" || oRecord.Agency === \"0000000000\")) {\r\n\t\t\t// \t\t\t//add selected row into\r\n\t\t\t// \t\t\tselectedBlankRows.push({\r\n\t\t\t// \t\t\t\t\"Name\": oRecord.Name,\r\n\t\t\t// \t\t\t\t\"Id\": oRecord.Id,\r\n\t\t\t// \t\t\t\t\"Agency\": oRecord.Agency\r\n\t\t\t// \t\t\t});\r\n\t\t\t// \t\t}\r\n\t\t\t// \t}\r\n\t\t\t// \toData.VendorMissing = selectedBlankRows;\r\n\t\t\t// }\r\n\r\n\t\t\t// oModel.refresh(false);\r\n\t\t\t// dialog.setModel (oModel, \"StatusChangeUtils\");\r\n\t\t\tdialog.setModel(oContext.getModel(\"StatusChangeUtils\"), \"StatusChangeUtils\");\r\n\t\t\tdialog.open();\r\n\t\t},\r\n\t\t// _getAgencyDialog: function(oContext) {\r\n\t\t// \tvar that = oContext;\r\n\t\t// \tvar that2 = this;\r\n\t\t// \tvar dialog = new Dialog(\"scu_agency\", {\r\n\t\t// \t\t// Begin of Changes - Alex\r\n\t\t// \t\t// title: oContext.getModel(\"i18n\").getResourceBundle().getText(\"SCU_T_MissingAgency\"),\r\n\t\t// \t\ttitle: oContext.getModel(\"i18n\").getResourceBundle().getText(\"SCU_T_MissingVendor\"),\r\n\t\t// \t\t// End of Change - Alex\r\n\t\t// \t\ttype: 'Message',\r\n\t\t// \t\tcontent: [\r\n\t\t// \t\t\tnew sap.m.VBox({\r\n\t\t// \t\t\t\tfitContainer: true,\r\n\t\t// \t\t\t\talignItems: sap.m.FlexAlignItems.Start,\r\n\t\t// \t\t\t\tjustifyContent: sap.m.FlexJustifyContent.SpaceBetween,\r\n\t\t// \t\t\t\titems: [\r\n\t\t// \t\t\t\t\tnew sap.m.Text({\r\n\t\t// \t\t\t\t\t\ttext: oContext.getModel(\"i18n\").getResourceBundle().getText(\"SCU_B_MissingVendor\")\r\n\t\t// \t\t\t\t\t}),\r\n\t\t// \t\t\t\t\tnew sap.m.ComboBox(\"scu_cb_agency\", {\r\n\t\t// \t\t\t\t\t\titems: {\r\n\t\t// \t\t\t\t\t\t\tpath: \"StatusChangeUtils>/Agency/Current\",\r\n\t\t// \t\t\t\t\t\t\ttemplate: new sap.ui.core.ListItem({\r\n\t\t// \t\t\t\t\t\t\t\tkey: \"{StatusChangeUtils>Key}\",\r\n\t\t// \t\t\t\t\t\t\t\ttext: \"{StatusChangeUtils>Description}\"\r\n\t\t// \t\t\t\t\t\t\t})\r\n\t\t// \t\t\t\t\t\t},\r\n\t\t// \t\t\t\t\t\tplaceholder: \"{StatusChangeUtils>/Placeholders/Agency}\",\r\n\t\t// \t\t\t\t\t\tselectedKey: \"{StatusChangeUtils>/Input/Agency}\"\r\n\t\t// \t\t\t\t\t})\r\n\t\t// \t\t\t\t]\r\n\t\t// \t\t\t})\r\n\t\t// \t\t],\r\n\t\t// \t\tbeginButton: new sap.m.Button({\r\n\t\t// \t\t\ttext: oContext.getModel(\"i18n\").getResourceBundle().getText(\"SCU_release\"),\r\n\t\t// \t\t\tpress: function() {\r\n\t\t// \t\t\t\tvar sAgency = sap.ui.getCore().byId(\"scu_cb_agency\").getSelectedKey();\r\n\t\t// \t\t\t\tif (!sAgency || sAgency === \"\" || sAgency === \"0000000000\") {\r\n\t\t// \t\t\t\t\tvar sMessage = this.getModel(\"i18n\").getResourceBundle().getText(\"SCU_E_NoAgency\");\r\n\t\t// \t\t\t\t\tMessageToast.show(sMessage);\r\n\t\t// \t\t\t\t} else {\r\n\t\t// \t\t\t\t\tvar aSelected = that.byId(\"Table\").getSelectedIndices();\r\n\t\t// \t\t\t\t\tif (aSelected.length > 0) {\r\n\t\t// \t\t\t\t\t\tfor (var l = 0; l < aSelected.length; l++) {\r\n\t\t// \t\t\t\t\t\t\t// Get Selected Indicies\r\n\t\t// \t\t\t\t\t\t\tvar sPath = oContext.byId(\"Table\").getContextByIndex(aSelected[l]).getPath();\r\n\t\t// \t\t\t\t\t\t\tvar oRecord = oContext.getModel(\"Project\").getProperty(sPath);\r\n\t\t// \t\t\t\t\t\t\tif (!oRecord.Agency || oRecord.Agency === \"\" || oRecord.Agency === \"0000000000\") {\r\n\t\t// \t\t\t\t\t\t\t\toRecord.Agency = sAgency;\r\n\t\t// \t\t\t\t\t\t\t}\r\n\t\t// \t\t\t\t\t\t}\r\n\t\t// \t\t\t\t\t}\r\n\t\t// \t\t\t\t}\r\n\t\t// \t\t\t\tdialog.close();\r\n\t\t// \t\t\t\tthat2._changeStatusWithAgency(oContext);\r\n\t\t// \t\t\t}\r\n\t\t// \t\t}),\r\n\t\t// \t\tendButton: new sap.m.Button({\r\n\t\t// \t\t\ttext: oContext.getModel(\"i18n\").getResourceBundle().getText(\"CP_cancel\"),\r\n\t\t// \t\t\tpress: function() {\r\n\t\t// \t\t\t\tdialog.close();\r\n\t\t// \t\t\t}\r\n\t\t// \t\t}),\r\n\t\t// \t\tafterClose: function() {\r\n\t\t// \t\t\tdialog.destroy();\r\n\t\t// \t\t}\r\n\t\t// \t});\r\n\t\t// \tdialog.setModel(oContext.getModel(\"StatusChangeUtils\"), \"StatusChangeUtils\");\r\n\t\t// \tdialog.open();\r\n\t\t// },\r\n\t\t_getAgencies: function(oContext, aVendorsNeeded) {\r\n\t\t\t// Get the Vendors (Agencies)\r\n\t\t\tthis.nTotalCurrentChanges = parseInt(aVendorsNeeded.length);\r\n\t\t\tthis.nChangeCount = parseInt(this.nTotalCurrentChanges);\r\n\t\t\tvar oModel = oContext.getModel(\"StatusChangeUtils\");\r\n\t\t\tif (!oModel) {\r\n\t\t\t\toModel = this._createStatusChangeUtils(oContext);\r\n\t\t\t}\r\n\t\t\tvar oData = oModel.getData();\r\n\t\t\toData.VendorMissing = aVendorsNeeded;\r\n\t\t\tvar oAModel = oContext.getModel(\"Agency\");\r\n\t\t\tif (!oAModel) {\r\n\t\t\t\tvar sServiceUrl = oContext.getOwnerComponent().getModel(\"masterShared\").getProperty(\"/oServiceUrls/mainService\");\r\n\t\t\t\toAModel = new sap.ui.model.odata.v2.ODataModel(sServiceUrl);\r\n\t\t\t\toAModel.setSizeLimit(50000);\r\n\t\t\t\toAModel.setDefaultCountMode(sap.ui.model.odata.CountMode.None);\r\n\t\t\t\toContext.setModel(oAModel, \"Agency\");\r\n\t\t\t}\r\n\t\t\tfor (var i = 0; i < aVendorsNeeded.length; i++) {\r\n\t\t\t\tvar filters = [];\r\n\t\t\t\tvar oRecord = aVendorsNeeded[i];\r\n\t\t\t\tvar sAdditionalData = \"{ SUB:'\" + oRecord.SubKey + \"', KEY:'\" + parseInt(i) + \"'}\";\r\n\t\t\t\tfilters.push(new sap.ui.model.Filter(\"AdditionalData\", sap.ui.model.FilterOperator.EQ, sAdditionalData));\r\n\t\t\t\tvar sPath = \"/VHAgencies\";\r\n\t\t\t\toContext.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", true); // Start Spinner\r\n\t\t\t\tvar that = this;\r\n\t\t\t\toAModel.read(sPath, {\r\n\t\t\t\t\tasync: true,\r\n\t\t\t\t\tfilters: filters,\r\n\t\t\t\t\tsuccess: function(oData, oResponse) {\r\n\t\t\t\t\t\tTimeoutUtils.onResetTimer(that);\r\n\t\t\t\t\t\tthat._setAgencies(oData, oContext);\r\n\t\t\t\t\t\tthat.nChangeCount = parseInt(that.nChangeCount) - 1;\r\n\t\t\t\t\t\tif (that.nChangeCount === 0) {\r\n\t\t\t\t\t\t\tvar oModel = oContext.getModel(\"StatusChangeUtils\");\r\n\t\t\t\t\t\t\toModel.refresh(false);\r\n\t\t\t\t\t\t\toContext.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", false); // Stop Spinner\r\n\t\t\t\t\t\t\tthat._getAgencyDialog(oContext);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\terror: function(oError) {\r\n\t\t\t\t\t\toError.ErrorOrigin = \"Agency\";\r\n\t\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.detail\", \"Errors\", oError);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\t_setAgencies: function(oDataIn, oContext) {\r\n\t\t\tvar oModel = oContext.getModel(\"StatusChangeUtils\");\r\n\t\t\tif (!oModel) {\r\n\t\t\t\toModel = this._createStatusChangeUtils(oContext);\r\n\t\t\t}\r\n\t\t\tvar oData = oModel.getData();\r\n\t\t\tvar i = parseInt(oDataIn.results[0].AdditionalData);\r\n\t\t\tif (oData.VendorMissing[i] && !oData.VendorMissing[i].PossibleAgencies) {\r\n\t\t\t\toData.VendorMissing[i].PossibleAgencies = {};\r\n\t\t\t}\r\n\t\t\toData.VendorMissing[i].PossibleAgencies = oDataIn.results;\r\n\t\t\tif (oData.VendorMissing[i].PossibleAgencies.length === 0) {\r\n\t\t\t\toData.Placeholders.Agency = oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_agency_n\");\r\n\t\t\t} else {\r\n\t\t\t\toData.Placeholders.Agency = oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_agency_e\");\r\n\t\t\t}\r\n\t\t},\r\n\t\t_createStatusChangeUtils: function(oContext) {\r\n\t\t\t// Set up the initial selections\r\n\t\t\tvar oData = {};\r\n\t\t\toData.Input = {};\r\n\t\t\toData.Placeholders = {};\r\n\t\t\toData.Agency = {};\r\n\t\t\tvar oModel = new sap.ui.model.json.JSONModel(oData);\r\n\t\t\toModel.setSizeLimit(50000);\r\n\t\t\toContext.setModel(oModel, \"StatusChangeUtils\");\r\n\t\t\treturn oModel;\r\n\t\t},\r\n\t\t_setRowTotal: function(oRow) {\r\n\t\t\tvar i = 0;\r\n\t\t\tvar recordTotal = parseFloat(0);\r\n\t\t\tdo {\r\n\t\t\t\ti++;\r\n\t\t\t\tvar sColumnName = \"AmtB\" + i;\r\n\t\t\t\trecordTotal = parseFloat(recordTotal) + parseFloat(oRow[sColumnName]);\r\n\t\t\t} while (i < 12);\r\n\t\t\toRow.MaxValueBo = (recordTotal).toString();\r\n\t\t}\r\n\t};\r\n});",
		"colgate/asm/planning/base/util/CustomCurrencyTypeFull.js": "sap.ui.define([], function() {\r\n\t\"use strict\";\r\n\r\n\treturn sap.ui.model.type.Currency.extend(\"colgate.asm.planning.base.util.CustomCurrencyTypeFull\", {\r\n\t\tformatValue: function(aInput,sType) {\r\n\t\t\t//GDH aInput[0] = parseFloat(aInput[0]) / 1000;\r\n\t\t\taInput[0] = parseFloat(aInput[0]);\r\n\t\t\tif (sap.ui.model.type.Currency.prototype.formatValue) { // check whether superclass has  method\r\n\t\t\t\tvar sReturn = sap.ui.model.type.Currency.prototype.formatValue.apply(this, arguments); // call super\r\n\t\t\t}\r\n\t\t\t//GDH if (sReturn === \"0.00\" || sReturn === \"0,00\") {\r\n\t\t\tif (sReturn === \"0\") {\r\n\t\t\t\tsReturn = \"\";\r\n\t\t\t}\r\n\t\t\treturn sReturn;\r\n\t\t},\r\n\t\tparseValue: function(sValue,sType,oOther) {\r\n\t\t\tif (sap.ui.model.type.Currency.prototype.parseValue) { // check whether superclass has  method\r\n\t\t\t\tvar aReturn = sap.ui.model.type.Currency.prototype.parseValue.apply(this, arguments); // call super\r\n\t\t\t}\r\n\t\t\t//GDH aReturn[0] = parseFloat(aReturn[0]) * 1000;\r\n\t\t\taReturn[0] = parseFloat(aReturn[0]);\r\n\t\t\treturn aReturn;\r\n\t\t},\r\n\t\tvalidateValue: function(nValue) {\r\n\t\t    if (sap.ui.model.type.Currency.prototype.validateValue) { // check whether superclass has method\r\n\t\t\t\treturn sap.ui.model.type.Currency.prototype.validateValue.apply(this, arguments); // call super\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n});",
		"colgate/asm/planning/base/util/MonthPicker.js": "sap.ui.define([\r\n\t'sap/m/Dialog',\r\n\t'sap/m/MessageToast',\r\n\t'colgate/asm/planning/base/util/ValidationUtils'\r\n], function(Dialog, MessageToast, ValidationUtils) {\r\n\t\"use strict\";\r\n\treturn {\r\n\t\t_getMonthPicker: function(oEvent, oContext) {\r\n\t\t\tvar that = oContext;\r\n\t\t\tvar that2 = this;\r\n\t\t\tvar oDate = oEvent.getSource();\r\n\t\t\tvar sType = oDate.getBindingInfo(\"value\").binding.getPath();\r\n\t\t\tvar sPath = oDate.getParent().getBindingContext(\"Project\").getPath();\r\n\t\t\tvar sTitle = \"\";\r\n\t\t\tif (sType === \"StartDt\") {\r\n\t\t\t\tsTitle = oContext.getModel(\"i18n\").getResourceBundle().getText(\"SCU_T_StartDt\");\r\n\t\t\t} else {\r\n\t\t\t\tsTitle = oContext.getModel(\"i18n\").getResourceBundle().getText(\"SCU_T_EndDt\");\t\r\n\t\t\t}\r\n\t\t\tvar sCurrentDate = that.getModel(\"Project\").getProperty(sPath + \"/\" + sType);\r\n\t\t\t// psutram: feb 2017 : if sCurrentDate is error then no value exists: commented the next line and replaced with if block\r\n\t\t\t// var iMonth = parseInt(sCurrentDate.substring(5,7)) - 1;\r\n\t\t\tvar iMonth ;\r\n\t\t\tif (sCurrentDate === \"Error\")\r\n\t\t\t{\r\n\t\t\t\tiMonth = 0;\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tiMonth = parseInt(sCurrentDate.substring(5,7)) - 1;\r\n\t\t\t}\r\n\t\t\t// end of changes\r\n\r\n\t\t\tvar dialog = new Dialog(\"vh_date\", {\r\n\t\t\t\ttitle: sTitle,\r\n\t\t\t\ttype: 'Message',\r\n\t\t\t\tcontent: [\r\n\t\t\t\t\tnew sap.m.VBox({\r\n\t\t\t\t\t\tfitContainer: true,\r\n\t\t\t\t\t\talignItems: sap.m.FlexAlignItems.Center,\r\n\t\t\t\t\t\tjustifyContent: sap.m.FlexJustifyContent.SpaceBetween,\r\n\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\tnew sap.ui.unified.calendar.MonthPicker(\"vh_monthPicker\", {\r\n\t\t\t\t\t\t\t\tmonth: iMonth,\r\n\t\t\t\t\t\t\t\tselect: function() {\r\n\t\t\t\t\t\t\t\t\tvar iMonthNew = parseInt(sap.ui.getCore().byId(\"vh_monthPicker\").getMonth()) + 1; //Values 0-11\r\n\t\t\t\t\t\t\t\t\tvar sPad = \"0\";\r\n\t\t\t\t\t\t\t\t\tvar sMonth = (sPad+String(iMonthNew)).slice(-2);\r\n\t\t\t\t\t\t\t\t\tvar oASMConfigData = that.getOwnerComponent().getModel(\"ASMConfig\").getData();\r\n\t\t\t\t\t\t\t\t\tvar sYear = oASMConfigData.Properties.PlanningYear;\r\n\t\t\t\t\t\t\t\t\tvar sDate = sYear + \"-\" + sMonth + \"-\";\r\n\t\t\t\t\t\t\t\t\tif (sType === \"StartDt\") {\r\n\t\t\t\t\t\t\t\t\t\tsDate = sDate + \"01T00:00:00Z\";\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tsDate = sDate + \"28T00:00:00Z\";\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tthat.getModel(\"Project\").setProperty(sPath + \"/\" + sType, sDate);\r\n\t\t\t\t\t\t\t\t\tthat.__setRowEditable(true, that.getModel(\"Project\").getProperty(sPath + \"/\"));\r\n\t\t\t\t\t\t\t\t\tthat.onValidate(null);\r\n\t\t\t\t\t\t\t\t\tthat.getModel(\"Project\").refresh(false);\r\n\t\t\t\t\t\t\t\t\tdialog.close();\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t]\r\n\t\t\t\t\t})\r\n\t\t\t\t],\r\n\t\t\t\tafterClose: function() {\r\n\t\t\t\t\tdialog.destroy();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tdialog.setModel(oContext.getModel(\"StatusChangeUtils\"), \"StatusChangeUtils\");\r\n\t\t\tdialog.open();\r\n\t\t}\r\n\t};\r\n});",
		"colgate/asm/planning/base/util/PersonalizationUtils.js": "sap.ui.define([\r\n\t\"sap/m/MessageToast\",\r\n\t'colgate/asm/planning/base/util/TimeoutUtils'\r\n], function(MessageToast,TimeoutUtils) {\r\n\t\"use strict\";\r\n\treturn {\r\n\t\tp13nSave: function(oContext, oConfig, sKey) {\r\n\t\t\tthis.p13nSave2(oContext, oConfig, sKey, oContext.getOwnerComponent().getModel(\"i18n\").getResourceBundle().getText(\"CP_savedMess\"));\r\n\t\t},\r\n\t\tp13nSave2: function(oContext, oConfig, sKey, sMessage) {\r\n\t\t\toContext.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", true); // Start Spinner\r\n\t\t\toContext.getOwnerComponent().getModel(\"masterShared\").refresh(false);\r\n\t\t\tvar oPostData = {};\r\n\t\t\toPostData.PersKey = sKey;\r\n\t\t\toPostData.PersData = JSON.stringify(oConfig);\r\n\t\t\tvar oModel = oContext.getOwnerComponent().getModel(\"User\");\r\n\t\t\tvar sPath = \"/Personalizations\";\r\n\t\t\tvar that = oContext;\r\n\t\t\tvar sShowMessage = sMessage;\r\n\t\t\toModel.create(sPath, oPostData, {\r\n\t\t\t\tasync: true,\r\n\t\t\t\tsuccess: function(oDataIn, oResponse) {\r\n\t\t\t\t\tTimeoutUtils.onResetTimer(that);\r\n\t\t\t\t\tvar oData = {};\r\n\t\t\t\t\toData[oDataIn.PersKey] = JSON.parse(oDataIn.PersData);\r\n\t\t\t\t\tthat.getOwnerComponent().getModel(\"P13n_Configuration\").setData(oData, true);\r\n\t\t\t\t\tthat.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", false); // Stop Spinner\r\n\t\t\t\t\tMessageToast.show(sShowMessage);\r\n\t\t\t\t},\r\n\t\t\t\terror: function(oError) {\r\n\t\t\t\t\toError.ErrorOrigin = \"SavePersonalization\";\r\n\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.project\", \"Errors\", oError);\r\n\t\t\t\t\tthat.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", false); // Stop Spinner\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tp13nVariantSave: function(oContext, oConfig, sKey, sGuid, sDefaultVar, sDescription, bOld) {\r\n\t\t\toContext.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", true); // Start Spinner\r\n\t\t\toContext.getOwnerComponent().getModel(\"masterShared\").refresh(false);\r\n\t\t\tvar oPostData = {};\r\n\t\t\tif (bOld) {\r\n\t\t\t\toPostData.Guid = sGuid;\r\n\t\t\t}\r\n\t\t\toPostData.PersKey = sKey;\r\n\t\t\toPostData.DefaultVar = sDefaultVar;\r\n\t\t\toPostData.Description = sDescription;\r\n\t\t\toPostData.PersData = JSON.stringify(oConfig);\r\n\t\t\tvar oModel = oContext.getOwnerComponent().getModel(\"User\");\r\n\t\t\tvar sPath = \"/Variants\";\r\n\t\t\tvar that = oContext;\r\n\t\t\toModel.create(sPath, oPostData, {\r\n\t\t\t\tasync: true,\r\n\t\t\t\tsuccess: function(oDataIn, oResponse) {\r\n\t\t\t\t\tTimeoutUtils.onResetTimer(that);\r\n\t\t\t\t\tvar aVariants = that.getOwnerComponent().getModel(\"P13n_Variants\").getData().Variants;\r\n\t\t\t\t\tvar oVariants = that.byId(\"Variant\");\r\n\t\t\t\t\tvar bUpdated = false;\r\n\t\t\t\t\tvar sMessage = \"\";\r\n\t\t\t\t\tfor (var i = 0; i < aVariants.length; i++) {\r\n\t\t\t\t\t\tif (aVariants[i].Guid === oDataIn.Guid) {\r\n\t\t\t\t\t\t\t// Update the entry\r\n\t\t\t\t\t\t\taVariants[i] = oDataIn;\r\n\t\t\t\t\t\t\tsMessage = that.getOwnerComponent().getModel(\"i18n\").getResourceBundle().getText(\"CP_variantUpdated\", [aVariants[i].Description]);\r\n\t\t\t\t\t\t\tbUpdated = true;\r\n\t\t\t\t\t\t\ti = aVariants.length;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (!bUpdated) {\r\n\t\t\t\t\t\t// Must be new record\r\n\t\t\t\t\t\taVariants.push(oDataIn);\r\n\t\t\t\t\t\tvar iIndex = aVariants.length - 1;\r\n\t\t\t\t\t\tvar oVariant = oVariants.getVariantItems()[iIndex];\r\n\t\t\t\t\t\tif (!oVariant) {\r\n\t\t\t\t\t\t\toVariant = new sap.ui.comp.variants.VariantItem(\"Variant\" + iIndex, {\r\n\t\t\t\t\t\t\t\tglobal: false,\r\n\t\t\t\t\t\t\t\tlabelReadOnly: false,\r\n\t\t\t\t\t\t\t\treadOnly: false,\r\n\t\t\t\t\t\t\t\ttext: aVariants[i].Description,\r\n\t\t\t\t\t\t\t\tkey: \"Variant\" + iIndex\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\toVariants.addVariantItem(oVariant);\r\n\t\t\t\t\t\t\toVariants.setSelectionKey(\"Variant\" + iIndex);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\toVariant.setGlobal(false);\r\n\t\t\t\t\t\t\toVariant.setReadOnly(false);\r\n\t\t\t\t\t\t\toVariant.setLabelReadOnly(false);\r\n\t\t\t\t\t\t\toVariant.setText(oDataIn.Description);\r\n\t\t\t\t\t\t\toVariant.setKey(\"Variant\" + iIndex);\r\n\t\t\t\t\t\t\toVariants.setSelectionKey(\"Variant\" + iIndex);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (oDataIn.DefaultVar === \"X\") {\r\n\t\t\t\t\t\t\tthat.getOwnerComponent().getModel(\"P13n_Variants\").setProperty(\"/DefaultVariant\", \"Variant\" + iIndex);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tsMessage = that.getOwnerComponent().getModel(\"i18n\").getResourceBundle().getText(\"CP_variantCreated\", [oDataIn.Description]);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthat.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", false); // Stop Spinner\r\n\t\t\t\t\tMessageToast.show(sMessage);\r\n\t\t\t\t},\r\n\t\t\t\terror: function(oError) {\r\n\t\t\t\t\toError.ErrorOrigin = \"SaveVariant\";\r\n\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.project\", \"Errors\", oError);\r\n\t\t\t\t\tthat.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", false); // Stop Spinner\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tp13nVariantDelete: function(oContext, oConfig, sKey, sGuid, sDescription, sPath) {\r\n\t\t\toContext.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", true); // Start Spinner\r\n\t\t\toContext.getOwnerComponent().getModel(\"masterShared\").refresh(false);\r\n\t\t\tvar oModel = oContext.getOwnerComponent().getModel(\"User\");\r\n\t\t\tvar that = oContext;\r\n\t\t\tvar sName = sDescription;\r\n\t\t\toModel.remove(sPath, {\r\n\t\t\t\tsuccess: function(oDataIn, oResponse) {\r\n\t\t\t\t\tTimeoutUtils.onResetTimer(that);\r\n\t\t\t\t\tvar sMessage = \"\";\r\n\t\t\t\t\tsMessage = that.getOwnerComponent().getModel(\"i18n\").getResourceBundle().getText(\"CP_variantDeleted\", [sName]);\r\n\t\t\t\t\tthat.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", false); // Stop Spinner\r\n\t\t\t\t\tthat.getOwnerComponent().getModel(\"masterShared\").refresh(false);\r\n\t\t\t\t\tMessageToast.show(sMessage);\r\n\t\t\t\t},\r\n\t\t\t\terror: function(oError) {\r\n\t\t\t\t\toError.ErrorOrigin = \"DeleteVariant\";\r\n\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.project\", \"Errors\", oError);\r\n\t\t\t\t\tthat.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", false); // Stop Spinner\r\n\t\t\t\t\tthat.getOwnerComponent().getModel(\"masterShared\").refresh(false);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tp13nAddSortItem: function(oItemData, aSortItems) {\r\n\t\t\tvar oItem = {};\r\n\t\t\toItem.columnKey = oItemData.getProperty(\"columnKey\");\r\n\t\t\toItem.operation = oItemData.getProperty(\"operation\");\r\n\t\t\taSortItems.push(oItem);\r\n\t\t},\r\n\t\tp13nUpdateSortItem: function(oItemData, aSortItems, iIndex) {\r\n\t\t\taSortItems[iIndex].columnKey = oItemData.getProperty(\"columnKey\");\r\n\t\t\taSortItems[iIndex].operation = oItemData.getProperty(\"operation\");\r\n\t\t},\r\n\t\tp13nRemoveSortItem: function(oItemData, aSortItems, iIndex) {\r\n\t\t\tfor (var i = iIndex; i < aSortItems.length; i++) {\r\n\t\t\t\taSortItems[i] = aSortItems[i + 1];\r\n\t\t\t}\r\n\t\t\taSortItems.pop();\r\n\t\t},\r\n\t\tp13nAddFilterItem: function(oItemData, aFilterItems) {\r\n\t\t\tvar oItem = {};\r\n\t\t\toItem.columnKey = oItemData.getProperty(\"columnKey\");\r\n\t\t\toItem.operation = oItemData.getProperty(\"operation\");\r\n\t\t\toItem.value1 = oItemData.getProperty(\"value1\");\r\n\t\t\toItem.value2 = oItemData.getProperty(\"value2\");\r\n\t\t\toItem.exclude = oItemData.getProperty(\"exclude\");\r\n\t\t\taFilterItems.push(oItem);\r\n\t\t},\r\n\t\tp13nUpdateFilterItem: function(oItemData, aFilterItems, iIndex) {\r\n\t\t\taFilterItems[iIndex].columnKey = oItemData.getProperty(\"columnKey\");\r\n\t\t\taFilterItems[iIndex].operation = oItemData.getProperty(\"operation\");\r\n\t\t\taFilterItems[iIndex].value1 = oItemData.getProperty(\"value1\");\r\n\t\t\taFilterItems[iIndex].value2 = oItemData.getProperty(\"value2\");\r\n\t\t\taFilterItems[iIndex].exclude = oItemData.getProperty(\"exclude\");\r\n\t\t},\r\n\t\tp13nRemoveFilterItem: function(oItemData, aFilterItems, iIndex) {\r\n\t\t\tfor (var i = iIndex; i < aFilterItems.length; i++) {\r\n\t\t\t\taFilterItems[i] = aFilterItems[i + 1];\r\n\t\t\t}\r\n\t\t\taFilterItems.pop();\r\n\t\t}\r\n\t};\r\n});",
		"colgate/asm/planning/base/util/OverlayUtils.js": "sap.ui.define([\r\n\t'sap/m/Dialog',\r\n\t'sap/m/MessageToast',\r\n\t'colgate/asm/planning/base/util/TimeoutUtils',\r\n\t'colgate/asm/planning/base/util/SpinnerUtils'\r\n], function(Dialog, MessageToast, TimeoutUtils, SpinnerUtils) {\r\n\t\"use strict\";\r\n\treturn {\r\n\t\tupdateOverlay: function(oContext, sCurrency, aChanged) {\r\n\t\t\tvar oPromise = null;\r\n\t\t\tSpinnerUtils.startDetailSpinner(oContext);\r\n\t\t\tvar oModel = oContext.getModel();\r\n\t\t\tvar that = this;\r\n\t\t\tvar oItem = {};\r\n\t\t\toItem.Currency = sCurrency;\r\n\t\t\tvar oRecords = [];\r\n\t\t\tfor (var i = 0; i < aChanged.length; i++) {\r\n\t\t\t\tvar oRecord = {};\r\n\t\t\t\toRecord.RecordPlanYear = aChanged[i].PlanningYear;\r\n\t\t\t\toRecord.Id = aChanged[i].Id;\r\n\t\t\t\toRecord.MaxValueC = aChanged[i].MaxValueC;\r\n\t\t\t\toRecords.push(oRecord);\r\n\t\t\t}\r\n\t\t\toItem.Records = JSON.stringify(oRecords);\r\n\t\t\toPromise = new Promise(function(resolve, reject) {\r\n\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\tvar sPath = \"/OverlaySet(Currency='\" + sCurrency + \"')\";\r\n\t\t\t\t\toModel.update(sPath, oItem, {\r\n\t\t\t\t\t\tsuccess: function(oData, oResponse) {\r\n\t\t\t\t\t\t\tTimeoutUtils.onResetTimer(that);\r\n\t\t\t\t\t\t\tresolve(oData);\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\terror: function(oError) {\r\n\t\t\t\t\t\t\toError.ErrorOrigin = \"UpdateProject\";\r\n\t\t\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.detail\", \"Errors\", oError);\r\n\t\t\t\t\t\t\treject(oError);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}, 200);\r\n\t\t\t});\r\n\t\t\treturn oPromise;\r\n\t\t},\r\n\t\tupdatePlan: function(oContext, aChangedRows) {\r\n\t\t\tvar aPromises = [];\r\n\t\t\tvar oData = oContext.getModel(\"Project\").getData();\r\n\t\t\tvar aAsInputArray = oData.AsInputArray;\r\n\t\t\tvar oModel = oContext.getModel();\r\n\t\t\tvar aKeys = Object.keys(aAsInputArray[0]);\r\n\t\t\tfor (var i = 0; i < aChangedRows.length; i++) {\r\n\t\t\t\tvar oChangedActivity = {};\r\n\t\t\t\tvar bUpdateFinance = aChangedRows[i]._UPDFIN;\r\n\t\t\t\tdelete aChangedRows[i]._UPDFIN;\r\n\t\t\t\tvar bUpdateItem = aChangedRows[i]._UPDITEM;\r\n\t\t\t\tdelete aChangedRows[i]._UPDITEM;\r\n\t\t\t\tfor (var j = 0; j < aKeys.length; j++) {\r\n\t\t\t\t\tif (aChangedRows[i][aKeys[j]]) {\r\n\t\t\t\t\t\toChangedActivity[aKeys[j]] = aChangedRows[i][aKeys[j]].toString();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\toChangedActivity.StartDt = aChangedRows[i].StartDt.substring(0, 4) + \"-\" + aChangedRows[i].StartDt.substring(5, 7) + \"-\" +\r\n\t\t\t\t\taChangedRows[i].StartDt.substring(\r\n\t\t\t\t\t\t8, 10) + \"T00:00:00\";\r\n\t\t\t\toChangedActivity.EndDt = aChangedRows[i].EndDt.substring(0, 4) + \"-\" + aChangedRows[i].EndDt.substring(5, 7) + \"-\" +\r\n\t\t\t\t\taChangedRows[\r\n\t\t\t\t\t\ti].EndDt.substring(8, 10) +\r\n\t\t\t\t\t\"T00:00:00\";\r\n\t\t\t\toChangedActivity.CreatedTime = oChangedActivity.CreatedTime.replace(\"Z\", \"\");\r\n\t\t\t\toChangedActivity.ChangedTime = oChangedActivity.ChangedTime.replace(\"Z\", \"\");\r\n\t\t\t\tvar oConfig = {};\r\n\t\t\t\tif (bUpdateFinance) {\r\n\t\t\t\t\toConfig.UPDFIN = \"X\";\r\n\t\t\t\t\tvar sCurrency = oContext.getOwnerComponent().getModel(\"P13n_Configuration\").getProperty(\"/CurrencySettings/Currency\");\r\n\t\t\t\t\tif (sCurrency && sCurrency !== \"\") {\r\n\t\t\t\t\t\toChangedActivity.Currency = sCurrency;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (bUpdateItem) {\r\n\t\t\t\t\toConfig.UPDITEM = \"X\";\r\n\t\t\t\t}\r\n\t\t\t\toChangedActivity.Config = JSON.stringify(oConfig);\r\n\t\t\t\toContext._clearUnused(oChangedActivity);\r\n\t\t\t\tvar iRecordIndex = aChangedRows[i].__index;\r\n\t\t\t\tvar sPath = aAsInputArray[iRecordIndex].__metadata.uri.substring(aAsInputArray[iRecordIndex].__metadata.uri.lastIndexOf(\"/\"));\r\n\t\t\t\tdelete oChangedActivity[\"__metadata\"];\r\n\t\t\t\tvar oUPPromise = this._updatePlan(oContext,oModel,sPath,oChangedActivity);\r\n\t\t\t\taPromises.push(oUPPromise);\r\n\t\t\t}\r\n\t\t\treturn Promise.all(aPromises);\r\n\t\t},\r\n\t\t_updatePlan: function(oContext, oModel, sPath, oChangedActivity) {\r\n\t\t\tvar oPromise = new Promise(function(resolve, reject) {\r\n\t\t\t\toModel.update(sPath, oChangedActivity, {\r\n\t\t\t\t\tsuccess: function(oData, oResponse) {\r\n\t\t\t\t\t\tTimeoutUtils.onResetTimer(oContext);\r\n\t\t\t\t\t\tresolve(oData);\r\n\t\t\t\t\t},\r\n\t\t\t\t\terror: function(oError) {\r\n\t\t\t\t\t\treject(oError);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tchangeSetId: oChangedActivity.Id\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t\treturn oPromise;\r\n\t\t}\r\n\t};\r\n});",
		"colgate/asm/planning/base/util/DropdownUtils.js": "sap.ui.define([\r\n\t'sap/m/Dialog',\r\n\t'sap/m/MessageToast',\r\n\t'colgate/asm/planning/base/util/TimeoutUtils',\r\n\t'colgate/asm/planning/base/util/SpinnerUtils'\r\n], function(Dialog, MessageToast, TimeoutUtils, SpinnerUtils) {\r\n\t\"use strict\";\r\n\treturn {\r\n\t\tgetDelayedSubcategories: function(oContext, sCategory, sSubcategory, sBrand, oModel, sSubcategories, oRecord, sCurrent) {\r\n\t\t\tvar oRec = {};\r\n\t\t\toRec.oContext = oContext;\r\n\t\t\toRec.sCategory = sCategory;\r\n\t\t\toRec.sSubcategory = sSubcategory;\r\n\t\t\toRec.sBrand = sBrand;\r\n\t\t\toRec.oModel = oModel;\r\n\t\t\toRec.sSubcategories = sSubcategories;\r\n\t\t\toRec.oRecord = oRecord;\r\n\t\t\toRec.sCurrent = sCurrent;\r\n\t\t\tthis._delaySubcategory.push(oRec);\r\n\t\t},\r\n\t\tgetSubcategories: function(oContext, sCategory, sSubcategory, sBrand, oModel, sSubcategories, oRecord, sCurrent) {\r\n\t\t\tvar oPromise = null;\r\n\t\t\tif (!sCategory) {\r\n\t\t\t\tsCategory = \"\";\r\n\t\t\t}\r\n\t\t\tif (!sSubcategory) {\r\n\t\t\t\tsSubcategory = \"\";\r\n\t\t\t}\r\n\t\t\tif (!sBrand) {\r\n\t\t\t\tsBrand = \"\";\r\n\t\t\t}\r\n\t\t\tthis._oContext = oContext;\r\n\t\t\tvar oBData = oModel.getProperty(sSubcategories);\r\n\t\t\tvar sCombinedKey = sCategory + \":\" + sSubcategory + \":\" + sBrand;\r\n\t\t\tif (oBData[sCombinedKey]) {\r\n\t\t\t\toPromise = new Promise(function(resolve, reject) {\r\n\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\tif (!oRecord) {\r\n\t\t\t\t\t\t\toModel.setProperty(sCurrent, oBData[sCombinedKey]);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\toRecord[sCurrent] = oBData[sCombinedKey];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\toModel.refresh(false);\r\n\t\t\t\t\t\tresolve(oBData[sCombinedKey]);\r\n\t\t\t\t\t}, 200);\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tSpinnerUtils.startDetailSpinner(oContext);\r\n\t\t\t\tvar that = this;\r\n\t\t\t\toPromise = new Promise(function(resolve, reject) {\r\n\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\tvar oBModel = oContext.getOwnerComponent().getModel(\"LPHValues\");\r\n\t\t\t\t\t\tvar sServiceUrl = oContext.getOwnerComponent().getModel(\"masterShared\").getProperty(\"/oServiceUrls/mainService\");\r\n\t\t\t\t\t\tif (!oBModel) {\r\n\t\t\t\t\t\t\t//oBModel = new sap.ui.model.odata.v2.ODataModel(sServiceUrl); //Changed by Khrystyne 10/30\r\n\t\t\t\t\t\t\toBModel = new sap.ui.model.odata.ODataModel(sServiceUrl);\r\n\t\t\t\t\t\t\toBModel.setSizeLimit(50000);\r\n\t\t\t\t\t\t\toBModel.setDefaultCountMode(sap.ui.model.odata.CountMode.None);\r\n\t\t\t\t\t\t\toContext.getOwnerComponent().setModel(oBModel, \"LPHValues\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvar filters = [];\r\n\t\t\t\t\t\tfilters.push(new sap.ui.model.Filter(\"Brand\", sap.ui.model.FilterOperator.EQ, sBrand));\r\n\t\t\t\t\t\tfilters.push(new sap.ui.model.Filter(\"Category\", sap.ui.model.FilterOperator.EQ, sCategory));\r\n\t\t\t\t\t\tfilters.push(new sap.ui.model.Filter(\"Key\", sap.ui.model.FilterOperator.EQ, sSubcategory));\r\n\t\t\t\t\t\tvar sPath = \"/VHSubcategories\";\r\n\t\t\t\t\t\tSpinnerUtils.startDetailSpinner(oContext);\r\n\t\t\t\t\t\toBModel.read(sPath, {\r\n\t\t\t\t\t\t\tasync: false,\r\n\t\t\t\t\t\t\tfilters: filters,\r\n\t\t\t\t\t\t\tsuccess: function(oData, oResponse) {\r\n\t\t\t\t\t\t\t\tTimeoutUtils.onResetTimer(oContext);\r\n\t\t\t\t\t\t\t\tthat._setSubcategories(oContext, oData, sCombinedKey, oBData, oModel, sSubcategories, oRecord, sCurrent);\r\n\t\t\t\t\t\t\t\tresolve(oData);\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\terror: function(oError) {\r\n\t\t\t\t\t\t\t\toError.ErrorOrigin = \"Subcategory\";\r\n\t\t\t\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.detail\", \"Errors\", oError);\r\n\t\t\t\t\t\t\t\treject(oError);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}, 200);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\treturn oPromise;\r\n\t\t},\r\n\t\t_setSubcategories: function(oContext, oDataIn, sCombinedKey, oBData, oModel, sCategories, oRecord, sCurrent) {\r\n\t\t\tvar oUserData = oContext.getOwnerComponent().getModel(\"UserData\");\r\n\t\t\tif (oUserData) {\r\n\t\t\t\tvar sSubcategory = oUserData.getProperty(\"/SubcategoryKey\");\r\n\t\t\t\tif (sSubcategory && sSubcategory !== \"\") {\r\n\t\t\t\t\t// Filter currentHubs\r\n\t\t\t\t\tvar aSubcategories = oDataIn.results;\r\n\t\t\t\t\tvar iCorrectKey = 0;\r\n\t\t\t\t\tfor (var i = 0; i < aSubcategories.length; i++) {\r\n\t\t\t\t\t\tif (aSubcategories[i].Key === sSubcategory) {\r\n\t\t\t\t\t\t\tiCorrectKey = i;\r\n\t\t\t\t\t\t\ti = aSubcategories.length;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\toDataIn.results = [];\r\n\t\t\t\t\toDataIn.results.push(aSubcategories[iCorrectKey]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (!oRecord) {\r\n\t\t\t\toModel.setProperty(sCurrent, oDataIn.results);\r\n\t\t\t} else {\r\n\t\t\t\toRecord[sCurrent] = oDataIn.results;\r\n\t\t\t}\r\n\t\t\toBData[sCombinedKey] = oDataIn.results;\r\n\t\t\toModel.refresh(false);\r\n\t\t\tSpinnerUtils.stopSpinner(oContext);\r\n\t\t},\r\n\t\tgetDelayedCategories: function(oContext, sCategory, sBrand, oModel, sCategories, oRecord, sCurrent) {\r\n\t\t\tvar oRec = {};\r\n\t\t\toRec.oContext = oContext;\r\n\t\t\toRec.sCategory = sCategory;\r\n\t\t\toRec.sBrand = sBrand;\r\n\t\t\toRec.oModel = oModel;\r\n\t\t\toRec.sCategories = sCategories;\r\n\t\t\toRec.oRecord = oRecord;\r\n\t\t\toRec.sCurrent = sCurrent;\r\n\t\t\tthis._delayCategory.push(oRec);\r\n\t\t},\r\n\t\tgetCategories: function(oContext, sCategory, sBrand, oModel, sCategories, oRecord, sCurrent) {\r\n\t\t\tvar oPromise = null;\r\n\t\t\tif (!sCategory) {\r\n\t\t\t\tsCategory = \"\";\r\n\t\t\t}\r\n\t\t\tif (!sBrand) {\r\n\t\t\t\tsBrand = \"\";\r\n\t\t\t}\r\n\t\t\tthis._oContext = oContext;\r\n\t\t\tvar oBData = oModel.getProperty(sCategories);\r\n\t\t\tvar sCombinedKey = \":\" + sBrand;\r\n\t\t\tif (oBData[sCombinedKey]) {\r\n\t\t\t\toPromise = new Promise(function(resolve, reject) {\r\n\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\tif (!oRecord) {\r\n\t\t\t\t\t\t\toModel.setProperty(sCurrent, oBData[sCombinedKey]);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\toRecord[sCurrent] = oBData[sCombinedKey];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\toModel.refresh(false);\r\n\t\t\t\t\t\tresolve(oBData[sCombinedKey]);\r\n\t\t\t\t\t}, 200);\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tSpinnerUtils.startDetailSpinner(oContext);\r\n\t\t\t\tvar that = this;\r\n\t\t\t\toPromise = new Promise(function(resolve, reject) {\r\n\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\tvar oBModel = oContext.getOwnerComponent().getModel(\"LPHValues\");\r\n\t\t\t\t\t\tvar sServiceUrl = oContext.getOwnerComponent().getModel(\"masterShared\").getProperty(\"/oServiceUrls/mainService\");\r\n\t\t\t\t\t\tif (!oBModel) {\r\n\t\t\t\t\t\t\t//oBModel = new sap.ui.model.odata.v2.ODataModel(sServiceUrl); //Changed by Khrystyne 10/30\r\n\t\t\t\t\t\t\toBModel = new sap.ui.model.odata.ODataModel(sServiceUrl);\r\n\t\t\t\t\t\t\toBModel.setSizeLimit(50000);\r\n\t\t\t\t\t\t\toBModel.setDefaultCountMode(sap.ui.model.odata.CountMode.None);\r\n\t\t\t\t\t\t\toContext.getOwnerComponent().setModel(oBModel, \"LPHValues\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvar filters = [];\r\n\t\t\t\t\t\tfilters.push(new sap.ui.model.Filter(\"Brand\", sap.ui.model.FilterOperator.EQ, sBrand));\r\n\t\t\t\t\t\tfilters.push(new sap.ui.model.Filter(\"Key\", sap.ui.model.FilterOperator.EQ, sCategory));\r\n\t\t\t\t\t\tvar sPath = \"/VHCategories\";\r\n\t\t\t\t\t\tSpinnerUtils.startDetailSpinner(oContext);\r\n\t\t\t\t\t\toBModel.read(sPath, {\r\n\t\t\t\t\t\t\tasync: false,\r\n\t\t\t\t\t\t\tfilters: filters,\r\n\t\t\t\t\t\t\tsuccess: function(oData, oResponse) {\r\n\t\t\t\t\t\t\t\tTimeoutUtils.onResetTimer(oContext);\r\n\t\t\t\t\t\t\t\tthat._setCategories(oContext, oData, sCombinedKey, oBData, oModel, sCategories, oRecord, sCurrent);\r\n\t\t\t\t\t\t\t\tresolve(oData);\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\terror: function(oError) {\r\n\t\t\t\t\t\t\t\toError.ErrorOrigin = \"Category\";\r\n\t\t\t\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.detail\", \"Errors\", oError);\r\n\t\t\t\t\t\t\t\treject(oError);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}, 200);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\treturn oPromise;\r\n\t\t},\r\n\t\t_setCategories: function(oContext, oDataIn, sCombinedKey, oBData, oModel, sCategories, oRecord, sCurrent) {\r\n\t\t\tvar oUserData = oContext.getOwnerComponent().getModel(\"UserData\");\r\n\t\t\tif (oUserData) {\r\n\t\t\t\tvar sCategory = oUserData.getProperty(\"/CategoryKey\");\r\n\t\t\t\tif (sCategory && sCategory !== \"\") {\r\n\t\t\t\t\t// Filter currentHubs\r\n\t\t\t\t\tvar aCategories = oDataIn.results;\r\n\t\t\t\t\tvar iCorrectKey = 0;\r\n\t\t\t\t\tfor (var i = 0; i < aCategories.length; i++) {\r\n\t\t\t\t\t\tif (aCategories[i].Key === sCategory) {\r\n\t\t\t\t\t\t\tiCorrectKey = i;\r\n\t\t\t\t\t\t\ti = aCategories.length;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\toDataIn.results = [];\r\n\t\t\t\t\toDataIn.results.push(aCategories[iCorrectKey]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (!oRecord) {\r\n\t\t\t\toModel.setProperty(sCurrent, oDataIn.results);\r\n\t\t\t} else {\r\n\t\t\t\toRecord[sCurrent] = oDataIn.results;\r\n\t\t\t}\r\n\t\t\toBData[sCombinedKey] = oDataIn.results;\r\n\t\t\toModel.refresh(false);\r\n\t\t\tSpinnerUtils.stopSpinner(oContext);\r\n\t\t},\r\n\t\tgetDelayedBrands: function(oContext, oBrand, sCategory, sSubcategory, sBrand, oModel, sBrands, oRecord, sCurrent) {\r\n\t\t\tvar oRec = {};\r\n\t\t\toRec.oContext = oContext;\r\n\t\t\toRec.oBrand = oBrand;\r\n\t\t\toRec.sCategory = sCategory;\r\n\t\t\toRec.sSubcategory = sSubcategory;\r\n\t\t\toRec.sBrand = sBrand;\r\n\t\t\toRec.oModel = oModel;\r\n\t\t\toRec.sBrands = sBrands;\r\n\t\t\toRec.oRecord = oRecord;\r\n\t\t\toRec.sCurrent = sCurrent;\r\n\t\t\tthis._delayBrand.push(oRec);\r\n\t\t},\r\n\t\tgetBrands: function(oContext, oBrand, sCategory, sSubcategory, sBrand, oModel, sBrands, oRecord, sCurrent) {\r\n\t\t\tvar oPromise = null;\r\n\t\t\tif (!sCategory) {\r\n\t\t\t\tsCategory = \"\";\r\n\t\t\t}\r\n\t\t\tif (!sSubcategory) {\r\n\t\t\t\tsSubcategory = \"\";\r\n\t\t\t}\r\n\t\t\tif (!sBrand) {\r\n\t\t\t\tsBrand = \"\";\r\n\t\t\t}\r\n\t\t\tthis._oContext = oContext;\r\n\t\t\tthis._oModel = oModel;\r\n\t\t\tvar oBData = oModel.getProperty(sBrands);\r\n\t\t\tvar sCombinedKey = sCategory + \":\" + sSubcategory;\r\n\t\t\tvar that = this;\r\n\t\t\tif (oBData[sCombinedKey]) {\r\n\t\t\t\toPromise = new Promise(function(resolve, reject) {\r\n\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\tif (!oRecord) {\r\n\t\t\t\t\t\t\toModel.setProperty(sCurrent, oBData[sCombinedKey]);\r\n\t\t\t\t\t\t\toModel.refresh(false);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\toRecord[sCurrent] = oBData[sCombinedKey];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthat._checkBrand(oBrand, oModel, oRecord, sCurrent);\r\n\t\t\t\t\t\tresolve(oBData[sCombinedKey]);\r\n\t\t\t\t\t}, 200);\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\toPromise = new Promise(function(resolve, reject) {\r\n\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\tSpinnerUtils.startDetailSpinner(oContext);\r\n\t\t\t\t\t\tvar oBModel = oContext.getOwnerComponent().getModel(\"Brand\");\r\n\t\t\t\t\t\tvar sServiceUrl = oContext.getOwnerComponent().getModel(\"masterShared\").getProperty(\"/oServiceUrls/mainService\");\r\n\t\t\t\t\t\tif (!oBModel) {\r\n\t\t\t\t\t\t\t//oBModel = new sap.ui.model.odata.v2.ODataModel(sServiceUrl); //Changed by 10/30\r\n\t\t\t\t\t\t\toBModel = new sap.ui.model.odata.ODataModel(sServiceUrl);\r\n\t\t\t\t\t\t\toBModel.setSizeLimit(50000);\r\n\t\t\t\t\t\t\toBModel.setDefaultCountMode(sap.ui.model.odata.CountMode.None);\r\n\t\t\t\t\t\t\toContext.getOwnerComponent().setModel(oBModel, \"Brand\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvar filters = [];\r\n\t\t\t\t\t\tfilters.push(new sap.ui.model.Filter(\"PSubCategory\", sap.ui.model.FilterOperator.EQ, sSubcategory));\r\n\t\t\t\t\t\tfilters.push(new sap.ui.model.Filter(\"Category\", sap.ui.model.FilterOperator.EQ, sCategory));\r\n\t\t\t\t\t\tfilters.push(new sap.ui.model.Filter(\"Key\", sap.ui.model.FilterOperator.EQ, sBrand));\r\n\t\t\t\t\t\tvar sPath = \"/VHBrands\";\r\n\t\t\t\t\t\tSpinnerUtils.startDetailSpinner(oContext); // Start Spinner\r\n\t\t\t\t\t\toBModel.read(sPath, {\r\n\t\t\t\t\t\t\tasync: false,\r\n\t\t\t\t\t\t\tfilters: filters,\r\n\t\t\t\t\t\t\tsuccess: function(oData, oResponse) {\r\n\t\t\t\t\t\t\t\tTimeoutUtils.onResetTimer(oContext);\r\n\t\t\t\t\t\t\t\tthat._setBrands(oContext, oBrand, oData, sCombinedKey, oBData, oModel, sBrands, oRecord, sCurrent);\r\n\t\t\t\t\t\t\t\tresolve(oData);\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\terror: function(oError) {\r\n\t\t\t\t\t\t\t\toError.ErrorOrigin = \"Brand\";\r\n\t\t\t\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.detail\", \"Errors\", oError);\r\n\t\t\t\t\t\t\t\treject(oError);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}, 200);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\treturn oPromise;\r\n\t\t},\r\n\t\t_setBrands: function(oContext, oBrand, oDataIn, sCombinedKey, oBData, oModel, sBrands, oRecord, sCurrent) {\r\n\t\t\tvar oUserData = oContext.getOwnerComponent().getModel(\"UserData\");\r\n\t\t\tif (oUserData) {\r\n\t\t\t\tvar sBrand = oUserData.getProperty(\"/BrandKey\");\r\n\t\t\t\tif (sBrand && sBrand !== \"\") {\r\n\t\t\t\t\t// Filter currentHubs\r\n\t\t\t\t\tvar aBrands = oDataIn.results;\r\n\t\t\t\t\tvar iCorrectKey = 0;\r\n\t\t\t\t\tfor (var i = 0; i < aBrands.length; i++) {\r\n\t\t\t\t\t\tif (aBrands[i].Key === sBrand) {\r\n\t\t\t\t\t\t\tiCorrectKey = i;\r\n\t\t\t\t\t\t\ti = aBrands.length;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\toDataIn.results = [];\r\n\t\t\t\t\toDataIn.results.push(aBrands[iCorrectKey]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\toBData[sCombinedKey] = oDataIn.results;\r\n\t\t\tif (!oRecord) {\r\n\t\t\t\toModel.setProperty(sCurrent, oDataIn.results);\r\n\t\t\t} else {\r\n\t\t\t\toRecord[sCurrent] = oDataIn.results;\r\n\t\t\t}\r\n\t\t\tif (this._oModel.getData().Table) {\r\n\t\t\t\tthis._checkBrand(oBrand, oModel, oRecord, sCurrent);\r\n\t\t\t}\r\n\t\t\toModel.refresh(false);\r\n\t\t\tSpinnerUtils.stopSpinner(oContext);\r\n\t\t},\r\n\t\t_checkBrand: function(oBrand, oModel, oRecord, sCurrent) {\r\n\t\t\t// This will clear a bad brand choice\r\n\t\t\tvar sBrand = \"\";\r\n\t\t\tif (oBrand) {\r\n\t\t\t\tsBrand = oBrand.getSelectedKey();\r\n\t\t\t} else {\r\n\t\t\t\tif (oRecord) {\r\n\t\t\t\t\tsBrand = oRecord.BrandKey;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (sBrand && sBrand !== \"\") {\r\n\t\t\t\tvar aBrands = [];\r\n\t\t\t\tif (!oRecord) {\r\n\t\t\t\t\tif (oModel.getProperty(sCurrent)) {\r\n\t\t\t\t\t\taBrands = oModel.getProperty(sCurrent);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (oRecord[sCurrent]) {\r\n\t\t\t\t\t\taBrands = oRecord[sCurrent];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tvar bFound = false;\r\n\t\t\t\tfor (var i = 0; i < aBrands.length; i++) {\r\n\t\t\t\t\tif (aBrands[i].Key === sBrand) {\r\n\t\t\t\t\t\t// This should be okay - brand does not need to be cleared\r\n\t\t\t\t\t\ti = aBrands.length;\r\n\t\t\t\t\t\tbFound = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (!bFound) {\r\n\t\t\t\t\tif (oBrand) {\r\n\t\t\t\t\t\toBrand.setSelectedKey(\"\");\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\toRecord.BrandKey = \"\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis._clearParentPHField(this._oModel.getData().Table, \"BrandKey\", oRecord);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t_clearParentPHField: function(oData, sClearField, oRecord) {\r\n\t\t\tif (oData.rows) {\r\n\t\t\t\t// The PH Rows need to be initialized in reverse order\r\n\t\t\t\tfor (var i = 0; i < oData.rows.length; i++) {\r\n\t\t\t\t\tif (oData.rows[i].rows) {\r\n\t\t\t\t\t\tfor (var j = 0; j < oData.rows[i].rows.length; j++) {\r\n\t\t\t\t\t\t\tif (oData.rows[i].rows[j] === oRecord) {\r\n\t\t\t\t\t\t\t\t// Remove the value from the parent\r\n\t\t\t\t\t\t\t\toData.rows[i][sClearField] = \"\";\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (oData.rows[i].rows[j].rows) {\r\n\t\t\t\t\t\t\t\tfor (var k = 0; k < oData.rows[i].rows[j].rows.length; k++) {\r\n\t\t\t\t\t\t\t\t\tif (oData.rows[i].rows[j].rows[k] === oRecord) {\r\n\t\t\t\t\t\t\t\t\t\t// Remove the value from the parents\r\n\t\t\t\t\t\t\t\t\t\toData.rows[i][sClearField] = \"\";\r\n\t\t\t\t\t\t\t\t\t\toData.rows[i].rows[j][sClearField] = \"\";\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t_resetEnabled: function(oData, sEnabled, sField) {\r\n\t\t\tif (oData.rows) {\r\n\t\t\t\t// The PH Rows need to be initialized in reverse order\r\n\t\t\t\tfor (var i = 0; i < oData.rows.length; i++) {\r\n\t\t\t\t\tif (oData.rows[i].rows) {\r\n\t\t\t\t\t\toData.rows[i].Enabled[sEnabled] = oData.rows[i].isRowEditable;\r\n\t\t\t\t\t\tfor (var j = 0; j < oData.rows[i].rows.length; j++) {\r\n\t\t\t\t\t\t\tif (oData.rows[i].rows[j][sField] !== \"\" && oData.rows[i].rows[j][sField] === oData.rows[i][sField]) {\r\n\t\t\t\t\t\t\t\toData.rows[i].rows[j].Enabled[sEnabled] = false;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\toData.rows[i].rows[j].Enabled[sEnabled] = oData.rows[i].rows[j].isRowEditable;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (oData.rows[i].rows[j].rows) {\r\n\t\t\t\t\t\t\t\tfor (var k = 0; k < oData.rows[i].rows[j].rows.length; k++) {\r\n\t\t\t\t\t\t\t\t\tif (oData.rows[i].rows[j].rows[k][sField] !== \"\" && oData.rows[i].rows[j].rows[k][sField] === oData.rows[i].rows[j][sField]) {\r\n\t\t\t\t\t\t\t\t\t\toData.rows[i].rows[j].rows[k].Enabled[sEnabled] = false;\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\toData.rows[i].rows[j].rows[k].Enabled[sEnabled] = oData.rows[i].rows[j].rows[k].isRowEditable;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tgetDelayedSubbrands: function(oContext, oSubbrand, sCategory, sSubcategory, sBrand, sSubbrand, oModel, sSubbrands, oRecord, sCurrent) {\r\n\t\t\tvar oRec = {};\r\n\t\t\toRec.oContext = oContext;\r\n\t\t\toRec.oSubbrand = oSubbrand;\r\n\t\t\toRec.sCategory = sCategory;\r\n\t\t\toRec.sSubcategory = sSubcategory;\r\n\t\t\toRec.sBrand = sBrand;\r\n\t\t\toRec.oModel = oModel;\r\n\t\t\toRec.sSubbrands = sSubbrands;\r\n\t\t\toRec.oRecord = oRecord;\r\n\t\t\toRec.sCurrent = sCurrent;\r\n\t\t\tthis._delaySubbrand.push(oRec);\r\n\t\t},\r\n\t\tgetSubbrands: function(oContext, oSubbrand, sCategory, sSubcategory, sBrand, sSubbrand, oModel, sSubbrands, oRecord, sCurrent) {\r\n\t\t\tvar oPromise = null;\r\n\t\t\tif (!sCategory) {\r\n\t\t\t\tsCategory = \"\";\r\n\t\t\t}\r\n\t\t\tif (!sSubcategory) {\r\n\t\t\t\tsSubcategory = \"\";\r\n\t\t\t}\r\n\t\t\tif (!sBrand) {\r\n\t\t\t\tsBrand = \"\";\r\n\t\t\t}\r\n\t\t\tif (!sSubbrand) {\r\n\t\t\t\tsSubbrand = \"\";\r\n\t\t\t}\r\n\t\t\tthis._oContext = oContext;\r\n\t\t\tthis._oModel = oModel;\r\n\t\t\tvar oBData = oModel.getProperty(sSubbrands);\r\n\t\t\tvar sCombinedKey = sCategory + \":\" + sSubcategory + \":\" + sBrand;\r\n\t\t\tvar that = this;\r\n\t\t\tif (oBData[sCombinedKey]) {\r\n\t\t\t\toPromise = new Promise(function(resolve, reject) {\r\n\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\tif (!oRecord) {\r\n\t\t\t\t\t\t\toModel.setProperty(sCurrent, oBData[sCombinedKey]);\r\n\t\t\t\t\t\t\toModel.refresh(false);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\toRecord[sCurrent] = oBData[sCombinedKey];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t//that._checkBrand(oBrand, oModel, oRecord, sCurrent);\r\n\t\t\t\t\t\tresolve(oBData[sCombinedKey]);\r\n\t\t\t\t\t}, 200);\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\toPromise = new Promise(function(resolve, reject) {\r\n\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\tSpinnerUtils.startDetailSpinner(oContext);\r\n\t\t\t\t\t\tvar oBModel = oContext.getOwnerComponent().getModel(\"Brand\");\r\n\t\t\t\t\t\tvar sServiceUrl = oContext.getOwnerComponent().getModel(\"masterShared\").getProperty(\"/oServiceUrls/mainService\");\r\n\t\t\t\t\t\tif (!oBModel) {\r\n\t\t\t\t\t\t\t//oBModel = new sap.ui.model.odata.v2.ODataModel(sServiceUrl); //Changed by 10/30\r\n\t\t\t\t\t\t\toBModel = new sap.ui.model.odata.ODataModel(sServiceUrl);\r\n\t\t\t\t\t\t\toBModel.setSizeLimit(50000);\r\n\t\t\t\t\t\t\toBModel.setDefaultCountMode(sap.ui.model.odata.CountMode.None);\r\n\t\t\t\t\t\t\toContext.getOwnerComponent().setModel(oBModel, \"Brand\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvar filters = [];\r\n\t\t\t\t\t\tfilters.push(new sap.ui.model.Filter(\"PSubCategory\", sap.ui.model.FilterOperator.EQ, sSubcategory));\r\n\t\t\t\t\t\tfilters.push(new sap.ui.model.Filter(\"Category\", sap.ui.model.FilterOperator.EQ, sCategory));\r\n\t\t\t\t\t\tfilters.push(new sap.ui.model.Filter({\r\n\t\t\t\t\t\t\tpath: \"Brand\",\r\n\t\t\t\t\t\t\toperator: sap.ui.model.FilterOperator.EQ,\r\n\t\t\t\t\t\t\tvalue1: sBrand\r\n\t\t\t\t\t\t}));\r\n\t\t\t\t\t\tfilters.push(new sap.ui.model.Filter(\"Key\", sap.ui.model.FilterOperator.EQ, sSubbrand));\r\n\t\t\t\t\t\tvar sPath = \"/VHSubbrands\";\r\n\t\t\t\t\t\tSpinnerUtils.startDetailSpinner(oContext); // Start Spinner\r\n\t\t\t\t\t\toBModel.read(sPath, {\r\n\t\t\t\t\t\t\tasync: false,\r\n\t\t\t\t\t\t\tfilters: filters,\r\n\t\t\t\t\t\t\tsuccess: function(oData, oResponse) {\r\n\t\t\t\t\t\t\t\tTimeoutUtils.onResetTimer(oContext);\r\n\t\t\t\t\t\t\t\tthat._setSubbrands(oContext, oSubbrand, oData, sCombinedKey, oBData, oModel, sSubbrands, oRecord, sCurrent);\r\n\t\t\t\t\t\t\t\tresolve(oData);\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\terror: function(oError) {\r\n\t\t\t\t\t\t\t\toError.ErrorOrigin = \"Subbrand\";\r\n\t\t\t\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.detail\", \"Errors\", oError);\r\n\t\t\t\t\t\t\t\treject(oError);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}, 200);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\treturn oPromise;\r\n\t\t},\r\n\t\t_setSubbrands: function(oContext, oBrand, oDataIn, sCombinedKey, oBData, oModel, sBrands, oRecord, sCurrent) {\r\n\t\t\toBData[sCombinedKey] = oDataIn.results;\r\n\t\t\tif (!oRecord) {\r\n\t\t\t\toModel.setProperty(sCurrent, oDataIn.results);\r\n\t\t\t} else {\r\n\t\t\t\toRecord[sCurrent] = oDataIn.results;\r\n\t\t\t}\r\n\t\t\t// if (this._oModel.getData().Table) {\r\n\t\t\t// \tthis._checkBrand(oBrand, oModel, oRecord, sCurrent);\r\n\t\t\t// }\r\n\t\t\toModel.refresh(false);\r\n\t\t\tSpinnerUtils.stopSpinner(oContext);\r\n\t\t},\r\n\t\tresetDelay: function() {\r\n\t\t\tsap.ui.getCore().getEventBus().subscribe(\"colgate.asm.planning.dropdownutils\", \"ResolveComplete\", this._checkAllFinished, this);\r\n\t\t\tthis._delayCategory = [];\r\n\t\t\tthis._delaySubcategory = [];\r\n\t\t\tthis._delayBrand = [];\r\n\t\t\tthis._delaySubbrand = [];\r\n\t\t\tthis._waitingCategory = true;\r\n\t\t\tthis._waitingSubcategory = true;\r\n\t\t\tthis._waitingBrand = true;\r\n\t\t\tthis._waitingSubbrand = true;\r\n\t\t},\r\n\t\texecuteDelayed: function() {\r\n\t\t\tif (this._delayCategory.length === 0) {\r\n\t\t\t\tthis._waitingCategory = false;\r\n\t\t\t} else {\r\n\t\t\t\tthis._resolveCategory(0);\r\n\t\t\t}\r\n\t\t\tif (this._delaySubcategory.length === 0) {\r\n\t\t\t\tthis._waitingSubcategory = false;\r\n\t\t\t} else {\r\n\t\t\t\tthis._resolveSubcategory(0);\r\n\t\t\t}\r\n\t\t\tif (this._delayBrand.length === 0) {\r\n\t\t\t\tthis._waitingBrand = false;\r\n\t\t\t} else {\r\n\t\t\t\tthis._resolveBrand(0);\r\n\t\t\t}\r\n\t\t\tif (this._delaySubbrand.length === 0) {\r\n\t\t\t\tthis._waitingSubbrand = false;\r\n\t\t\t} else {\r\n\t\t\t\tthis._resolveSubbrand(0);\r\n\t\t\t}\r\n\t\t\tvar oRData = {};\r\n\t\t\toRData.sComplete = \"None\";\r\n\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.dropdownutils\", \"ResolveComplete\", oRData);\r\n\t\t},\r\n\t\t_checkAllFinished: function(sChannelId, sEventId, oData) {\r\n\t\t\tswitch (oData.sComplete) {\r\n\t\t\t\tcase \"Category\":\r\n\t\t\t\t\tthis._waitingCategory = false;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"Subcategory\":\r\n\t\t\t\t\tthis._waitingSubcategory = false;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"Brand\":\r\n\t\t\t\t\tthis._waitingBrand = false;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"Subbrand\":\r\n\t\t\t\t\tthis._waitingSubbrand = false;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tif (!this._waitingCategory && !this._waitingSubcategory && !this._waitingBrand && !this._waitingSubbrand) {\r\n\t\t\t\tsap.ui.getCore().getEventBus().unsubscribe(\"colgate.asm.planning.dropdownutils\", \"ResolveComplete\", this._checkAllFinished, this);\r\n\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.dropdownutils\", \"PHFetchComplete\", {});\r\n\t\t\t}\r\n\t\t},\r\n\t\t_resolveCategory: function(i) {\r\n\t\t\tvar that = this;\r\n\t\t\tif (i < that._delayCategory.length) {\r\n\t\t\t\tvar oRecord = that._delayCategory[i];\r\n\t\t\t\t(that.getCategories(oRecord.oContext, oRecord.sCategory, oRecord.sBrand, oRecord.oModel, oRecord.sCategories, oRecord.oRecord,\r\n\t\t\t\t\toRecord.sCurrent).then(function(oData) {\r\n\t\t\t\t\tif (i + 1 === that._delayCategory.length) {\r\n\t\t\t\t\t\tvar oRData = {};\r\n\t\t\t\t\t\toRData.sComplete = \"Category\";\r\n\t\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.dropdownutils\", \"ResolveComplete\", oRData);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthat._resolveCategory(i + 1);\r\n\t\t\t\t\t}\r\n\t\t\t\t}));\r\n\t\t\t}\r\n\t\t},\r\n\t\t_resolveSubcategory: function(i) {\r\n\t\t\tvar that = this;\r\n\t\t\tif (i < that._delaySubcategory.length) {\r\n\t\t\t\tvar oRecord = that._delaySubcategory[i];\r\n\t\t\t\t(that.getSubcategories(oRecord.oContext, oRecord.sCategory, oRecord.sSubcategory, oRecord.sBrand, oRecord.oModel, oRecord.sSubcategories,\r\n\t\t\t\t\toRecord.oRecord,\r\n\t\t\t\t\toRecord.sCurrent).then(function(oData) {\r\n\t\t\t\t\tif (i + 1 === that._delaySubcategory.length) {\r\n\t\t\t\t\t\tvar oRData = {};\r\n\t\t\t\t\t\toRData.sComplete = \"Subcategory\";\r\n\t\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.dropdownutils\", \"ResolveComplete\", oRData);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthat._resolveSubcategory(i + 1);\r\n\t\t\t\t\t}\r\n\t\t\t\t}));\r\n\t\t\t}\r\n\t\t},\r\n\t\t_resolveBrand: function(i) {\r\n\t\t\tvar that = this;\r\n\t\t\tif (i < that._delayBrand.length) {\r\n\t\t\t\tvar oRecord = that._delayBrand[i];\r\n\t\t\t\t(that.getBrands(oRecord.oContext, oRecord.oBrand, oRecord.sCategory, oRecord.sSubcategory, oRecord.sBrand, oRecord.oModel,\r\n\t\t\t\t\toRecord.sBrands,\r\n\t\t\t\t\toRecord.oRecord,\r\n\t\t\t\t\toRecord.sCurrent).then(function(oData) {\r\n\t\t\t\t\tif (i + 1 === that._delayBrand.length) {\r\n\t\t\t\t\t\tvar oRData = {};\r\n\t\t\t\t\t\toRData.sComplete = \"Brand\";\r\n\t\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.dropdownutils\", \"ResolveComplete\", oRData);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthat._resolveBrand(i + 1);\r\n\t\t\t\t\t}\r\n\t\t\t\t}));\r\n\t\t\t}\r\n\t\t},\r\n\t\t_resolveSubbrand: function(i) {\r\n\t\t\tvar that = this;\r\n\t\t\tif (i < that._delaySubbrand.length) {\r\n\t\t\t\tvar oRecord = that._delaySubbrand[i];\r\n\t\t\t\t(that.getSubbrands(oRecord.oContext, oRecord.oSubbrand, oRecord.sCategory, oRecord.sSubcategory, oRecord.sBrand, oRecord.sSubbrand,\r\n\t\t\t\t\toRecord.oModel,\r\n\t\t\t\t\toRecord.sSubbrands,\r\n\t\t\t\t\toRecord.oRecord,\r\n\t\t\t\t\toRecord.sCurrent).then(function(oData) {\r\n\t\t\t\t\tif (i + 1 === that._delaySubbrand.length) {\r\n\t\t\t\t\t\tvar oRData = {};\r\n\t\t\t\t\t\toRData.sComplete = \"Subbrand\";\r\n\t\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.dropdownutils\", \"ResolveComplete\", oRData);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthat._resolveSubbrand(i + 1);\r\n\t\t\t\t\t}\r\n\t\t\t\t}));\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n});",
		"colgate/asm/planning/base/util/CopyUtils.js": "sap.ui.define([\r\n\t\"colgate/asm/planning/base/util/DateUtils\",\r\n\t\"sap/m/MessageToast\",\r\n\t'colgate/asm/planning/base/util/TimeoutUtils'\r\n], function(DateUtils, MessageToast, TimeoutUtils) {\r\n\t\"use strict\";\r\n\r\n\treturn {\r\n\t\tcopyItems: function(oContext, bInclude, bIncludeBudget, bIncludeCSB, sPrefix, oTableSelector, oRawItems) {\r\n\t\t\tvar oItems = JSON.parse(JSON.stringify(oTableSelector));\r\n\t\t\tvar oCopyUtilModel = {};\r\n\t\t\tthis._callingContext = oContext;\r\n\t\t\toCopyUtilModel.bInclude = bInclude;\r\n\t\t\toCopyUtilModel.bIncludeBudget = bIncludeBudget;\r\n\t\t\toCopyUtilModel.sPrefix = sPrefix;\r\n\t\t\toCopyUtilModel.oItems = oItems;\r\n\t\t\toCopyUtilModel.oRawItems = oRawItems;\r\n\t\t\toCopyUtilModel.sExternalId = \"\";\r\n\t\t\toCopyUtilModel.oItemRaw = oItems;\r\n\t\t\toCopyUtilModel.oCurrentItem = oItems;\r\n\t\t\toCopyUtilModel.oCurrentIndex = {\r\n\t\t\t\tProject: 0,\r\n\t\t\t\tActivity: 0,\r\n\t\t\t\tSubactivity: -1,\r\n\t\t\t\toTotalItems: 0\r\n\t\t\t};\r\n\t\t\toCopyUtilModel.sMode = \"PT\";\r\n\t\t\toCopyUtilModel.oProject = {};\r\n\t\t\toCopyUtilModel.oActivity = {};\r\n\t\t\toCopyUtilModel.oSubactivity = {};\r\n\t\t\tvar oModel = new sap.ui.model.json.JSONModel(oCopyUtilModel);\r\n\t\t\toModel.setSizeLimit(50000);\r\n\t\t\toContext.getOwnerComponent().setModel(oModel, \"CopyUtilStorage\");\r\n\t\t\tvar sServiceUrl = oContext.getOwnerComponent().getModel(\"masterShared\").getProperty(\"/oServiceUrls/mainService\");\r\n\t\t\tvar oBaseModel = new sap.ui.model.odata.v2.ODataModel(sServiceUrl);\r\n\t\t\toBaseModel.setSizeLimit(50000);\r\n\t\t\tthis._oDataModel = oBaseModel;\r\n\t\t\tif (oItems.ItemType === \"PT\") {\r\n\t\t\t\t//Project\r\n\t\t\t\tthis._createItem(oItems);\r\n\t\t\t} else if (oItems.ItemType === 'AT') {\r\n\t\t\t\tvar oCopyUtilModelData = oContext.getOwnerComponent().getModel(\"CopyUtilStorage\").getData();\r\n\t\t\t\toCopyUtilModelData.oProject = oCopyUtilModelData.oRawItems[oItems.__parentIndex];\r\n\t\t\t\toCopyUtilModelData.sMode = 'AT';\r\n\t\t\t\tthis._createItem(oItems);\r\n\t\t\t} else if (oItems.ItemType === 'SA') {\r\n\t\t\t\tvar oCopyUtilModelData = oContext.getOwnerComponent().getModel(\"CopyUtilStorage\").getData();\r\n\t\t\t\toCopyUtilModelData.bInclude = false;\r\n\t\t\t\t//INBHD02\r\n\t\t\t\tif (bIncludeCSB) {\r\n\t\t\t\t\tthis._getExistingCSBSubbrand(oContext, oCopyUtilModel.oItems); //With Cross Sub-Brand\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis._createItem(oItems); //Without Cross Sub-Brand\r\n\t\t\t\t}\r\n\t\t\t\t//INBHD02\r\n\t\t\t}\r\n\t\t},\r\n\t\t_createItem: function(oData) {\r\n\t\t\tvar oCopyUtilData = this._callingContext.getOwnerComponent().getModel(\"CopyUtilStorage\").getData();\r\n\t\t\tvar oDataR = JSON.parse(JSON.stringify(oCopyUtilData.oRawItems[oData.__index]));\r\n\t\t\tvar aKeys = Object.keys(oDataR);\r\n\t\t\tvar oItem = {};\r\n\t\t\tfor (var i = 0; i < aKeys.length; i++) {\r\n\t\t\t\toItem[aKeys[i]] = oDataR[aKeys[i]];\r\n\t\t\t}\r\n\t\t\tdelete oItem.__metadata;\r\n\t\t\toItem.Guid = \"\";\r\n\t\t\toItem.Name = oCopyUtilData.sPrefix + oItem.Name;\r\n\t\t\toItem.Name = oItem.Name.substring(0, 40);\r\n\t\t\toItem.Id = oCopyUtilData.sExternalId;\r\n\t\t\toItem.StartDt = DateUtils.getISODateNoZ_fromISODate(oDataR.StartDt);\r\n\t\t\toItem.EndDt = DateUtils.getISODateNoZ_fromISODate(oDataR.EndDt);\r\n\t\t\toItem.CreatedTime = DateUtils.getSystemAdjISODate_fromCurrentDate();\r\n\t\t\toItem.ChangedTime = DateUtils.getSystemAdjISODate_fromCurrentDate();\r\n\t\t\toItem.CreatedBy = \"\";\r\n\t\t\toItem.ChangedBy = \"\";\r\n\t\t\toItem.Config = \"\";\r\n\t\t\toItem.CHasChildren = \"\";\r\n\t\t\t// Remove fields that were added in extra.\r\n\t\t\tif (oItem.ItemType === \"PT\") {\r\n\t\t\t\toItem.ProjectGuid = \"\";\r\n\t\t\t\tdelete oItem.SubactivityType;\r\n\t\t\t\tdelete oItem.ProjectType;\r\n\t\t\t} else if (oItem.ItemType === \"SA\") {\r\n\t\t\t\tdelete oItem.SubactivityType;\r\n\t\t\t\tdelete oItem.ProjectType;\r\n\t\t\t\tif (oCopyUtilData.oActivity.ProjectGuid) {\r\n\t\t\t\t\toItem.ProjectGuid = oCopyUtilData.oActivity.ProjectGuid;\r\n\t\t\t\t\toItem.ActivityGuid = oCopyUtilData.oActivity.ActivityGuid;\r\n\t\t\t\t} else {\r\n\t\t\t\t\toItem.ProjectGuid = oCopyUtilData.oRawItems[oData.__parentIndex].ProjectGuid;\r\n\t\t\t\t\toItem.ActivityGuid = oCopyUtilData.oRawItems[oData.__parentIndex].ActivityGuid;\r\n\t\t\t\t}\r\n\t\t\t\toItem.CategoryBucket = oCopyUtilData.oRawItems[oData.__parentIndex].CategoryBucket;\r\n\t\t\t\toItem.CsbConfig = oData.CsbConfig; //INBHD02\r\n\t\t\t} else if (oItem.ItemType === \"AT\") {\r\n\t\t\t\tdelete oItem.SubactivityType;\r\n\t\t\t\tdelete oItem.ProjectType;\r\n\t\t\t\tif (oCopyUtilData.oProject.ProjectGuid) {\r\n\t\t\t\t\toItem.ProjectGuid = oCopyUtilData.oProject.ProjectGuid;\r\n\t\t\t\t} else {\r\n\t\t\t\t\toItem.ProjectGuid = oCopyUtilData.oRawItems[oData.__parentIndex].ProjectGuid;\r\n\t\t\t\t}\r\n\t\t\t\toItem.ActivityGuid = \"\";\r\n\t\t\t\toItem.CategoryBucket = oCopyUtilData.oRawItems[oData.__parentIndex].CategoryBucket;\r\n\t\t\t}\r\n\t\t\toItem.Status = \"\";\r\n\t\t\tdelete oItem.Type;\r\n\t\t\tdelete oItem.TypeDescription;\r\n\t\t\tdelete oItem.Parent;\r\n\r\n\t\t\tvar oModel = this._oDataModel;\r\n\t\t\tthis._callingContext.getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", true);\r\n\t\t\tvar that = this._callingContext;\r\n\t\t\tvar oThis = this;\r\n\t\t\toModel.create(\"/Items\", oItem, {\r\n\t\t\t\tsuccess: function(oData, oResponse) {\r\n\t\t\t\t\tTimeoutUtils.onResetTimer(oThis);\r\n\t\t\t\t\t// Add a Success toast and navigate back to the Project view and refresh the data.\r\n\t\t\t\t\tvar oCopyUtilData = that.getOwnerComponent().getModel(\"CopyUtilStorage\").getData();\r\n\t\t\t\t\tif (!oData.Name || oData.Name === \"\") {\r\n\t\t\t\t\t\toData.ErrorOrigin = \"CreateProject\";\r\n\t\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.detail\", \"Errors\", oData);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\toCopyUtilData.oCurrentIndex.oTotalItems++;\r\n\t\t\t\t\t\tvar sMessage = that.getOwnerComponent().getModel(\"i18n\").getResourceBundle().getText(\"AC_S_created\", [oData.Name]);\r\n\t\t\t\t\t\tif (oData.ItemType === \"PT\") {\r\n\t\t\t\t\t\t\tsMessage = that.getOwnerComponent().getModel(\"i18n\").getResourceBundle().getText(\"AC_S_pCreated\", [oData.Name]);\r\n\t\t\t\t\t\t\toCopyUtilData.oProject = oData;\r\n\t\t\t\t\t\t\toCopyUtilData.oCurrentIndex.oActivity = 0;\r\n\t\t\t\t\t\t} else if (oData.ItemType === \"AT\") {\r\n\t\t\t\t\t\t\tsMessage = that.getOwnerComponent().getModel(\"i18n\").getResourceBundle().getText(\"AC_S_aCreated\", [oData.Name]);\r\n\t\t\t\t\t\t\toCopyUtilData.oCurrentIndex.oActivity++;\r\n\t\t\t\t\t\t\toCopyUtilData.oCurrentIndex.oSubactivity = 0;\r\n\t\t\t\t\t\t\toCopyUtilData.oActivity = oData;\r\n\t\t\t\t\t\t} else if (oData.ItemType === \"SA\") {\r\n\t\t\t\t\t\t\tsMessage = that.getOwnerComponent().getModel(\"i18n\").getResourceBundle().getText(\"AC_S_saCreated\", [oData.Name]);\r\n\t\t\t\t\t\t\toCopyUtilData.oCurrentIndex.oSubactivity++;\r\n\t\t\t\t\t\t\toCopyUtilData.oSubactivity = oData;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tMessageToast.show(sMessage);\r\n\t\t\t\t\t\tif (oCopyUtilData.bIncludeBudget && oData.ItemType === \"SA\") {\r\n\t\t\t\t\t\t\toThis._saveBudget(oData, oCopyUtilData.oCurrentItem);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\toThis._nextLoop();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\terror: function(oError) {\r\n\t\t\t\t\toError.ErrorOrigin = \"CreateProject\";\r\n\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.detail\", \"Errors\", oError);\r\n\t\t\t\t},\r\n\t\t\t\tchangeSetId: oItem.Id\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t_nextLoop: function() {\r\n\t\t\tvar oCopyUtilData = this._callingContext.getOwnerComponent().getModel(\"CopyUtilStorage\").getData();\r\n\t\t\tvar bFinished = true;\r\n\t\t\tif (oCopyUtilData.bInclude) {\r\n\t\t\t\tif (oCopyUtilData.sMode === \"PT\") {\r\n\t\t\t\t\t// Need to do another loop (if any)\r\n\t\t\t\t\tvar iActivity = oCopyUtilData.oCurrentIndex.Activity;\r\n\t\t\t\t\tvar iSubactivity = oCopyUtilData.oCurrentIndex.Subactivity;\r\n\t\t\t\t\tvar oActivity = oCopyUtilData.oItems[iActivity];\r\n\t\t\t\t\tif (oActivity) {\r\n\t\t\t\t\t\tif (iSubactivity > -1) {\r\n\t\t\t\t\t\t\tif (oCopyUtilData.oItems[iActivity][iSubactivity]) {\r\n\t\t\t\t\t\t\t\tbFinished = false;\r\n\t\t\t\t\t\t\t\toCopyUtilData.oCurrentIndex.Subactivity++;\r\n\t\t\t\t\t\t\t\toCopyUtilData.oCurrentItem = oCopyUtilData.oItems[iActivity][iSubactivity];\r\n\t\t\t\t\t\t\t\tthis._createItem(oCopyUtilData.oItems[iActivity][iSubactivity]);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\toCopyUtilData.oCurrentIndex.Activity++;\r\n\t\t\t\t\t\t\t\toCopyUtilData.oCurrentIndex.Subactivity = -1;\r\n\t\t\t\t\t\t\t\toCopyUtilData.oCurrentIndex.Subactivity++;\r\n\t\t\t\t\t\t\t\toActivity = oCopyUtilData.oItems[oCopyUtilData.oCurrentIndex.Activity];\r\n\t\t\t\t\t\t\t\tif (oActivity) {\r\n\t\t\t\t\t\t\t\t\tbFinished = false;\r\n\t\t\t\t\t\t\t\t\toCopyUtilData.oCurrentItem = oActivity;\r\n\t\t\t\t\t\t\t\t\tthis._createItem(oActivity);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tbFinished = false;\r\n\t\t\t\t\t\t\toCopyUtilData.oCurrentIndex.Subactivity++;\r\n\t\t\t\t\t\t\toCopyUtilData.oCurrentItem = oCopyUtilData.oItems[iActivity];\r\n\t\t\t\t\t\t\tthis._createItem(oActivity);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// Everything is finished.\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (oCopyUtilData.sMode === \"AT\") {\r\n\t\t\t\t\t// Need to do another loop (if any)\r\n\t\t\t\t\tvar iActivity = oCopyUtilData.oCurrentIndex.Activity;\r\n\t\t\t\t\tvar iSubactivity = oCopyUtilData.oCurrentIndex.Subactivity;\r\n\t\t\t\t\tif (iSubactivity > -1) {\r\n\t\t\t\t\t\tif (oCopyUtilData.oItems[iSubactivity]) {\r\n\t\t\t\t\t\t\tbFinished = false;\r\n\t\t\t\t\t\t\toCopyUtilData.oCurrentIndex.Subactivity++;\r\n\t\t\t\t\t\t\toCopyUtilData.oCurrentItem = oCopyUtilData.oItems[iSubactivity];\r\n\t\t\t\t\t\t\tthis._createItem(oCopyUtilData.oItems[iSubactivity]);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\toCopyUtilData.oCurrentIndex.Activity++;\r\n\t\t\t\t\t\t\toCopyUtilData.oCurrentIndex.Subactivity = -1;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tbFinished = false;\r\n\t\t\t\t\t\toCopyUtilData.oCurrentIndex.Subactivity++;\r\n\t\t\t\t\t\tthis._nextLoop();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (bFinished) {\r\n\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.project\", \"Refresh\", {});\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_saveBudget: function(oData, oDataRaw) {\r\n\t\t\tvar oModel = this._oDataModel;\r\n\t\t\tvar aKeys = Object.keys(oData);\r\n\t\t\tvar oChangedActivity = {};\r\n\t\t\tfor (var j = 0; j < aKeys.length; j++) {\r\n\t\t\t\toChangedActivity[aKeys[j]] = oData[aKeys[j]];\r\n\t\t\t}\r\n\r\n\t\t\toChangedActivity.StartDt = DateUtils.getISODateNoZ(oData.StartDt);\r\n\t\t\toChangedActivity.EndDt = DateUtils.getISODateNoZ(oData.EndDt);\r\n\t\t\toChangedActivity.CreatedTime = DateUtils.getSystemAdjISODate_fromDate(oChangedActivity.CreatedTime);\r\n\t\t\toChangedActivity.ChangedTime = DateUtils.getSystemAdjISODate_fromCurrentDate();\r\n\r\n\t\t\tvar oConfig = {};\r\n\t\t\toConfig.UPDFIN = \"X\";\r\n\t\t\toConfig.UPDITEM = \"X\";\r\n\t\t\toChangedActivity.Config = JSON.stringify(oConfig);\r\n\t\t\tthis._clearUnused(oChangedActivity);\r\n\t\t\tvar oCopyUtilData = this._callingContext.getOwnerComponent().getModel(\"CopyUtilStorage\").getData();\r\n\t\t\tvar oDataR = JSON.parse(JSON.stringify(oCopyUtilData.oRawItems[oDataRaw.__index]));\r\n\t\t\tthis._addBudgetValues(oChangedActivity, oDataR);\r\n\t\t\tvar sPath = oData.__metadata.uri.substring(oData.__metadata.uri.lastIndexOf(\"/\"));\r\n\t\t\tvar that = this;\r\n\t\t\toModel.update(sPath, oChangedActivity, {\r\n\t\t\t\tsuccess: function(oData, oResponse) {\r\n\t\t\t\t\tTimeoutUtils.onResetTimer(that);\r\n\t\t\t\t\tthat._nextLoop();\r\n\t\t\t\t},\r\n\t\t\t\terror: function(oError) {\r\n\t\t\t\t\toError.ErrorOrigin = \"SaveBudget\";\r\n\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.project\", \"Errors\", oError);\r\n\t\t\t\t},\r\n\t\t\t\tchangeSetId: oChangedActivity.Id + \"B\"\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t_clearUnused: function(oRaw) {\r\n\t\t\toRaw.AmtBTot = \"0\";\r\n\t\t\toRaw.AmtATot = \"0\";\r\n\t\t\toRaw.AmtCTot = \"0\";\r\n\t\t\toRaw.AmtCbTot = \"0\";\r\n\t\t\toRaw.AmtLeTot = \"0\";\r\n\t\t},\r\n\r\n\t\t_addBudgetValues: function(oData, oDataRaw) {\r\n\t\t\tvar i = 0;\r\n\t\t\tdo {\r\n\t\t\t\ti++;\r\n\t\t\t\tvar sColumnName = \"AmtB\" + i;\r\n\t\t\t\toData[sColumnName] = oDataRaw[sColumnName];\r\n\t\t\t} while (i < 12);\r\n\t\t\toData.Currency = oDataRaw.Currency; // GDH Was Missing\r\n\t\t\toData.MaxValueB = oDataRaw.MaxValueB;\r\n\t\t},\r\n\r\n\t\t_getExternalId: function(oItem) {\r\n\t\t\tvar oModel = this._oDataModel;\r\n\t\t\tvar filters = [];\r\n\t\t\tfilters.push(new sap.ui.model.Filter(\"Nrrangenr\", sap.ui.model.FilterOperator.EQ, '01'));\r\n\t\t\tvar sPath = \"/Ids\";\r\n\t\t\tthis._callingContext.getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", true); // Start Spinner\r\n\t\t\tvar that = this._callingContext;\r\n\t\t\tvar oThis = this;\r\n\t\t\toModel.read(sPath, {\r\n\t\t\t\tasync: true,\r\n\t\t\t\tfilters: filters,\r\n\t\t\t\tsuccess: function(oData, oResponse) {\r\n\t\t\t\t\tTimeoutUtils.onResetTimer(oThis);\r\n\t\t\t\t\tthat.getOwnerComponent().getModel(\"CopyUtilStorage\").getData().sExternalId = oData.results[0].Number;\r\n\t\t\t\t\toThis._createItem(oItem);\r\n\t\t\t\t},\r\n\t\t\t\terror: function(oError) {\r\n\t\t\t\t\toError.ErrorOrigin = \"ExternalId\";\r\n\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.detail\", \"Errors\", oError);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t_getExistingCSBSubbrand: function(oContext, Item) {\r\n\t\t\tvar that = this;\r\n\t\t\tvar sServiceUrl = oContext.getOwnerComponent().getModel(\"masterShared\").getProperty(\"/oServiceUrls/mainService\");\r\n\t\t\tvar sbmodel = oContext.getModel(\"CSBESubbrands\");\r\n\r\n\t\t\tif (!sbmodel) {\r\n\t\t\t\tsbmodel = new sap.ui.model.odata.v2.ODataModel(sServiceUrl, false);\r\n\t\t\t\tsbmodel.setSizeLimit(50000);\r\n\t\t\t\tsbmodel.setDefaultCountMode(sap.ui.model.odata.CountMode.None);\r\n\t\t\t\toContext.setModel(sbmodel, \"CSBESubbrands\");\r\n\t\t\t}\r\n\r\n\t\t\tvar filters = [];\r\n\t\t\tif (Item.Id) {\r\n\t\t\t\tfilters.push(new sap.ui.model.Filter(\"AsmId\", sap.ui.model.FilterOperator.EQ, Item.Id));\r\n\t\t\t}\r\n\t\t\tvar sPath = \"/CrossSubBrandListSet\";\r\n\r\n\t\t\tvar oSBPromise = new Promise(function(resolve, reject) {\r\n\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\tsbmodel.read(sPath, {\r\n\t\t\t\t\t\tasync: true,\r\n\t\t\t\t\t\tfilters: filters,\r\n\t\t\t\t\t\tsuccess: function(oData, oResponse) {\r\n\t\t\t\t\t\t\tTimeoutUtils.onResetTimer(this);\r\n\t\t\t\t\t\t\tvar CSBData = [],\r\n\t\t\t\t\t\t\t\tnewdata;\r\n\r\n\t\t\t\t\t\t\tfor (var i = 0; i < oData.results.length; i++) {\r\n\t\t\t\t\t\t\t\tnewdata = {};\r\n\t\t\t\t\t\t\t\tnewdata.K = oData.results[i].SubbrandKey;\r\n\t\t\t\t\t\t\t\tnewdata.L = oData.results[i].LeadSubbrand;\r\n\t\t\t\t\t\t\t\tnewdata.U = \"I\";\r\n\t\t\t\t\t\t\t\tCSBData.push(newdata);\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tif (Item.BrandKey) {\r\n\t\t\t\t\t\t\t\tnewdata = {};\r\n\t\t\t\t\t\t\t\tnewdata.K = Item.BrandKey;\r\n\t\t\t\t\t\t\t\tnewdata.L = \"X\";\r\n\t\t\t\t\t\t\t\tnewdata.U = \"I\";\r\n\t\t\t\t\t\t\t\tCSBData.push(newdata);\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tItem.CsbConfig = JSON.stringify(CSBData); //bhavik\r\n\t\t\t\t\t\t\tresolve(oData);\r\n\t\t\t\t\t\t\tthat._createItem(Item);\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\terror: function(oError) {\r\n\t\t\t\t\t\t\toError.ErrorOrigin = \"CopyUtilsGetSubbrands\";\r\n\t\t\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.detail\", \"Errors\", oError);\r\n\t\t\t\t\t\t\treject(oError);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}, 200);\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n});",
		"colgate/asm/planning/base/controller/App.controller.js": "sap.ui.define([\r\n\t\"colgate/asm/planning/base/controller/BaseController\",\r\n\t\"sap/ui/model/json/JSONModel\",\r\n\t\"colgate/asm/planning/base/util/PersonalizationUtils\",\r\n\t\"colgate/asm/planning/base/util/CurrencyUtils\",\r\n\t\"colgate/asm/planning/base/util/ColumnCatalog\"\r\n], function(BaseController, JSONModel, PersonalizationUtils, CurrencyUtils, ColumnCatalog) {\r\n\t\"use strict\";\r\n\r\n\treturn BaseController.extend(\"colgate.asm.planning.base.controller.App\", {\r\n\r\n\t\tonInit: function() {\r\n\t\t\tvar oViewModel,\r\n\t\t\t\tfnSetAppNotBusy,\r\n\t\t\t\toListSelector = this.getOwnerComponent().oListSelector,\r\n\t\t\t\tiOriginalBusyDelay = this.getView().getBusyIndicatorDelay();\r\n\r\n\t\t\tvar oData = {};\r\n\t\t\toData.busy = true;\r\n\t\t\toData.delay = 0;\r\n\t\t\tvar oSettings = {};\r\n\t\t\toSettings.mode = \"HideMode\";\r\n\t\t\toData.settings = oSettings;\r\n\t\t\toViewModel = new JSONModel(oData);\r\n\t\t\tthis.setModel(oViewModel, \"appView\");\r\n\r\n\t\t\tfnSetAppNotBusy = function() {\r\n\t\t\t\toViewModel.setProperty(\"/busy\", false);\r\n\t\t\t\toViewModel.setProperty(\"/delay\", iOriginalBusyDelay);\r\n\t\t\t};\r\n\r\n\t\t\tthis.getOwnerComponent().getModel().metadataLoaded()\r\n\t\t\t\t.then(fnSetAppNotBusy);\r\n\r\n\t\t\t// Makes sure that master view is hidden in split app\r\n\t\t\t// after a new list entry has been selected.\r\n\t\t\toListSelector.attachListSelectionChange(function() {\r\n\t\t\t\tthis.byId(\"idAppControl\").hideMaster();\r\n\t\t\t}, this);\r\n\r\n\t\t\t// apply content density mode to root view\r\n\t\t\tthis.getView().addStyleClass(this.getOwnerComponent().getContentDensityClass());\r\n\r\n\t\t\t// Initialize main models\r\n\t\t\tthis._createSharedModel();\r\n\t\t\t//GDH - Setup User Info    - Moved to App level\r\n\t\t\tthis._setupUserInfo();\r\n\r\n\t\t\t//GDH - Initialize App data\r\n\t\t\tthis._initializeAppData();\r\n\r\n\t\t\t//GDH - Receive events when screen is shown \r\n\t\t\tvar oEventBus = sap.ui.getCore().getEventBus();\r\n\t\t\toEventBus.subscribe(\"colgate.asm.planning.app.spinner\", \"StopSpinner\", function(sChannelId, sEventId, oData) {\r\n\t\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", false); // Stop Spinner\r\n\t\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oMasterBusy/busy\", false); // Stop Spinner\r\n\t\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").refresh(false);\r\n\t\t\t}, this);\r\n\r\n\t\t\toEventBus.subscribe(\"colgate.asm.planning.master.event\", \"ConfigurationLoaded\", function(sChannelId, sEventId, oData) {\r\n\t\t\t\t// Update table personalization\r\n\t\t\t\tthis._performRoleOverlay(oData);\r\n\t\t\t}, this);\r\n\r\n\t\t\toEventBus.subscribe(\"colgate.asm.planning.personalization\", \"VariantsSet\", function(sChannelId, sEventId, oData) {\r\n\t\t\t\t// Update table personalization\r\n\t\t\t\tthis._performRoleOverlay(oData);\r\n\t\t\t}, this);\r\n\r\n\t\t\toEventBus.subscribe(\"colgate.asm.planning.master.event\", \"UserDataLoaded\", function(sChannelId, sEventId, oData) {\r\n\t\t\t\t// Update table personalization\r\n\t\t\t\tthis._performRoleOverlay(oData);\r\n\t\t\t}, this);\r\n\t\t},\r\n\t\t_createSharedModel: function() {\r\n\t\t\t// Create Shared Model\r\n\t\t\tvar oSharedModel = new JSONModel({\r\n\t\t\t\taMasterButtons: [{\r\n\t\t\t\t\ticon: \"\",\r\n\t\t\t\t\ttext: \"\",\r\n\t\t\t\t\tvisible: false,\r\n\t\t\t\t\tstartSpinner: false\r\n\t\t\t\t}, {\r\n\t\t\t\t\ticon: \"\",\r\n\t\t\t\t\ttext: \"\",\r\n\t\t\t\t\tvisible: false,\r\n\t\t\t\t\tstartSpinner: false\r\n\t\t\t\t}, {\r\n\t\t\t\t\ticon: \"\",\r\n\t\t\t\t\ttext: \"\",\r\n\t\t\t\t\tvisible: false,\r\n\t\t\t\t\tstartSpinner: false\r\n\t\t\t\t}],\r\n\t\t\t\toInternalEvents: {\r\n\t\t\t\t\tconfigurationLoaded: false,\r\n\t\t\t\t\tvariantsLoaded: false,\r\n\t\t\t\t\tuserDataLoaded: false,\r\n\t\t\t\t\tactivityPersonalizationInitialized: false,\r\n\t\t\t\t\troleOverlayInitialized: false,\r\n\t\t\t\t\tdisplayOnlyMode: false,\r\n\t\t\t\t\tnoAuthorizationMode: false,\r\n\t\t\t\t\tlastAction: \"\",\r\n\t\t\t\t\tlastVariant: \"*standard*\",\r\n\t\t\t\t\tcurrentMode: \"Display\"\r\n\t\t\t\t},\r\n\t\t\t\toServiceUrls: {\r\n\t\t\t\t\t//\t\t\t\t    mainService:jQuery.sap.getModulePath(\"colgate.asm.planning.base\") + this.getOwnerComponent().getMetadata().getManifestEntry(\"sap.app\").dataSources[\"mainService\"].uri,\r\n\t\t\t\t\t//\t\t\t\t    userService:jQuery.sap.getModulePath(\"colgate.asm.planning.base\") + this.getOwnerComponent().getMetadata().getManifestEntry(\"sap.app\").dataSources[\"userService\"].uri\r\n\t\t\t\t\tmainService: this.getOwnerComponent().getMetadata().getManifestEntry(\"sap.app\").dataSources[\"mainService\"].uri,\r\n\t\t\t\t\tuserService: this.getOwnerComponent().getMetadata().getManifestEntry(\"sap.app\").dataSources[\"userService\"].uri\r\n\t\t\t\t},\r\n\t\t\t\tpreviousAction: \"\",\r\n\t\t\t\toDetailBusy: {\r\n\t\t\t\t\tbusy: true,\r\n\t\t\t\t\tdelay: 0\r\n\t\t\t\t},\r\n\t\t\t\toMasterBusy: {\r\n\t\t\t\t\tbusy: true,\r\n\t\t\t\t\tdelay: 0\r\n\t\t\t\t},\r\n\t\t\t\toBusy: {\r\n\t\t\t\t\tbusy: true,\r\n\t\t\t\t\tdelay: 0,\r\n\t\t\t\t\tskipStop: false\r\n\t\t\t\t},\r\n\t\t\t\toUser: {},\r\n\t\t\t\taAddOptions: [],\r\n\t\t\t\toMasterSelect: {},\r\n\t\t\t\toTableSelect: {},\r\n\t\t\t\toParentSelect: {},\r\n\t\t\t\toFilters: {\r\n\t\t\t\t\toExclude: {}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\toSharedModel.setSizeLimit(50000);\r\n\t\t\tthis.getOwnerComponent().setModel(oSharedModel, \"masterShared\");\r\n\t\t},\r\n\t\tonCurrencySettings: function() {\r\n\t\t\tCurrencyUtils.getCurrency(this);\r\n\t\t},\r\n\t\tonGlobalPersonalization: function(oEvent) {\r\n\t\t\tif (!this._oGPDialog) {\r\n\t\t\t\tthis._oGPDialog = sap.ui.xmlfragment(\"colgate.asm.planning.base.fragment.GlobalSettings\", this);\r\n\t\t\t\tthis._oGPDialog.setModel(this.getModel(\"i18n\"), \"i18n\");\r\n\t\t\t\tthis._oGPDialog.setModel(this.getModel(\"appView\"), \"appView\");\r\n\t\t\t}\r\n\t\t\tjQuery.sap.syncStyleClass(\"sapUiSizeCompact\", this.getView(), this._oGPDialog);\r\n\t\t\tthis._oGPDialog.open();\r\n\t\t\tvar currentMode = this.getModel(\"appView\").getData().settings.mode;\r\n\t\t\tif (currentMode === \"ShowHideMode\") {\r\n\t\t\t\tsap.ui.getCore().byId(\"GS_hideMaster\").setSelectedButton(\"NO\");\r\n\t\t\t} else if (currentMode === \"HideMode\") {\r\n\t\t\t\tsap.ui.getCore().byId(\"GS_hideMaster\").setSelectedButton(\"YES\");\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tonGPConfirm: function(oEvent) {\r\n\t\t\tvar sName = sap.ui.getCore().byId(\"GS_hideMaster\").getSelectedButton();\r\n\t\t\tif (sName === \"YES\") {\r\n\t\t\t\tthis.getModel(\"appView\").getData().settings.mode = \"HideMode\";\r\n\t\t\t} else if (sName === \"NO\") {\r\n\t\t\t\tthis.getModel(\"appView\").getData().settings.mode = \"ShowHideMode\";\r\n\t\t\t}\r\n\t\t\tthis.getModel(\"appView\").refresh(false);\r\n\t\t\tPersonalizationUtils.p13nSave(this, this.getModel(\"appView\").getData().settings, \"GlobalSettings\");\r\n\t\t},\r\n\t\t_setupUserInfo: function() {\r\n\t\t\tvar sServiceUrl = this.getOwnerComponent().getModel(\"masterShared\").getProperty(\"/oServiceUrls/userService\");\r\n\t\t\tvar oModel = new sap.ui.model.odata.v2.ODataModel(sServiceUrl, false);\r\n\t\t\toModel.setSizeLimit(50000);\r\n\t\t\tthis.getOwnerComponent().setModel(oModel, \"User\");\r\n\t\t\tvar oResultModel = new sap.ui.model.json.JSONModel({});\r\n\t\t\toResultModel.setSizeLimit(50000);\r\n\t\t\tthis.getOwnerComponent().setModel(oResultModel, \"P13n_Configuration\");\r\n\t\t\toResultModel = new sap.ui.model.json.JSONModel({});\r\n\t\t\toResultModel.setSizeLimit(50000);\r\n\t\t\tthis.getOwnerComponent().setModel(oResultModel, \"P13n_Variants\");\r\n\t\t\tvar sUser = sap.ushell.Container.getService(\"UserInfo\").getId().toUpperCase();\r\n\t\t\tvar sPath = \"/Personalizations\";\r\n\t\t\tvar that = this;\r\n\r\n\t\t\toModel.read(sPath, {\r\n\t\t\t\tasync: true,\r\n\t\t\t\tsuccess: function(oDataIn, oResponse) {\r\n\t\t\t\t\tvar aData = oDataIn.results;\r\n\t\t\t\t\tvar oData = {};\r\n\t\t\t\t\tfor (var i = 0; i < aData.length; i++) {\r\n\t\t\t\t\t\toData[aData[i].PersKey] = JSON.parse(aData[i].PersData);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthat.getOwnerComponent().getModel(\"P13n_Configuration\").setData(oData, true);\r\n\t\t\t\t\t// Check to make sure currency exists\r\n\t\t\t\t\tvar sCurrency = that.getOwnerComponent().getModel(\"P13n_Configuration\").getProperty(\"/CurrencySettings\");\r\n\t\t\t\t\tif (!sCurrency || sCurrency === \"\") {\r\n\t\t\t\t\t\tvar oCurrency = {};\r\n\t\t\t\t\t\toCurrency.Currency = \"EUR\"; // Default Currency is Euro\r\n\t\t\t\t\t\tthat.getOwnerComponent().getModel(\"P13n_Configuration\").setProperty(\"/CurrencySettings\", oCurrency);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// Set Application Data\r\n\t\t\t\t\tif (oData.GlobalSettings) {\r\n\t\t\t\t\t\tthat.getModel(\"appView\").getData().settings = oData.GlobalSettings;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthat.getModel(\"appView\").refresh(false);\r\n\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.personalization\", \"Set\", oData);\r\n\t\t\t\t},\r\n\t\t\t\terror: function(oError) {\r\n\t\t\t\t\toError.ErrorOrigin = \"Personalization\";\r\n\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.master\", \"Errors\", oError);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tsPath = \"/Variants\";\r\n\t\t\tvar filters = [];\r\n\t\t\tfilters.push(new sap.ui.model.Filter(\"PersKey\", sap.ui.model.FilterOperator.EQ, \"PlanningVariants\"));\r\n\t\t\toModel.read(sPath, {\r\n\t\t\t\tasync: true,\r\n\t\t\t\tfilters: filters,\r\n\t\t\t\tsuccess: function(oDataIn, oResponse) {\r\n\t\t\t\t\tvar aData = oDataIn.results;\r\n\t\t\t\t\tvar oData = {};\r\n\t\t\t\t\t// Start GDH 20170327 - Reset Texts - In case old values stored in configuration\r\n\t\t\t\t\t// Note: For this to work, the default column collection must never remove entries -\r\n\t\t\t\t\t// The entries must always be the same number.\r\n\t\t\t\t\tvar oColumns = ColumnCatalog.getColumnCatalog(that);\r\n\t\t\t\t\tvar aDefaultColumnData = oColumns.FixedColumnConfig;\r\n\t\t\t\t\tfor (var k = 0; k < aData.length; k++) {\r\n\t\t\t\t\t\tvar oConfig = JSON.parse(aData[k].PersData);\r\n\t\t\t\t\t\tvar aColumnData = oConfig.FixedColumnConfig;\r\n\t\t\t\t\t\tvar aColumnCollection = oConfig.ColumnCollection;\r\n\t\t\t\t\t\tfor (var l = 0; l < aColumnCollection.length; l++) {\r\n\t\t\t\t\t\t\taColumnCollection[l].text = aDefaultColumnData[aColumnCollection[l].columnIndex].text;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tfor (var j = 0; j < aColumnData.length; j++) {\r\n\t\t\t\t\t\t\taColumnData[j].text = aDefaultColumnData[aColumnData[j].columnIndex].text;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\taData[k].PersData = JSON.stringify(oConfig);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// End GDH 20170327 - Reset Texts - In case old values stored in configuration\r\n\t\t\t\t\toData.Variants = aData;\r\n\t\t\t\t\toData.DefaultVariant = \"*standard*\";\r\n\t\t\t\t\tfor (var i = 0; i < aData.length; i++) {\r\n\t\t\t\t\t\tif (aData[i].DefaultVar === \"X\") {\r\n\t\t\t\t\t\t\toData.DefaultVariant = \"Variant\" + i;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthat.getOwnerComponent().getModel(\"P13n_Variants\").setData(oData, true);\r\n\t\t\t\t\tthat.getOwnerComponent().getModel(\"masterShared\").getData().oInternalEvents.variantsLoaded = true;\r\n\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.personalization\", \"VariantsSet\", oData);\r\n\t\t\t\t},\r\n\t\t\t\terror: function(oError) {\r\n\t\t\t\t\toError.ErrorOrigin = \"Personalization\";\r\n\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.master\", \"Errors\", oError);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tsPath = \"/Users('\" + sUser + \"')\";\r\n\t\t\toModel.read(sPath, {\r\n\t\t\t\tasync: false,\r\n\t\t\t\turlParameters: {\r\n\t\t\t\t\t\t\"$expand\": \"DelegateToUsers\"\r\n\t\t\t\t},\r\n\t\t\t\tsuccess: function(oData, oResponse) {\r\n\t\t\t\t\toData.oDataOrigin = \"User\";\r\n\t\t\t\t\tthat._handleODataSuccess(oData);\r\n\t\t\t\t},\r\n\t\t\t\terror: function(oError) {\r\n\t\t\t\t\toError.ErrorOrigin = \"User\";\r\n\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.master\", \"Errors\", oError);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", true); // Start Spinner\r\n\t\t},\r\n\t\t_setupHeader: function() {\r\n\t\t\t//GDH - Add new button to the Fiori Header Proof\r\n\t\t\tvar oShell = sap.ui.getCore().getElementById(\"shell\").getHeader();\r\n\t\t\t// Check if global entries already exist\r\n\t\t\tvar aHeadEndItems = oShell.getHeadEndItems();\r\n\t\t\tfor (var i = 0; i < aHeadEndItems.length; i++) {\r\n\t\t\t\tvar sText = aHeadEndItems[i].getProperty(\"text\");\r\n\t\t\t\t// if (!sText || sText !== \"Search\") {\r\n\t\t\t\t// \toShell.removeHeadEndItem(aHeadEndItems[i]);\r\n\t\t\t\t// \taHeadEndItems[i].destroy(false);\r\n\t\t\t\t// } else \r\n\t\t\t\tif (sText && sText === \"Search\") {\r\n\t\t\t\t\taHeadEndItems[i].setVisible(false);\r\n\t\t\t\t\ti = aHeadEndItems.length;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tvar aHeadItems = oShell.getHeadItems();\r\n\t\t\tfor (var j = 0; j < aHeadItems.length; j++) {\r\n\t\t\t\tif (aHeadItems[j].getIcon().includes(\"home\")) {\r\n\t\t\t\t\tvar sTarget = 'FioriLaunchpad.html?sap-theme=ZASM_Theme@/sap/public/bc/themes/~client-321#Shell-home';\r\n\t\t\t\t\taHeadItems[j].setTarget(sTarget);\r\n\t\t\t\t\taHeadItems[j].attachPress(function(oEvent) {\r\n\t\t\t\t\t\t//GDH - Add new button to the Fiori Header Proof\r\n\t\t\t\t\t\tvar oShell = sap.ui.getCore().getElementById(\"shell\").getHeader();\r\n\t\t\t\t\t\t// Check if global entries already exist\r\n\t\t\t\t\t\tvar aHeadEndItems = oShell.getHeadEndItems();\r\n\t\t\t\t\t\tfor (var i = 0; i < aHeadEndItems.length; i++) {\r\n\t\t\t\t\t\t\tvar sText = aHeadEndItems[i].getProperty(\"text\");\r\n\t\t\t\t\t\t\tif (sText && sText === \"Search\") {\r\n\t\t\t\t\t\t\t\taHeadEndItems[i].setVisible(true);\r\n\t\t\t\t\t\t\t\ti = aHeadEndItems.length;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tvar oCurrencyButton = new sap.ushell.ui.shell.ShellHeadItem(this.createId(\"globalASMSettings\"));\r\n\t\t\toCurrencyButton.setTooltip(this.getOwnerComponent().getModel(\"i18n\").getProperty(\"GS_globalizationSettings\"));\r\n\t\t\toCurrencyButton.setIcon(\"sap-icon://action-settings\");\r\n\t\t\toCurrencyButton.attachPress(function(oEvent) {\r\n\t\t\t\tvar oButton = oEvent.getSource();\r\n\t\t\t\t// create action sheet only once\r\n\t\t\t\tif (!this._actionSheet) {\r\n\t\t\t\t\tthis._actionSheet = sap.ui.xmlfragment(\r\n\t\t\t\t\t\t\"colgate.asm.planning.base.view.Settings\",\r\n\t\t\t\t\t\tthis\r\n\t\t\t\t\t);\r\n\t\t\t\t\tthis.getView().addDependent(this._actionSheet);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis._actionSheet.openBy(oButton);\r\n\t\t\t}, this);\r\n\t\t\toShell.insertHeadEndItem(oCurrencyButton, 0);\r\n\t\t\tvar sPath = jQuery.sap.getModulePath(\"colgate.asm.planning.base\");\r\n\t\t\t// Begin of Changes - Khrystyne Williams - Nov 2016\r\n\t\t\t// oShell.setLogo(sPath + \"/img/ColgateLogo.png\");\r\n\t\t\toShell.setLogo(sPath + \"/img/ASM_logo_Large.jpg\");\r\n\t\t\t// End of Changes - Khrystyne Williams - Nov 2016\r\n\t\t},\r\n\t\t_initializeAppData: function() {\r\n\t\t\t// Begin of Changes - Khrystyne Williams - Nov\r\n\t\t\t// var sServiceUrl = this.getOwnerComponent().getModel(\"masterShared\").getProperty(\"/oServiceUrls/mainService\");\r\n\t\t\t// var oModel = new sap.ui.model.odata.v2.ODataModel(sServiceUrl);\r\n\t\t\tvar oModel = this.getOwnerComponent().getModel();\r\n\t\t\t// End of Changes - Khrystyne Williams - Nov\r\n\t\t\toModel.setSizeLimit(50000);\r\n\t\t\tvar sPath = \"/VHConfiguration\";\r\n\t\t\tvar filters = [];\r\n\t\t\tfilters.push(new sap.ui.model.Filter(\"Field\", sap.ui.model.FilterOperator.EQ, 'Set'));\r\n\t\t\tfilters.push(new sap.ui.model.Filter(\"Value\", sap.ui.model.FilterOperator.EQ, 'Planning'));\r\n\t\t\tvar that = this;\r\n\t\t\toModel.read(sPath, {\r\n\t\t\t\tasync: true,\r\n\t\t\t\tfilters: filters,\r\n\t\t\t\tsuccess: function(oData, oResponse) {\r\n\t\t\t\t\tthat._setConfigurationModel(oData);\r\n\t\t\t\t},\r\n\t\t\t\terror: function(oError) {\r\n\t\t\t\t\toError.ErrorOrigin = \"Initial\";\r\n\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.master\", \"Errors\", oError);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t_handleODataSuccess: function(oDataIn) {\r\n\t\t\tvar sOrigin = oDataIn.oDataOrigin;\r\n\t\t\tif (sOrigin === \"User\") {\r\n\t\t\t\t//GDH - Set user photo - must be updated to real source\r\n\t\t\t\tvar oShell = sap.ui.getCore().getElementById(\"shell\").getHeader();\r\n\t\t\t\t//gga removed 2/15/17 oUser isn't used, causes issues in UI5 1.40 oUser = oShell.getUser();\r\n\t\t\t\tvar sUser = sap.ushell.Container.getService(\"UserInfo\").getId().toUpperCase();\r\n\t\t\t\tvar sPath = \"Users('\" + sUser + \"')\";\r\n\t\t\t\t//GDH - Set Data in User Card\r\n\t\t\t\tthis.getOwnerComponent().setModel(new sap.ui.model.json.JSONModel(oDataIn), \"UserData\");\r\n\t\t\t\tvar sServiceUrl = this.getOwnerComponent().getModel(\"masterShared\").getProperty(\"/oServiceUrls/userService\");\r\n\t\t\t\t// This was added just to resolve a path issue in the SAP Web IDE - It can be removed now\r\n\t\t\t\t//var sMPath = jQuery.sap.getModulePath(\"colgate.asm.planning.base\");\r\n\t\t\t\t//if (sMPath.endsWith(\"webapp\")) {\r\n\t\t\t\tsPath = sServiceUrl + \"UserPhotos(ContentType='USR',Username='\" + sUser + \"')/$value\";\r\n\t\t\t\t//} else {\r\n\t\t\t\t//\tsPath = sMPath + sServiceUrl + \"UserPhotos(ContentType='USR',Username='\" + sUser + \"')/$value\";\r\n\t\t\t\t//}\r\n\t\t\t\t// Begin of Commenting - Khrystyne Williams - Nov 2016\r\n\t\t\t\t// oUser.setImage(sPath);\r\n\t\t\t\t// End of Commenting - Khrystyne Williams - Nov 2016\r\n\t\t\t\tvar sName = oDataIn.FirstName + \" \" + oDataIn.LastName;\r\n\t\t\t\t//gga removed 2/15/17 oUser isn't used, causes issues in UI5 1.40  oUser.setUsername(sName);\r\n\t\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oUser/name\", sName);\r\n\t\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oUser/position\", oDataIn.PositionTitle);\r\n\t\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oUser/userImage\", sPath);\r\n\t\t\t\tthis._setupHeader();\r\n\t\t\t}\r\n\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oInternalEvents/userDataLoaded\", true);\r\n\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.master.event\", \"UserDataLoaded\", {});\r\n\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", false); // Stop Spinner\r\n\t\t},\r\n\t\t_setConfigurationModel: function(oDataIn) {\r\n\t\t\tvar oModel = this.getOwnerComponent().getModel(\"ASMConfig\");\r\n\t\t\tvar oData = {};\r\n\t\t\tif (!oModel) {\r\n\t\t\t\toModel = new sap.ui.model.json.JSONModel(oData);\r\n\t\t\t\toModel.setSizeLimit(50000);\r\n\t\t\t\tthis.getOwnerComponent().setModel(oModel, \"ASMConfig\");\r\n\t\t\t}\r\n\t\t\toData = oModel.getData();\r\n\t\t\tif (!oData.Properties) {\r\n\t\t\t\toData.Properties = {};\r\n\t\t\t}\r\n\t\t\tvar aResults = oDataIn.results;\r\n\t\t\tfor (var i = 0; i < aResults.length; i++) {\r\n\t\t\t\toData.Properties[aResults[i].Field] = aResults[i].Value;\r\n\t\t\t}\r\n\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oInternalEvents/configurationLoaded\", true);\r\n\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.master.event\", \"ConfigurationLoaded\", {});\r\n\t\t},\r\n\t\t_performRoleOverlay: function(oDataIn) {\r\n\t\t\tif (this.getOwnerComponent().getModel(\"masterShared\") && this.getOwnerComponent().getModel(\"masterShared\").getData()) {\r\n\t\t\t\tif (this.getOwnerComponent().getModel(\"masterShared\").getProperty(\"/oInternalEvents/configurationLoaded\") === true &&\r\n\t\t\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").getProperty(\"/oInternalEvents/variantsLoaded\") === true &&\r\n\t\t\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").getProperty(\"/oInternalEvents/userDataLoaded\") === true &&\r\n\t\t\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").getProperty(\"/oInternalEvents/roleOverlayInitialized\") !== true) {\r\n\t\t\t\t\t// Do any necessary role overlays\r\n\t\t\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oInternalEvents/roleOverlayInitialized\", true);\r\n\t\t\t\t\tvar oUserData = this.getOwnerComponent().getModel(\"UserData\");\r\n\t\t\t\t\tvar sRole = oUserData.getProperty(\"/Role\");\r\n\t\t\t\t\tif (!sRole || sRole === \"\") {\r\n\t\t\t\t\t\tsap.ushell.Container.logout();\r\n\t\t\t\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oInternalEvents/noAuthorizationMode\", true);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tvar oConfiguration = this.getOwnerComponent().getModel(\"ASMConfig\");\r\n\t\t\t\t\t\tvar aReplacements = JSON.parse(oConfiguration.getProperty(\"/Properties/RoleReplacement\")).Replacements;\r\n\t\t\t\t\t\tfor (var i = 0; i < aReplacements.length; i++) {\r\n\t\t\t\t\t\t\tvar oReplacementRecord = aReplacements[i];\r\n\t\t\t\t\t\t\tfor (var j = 0; j < oReplacementRecord.FromRoles.length; j++) {\r\n\t\t\t\t\t\t\t\tif (sRole === oReplacementRecord.FromRoles[j]) {\r\n\t\t\t\t\t\t\t\t\toUserData.setProperty(\"/Role\", oReplacementRecord.ToRole);\r\n\t\t\t\t\t\t\t\t\tsRole = oReplacementRecord.ToRole;\r\n\t\t\t\t\t\t\t\t\tj = oReplacementRecord.FromRoles.length;\r\n\t\t\t\t\t\t\t\t\ti = aReplacements.length;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// Check if the app is supposed to be display only\r\n\t\t\t\t\t\tvar aDisplayOnly = JSON.parse(oConfiguration.getProperty(\"/Properties/RoleConfiguration\")).DisplayOnly;\r\n\t\t\t\t\t\tvar bRoleFound = false;\r\n\t\t\t\t\t\tfor (var k = 0; k < aDisplayOnly.length; k++) {\r\n\t\t\t\t\t\t\tif (sRole === aDisplayOnly[k]) {\r\n\t\t\t\t\t\t\t\tbRoleFound = true;\r\n\t\t\t\t\t\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oInternalEvents/displayOnlyMode\", true);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvar aAdvanced = JSON.parse(oConfiguration.getProperty(\"/Properties/RoleConfiguration\")).Advanced;\r\n\t\t\t\t\t\tfor (var l = 0; l < aAdvanced.length; l++) {\r\n\t\t\t\t\t\t\tif (sRole === aAdvanced[l]) {\r\n\t\t\t\t\t\t\t\tbRoleFound = true;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (!bRoleFound) {\r\n\t\t\t\t\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oInternalEvents/noAuthorizationMode\", true);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.app.event\", \"InitializationComplete\", {});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.app.event\", \"StartEventComplete\", {\r\n\t\t\t\t\t\t\tLocation: \"RoleOverlay\"\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonExit: function() {\r\n\t\t\t//GDH - Add new button to the Fiori Header Proof\r\n\t\t\tvar oShell = sap.ui.getCore().getElementById(\"shell\").getHeader();\r\n\t\t\t// Check if global entries already exist\r\n\t\t\tvar aHeadEndItems = oShell.getHeadEndItems();\r\n\t\t\tfor (var i = 0; i < aHeadEndItems.length; i++) {\r\n\t\t\t\tvar sText = aHeadEndItems[i].getProperty(\"text\");\r\n\t\t\t\tif (!sText || sText !== \"Search\") {\r\n\t\t\t\t\toShell.removeHeadEndItem(aHeadEndItems[i]);\r\n\t\t\t\t\taHeadEndItems[i].destroy(false);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n});",
		"colgate/asm/planning/base/util/CustomCurrencyType.js": "sap.ui.define([], function() {\r\n\t\"use strict\";\r\n\r\n\treturn sap.ui.model.type.Currency.extend(\"colgate.asm.planning.base.util.CustomCurrencyType\", {\r\n\t\tformatValue: function(aInput,sType) {\r\n\t\t\t// GDH aInput[0] = parseFloat(aInput[0]) / 1000;\r\n\t\t\taInput[0] = parseFloat(aInput[0]);\r\n\t\t\tif (sap.ui.model.type.Currency.prototype.formatValue) { // check whether superclass has  method\r\n\t\t\t\tvar sReturn = sap.ui.model.type.Currency.prototype.formatValue.apply(this, arguments); // call super\r\n\t\t\t}\r\n\t\t\tif (sReturn === \"0\") {\r\n\t\t\t\tsReturn = \"\";\r\n\t\t\t}\r\n\t\t\treturn sReturn;\r\n\t\t},\r\n\t\tparseValue: function(sValue,sType,oOther) {\r\n\t\t\tif (sap.ui.model.type.Currency.prototype.parseValue) { // check whether superclass has  method\r\n\t\t\t\tvar aReturn = sap.ui.model.type.Currency.prototype.parseValue.apply(this, arguments); // call super\r\n\t\t\t}\r\n\t\t\t// GDH aReturn[0] = parseFloat(aReturn[0]) * 1000;\r\n\t\t\taReturn[0] = parseFloat(aReturn[0]);\r\n\t\t\treturn aReturn;\r\n\t\t},\r\n\t\tvalidateValue: function(nValue) {\r\n\t\t    if (sap.ui.model.type.Currency.prototype.validateValue) { // check whether superclass has method\r\n\t\t\t\treturn sap.ui.model.type.Currency.prototype.validateValue.apply(this, arguments); // call super\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n});",
		"colgate/asm/planning/base/controller/BaseController.js": "/*global history */\r\nsap.ui.define([\r\n\t\t\"sap/ui/core/mvc/Controller\",\r\n\t\t\"sap/ui/core/routing/History\"\r\n\t], function (Controller, History) {\r\n\t\t\"use strict\";\r\n\r\n\t\treturn Controller.extend(\"colgate.asm.planning.base.controller.BaseController\", {\r\n\t\t\t/**\r\n\t\t\t * Convenience method for accessing the router in every controller of the application.\r\n\t\t\t * @public\r\n\t\t\t * @returns {sap.ui.core.routing.Router} the router for this component\r\n\t\t\t */\r\n\t\t\tgetRouter : function () {\r\n\t\t\t\treturn this.getOwnerComponent().getRouter();\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Convenience method for getting the view model by name in every controller of the application.\r\n\t\t\t * @public\r\n\t\t\t * @param {string} sName the model name\r\n\t\t\t * @returns {sap.ui.model.Model} the model instance\r\n\t\t\t */\r\n\t\t\tgetModel : function (sName) {\r\n\t\t\t\treturn this.getView().getModel(sName);\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Convenience method for setting the view model in every controller of the application.\r\n\t\t\t * @public\r\n\t\t\t * @param {sap.ui.model.Model} oModel the model instance\r\n\t\t\t * @param {string} sName the model name\r\n\t\t\t * @returns {sap.ui.mvc.View} the view instance\r\n\t\t\t */\r\n\t\t\tsetModel : function (oModel, sName) {\r\n\t\t\t\treturn this.getView().setModel(oModel, sName);\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Convenience method for getting the resource bundle.\r\n\t\t\t * @public\r\n\t\t\t * @returns {sap.ui.model.resource.ResourceModel} the resourceModel of the component\r\n\t\t\t */\r\n\t\t\tgetResourceBundle : function () {\r\n\t\t\t\treturn this.getOwnerComponent().getModel(\"i18n\").getResourceBundle();\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Event handler  for navigating back.\r\n\t\t\t * It checks if there is a history entry. If yes, history.go(-1) will happen.\r\n\t\t\t * If not, it will replace the current entry of the browser history with the master route.\r\n\t\t\t * @public\r\n\t\t\t */\r\n\t\t\tonNavBack : function() {\r\n\t\t\t\tvar sPreviousHash = History.getInstance().getPreviousHash();\r\n\r\n\t\t\t\tif (sPreviousHash !== undefined) {\r\n\t\t\t\t\t// The history contains a previous entry\r\n\t\t\t\t\thistory.go(-1);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// Otherwise we go backwards with a forward history\r\n\t\t\t\t\tvar bReplace = true;\r\n\t\t\t\t\tthis.getRouter().navTo(\"master\", {}, bReplace);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t});\r\n\r\n\t}\r\n);",
		"colgate/asm/planning/base/controller/ErrorHandler.js": "sap.ui.define([\r\n\t\t\"sap/ui/base/Object\",\r\n\t\t\"sap/m/MessageBox\"\r\n\t], function (UI5Object, MessageBox) {\r\n\t\t\"use strict\";\r\n\r\n\t\treturn UI5Object.extend(\"colgate.asm.planning.base.controller.ErrorHandler\", {\r\n\r\n\t\t\t/**\r\n\t\t\t * Handles application errors by automatically attaching to the model events and displaying errors when needed.\r\n\t\t\t * @class\r\n\t\t\t * @param {sap.ui.core.UIComponent} oComponent reference to the app's component\r\n\t\t\t * @public\r\n\t\t\t * @alias colgate.asm.planning.base.controller.ErrorHandler\r\n\t\t\t */\r\n\t\t\tconstructor : function (oComponent) {\r\n\t\t\t\tthis._oResourceBundle = oComponent.getModel(\"i18n\").getResourceBundle();\r\n\t\t\t\tthis._oComponent = oComponent;\r\n\t\t\t\tthis._oModel = oComponent.getModel();\r\n\t\t\t\tthis._bMessageOpen = false;\r\n\t\t\t\tthis._sErrorText = this._oResourceBundle.getText(\"errorText\");\r\n\r\n\t\t\t\tthis._oModel.attachMetadataFailed(function (oEvent) {\r\n\t\t\t\t\tvar oParams = oEvent.getParameters();\r\n\r\n\t\t\t\t\tthis._showMetadataError(oParams.response);\r\n\t\t\t\t}, this);\r\n\r\n\t\t\t\tthis._oModel.attachRequestFailed(function (oEvent) {\r\n\t\t\t\t\tvar oParams = oEvent.getParameters();\r\n\r\n\t\t\t\t\t// An entity that was not found in the service is also throwing a 404 error in oData.\r\n\t\t\t\t\t// We already cover this case with a notFound target so we skip it here.\r\n\t\t\t\t\t// A request that cannot be sent to the server is a technical error that we have to handle though\r\n\t\t\t\t\tif (oParams.response.statusCode !== \"404\" || (oParams.response.statusCode === 404 && oParams.response.responseText.indexOf(\"Cannot POST\") === 0)) {\r\n\t\t\t\t\t\tthis._showServiceError(oParams.response);\r\n\t\t\t\t\t}\r\n\t\t\t\t}, this);\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Shows a {@link sap.m.MessageBox} when the metadata call has failed.\r\n\t\t\t * The user can try to refresh the metadata.\r\n\t\t\t * @param {string} sDetails a technical error to be displayed on request\r\n\t\t\t * @private\r\n\t\t\t */\r\n\t\t\t_showMetadataError : function (sDetails) {\r\n\t\t\t\tMessageBox.error(\r\n\t\t\t\t\tthis._sErrorText,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tid : \"metadataErrorMessageBox\",\r\n\t\t\t\t\t\tdetails : sDetails,\r\n\t\t\t\t\t\tstyleClass : this._oComponent.getContentDensityClass(),\r\n\t\t\t\t\t\tactions : [MessageBox.Action.RETRY, MessageBox.Action.CLOSE],\r\n\t\t\t\t\t\tonClose : function (sAction) {\r\n\t\t\t\t\t\t\tif (sAction === MessageBox.Action.RETRY) {\r\n\t\t\t\t\t\t\t\tthis._oModel.refreshMetadata();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}.bind(this)\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Shows a {@link sap.m.MessageBox} when a service call has failed.\r\n\t\t\t * Only the first error message will be display.\r\n\t\t\t * @param {string} sDetails a technical error to be displayed on request\r\n\t\t\t * @private\r\n\t\t\t */\r\n\t\t\t_showServiceError : function (sDetails) {\r\n\t\t\t\tif (this._bMessageOpen) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis._bMessageOpen = true;\r\n\t\t\t\tMessageBox.error(\r\n\t\t\t\t\tthis._sErrorText,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tid : \"serviceErrorMessageBox\",\r\n\t\t\t\t\t\tdetails : sDetails,\r\n\t\t\t\t\t\tstyleClass : this._oComponent.getContentDensityClass(),\r\n\t\t\t\t\t\tactions : [MessageBox.Action.CLOSE],\r\n\t\t\t\t\t\tonClose : function () {\r\n\t\t\t\t\t\t\tthis._bMessageOpen = false;\r\n\t\t\t\t\t\t}.bind(this)\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t}\r\n\r\n\t\t});\r\n\r\n\t}\r\n);",
		"colgate/asm/planning/base/controller/ListSelector.js": "sap.ui.define([\r\n\t\t\"sap/ui/base/Object\"\r\n\t], function (BaseObject) {\r\n\t\t\"use strict\";\r\n\r\n\t\treturn BaseObject.extend(\"colgate.asm.planning.base.model.ListSelector\", {\r\n\r\n\t\t\t/**\r\n\t\t\t * Provides a convenience API for selecting list items. All the functions will wait until the initial load of the a List passed to the instance by the setBoundMasterList\r\n\t\t\t * function.\r\n\t\t\t * @class\r\n\t\t\t * @public\r\n\t\t\t * @alias colgate.asm.planning.base.model.ListSelector\r\n\t\t\t */\r\n\r\n\t\t\tconstructor : function () {\r\n\t\t\t\tthis._oWhenListHasBeenSet = new Promise(function (fnResolveListHasBeenSet) {\r\n\t\t\t\t\tthis._fnResolveListHasBeenSet = fnResolveListHasBeenSet;\r\n\t\t\t\t}.bind(this));\r\n\t\t\t\t// This promise needs to be created in the constructor, since it is allowed to\r\n\t\t\t\t// invoke selectItem functions before calling setBoundMasterList\r\n\t\t\t\tthis.oWhenListLoadingIsDone = new Promise(function (fnResolve, fnReject) {\r\n\t\t\t\t\t// Used to wait until the setBound masterList function is invoked\r\n\t\t\t\t\tthis._oWhenListHasBeenSet\r\n\t\t\t\t\t\t.then(function (oList) {\r\n\t\t\t\t\t\t\toList.getBinding(\"items\").attachEventOnce(\"dataReceived\",\r\n\t\t\t\t\t\t\t\tfunction (oData) {\r\n\t\t\t\t\t\t\t\t\tif (!oData.getParameter(\"data\")) {\r\n\t\t\t\t\t\t\t\t\t\tfnReject({\r\n\t\t\t\t\t\t\t\t\t\t\tlist : oList,\r\n\t\t\t\t\t\t\t\t\t\t\terror : true\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tvar oFirstListItem = oList.getItems()[0];\r\n\t\t\t\t\t\t\t\t\tif (oFirstListItem) {\r\n\t\t\t\t\t\t\t\t\t\t// Have to make sure that first list Item is selected\r\n\t\t\t\t\t\t\t\t\t\t// and a select event is triggered. Like that, the corresponding\r\n\t\t\t\t\t\t\t\t\t\t// detail page is loaded automatically\r\n\t\t\t\t\t\t\t\t\t\tfnResolve({\r\n\t\t\t\t\t\t\t\t\t\t\tlist : oList,\r\n\t\t\t\t\t\t\t\t\t\t\tfirstListitem : oFirstListItem\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t// No items in the list\r\n\t\t\t\t\t\t\t\t\t\tfnReject({\r\n\t\t\t\t\t\t\t\t\t\t\tlist : oList,\r\n\t\t\t\t\t\t\t\t\t\t\terror : false\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t}.bind(this));\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * A bound list should be passed in here. Should be done, before the list has received its initial data from the server.\r\n\t\t\t * May only be invoked once per ListSelector instance.\r\n\t\t\t * @param {sap.m.List} oList The list all the select functions will be invoked on.\r\n\t\t\t * @public\r\n\t\t\t */\r\n\t\t\tsetBoundMasterList : function (oList) {\r\n\t\t\t\tthis._oList = oList;\r\n\t\t\t\tthis._fnResolveListHasBeenSet(oList);\r\n\t\t\t},\r\n\r\n\r\n\t\t\t/**\r\n\t\t\t * Tries to select and scroll to a list item with a matching binding context. If there are no items matching the binding context or the ListMode is none,\r\n\t\t\t * no selection/scrolling will happen\r\n\t\t\t * @param {string} sBindingPath the binding path matching the binding path of a list item\r\n\t\t\t * @public\r\n\t\t\t */\r\n\t\t\tselectAListItem : function (sBindingPath) {\r\n\r\n\t\t\t\tthis.oWhenListLoadingIsDone.then(\r\n\t\t\t\t\tfunction () {\r\n\t\t\t\t\t\tvar oList = this._oList,\r\n\t\t\t\t\t\t\toSelectedItem;\r\n\r\n\t\t\t\t\t\tif (oList.getMode() === \"None\") {\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\toSelectedItem = oList.getSelectedItem();\r\n\r\n\t\t\t\t\t\t// skip update if the current selection is already matching the object path\r\n\t\t\t\t\t\tif (oSelectedItem && oSelectedItem.getBindingContext(\"list\").getPath() === sBindingPath) {\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\toList.getItems().some(function (oItem) {\r\n\t\t\t\t\t\t\tif (oItem.getBindingContext(\"list\") && oItem.getBindingContext(\"list\").getPath() === sBindingPath) {\r\n\t\t\t\t\t\t\t\toList.setSelectedItem(oItem);\r\n\t\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}.bind(this),\r\n\t\t\t\t\tfunction () {\r\n\t\t\t\t\t\tjQuery.sap.log.warning(\"Could not select the list item with the path\" + sBindingPath + \" because the list encountered an error or had no items\");\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t},\r\n\r\n\r\n\t\t\t/* =========================================================== */\r\n\t\t\t/* Convenience Functions for List Selection Change Event       */\r\n\t\t\t/* =========================================================== */\r\n\r\n\t\t\t/**\r\n\t\t\t * Attaches a listener and listener function to the ListSelector's bound master list. By using\r\n\t\t\t * a promise, the listener is added, even if the list is not available when 'attachListSelectionChange'\r\n\t\t\t * is called.\r\n\t\t\t * @param {function} fnFunction the function to be executed when the list fires a selection change event\r\n\t\t\t * @param {function} oListener the listener object\r\n\t\t\t * @return {colgate.asm.planning.base.model.ListSelector} the list selector object for method chaining\r\n\t\t\t * @public\r\n\t\t\t */\r\n\t\t\tattachListSelectionChange : function (fnFunction, oListener) {\r\n\t\t\t\tthis._oWhenListHasBeenSet.then(function () {\r\n\t\t\t\t\tthis._oList.attachSelectionChange(fnFunction, oListener);\r\n\t\t\t\t}.bind(this));\r\n\t\t\t\treturn this;\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Detaches a listener and listener function from the ListSelector's bound master list. By using\r\n\t\t\t * a promise, the listener is removed, even if the list is not available when 'detachListSelectionChange'\r\n\t\t\t * is called.\r\n\t\t\t * @param {function} fnFunction the function to be executed when the list fires a selection change event\r\n\t\t\t * @param {function} oListener the listener object\r\n\t\t\t * @return {colgate.asm.planning.base.model.ListSelector} the list selector object for method chaining\r\n\t\t\t * @public\r\n\t\t\t */\r\n\t\t\tdetachListSelectionChange : function (fnFunction, oListener) {\r\n\t\t\t\tthis._oWhenListHasBeenSet.then(function () {\r\n\t\t\t\t\tthis._oList.detachSelectionChange(fnFunction, oListener);\r\n\t\t\t\t}.bind(this));\r\n\t\t\t\treturn this;\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Removes all selections from master list.\r\n\t\t\t * Does not trigger 'selectionChange' event on master list, though.\r\n\t\t\t * @public\r\n\t\t\t */\r\n\t\t\tclearMasterListSelection : function () {\r\n\t\t\t\t//use promise to make sure that 'this._oList' is available\r\n\t\t\t\tthis._oWhenListHasBeenSet.then(function () {\r\n\t\t\t\t\tthis._oList.removeSelections(true);\r\n\t\t\t\t}.bind(this));\r\n\t\t\t}\r\n\r\n\t\t});\r\n\r\n\t}\r\n);",
		"colgate/asm/planning/base/controller/StatusChange.controller.js": "/*global history */\r\nsap.ui.define([\r\n\t\"colgate/asm/planning/base/controller/BaseController\",\r\n\t\"sap/ui/model/json/JSONModel\",\r\n\t\"sap/ui/model/Filter\",\r\n\t\"sap/ui/model/FilterOperator\",\r\n\t\"sap/m/GroupHeaderListItem\",\r\n\t\"sap/ui/Device\",\r\n\t\"colgate/asm/planning/base/model/formatter\",\r\n\t\"colgate/asm/planning/base/model/grouper\",\r\n\t\"colgate/asm/planning/base/model/GroupSortState\"\r\n], function(BaseController, JSONModel, Filter, FilterOperator, GroupHeaderListItem, Device, formatter, grouper, GroupSortState) {\r\n\t\"use strict\";\r\n\treturn BaseController.extend(\"colgate.asm.planning.base.controller.StatusChange\", {\r\n\t\tformatter: formatter,\r\n\t\t/* =========================================================== */\r\n\t\t/* lifecycle methods                                           */\r\n\t\t/* =========================================================== */\r\n\t\t/**\r\n\t\t * Called when the master list controller is instantiated. It sets up the event handling for the master/detail communication and other lifecycle tasks.\r\n\t\t * @public\r\n\t\t */\r\n\t\tonInit: function() {\r\n\t\t\t// Control state model\r\n\t\t\tthis.getRouter().getRoute(\"statusChange\").attachPatternMatched(this._onMasterMatched, this);\r\n\t\t\tvar oViewModel = new JSONModel({});\r\n\t\t\tthis.setModel(oViewModel, \"masterView\");\r\n\t\t},\r\n\t\t/* =========================================================== */\r\n\t\t/* event handlers                                              */\r\n\t\t/* =========================================================== */\r\n\r\n\t\t/**\r\n\t\t * Navigates back in the browser history, if the entry was created by this app.\r\n\t\t * If not, it navigates to the Fiori Launchpad home page\r\n\t\t * @override\r\n\t\t * @public\r\n\t\t */\r\n\t\tonNavBack: function() {\r\n\t\t\tvar oHistory = sap.ui.core.routing.History.getInstance(),\r\n\t\t\t\tsPreviousHash = oHistory.getPreviousHash(),\r\n\t\t\t\toCrossAppNavigator = sap.ushell.Container.getService(\"CrossApplicationNavigation\");\r\n\t\t\tif (sPreviousHash !== undefined) {\r\n\t\t\t\t// The history contains a previous entry\r\n\t\t\t\thistory.go(-1);\r\n\t\t\t} else {\r\n\t\t\t\t// Navigate back to FLP home\r\n\t\t\t\toCrossAppNavigator.toExternal({\r\n\t\t\t\t\ttarget: {\r\n\t\t\t\t\t\tshellHash: \"#Shell-home\"\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\t/**\r\n\t\t * If the master route was hit (empty hash) we have to set\r\n\t\t * the hash to to the first item in the list as soon as the\r\n\t\t * listLoading is done and the first item in the list is known\r\n\t\t * @private\r\n\t\t */\r\n\t\t_onMasterMatched: function() {\r\n\t\t    if (this.getOwnerComponent().getModel(\"masterShared\") && this.getOwnerComponent().getModel(\"masterShared\").getData()) {\r\n\t\t\t\tif (this.getOwnerComponent().getModel(\"masterShared\").getData().oInternalEvents.currentMode !== \"Status\") {\r\n\t\t\t\t\tthis.getRouter().navTo(\"activities\", {\r\n\t\t\t\t\t\tobjectId: \"Activities\"\r\n\t\t\t\t\t}, true);\r\n\t\t\t\t} else {\r\n\t\t\t\t   this._showDetail();\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tthis.getRouter().navTo(\"activities\", {\r\n\t\t\t\t\tobjectId: \"Activities\"\r\n\t\t\t\t}, true);\r\n\t\t\t}\r\n\t\t},\r\n\t\t_initializeFixedValues: function() {\r\n\t\t\t// The success for this one handles itself, but you should set the initial division data.\r\n\t\t\tvar oUserData = this.getOwnerComponent().getModel(\"UserData\");\r\n\t\t\tvar sDivision = oUserData.getProperty(\"/DivisionKey\");\r\n\t\t\tvar sHub = oUserData.getProperty(\"/HubKey\");\r\n\t\t\tvar sSub = oUserData.getProperty(\"/SubKey\");\r\n\t\t\tvar sFunction = oUserData.getProperty(\"/Function\");\r\n\t\t\tvar sChannel = oUserData.getProperty(\"/Channel\");\r\n\t\t\t// GDH 5/23/2016 - Added for Category, Subcategory and Brand\r\n\t\t\tvar sCategory = oUserData.getProperty(\"/Category\");\r\n\t\t\tvar sSubcategory = oUserData.getProperty(\"/SubCategory\");\r\n\t\t\tvar sBrand = oUserData.getProperty(\"/Brand\");\r\n\t\t\tvar oData = this.getOwnerComponent().getModel(\"masterShared\").getProperty(\"/oMasterSelect\");\r\n\t\t\toData.DivisionKey = sDivision;\r\n\t\t\toData.HubKey = sHub;\r\n\t\t\toData.SubKey = sSub;\r\n\t\t\toData.Function = sFunction;\r\n\t\t\toData.Channel = sChannel;\r\n\t\t\toData.Category = sCategory;\r\n\t\t\toData.Subcategory = sSubcategory;\r\n\t\t\toData.Brand = sBrand;\r\n\t\t\treturn oData;\r\n\t\t},\r\n\t\t/**\r\n\t\t * Shows the selected item on the detail page\r\n\t\t * On phones a additional history entry is created\r\n\t\t * @param {sap.m.ObjectListItem} oItem selected Item\r\n\t\t * @private\r\n\t\t */\r\n\t\t_showDetail: function(oItem) {\r\n\t\t\t//GDH - Receive events when screen is shown \r\n\t\t\tvar oData = this._initializeFixedValues();\r\n\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").getData().oMasterSelect = oData;\r\n\t\t\tvar oEventBus = sap.ui.getCore().getEventBus();\r\n\t\t\toEventBus.publish(\"colgate.asm.planning.master.reinitialize\", \"ChangeStatus\", oData);\r\n\t\t},\r\n\t\t/**\r\n\t\t *@memberOf colgate.asm.planning.base.controller.StatusChange\r\n\t\t */\r\n\t\tonCancel: function() {\r\n\t\t\t//This code was generated by the layout editor.\r\n\t\t\tvar oEventBus = sap.ui.getCore().getEventBus();\r\n\t\t\tvar oData = {};\r\n\t\t\toEventBus.publish(\"colgate.asm.planning.master.button.pressed\", \"CancelStatus\", oData);\r\n\t\t}\r\n\t});\r\n});",
		"colgate/asm/planning/base/localService/mockserver.js": "sap.ui.define([\r\n\t\t\"sap/ui/core/util/MockServer\"\r\n\t], function (MockServer) {\r\n\t\t\"use strict\";\r\n\r\n\t\tvar oMockServer,\r\n\t\t\t_sAppModulePath = \"colgate/asm/planning/base/\",\r\n\t\t\t_sJsonFilesModulePath = _sAppModulePath + \"localService/mockdata\";\r\n\r\n\t\treturn {\r\n\t\t\t/**\r\n\t\t\t * Initializes the mock server.\r\n\t\t\t * You can configure the delay with the URL parameter \"serverDelay\".\r\n\t\t\t * The local mock data in this folder is returned instead of the real data for testing.\r\n\t\t\t * @public\r\n\t\t\t */\r\n\r\n\t\t\tinit : function () {\r\n\t\t\t\tvar oUriParameters = jQuery.sap.getUriParameters(),\r\n\t\t\t\t\tsJsonFilesUrl = jQuery.sap.getModulePath(_sJsonFilesModulePath),\r\n\t\t\t\t\tsManifestUrl = jQuery.sap.getModulePath(_sAppModulePath + \"manifest\", \".json\"),\r\n\t\t\t\t\tsEntity = \"MasterCollection\",\r\n\t\t\t\t\tsErrorParam = oUriParameters.get(\"errorType\"),\r\n\t\t\t\t\tiErrorCode = sErrorParam === \"badRequest\" ? 400 : 500,\r\n\t\t\t\t\toManifest = jQuery.sap.syncGetJSON(sManifestUrl).data,\r\n\t\t\t\t\toMainDataSource = oManifest[\"sap.app\"].dataSources.mainService,\r\n\t\t\t\t\tsMetadataUrl = jQuery.sap.getModulePath(_sAppModulePath + oMainDataSource.settings.localUri.replace(\".xml\", \"\"), \".xml\"),\r\n\t\t\t\t\t// ensure there is a trailing slash\r\n\t\t\t\t\tsMockServerUrl = /.*\\/$/.test(oMainDataSource.uri) ? oMainDataSource.uri : oMainDataSource.uri + \"/\";\r\n\r\n\t\t\t\toMockServer = new MockServer({\r\n\t\t\t\t\trootUri : sMockServerUrl\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// configure mock server with a delay of 1s\r\n\t\t\t\tMockServer.config({\r\n\t\t\t\t\tautoRespond : true,\r\n\t\t\t\t\tautoRespondAfter : (oUriParameters.get(\"serverDelay\") || 1000)\r\n\t\t\t\t});\r\n\r\n\t\t\t\toMockServer.simulate(sMetadataUrl, {\r\n\t\t\t\t\tsMockdataBaseUrl : sJsonFilesUrl,\r\n\t\t\t\t\tbGenerateMissingMockData : true\r\n\t\t\t\t});\r\n\r\n\t\t\t\tvar aRequests = oMockServer.getRequests(),\r\n\t\t\t\t\tfnResponse = function (iErrCode, sMessage, aRequest) {\r\n\t\t\t\t\t\taRequest.response = function(oXhr){\r\n\t\t\t\t\t\t\toXhr.respond(iErrCode, {\"Content-Type\": \"text/plain;charset=utf-8\"}, sMessage);\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t// handling the metadata error test\r\n\t\t\t\tif (oUriParameters.get(\"metadataError\")) {\r\n\t\t\t\t\taRequests.forEach( function ( aEntry ) {\r\n\t\t\t\t\t\tif (aEntry.path.toString().indexOf(\"$metadata\") > -1) {\r\n\t\t\t\t\t\t\tfnResponse(500, \"metadata Error\", aEntry);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Handling request errors\r\n\t\t\t\tif (sErrorParam) {\r\n\t\t\t\t\taRequests.forEach( function ( aEntry ) {\r\n\t\t\t\t\t\tif (aEntry.path.toString().indexOf(sEntity) > -1) {\r\n\t\t\t\t\t\t\tfnResponse(iErrorCode, sErrorParam, aEntry);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\toMockServer.start();\r\n\r\n\t\t\t\tjQuery.sap.log.info(\"Running the app with mock data\");\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * @public returns the mockserver of the app, should be used in integration tests\r\n\t\t\t * @returns {sap.ui.core.util.MockServer} the mockserver instance\r\n\t\t\t */\r\n\t\t\tgetMockServer : function () {\r\n\t\t\t\treturn oMockServer;\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t}\r\n);",
		"colgate/asm/planning/base/view/DetailNoObjectsAvailable.view.xml": "<mvc:View\r\n\t\tcontrollerName=\"colgate.asm.planning.base.controller.BaseController\"\r\n\t\txmlns:mvc=\"sap.ui.core.mvc\"\r\n\t\txmlns=\"sap.m\">\r\n\r\n\t<MessagePage\r\n\t\t\tid=\"page\"\r\n\t\t\ttitle=\"{i18n>notAvailableViewTitle}\"\r\n\t\t\ttext=\"{i18n>noObjectsAvailableText}\"\r\n\t\t\ticon=\"{sap-icon://product}\"\r\n\t\t\tdescription=\"\"\r\n\t\t\tshowNavButton=\"{device>/system/phone}\"\r\n\t\t\tnavButtonPress=\"onNavBack\">\r\n\t</MessagePage>\r\n\r\n</mvc:View>",
		"colgate/asm/planning/base/view/Master.view.xml": "<mvc:View controllerName=\"colgate.asm.planning.base.controller.Master\" xmlns:core=\"sap.ui.core\" xmlns:f=\"sap.ui.layout.form\"\n\txmlns:mvc=\"sap.ui.core.mvc\" xmlns:semantic=\"sap.m.semantic\" xmlns=\"sap.m\">\n\t<semantic:MasterPage busy=\"{masterShared&gt;/oMasterBusy/busy}\" busyIndicatorDelay=\"{masterShared&gt;/oMasterBusy/delay}\"\n\t\tenableScrolling=\"false\" id=\"page\" navButtonPress=\"onNavBack\" showNavButton=\"false\" title=\"{masterView&gt;/title}\">\n\t\t<semantic:subHeader></semantic:subHeader>\n\t\t<semantic:content>\n\t\t\t<!--Begin of Commenting - Khrystyne Williams - May 24, 2016-->\n\t\t\t<!--Removing the User Photo and Detail-->\n\t\t\t<!-- For client side filtering add this to the items attribute:  parameters: {operationMode: 'Client'}}\" -->\n\t\t\t<!--<FlexBox alignItems=\"Center\" direction=\"Row\" width=\"100%\">-->\n\t\t\t<!--\t<items>-->\n\t\t\t<!--<Image height=\"75px\" id=\"UserImage\" src=\"{masterShared>/oUser/userImage}\" width=\"75px\"/>-->\n\t\t\t<!--\t\t<FlexBox direction=\"Column\" id=\"__box1\" width=\"100%\">-->\n\t\t\t<!--\t\t\t<items>-->\n\t\t\t<!--\t\t\t\t<Title id=\"__title0\" text=\"{masterShared>/oUser/name}\" titleStyle=\"H3\" width=\"100%\"/>-->\n\t\t\t<!--\t\t\t\t<Title id=\"__title1\" text=\"{masterShared>/oUser/position}\" titleStyle=\"H5\" width=\"100%\"/>-->\n\t\t\t<!--\t\t\t</items>-->\n\t\t\t<!--\t\t</FlexBox>-->\n\t\t\t<!--\t</items>-->\n\t\t\t<!--</FlexBox>-->\n\t\t\t<!--End of Commenting - Khrystyne Williams - May 24, 2016-->\n\t\t\t<f:SimpleForm class=\"editableForm\" columnsL=\"1\" columnsM=\"1\" editable=\"true\" emptySpanL=\"4\" emptySpanM=\"4\" id=\"GeoFilterForm\" labelSpanL=\"2\"\n\t\t\t\tlabelSpanM=\"2\" labelSpanS=\"2\" layout=\"ResponsiveGridLayout\" maxContainerCols=\"2\">\n\t\t\t\t<f:content>\n\t\t\t\t\t<Label text=\"{i18n>AC_year}\"/>\n\t\t\t\t\t<ComboBox id=\"Year\" items=\"{path:'GeoFilter>/PlanningYear/Current'}\" selectedKey=\"{GeoFilter>/Input/PlanningYear}\"\n\t\t\t\t\t\tselectionChange=\"onYearChange\">\n\t\t\t\t\t\t<items>\n\t\t\t\t\t\t\t<core:Item key=\"{GeoFilter>Key}\" text=\"{GeoFilter>Text}\"/>\n\t\t\t\t\t\t</items>\n\t\t\t\t\t</ComboBox>\n\t\t\t\t\t<Label text=\"{i18n>AC_div}\"/>\n\t\t\t\t\t<ComboBox id=\"Division\" items=\"{path:'Division>/VHDivision'}\" placeholder=\"{i18n>AC_P_division}\" selectedKey=\"{GeoFilter>/Input/Division}\"\n\t\t\t\t\t\tselectionChange=\"onGeoSelectionChange\">\n\t\t\t\t\t\t<items>\n\t\t\t\t\t\t\t<core:Item key=\"{Division>GeoKey}\" text=\"{Division>Desc}\"/>\n\t\t\t\t\t\t</items>\n\t\t\t\t\t</ComboBox>\n\t\t\t\t\t<Label text=\"{i18n>AC_hub}\"/>\n\t\t\t\t\t<ComboBox id=\"Hub\" items=\"{path:'GeoFilter>/Hub/Current'}\" placeholder=\"{GeoFilter>/Placeholders/Hub}\" selectedKey=\"{GeoFilter>/Input/Hub}\"\n\t\t\t\t\t\tselectionChange=\"onGeoSelectionChange\">\n\t\t\t\t\t\t<items>\n\t\t\t\t\t\t\t<core:Item key=\"{GeoFilter>GeoKey}\" text=\"{GeoFilter>Desc}\"/>\n\t\t\t\t\t\t</items>\n\t\t\t\t\t</ComboBox>\n\t\t\t\t\t<Label text=\"{i18n>AC_sub}\"/>\n\t\t\t\t\t<ComboBox id=\"Sub\" items=\"{path:'GeoFilter>/Sub/Current'}\" placeholder=\"{GeoFilter>/Placeholders/Sub}\" selectedKey=\"{GeoFilter>/Input/Sub}\"\n\t\t\t\t\t\tselectionChange=\"onGeoSelectionChange\">\n\t\t\t\t\t\t<items>\n\t\t\t\t\t\t\t<core:Item key=\"{GeoFilter>GeoKey}\" text=\"{GeoFilter>Desc}\"/>\n\t\t\t\t\t\t</items>\n\t\t\t\t\t</ComboBox>\n\t\t\t\t\t<Label text=\"{i18n>AC_function_s}\"/>\n\t\t\t\t\t<ComboBox id=\"Function\" items=\"{path:'Division>/VHFunctions'}\" placeholder=\"{i18n>AC_P_function}\" selectedKey=\"{GeoFilter>/Input/Function}\"\n\t\t\t\t\t\tselectionChange=\"onFilterChange\">\n\t\t\t\t\t\t<items>\n\t\t\t\t\t\t\t<core:Item key=\"{Division>Key}\" text=\"{Division>Description}\"/>\n\t\t\t\t\t\t</items>\n\t\t\t\t\t</ComboBox>\n\t\t\t\t\t<Label text=\"{i18n>AC_channel_s}\"/>\n\t\t\t\t\t<ComboBox id=\"Channel\" items=\"{path:'Division>/VHChannels'}\" placeholder=\"{i18n>AC_P_channel}\" selectedKey=\"{GeoFilter>/Input/Channel}\"\n\t\t\t\t\t\tselectionChange=\"onFilterChange\">\n\t\t\t\t\t\t<items>\n\t\t\t\t\t\t\t<core:Item key=\"{Division>Key}\" text=\"{Division>Description}\"/>\n\t\t\t\t\t\t</items>\n\t\t\t\t\t</ComboBox>\n\t\t\t\t\t<!--Begin of Addition - Khrystyne Williams/Greg Hawkins - May 24, 2016-->\n\t\t\t\t\t<!--Adding new filters for Category, SubCategory, and Brand-->\n\t\t\t\t\t<Label text=\"{i18n>AC_brand_s}\"/>\n\t\t\t\t\t<ComboBox id=\"Brand\" items=\"{path:'GeoFilter>/Brand/Current'}\" placeholder=\"{GeoFilter>/Placeholders/Brand}\"\n\t\t\t\t\t\tselectedKey=\"{GeoFilter>/Input/Brand}\" selectionChange=\"onGeoSelectionChange\">\n\t\t\t\t\t\t<items>\n\t\t\t\t\t\t\t<core:Item key=\"{GeoFilter>Key}\" text=\"{GeoFilter>Description}\"/>\n\t\t\t\t\t\t</items>\n\t\t\t\t\t</ComboBox>\n\t\t\t\t\t<Label text=\"{i18n>AC_category_s}\"/>\n\t\t\t\t\t<ComboBox id=\"Category\" items=\"{path:'Division>/VHCategories'}\" placeholder=\"{i18n>AC_P_category}\" selectedKey=\"{GeoFilter>/Input/Category}\"\n\t\t\t\t\t\tselectionChange=\"onGeoSelectionChange\">\n\t\t\t\t\t\t<items>\n\t\t\t\t\t\t\t<core:Item key=\"{Division>Key}\" text=\"{Division>Description}\"/>\n\t\t\t\t\t\t</items>\n\t\t\t\t\t</ComboBox>\n\t\t\t\t\t<Label text=\"{i18n>AC_subcategory_s}\"/>\n\t\t\t\t\t<ComboBox id=\"Subcategory\" items=\"{path:'GeoFilter>/Subcategory/Current'}\" placeholder=\"{GeoFilter>/Placeholders/Subcategory}\"\n\t\t\t\t\t\tselectedKey=\"{GeoFilter>/Input/Subcategory}\" selectionChange=\"onGeoSelectionChange\">\n\t\t\t\t\t\t<items>\n\t\t\t\t\t\t\t<core:Item key=\"{GeoFilter>Key}\" text=\"{GeoFilter>Description}\"/>\n\t\t\t\t\t\t</items>\n\t\t\t\t\t</ComboBox>\n\t\t\t\t\t<!--End of Addition - Khrystyne Williams/Greg Hawkins - May 16, 2016-->\n\t\t\t\t</f:content>\n\t\t\t</f:SimpleForm>\n\t\t\t<HBox width=\"100%\" justifyContent=\"Center\">\n\t\t\t\t<Button icon=\"sap-icon://clear-filter\" press=\"onClearAllFilters\" text=\"{i18n>C_T_clearServerFilters}\"/>\n\t\t\t</HBox>\n\t\t\t<!--<PullToRefresh id=\"pullToRefresh\" refresh=\"onRefresh\" visible=\"{device>/support/touch}\"/>-->\n\t\t\t<!--<ScrollContainer height=\"65%\" horizontal=\"false\" id=\"scList\" vertical=\"true\" width=\"100%\">-->\n\t\t\t<!--\t<List busy=\"{masterView>busy}\" busyIndicatorDelay=\"{masterView>/delay}\" growing=\"false\" growingScrollToLoad=\"false\" id=\"list\"-->\n\t\t\t<!--\t\titems=\"{ path: 'Locations>/OnScreen/', groupHeaderFactory: '.createGroupHeader' }\"-->\n\t\t\t<!--\t\tmode=\"{= ${device>/system/phone} ? 'None' : 'SingleSelectMaster'}\" noDataText=\"{masterView>/noDataText}\" selectionChange=\"onSelectionChange\"-->\n\t\t\t<!--\t\tupdateFinished=\"onUpdateFinished\">-->\n\t\t\t<!--\t\t<infoToolbar>-->\n\t\t\t<!--\t\t\t<Toolbar active=\"true\" id=\"filterBar\" press=\"onOpenViewSettings\" visible=\"{masterView>/isFilterBarVisible}\">-->\n\t\t\t<!--\t\t\t\t<Title id=\"filterBarLabel\" text=\"{masterView>/filterBarLabel}\"/>-->\n\t\t\t<!--\t\t\t</Toolbar>-->\n\t\t\t<!--\t\t</infoToolbar>-->\n\t\t\t<!--\t\t<items>-->\n\t\t\t<!--\t\t\t<ObjectListItem icon=\"{Locations>Icon}\" press=\"onSelectionChange\" title=\"{Locations>Description}\"-->\n\t\t\t<!--\t\t\t\ttype=\"{= ${device>/system/phone} ? 'Active' : 'Inactive'}\"/>-->\n\t\t\t<!--\t\t</items>-->\n\t\t\t<!--\t</List>-->\n\t\t\t<!--</ScrollContainer>-->\n\t\t\t<!--<FlexBox alignItems=\"Center\" direction=\"Column\" witdh=\"100%\">-->\n\t\t\t<!--\t<items>-->\n\t\t\t<!--\t\t<FlexBox direction=\"Column\" id=\"__box2\" width=\"90%\">-->\n\t\t\t<!--\t\t\t<items>-->\n\t\t\t<!--\t\t\t\t<Button icon=\"{masterShared>/aMasterButtons/0/icon}\" id=\"Button1\" press=\"onButtonPress\" text=\"{masterShared>/aMasterButtons/0/text}\"-->\n\t\t\t<!--\t\t\t\t\tvisible=\"{masterShared>/aMasterButtons/0/visible}\" width=\"100%\">-->\n\t\t\t<!--\t\t\t\t\t<layoutData>-->\n\t\t\t<!--\t\t\t\t\t\t<FlexItemData growFactor=\"1\"/>-->\n\t\t\t<!--\t\t\t\t\t</layoutData>-->\n\t\t\t<!--\t\t\t\t</Button>-->\n\t\t\t<!--\t\t\t\t<Button icon=\"{masterShared>/aMasterButtons/1/icon}\" id=\"Button2\" press=\"onButtonPress\" text=\"{masterShared>/aMasterButtons/1/text}\"-->\n\t\t\t<!--\t\t\t\t\tvisible=\"{masterShared>/aMasterButtons/1/visible}\" width=\"100%\">-->\n\t\t\t<!--\t\t\t\t\t<layoutData>-->\n\t\t\t<!--\t\t\t\t\t\t<FlexItemData growFactor=\"1\"/>-->\n\t\t\t<!--\t\t\t\t\t</layoutData>-->\n\t\t\t<!--\t\t\t\t</Button>-->\n\t\t\t<!--\t\t\t\t<Button icon=\"{masterShared>/aMasterButtons/2/icon}\" id=\"Button3\" press=\"onButtonPress\" text=\"{masterShared>/aMasterButtons/2/text}\"-->\n\t\t\t<!--\t\t\t\t\tvisible=\"{masterShared>/aMasterButtons/2/visible}\" width=\"100%\">-->\n\t\t\t<!--\t\t\t\t\t<layoutData>-->\n\t\t\t<!--\t\t\t\t\t\t<FlexItemData growFactor=\"1\"/>-->\n\t\t\t<!--\t\t\t\t\t</layoutData>-->\n\t\t\t<!--\t\t\t\t</Button>-->\n\t\t\t<!--\t\t\t</items>-->\n\t\t\t<!--\t\t</FlexBox>-->\n\t\t\t<!--\t</items>-->\n\t\t\t<!--</FlexBox>-->\n\t\t</semantic:content>\n\t\t<!--<semantic:sort>-->\n\t\t<!--\t<semantic:SortSelect change=\"onSort\" id=\"sort\" selectedKey=\"{masterView&gt;/sortBy}\">-->\n\t\t<!--\t\t<core:Item id=\"masterSort1\" key=\"Title\" text=\"{i18n&gt;masterSort1}\"/>-->\n\t\t<!--\t\t<core:Item id=\"masterSort2\" key=\"ItemBudgetFrcstTotal\" text=\"{i18n&gt;masterSort2}\"/>-->\n\t\t<!--\t</semantic:SortSelect>-->\n\t\t<!--</semantic:sort>-->\n\t\t<!--<semantic:filter>-->\n\t\t<!--\t<semantic:FilterAction id=\"filter\" press=\"onOpenViewSettings\"/>-->\n\t\t<!--</semantic:filter>-->\n\t\t<!--<semantic:group>-->\n\t\t<!--\t<semantic:GroupSelect change=\"onGroup\" id=\"group\" selectedKey=\"{masterView&gt;/groupBy}\">-->\n\t\t<!--\t\t<core:Item id=\"masterGroupNone\" key=\"None\" text=\"{i18n&gt;masterGroupNone}\"/>-->\n\t\t<!--\t\t<core:Item id=\"masterGroup1\" key=\"ItemBudgetFrcstTotal\" text=\"{i18n&gt;masterGroup1}\"/>-->\n\t\t<!--\t</semantic:GroupSelect>-->\n\t\t<!--</semantic:group>-->\n\t</semantic:MasterPage>\n</mvc:View>",
		"colgate/asm/planning/base/view/App.view.xml": "<mvc:View\r\n\t\tcontrollerName=\"colgate.asm.planning.base.controller.App\"\r\n\t\txmlns:mvc=\"sap.ui.core.mvc\"\r\n\t\tdisplayBlock=\"true\"\r\n\t\tbusy=\"{appView>/busy}\"\r\n\t\tbusyIndicatorDelay=\"{appView>/delay}\"\r\n\t\txmlns=\"sap.m\">\r\n\t<SplitApp id=\"idAppControl\" mode=\"{appView>/settings/mode}\" />\r\n</mvc:View>",
		"colgate/asm/planning/base/controller/Master.controller.js": "/*global history */\r\nsap.ui.define([\r\n\t\"colgate/asm/planning/base/controller/BaseController\",\r\n\t\"sap/ui/model/json/JSONModel\",\r\n\t\"sap/ui/model/Filter\",\r\n\t\"sap/ui/model/FilterOperator\",\r\n\t\"sap/m/GroupHeaderListItem\",\r\n\t\"sap/ui/Device\",\r\n\t\"colgate/asm/planning/base/model/formatter\",\r\n\t\"colgate/asm/planning/base/model/grouper\",\r\n\t\"colgate/asm/planning/base/model/GroupSortState\",\r\n\t\"colgate/asm/planning/base/util/TimeoutUtils\",\r\n\t\"colgate/asm/planning/base/util/DropdownUtils\"\r\n], function(BaseController, JSONModel, Filter, FilterOperator, GroupHeaderListItem, Device, formatter, grouper, GroupSortState,\r\n\tTimeoutUtils, DropdownUtils) {\r\n\t\"use strict\";\r\n\r\n\treturn BaseController.extend(\"colgate.asm.planning.base.controller.Master\", {\r\n\r\n\t\tformatter: formatter,\r\n\r\n\t\t/* =========================================================== */\r\n\t\t/* lifecycle methods                                           */\r\n\t\t/* =========================================================== */\r\n\r\n\t\t/**\r\n\t\t * Called when the master list controller is instantiated. It sets up the event handling for the master/detail communication and other lifecycle tasks.\r\n\t\t * @public\r\n\t\t */\r\n\t\tonInit: function() {\r\n\t\t\t// Control state model\r\n\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oMasterBusy/busy\", true);\r\n\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").refresh(false);\r\n\t\t\t//var oList = this.byId(\"list\");\r\n\t\t\tvar oViewModel = this._createViewModel();\r\n\t\t\t// Put down master list's original value for busy indicator delay,\r\n\t\t\t// so it can be restored later on. Busy handling on the master list is\r\n\t\t\t// taken care of by the master list itself.\r\n\t\t\t//var\tiOriginalBusyDelay = oList.getBusyIndicatorDelay();\r\n\r\n\t\t\t// Create main model\r\n\t\t\t// Begin of Commenting - Khrystyne Williams - Nov\r\n\t\t\t// var sServiceUrl = this.getOwnerComponent().getModel(\"masterShared\").getProperty(\"/oServiceUrls/mainService\");\r\n\t\t\t// var oBaseModel = new sap.ui.model.odata.v2.ODataModel(sServiceUrl);\r\n\t\t\t// this.setModel(oBaseModel);\r\n\t\t\t// End of Commenting - Khrystyne Williams - Nov\r\n\r\n\t\t\tthis._oGroupSortState = new GroupSortState(oViewModel, grouper.groupUnitNumber(this.getResourceBundle()));\r\n\r\n\t\t\t//GDH - Receive events when screen is shown \r\n\t\t\tvar oEventBus = sap.ui.getCore().getEventBus();\r\n\t\t\toEventBus.subscribe(\"colgate.asm.planning.master\", \"Errors\", function(sChannelId, sEventId, oData) {\r\n\t\t\t\tthis._handleODataErrors(oData);\r\n\t\t\t}, this);\r\n\t\t\toEventBus.subscribe(\"colgate.asm.planning.master\", \"ButtonsSet\", function(sChannelId, sEventId, oData) {\r\n\t\t\t\tthis._handleButtonsSet(oData);\r\n\t\t\t}, this);\r\n\t\t\toEventBus.subscribe(\"colgate.asm.planning.master.event\", \"UserDataLoaded\", function(sChannelId, sEventId, oData) {\r\n\t\t\t\tthis._initializeGeo();\r\n\t\t\t}, this);\r\n\t\t\toEventBus.subscribe(\"colgate.asm.planning.master.event\", \"FilterChanged\", function(sChannelId, sEventId, oData) {\r\n\t\t\t\tthis.onFilterChange(null);\r\n\t\t\t}, this);\r\n\r\n\t\t\toEventBus.subscribe(\"colgate.asm.planning.master.event\", \"ConfigurationLoaded\", function(sChannelId, sEventId, oData) {\r\n\t\t\t\tthis.onYearChange(null);\r\n\t\t\t}, this);\r\n\r\n\t\t\t//psutram modified 2017.01.07 to clear filters \r\n\t\t\toEventBus.subscribe(\"colgate.asm.planning.master.event\", \"ClearFilter\", function(sChannelId, sEventId, oData) {\r\n\t\t\t\tthis.onClearFilter(null);\r\n\t\t\t}, this);\r\n\r\n\t\t\t//this._oList = oList;\r\n\t\t\t// keeps the filter and search state\r\n\t\t\tthis._oListFilterState = {\r\n\t\t\t\taFilter: [],\r\n\t\t\t\taSearch: []\r\n\t\t\t};\r\n\r\n\t\t\tthis.getOwnerComponent().setModel(oViewModel, \"masterView\");\r\n\r\n\t\t\t// Make sure, busy indication is showing immediately so there is no\r\n\t\t\t// break after the busy indication for loading the view's meta data is\r\n\t\t\t// ended (see promise 'oWhenMetadataIsLoaded' in AppController)\r\n\t\t\t// oList.attachEventOnce(\"updateFinished\", function() {\r\n\t\t\t// \t// Restore original busy indicator delay for the list\r\n\t\t\t// \toViewModel.setProperty(\"/delay\", iOriginalBusyDelay);\r\n\t\t\t// });\r\n\r\n\t\t\t// this.getView().addEventDelegate({\r\n\t\t\t// \tonBeforeFirstShow: function() {\r\n\t\t\t// \t\tthis.getOwnerComponent().oListSelector.setBoundMasterList(oList);\r\n\t\t\t// \t}.bind(this)\r\n\t\t\t// });\r\n\r\n\t\t\t// Set up the initial selections\r\n\t\t\tvar oData = {};\r\n\t\t\toData.OnScreen = [];\r\n\t\t\tvar oModel = new sap.ui.model.json.JSONModel(oData);\r\n\t\t\toModel.setSizeLimit(50000);\r\n\t\t\tthis.getOwnerComponent().setModel(oModel, \"Locations\");\r\n\t\t\toData = {};\r\n\t\t\toData.Placeholders = {\r\n\t\t\t\tHub: this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_hub\"),\r\n\t\t\t\tSub: this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_sub\")\r\n\t\t\t};\r\n\t\t\t// PSW Start to add fields for description May 16th\r\n\t\t\toData.Input = {};\r\n\t\t\toData.Input.DivisionKey = \"\";\r\n\t\t\toData.Input.DivisionText = \"\";\r\n\t\t\toData.Input.HubKey = \"\";\r\n\t\t\toData.Input.HubText = \"\";\r\n\t\t\toData.Input.SubKey = \"\";\r\n\t\t\toData.Input.SubText = \"\";\r\n\t\t\toData.Input.Function = \"\";\r\n\t\t\toData.Input.FunctionText = \"\";\r\n\t\t\toData.Input.Channel = \"\";\r\n\t\t\toData.Input.ChannelText = \"\";\r\n\t\t\toData.Input.Category = \"\";\r\n\t\t\toData.Input.CategoryText = \"\";\r\n\t\t\toData.Input.Subcategory = \"\";\r\n\t\t\toData.Input.SubcategoryText = \"\";\r\n\t\t\toData.Input.Brand = \"\";\r\n\t\t\toData.Input.BrandText = \"\";\r\n\t\t\toData.Input.PlanningYear = \"\";\r\n\t\t\toData.PlanningYear = {};\r\n\t\t\toData.PlanningYear.Current = [];\r\n\t\t\toData.Brand = {};\r\n\t\t\toData.Brand.Current = [];\r\n\t\t\toModel = new sap.ui.model.json.JSONModel(oData);\r\n\t\t\tthis.getOwnerComponent().setModel(oModel, \"GeoFilter\");\r\n\r\n\t\t\tif (this.getOwnerComponent().getModel(\"masterShared\").getProperty(\"/oInternalEvents/configurationLoaded\") === true) {\r\n\t\t\t\tthis._setPlanningYearInfo();\r\n\t\t\t}\r\n\t\t\tDropdownUtils.getBrands(this, this.byId(\"Brand\"), \"\", \"\", \"\", oModel, \"/Brand\", null, \"/Brand/Current\");\r\n\t\t\t// Begin of Commenting - Khrystyne Williams - May 24, 2016\r\n\t\t\t// Removing the User Image from the master view\r\n\t\t\t// \t\t\tthis.byId(\"UserImage\").addStyleClass(\"img-circle\");\r\n\t\t\t// End of Commenting - Khrystyne Williams - May 24, 2016\r\n\r\n\t\t\t//this._getLocationList();\r\n\r\n\t\t\tthis.getRouter().getRoute(\"master\").attachPatternMatched(this._onMasterMatched, this);\r\n\t\t\tthis.getRouter().attachBypassed(this.onBypassed, this);\r\n\t\t},\r\n\r\n\t\t/* =========================================================== */\r\n\t\t/* event handlers                                              */\r\n\t\t/* =========================================================== */\r\n\r\n\t\t/**\r\n\t\t * After list data is available, this handler method updates the\r\n\t\t * master list counter and hides the pull to refresh control, if\r\n\t\t * necessary.\r\n\t\t * @param {sap.ui.base.Event} oEvent the update finished event\r\n\t\t * @public\r\n\t\t */\r\n\t\tonUpdateFinished: function(oEvent) {\r\n\t\t\t// update the master list object counter after new data is loaded\r\n\t\t\tthis._updateListItemCount(oEvent.getParameter(\"total\"));\r\n\t\t\t// hide pull to refresh if necessary\r\n\t\t\t//\t\t\tthis.byId(\"pullToRefresh\").hide();\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Event handler for the master search field. Applies current\r\n\t\t * filter value and triggers a new search. If the search field's\r\n\t\t * 'refresh' button has been pressed, no new search is triggered\r\n\t\t * and the list binding is refresh instead.\r\n\t\t * @param {sap.ui.base.Event} oEvent the search event\r\n\t\t * @public\r\n\t\t */\r\n\t\tonSearch: function(oEvent) {\r\n\t\t\tif (oEvent.getParameters().refreshButtonPressed) {\r\n\t\t\t\t// Search field's 'refresh' button has been pressed.\r\n\t\t\t\t// This is visible if you select any master list item.\r\n\t\t\t\t// In this case no new search is triggered, we only\r\n\t\t\t\t// refresh the list binding.\r\n\t\t\t\tthis.onRefresh();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar sQuery = oEvent.getParameter(\"query\");\r\n\r\n\t\t\tif (sQuery) {\r\n\t\t\t\tthis._oListFilterState.aSearch = [new Filter(\"Title\", FilterOperator.Contains, sQuery)];\r\n\t\t\t} else {\r\n\t\t\t\tthis._oListFilterState.aSearch = [];\r\n\t\t\t}\r\n\t\t\tthis._applyFilterSearch();\r\n\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Event handler for refresh event. Keeps filter, sort\r\n\t\t * and group settings and refreshes the list binding.\r\n\t\t * @public\r\n\t\t */\r\n\t\tonRefresh: function() {\r\n\t\t\t//\t\t\tthis._oList.getBinding(\"items\").refresh();\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Event handler for the sorter selection.\r\n\t\t * @param {sap.ui.base.Event} oEvent the select event\r\n\t\t * @public\r\n\t\t */\r\n\t\tonSort: function(oEvent) {\r\n\t\t\t// var sKey = oEvent.getSource().getSelectedItem().getKey(),\r\n\t\t\t// \taSorters = this._oGroupSortState.sort(sKey);\r\n\r\n\t\t\t// this._applyGroupSort(aSorters);\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Event handler for the grouper selection.\r\n\t\t * @param {sap.ui.base.Event} oEvent the search field event\r\n\t\t * @public\r\n\t\t */\r\n\t\tonGroup: function(oEvent) {\r\n\t\t\t// var sKey = oEvent.getSource().getSelectedItem().getKey(),\r\n\t\t\t// \taSorters = this._oGroupSortState.group(sKey);\r\n\r\n\t\t\t// this._applyGroupSort(aSorters);\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Event handler for the filter button to open the ViewSettingsDialog.\r\n\t\t * which is used to add or remove filters to the master list. This\r\n\t\t * handler method is also called when the filter bar is pressed,\r\n\t\t * which is added to the beginning of the master list when a filter is applied.\r\n\t\t * @public\r\n\t\t */\r\n\t\tonOpenViewSettings: function() {\r\n\t\t\tif (!this._oViewSettingsDialog) {\r\n\t\t\t\tthis._oViewSettingsDialog = sap.ui.xmlfragment(\"colgate.asm.planning.base.view.ViewSettingsDialog\", this);\r\n\t\t\t\tthis.getView().addDependent(this._oViewSettingsDialog);\r\n\t\t\t\t// forward compact/cozy style into Dialog\r\n\t\t\t\tthis._oViewSettingsDialog.addStyleClass(this.getOwnerComponent().getContentDensityClass());\r\n\t\t\t}\r\n\t\t\tthis._oViewSettingsDialog.open();\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Event handler called when ViewSettingsDialog has been confirmed, i.e.\r\n\t\t * has been closed with 'OK'. In the case, the currently chosen filters\r\n\t\t * are applied to the master list, which can also mean that the currently\r\n\t\t * applied filters are removed from the master list, in case the filter\r\n\t\t * settings are removed in the ViewSettingsDialog.\r\n\t\t * @param {sap.ui.base.Event} oEvent the confirm event\r\n\t\t * @public\r\n\t\t */\r\n\t\tonConfirmViewSettingsDialog: function(oEvent) {\r\n\t\t\tvar aFilterItems = oEvent.getParameters().filterItems,\r\n\t\t\t\taFilters = [],\r\n\t\t\t\taCaptions = [];\r\n\r\n\t\t\t// update filter state:\r\n\t\t\t// combine the filter array and the filter string\r\n\t\t\taFilterItems.forEach(function(oItem) {\r\n\t\t\t\tswitch (oItem.getKey()) {\r\n\t\t\t\t\tcase \"Filter1\":\r\n\t\t\t\t\t\taFilters.push(new Filter(\"ItemBudgetFrcstTotal\", FilterOperator.LE, 100));\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"Filter2\":\r\n\t\t\t\t\t\taFilters.push(new Filter(\"ItemBudgetFrcstTotal\", FilterOperator.GT, 100));\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\taCaptions.push(oItem.getText());\r\n\t\t\t});\r\n\r\n\t\t\tthis._oListFilterState.aFilter = aFilters;\r\n\t\t\tthis._updateFilterBar(aCaptions.join(\", \"));\r\n\t\t\tthis._applyFilterSearch();\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Event handler for the list selection event\r\n\t\t * @param {sap.ui.base.Event} oEvent the list selectionChange event\r\n\t\t * @public\r\n\t\t */\r\n\t\tonSelectionChange: function(oEvent) {\r\n\t\t\t// get the list item, either from the listItem parameter or from the event's source itself (will depend on the device-dependent mode).\r\n\t\t\tthis._showDetail();\r\n\t\t},\r\n\t\tonFilterChange: function(oEvent) {\r\n\t\t\t// get the list item, either from the listItem parameter or from the event's source itself (will depend on the device-dependent mode).\r\n\t\t\tthis._showDetail();\r\n\t\t},\r\n\t\tonYearChange: function(oEvent) {\r\n\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").getData().oInternalEvents.lastAction = \"ChangedYear\";\r\n\t\t\tthis._setPlanningYearInfo();\r\n\t\t\tthis._showDetail();\r\n\t\t},\r\n\t\tonGeoSelectionChange: function(oEvent) {\r\n\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oMasterBusy/busy\", true);\r\n\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").refresh(false);\r\n\t\t\tvar sChanged = oEvent.getSource().getId();\r\n\t\t\tvar aParts = sChanged.split(\"--\");\r\n\t\t\tsChanged = aParts[aParts.length - 1];\r\n\t\t\tthis._setGeoValues(sChanged);\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Event handler for the bypassed event, which is fired when no routing pattern matched.\r\n\t\t * If there was an object selected in the master list, that selection is removed.\r\n\t\t * @public\r\n\t\t */\r\n\t\tonBypassed: function() {\r\n\t\t\t//this._oList.removeSelections(true);\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Used to create GroupHeaders with non-capitalized caption.\r\n\t\t * These headers are inserted into the master list to\r\n\t\t * group the master list's items.\r\n\t\t * @param {Object} oGroup group whose text is to be displayed\r\n\t\t * @public\r\n\t\t * @returns {sap.m.GroupHeaderListItem} group header with non-capitalized caption.\r\n\t\t */\r\n\t\tcreateGroupHeader: function(oGroup) {\r\n\t\t\treturn new GroupHeaderListItem({\r\n\t\t\t\ttitle: oGroup.text,\r\n\t\t\t\tupperCase: false\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Navigates back in the browser history, if the entry was created by this app.\r\n\t\t * If not, it navigates to the Fiori Launchpad home page\r\n\t\t * @override\r\n\t\t * @public\r\n\t\t */\r\n\t\tonNavBack: function() {\r\n\t\t\tvar oHistory = sap.ui.core.routing.History.getInstance(),\r\n\t\t\t\tsPreviousHash = oHistory.getPreviousHash(),\r\n\t\t\t\toCrossAppNavigator = sap.ushell.Container.getService(\"CrossApplicationNavigation\");\r\n\r\n\t\t\tif (sPreviousHash !== undefined) {\r\n\t\t\t\t// The history contains a previous entry\r\n\t\t\t\thistory.go(-1);\r\n\t\t\t} else {\r\n\t\t\t\t// Navigate back to FLP home\r\n\t\t\t\toCrossAppNavigator.toExternal({\r\n\t\t\t\t\ttarget: {\r\n\t\t\t\t\t\tshellHash: \"#Shell-home\"\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tonButtonPress: function(oEvent) {\r\n\t\t\tvar oEventBus = sap.ui.getCore().getEventBus();\r\n\t\t\tvar aNames = oEvent.getSource().getId().split(\"--\");\r\n\t\t\tvar oData = {};\r\n\t\t\toData.button = aNames[aNames.length - 1];\r\n\t\t\t// Check if spinner should be started\r\n\t\t\tvar sName = oData.button.replace(\"Button\", \"\");\r\n\t\t\tvar iCount = sName - 1;\r\n\t\t\tvar sPath = \"/aMasterButtons/\" + iCount + \"/startSpinner\";\r\n\t\t\tif (this.getOwnerComponent().getModel(\"masterShared\").getProperty(sPath)) {\r\n\t\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", true);\r\n\t\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").refresh(false);\r\n\t\t\t\tvar sCurrentDetailView = this.getOwnerComponent().getModel(\"masterShared\").getProperty(\"/currentDetailView\");\r\n\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\toEventBus.publish(\"colgate.asm.planning.master.button.pressed\", sCurrentDetailView,\r\n\t\t\t\t\t\toData);\r\n\t\t\t\t}, 200);\r\n\t\t\t} else {\r\n\t\t\t\toEventBus.publish(\"colgate.asm.planning.master.button.pressed\", this.getOwnerComponent().getModel(\"masterShared\").getProperty(\r\n\t\t\t\t\t\t\"/currentDetailView\"),\r\n\t\t\t\t\toData);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/* =========================================================== */\r\n\t\t/* begin: internal methods                                     */\r\n\t\t/* =========================================================== */\r\n\r\n\t\t// psutram. Modified 2017.01.06 \r\n\t\tonClearFilter: function() {\r\n\t\t\tvar oModel = this.getOwnerComponent().getModel(\"GeoFilter\");\r\n\t\t\tvar oData = oModel.getData();\r\n\t\t\toData.Input.Division = \"\";\r\n\t\t\toData.Input.DivisionKey = \"\";\r\n\t\t\toData.Input.DivisionText = \"\";\r\n\t\t\toData.Input.Hub = \"\";\r\n\t\t\toData.Input.HubKey = \"\";\r\n\t\t\toData.Input.HubText = \"\";\r\n\t\t\toData.Input.Sub = \"\";\r\n\t\t\toData.Input.SubKey = \"\";\r\n\t\t\toData.Input.SubText = \"\";\r\n\t\t\toData.Input.Function = \"\";\r\n\t\t\toData.Input.FunctionText = \"\";\r\n\t\t\toData.Input.Channel = \"\";\r\n\t\t\toData.Input.ChannelText = \"\";\r\n\t\t\toData.Input.Category = \"\";\r\n\t\t\toData.Input.CategoryText = \"\";\r\n\t\t\toData.Input.Subcategory = \"\";\r\n\t\t\toData.Input.SubcategoryText = \"\";\r\n\t\t\toData.Input.Brand = \"\";\r\n\t\t\toData.Input.BrandText = \"\";\r\n\t\t\toModel.refresh(true);\r\n\t\t\tthis._initializeGeo();\r\n\t\t},\r\n\t\t// end of code changes\r\n\r\n\t\t_getLocationList: function() {\r\n\t\t\t// First check to make sure the user data model is loaded\r\n\t\t\t// Make initial OData calls that need further processing\r\n\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oMasterBusy/busy\", true); // Start Spinner\r\n\t\t\tvar oBaseModel = this.getModel();\r\n\t\t\tvar sPath = \"/Locations\";\r\n\t\t\tvar filters = [];\r\n\t\t\tvar oDivision = this.byId(\"Division\");\r\n\t\t\tvar oHub = this.byId(\"Hub\");\r\n\t\t\tvar oSub = this.byId(\"Sub\");\r\n\t\t\tfilters.push(new sap.ui.model.Filter(\"DivisionKey\", sap.ui.model.FilterOperator.EQ,\r\n\t\t\t\toDivision.getSelectedKey()));\r\n\t\t\tfilters.push(new sap.ui.model.Filter(\"HubKey\", sap.ui.model.FilterOperator.EQ,\r\n\t\t\t\toHub.getSelectedKey()));\r\n\t\t\tfilters.push(new sap.ui.model.Filter(\"SubKey\", sap.ui.model.FilterOperator.EQ,\r\n\t\t\t\toSub.getSelectedKey()));\r\n\t\t\tvar that = this;\r\n\t\t\toBaseModel.read(sPath, {\r\n\t\t\t\tasync: true,\r\n\t\t\t\tfilters: filters,\r\n\t\t\t\tsuccess: function(oDataIn, oResponse) {\r\n\t\t\t\t\tTimeoutUtils.onResetTimer(that);\r\n\t\t\t\t\t// Set up JSON data for editing\r\n\t\t\t\t\tvar oModel = that.getOwnerComponent().getModel(\"Locations\");\r\n\t\t\t\t\tvar oData = oModel.getData();\r\n\t\t\t\t\toData.OnScreen = JSON.parse(JSON.stringify(oDataIn.results)); // Clone all data\r\n\t\t\t\t\tfor (var i = 0; i < oData.OnScreen.length; i++) {\r\n\t\t\t\t\t\t// Add the index to the record\r\n\t\t\t\t\t\toData.OnScreen[i].__index = i;\r\n\t\t\t\t\t\t// Set the icon\r\n\t\t\t\t\t\tvar sIPath = jQuery.sap.getModulePath(\"colgate.asm.planning.base\");\r\n\t\t\t\t\t\tif (oData.OnScreen[i].Type && oData.OnScreen[i].Type === \"D\") {\r\n\t\t\t\t\t\t\toData.OnScreen[i].Icon = sIPath + \"/img/Div-web.png\";\r\n\t\t\t\t\t\t} else if (oData.OnScreen[i].Type && oData.OnScreen[i].Type === \"H\") {\r\n\t\t\t\t\t\t\toData.OnScreen[i].Icon = sIPath + \"/img/Hub-web.png\";\r\n\t\t\t\t\t\t} else if (oData.OnScreen[i].Type && oData.OnScreen[i].Type === \"S\") {\r\n\t\t\t\t\t\t\toData.OnScreen[i].Icon = sIPath + \"/img/Sub-web.png\";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// Add in default\r\n\t\t\t\t\toModel.refresh(false);\r\n\t\t\t\t\t// Now Set the selected entry.\r\n\t\t\t\t\t//that.byId(\"list\").setSelectedItemById(that.byId(\"list\").getItems()[0].getId());\r\n\t\t\t\t\tthat._showDetail();\r\n\t\t\t\t\tif (!that._firedStartEventComplete) {\r\n\t\t\t\t\t\tthat._firedStartEventComplete = true;\r\n\t\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.app.event\", \"StartEventComplete\", {\r\n\t\t\t\t\t\t\tLocation: \"LocationList\"\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\terror: function(oError) {\r\n\t\t\t\t\toError.ErrorOrigin = \"Initial\";\r\n\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.project\", \"Errors\", oError);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t_createViewModel: function() {\r\n\t\t\treturn new JSONModel({\r\n\t\t\t\tisFilterBarVisible: false,\r\n\t\t\t\tfilterBarLabel: \"\",\r\n\t\t\t\tdelay: 0,\r\n\t\t\t\tbusy: true,\r\n\t\t\t\ttitle: this.getResourceBundle().getText(\"masterTitleCount\", [0]),\r\n\t\t\t\tnoDataText: this.getResourceBundle().getText(\"masterListNoDataText\"),\r\n\t\t\t\tsortBy: \"SubDesc\",\r\n\t\t\t\tgroupBy: \"DivisionKey\"\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * If the master route was hit (empty hash) we have to set\r\n\t\t * the hash to to the first item in the list as soon as the\r\n\t\t * listLoading is done and the first item in the list is known\r\n\t\t * @private\r\n\t\t */\r\n\t\t_onMasterMatched: function() {\r\n\t\t\t// this.getOwnerComponent().oListSelector.oWhenListLoadingIsDone.then(\r\n\t\t\t// \tfunction(mParams) {\r\n\t\t\t// \t\tif (mParams.list.getMode() === \"None\") {\r\n\t\t\t// \t\t\treturn;\r\n\t\t\t// \t\t}\r\n\t\t\t// \t\tvar sObjectId = mParams.firstListitem.getBindingContext(\"list\").getProperty(\"GeoKey\") + \"-\" + mParams.firstListitem.getBindingContext(\r\n\t\t\t// \t\t\t\"list\").getProperty(\"Level\");\r\n\t\t\t// \t\tthis.getRouter().navTo(\"object\", {\r\n\t\t\t// \t\t\tobjectId: sObjectId\r\n\t\t\t// \t\t}, true);\r\n\t\t\t// \t}.bind(this),\r\n\t\t\t// \tfunction(mParams) {\r\n\t\t\t// \t\tif (mParams.error) {\r\n\t\t\t// \t\t\treturn;\r\n\t\t\t// \t\t}\r\n\t\t\t// \t\tthis.getRouter().getTargets().display(\"detailNoObjectsAvailable\");\r\n\t\t\t// \t}.bind(this)\r\n\t\t\t// );\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Shows the selected item on the detail page\r\n\t\t * On phones a additional history entry is created\r\n\t\t * @param {sap.m.ObjectListItem} oItem selected Item\r\n\t\t * @private\r\n\t\t */\r\n\t\t_showDetail: function() {\r\n\t\t\t//GDH - Receive events when screen is shown \r\n\t\t\tvar bReplace = !Device.system.phone;\r\n\t\t\tthis.getRouter().navTo(\"activities\", {\r\n\t\t\t\tobjectId: \"Activities\"\r\n\t\t\t}, bReplace);\r\n\t\t\t//var sPath = oItem.getBindingContext(\"Locations\").sPath;\r\n\t\t\t//var iIndex = sPath.substring(sPath.lastIndexOf(\"/\") + 1);\r\n\t\t\t//var oTile = this.getOwnerComponent().getModel(\"Locations\").getData().OnScreen[iIndex];\r\n\t\t\tvar oTile = {};\r\n\t\t\tvar oInput = this.getOwnerComponent().getModel(\"GeoFilter\").getData().Input;\r\n\t\t\tvar oData = {};\r\n\t\t\t// PSW Start to add description for selection May 16th 2016\r\n\t\t\tvar oItem = this.byId(\"Division\").getSelectedItem();\r\n\r\n\t\t\tif (oItem) {\r\n\t\t\t\toData.DivisionKey = oItem.getKey();\r\n\t\t\t\toData.DivisionText = oItem.getText();\r\n\t\t\t} else {\r\n\t\t\t\t// Begin of Addition - Khrystyne Vaughan - Jan 18, 2018\r\n\t\t\t\t// Adding in this else statement to mitigate the issue of not always having a selected Item available\r\n\t\t\t\t// This issue needs to be further investigated and cleaned up when time permits\r\n\t\t\t\tvar selectedKey = this.byId(\"Division\").getSelectedKey();\r\n\t\t\t\tif (selectedKey) {\r\n\t\t\t\t\toData.DivisionKey = selectedKey;\r\n\t\t\t\t\tvar oDItem = this.getModel(\"Division\").getProperty(\"/VHDivision(Type='D',GeoKey='\" + selectedKey + \"')\");\r\n\t\t\t\t\tif (oDItem) {\r\n\t\t\t\t\t\toData.DivisionText = oDItem.Desc;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\toData.DivisionText = \"\";\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\toData.DivisionKey = \"\";\r\n\t\t\t\t\toData.DivisionText = \"\";\r\n\t\t\t\t}\r\n\t\t\t\t// End of Addition - Khrystyne Vaughan - Jan 18, 2018\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\toItem = this.byId(\"Hub\").getSelectedItem();\r\n\t\t\tif (oItem) {\r\n\t\t\t\toData.HubKey = oItem.getKey();\r\n\t\t\t\toData.HubText = oItem.getText();\r\n\t\t\t} else {\r\n\t\t\t\t// Begin of Addition - Khrystyne Vaughan - Jan 18, 2018\r\n\t\t\t\t// Adding in this else statement to mitigate the issue of not always having a selected Item available\r\n\t\t\t\t// This issue needs to be further investigated and cleaned up when time permits\r\n\t\t\t\tvar selectedHKey = this.byId(\"Hub\").getSelectedKey();\r\n\t\t\t\tif (selectedHKey) {\r\n\t\t\t\t\toData.HubKey = selectedHKey;\r\n\t\t\t\t\tvar oHItem = this.getModel(\"Hub\").getProperty(\"/VHHubs(Type='H',GeoKey='\" + selectedHKey + \"')\");\r\n\t\t\t\t\tif (oHItem) {\r\n\t\t\t\t\t\toData.HubText = oHItem.Desc;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\toData.HubText = \"\";\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\toData.HubKey = \"\";\r\n\t\t\t\t\toData.HubText = \"\";\r\n\t\t\t\t}\r\n\t\t\t\t// End of Addition - Khrystyne Vaughan - Jan 18, 2018\r\n\t\t\t}\r\n\t\t\toItem = this.byId(\"Sub\").getSelectedItem();\r\n\t\t\tif (oItem) {\r\n\t\t\t\toData.SubKey = oItem.getKey();\r\n\t\t\t\toData.SubText = oItem.getText();\r\n\t\t\t} else {\r\n\t\t\t\t// Begin of Addition - Khrystyne Vaughan - Jan 18, 2018\r\n\t\t\t\t// Adding in this else statement to mitigate the issue of not always having a selected Item available\r\n\t\t\t\t// This issue needs to be further investigated and cleaned up when time permits\r\n\t\t\t\tvar selectedSKey = this.byId(\"Sub\").getSelectedKey();\r\n\t\t\t\tif (selectedSKey) {\r\n\t\t\t\t\toData.SubKey = selectedSKey;\r\n\t\t\t\t\tvar oSItem = this.getModel(\"Sub\").getProperty(\"/VHSubs(Type='S',GeoKey='\" + selectedSKey + \"')\");\r\n\t\t\t\t\tif (oSItem) {\r\n\t\t\t\t\t\toData.SubText = oSItem.Desc;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\toData.SubText = \"\";\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\toData.SubKey = \"\";\r\n\t\t\t\t\toData.SubText = \"\";\r\n\t\t\t\t}\r\n\t\t\t\t// End of Addition - Khrystyne Vaughan - Jan 18, 2018\r\n\t\t\t}\r\n\t\t\toData.Function = oInput.Function;\r\n\t\t\tif (oInput.Function && oInput.Function !== \"\" && this.byId(\"Function\").getSelectedItem()) {\r\n\t\t\t\toData.FunctionText = this.byId(\"Function\").getSelectedItem().getText();\r\n\t\t\t}\r\n\t\t\toData.Channel = oInput.Channel;\r\n\t\t\tif (oInput.Channel && oInput.Channel !== \"\" && this.byId(\"Channel\").getSelectedItem()) {\r\n\t\t\t\toData.ChannelText = this.byId(\"Channel\").getSelectedItem().getText();\r\n\t\t\t}\r\n\t\t\toData.Category = oInput.Category;\r\n\t\t\tif (oInput.Category && oInput.Category !== \"\" && this.byId(\"Category\").getSelectedItem()) {\r\n\t\t\t\toData.CategoryText = this.byId(\"Category\").getSelectedItem().getText();\r\n\t\t\t}\r\n\t\t\toData.Subcategory = oInput.Subcategory;\r\n\t\t\tif (oInput.Subcategory && oInput.Subcategory !== \"\" && this.byId(\"Subcategory\").getSelectedItem()) {\r\n\t\t\t\toData.SubcategoryText = this.byId(\"Subcategory\").getSelectedItem().getText();\r\n\t\t\t}\r\n\t\t\toData.Brand = oInput.Brand;\r\n\t\t\tif (oInput.Brand && oInput.Brand !== \"\" && this.byId(\"Brand\").getSelectedItem()) {\r\n\t\t\t\toData.BrandText = this.byId(\"Brand\").getSelectedItem().getText();\r\n\t\t\t}\r\n\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").getData().oMasterSelect = oData;\r\n\t\t\tvar oEventBus = sap.ui.getCore().getEventBus();\r\n\t\t\toEventBus.publish(\"colgate.asm.planning.master.listItemSelected\", \"Activities\", oData);\r\n\t\t\t// PSW End to add description for se May 16th\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Sets the item count on the master list header\r\n\t\t * @param {integer} iTotalItems the total number of items in the list\r\n\t\t * @private\r\n\t\t */\r\n\t\t_updateListItemCount: function(iTotalItems) {\r\n\t\t\t//var sTitle;\r\n\t\t\t// only update the counter if the length is final\r\n\t\t\t// if (this._oList.getBinding(\"items\").isLengthFinal()) {\r\n\t\t\t// \tsTitle = this.getResourceBundle().getText(\"masterTitleCount\", [iTotalItems]);\r\n\t\t\t// \tthis.getOwnerComponent().getModel(\"masterView\").setProperty(\"/title\", sTitle);\r\n\t\t\t// }\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Internal helper method to apply both filter and search state together on the list binding\r\n\t\t * @private\r\n\t\t */\r\n\t\t_applyFilterSearch: function() {\r\n\t\t\tvar aFilters = this._oListFilterState.aSearch.concat(this._oListFilterState.aFilter),\r\n\t\t\t\toViewModel = this.getOwnerComponent().getModel(\"masterView\");\r\n\t\t\t//this._oList.getBinding(\"items\").filter(aFilters, \"Application\");\r\n\t\t\t// changes the noDataText of the list in case there are no filter results\r\n\t\t\tif (aFilters.length !== 0) {\r\n\t\t\t\toViewModel.setProperty(\"/noDataText\", this.getResourceBundle().getText(\"masterListNoDataWithFilterOrSearchText\"));\r\n\t\t\t} else if (this._oListFilterState.aSearch.length > 0) {\r\n\t\t\t\t// only reset the no data text to default when no new search was triggered\r\n\t\t\t\toViewModel.setProperty(\"/noDataText\", this.getResourceBundle().getText(\"masterListNoDataText\"));\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Internal helper method to apply both group and sort state together on the list binding\r\n\t\t * @param {sap.ui.model.Sorter[]} aSorters an array of sorters\r\n\t\t * @private\r\n\t\t */\r\n\t\t_applyGroupSort: function(aSorters) {\r\n\t\t\t//this._oList.getBinding(\"items\").sort(aSorters);\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Internal helper method that sets the filter bar visibility property and the label's caption to be shown\r\n\t\t * @param {string} sFilterBarText the selected filter value\r\n\t\t * @private\r\n\t\t */\r\n\t\t_updateFilterBar: function(sFilterBarText) {\r\n\t\t\tvar oViewModel = this.getOwnerComponent().getModel(\"masterView\");\r\n\t\t\t//oViewModel.setProperty(\"/isFilterBarVisible\", (this._oListFilterState.aFilter.length > 0));\r\n\t\t\toViewModel.setProperty(\"/filterBarLabel\", this.getResourceBundle().getText(\"masterFilterBarText\", [sFilterBarText]));\r\n\t\t},\r\n\t\t_handleODataErrors: function(oDataIn) {\r\n\t\t\tvar sOrigin = oDataIn.ErrorOrigin;\r\n\t\t\tif (sOrigin === \"User\") {\r\n\t\t\t\talert(\"Error Occurred\");\r\n\t\t\t}\r\n\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oMasterBusy/busy\", false); // Stop Spinner\r\n\t\t},\r\n\t\t_initializeGeo: function() {\r\n\t\t\t// The success for this one handles itself, but you should set the initial division data.\r\n\t\t\tvar oDivision = this.byId(\"Division\");\r\n\t\t\tvar oHub = this.byId(\"Hub\");\r\n\t\t\tvar oSub = this.byId(\"Sub\");\r\n\t\t\tvar oUserData = this.getOwnerComponent().getModel(\"UserData\");\r\n\t\t\tif (oUserData) {\r\n\t\t\t\tvar sDivision = oUserData.getProperty(\"/DivisionKey\");\r\n\t\t\t\tif (sDivision && sDivision !== \"\") {\r\n\t\t\t\t\toDivision.setSelectedKey(sDivision);\r\n\t\t\t\t\toDivision.setEnabled(false);\r\n\t\t\t\t\tvar sHub = oUserData.getProperty(\"/HubKey\");\r\n\t\t\t\t\tif (sHub && sHub !== \"\") {\r\n\t\t\t\t\t\tthis._setGeoValues(\"Division\");\r\n\t\t\t\t\t\toHub.setSelectedKey(sHub);\r\n\t\t\t\t\t\toHub.setEnabled(false);\r\n\t\t\t\t\t\tvar sSub = oUserData.getProperty(\"/SubKey\");\r\n\t\t\t\t\t\tif (sSub && sSub !== \"\") {\r\n\t\t\t\t\t\t\tthis._setGeoValues(\"Hub\");\r\n\t\t\t\t\t\t\toSub.setSelectedKey(sSub);\r\n\t\t\t\t\t\t\toSub.setEnabled(false);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis._setGeoValues(\"Hub\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis._setGeoValues(\"Division\");\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis._setGeoValues(\"Division\");\r\n\t\t\t\t}\r\n\t\t\t\tthis._initializeOthers();\r\n\t\t\t\t// Begin of Addition - Khrystyne Williams - May 24, 2016\r\n\t\t\t\t// Adding new call for initialization for PH Filter fields\r\n\t\t\t\tthis._initializePH();\r\n\t\t\t\t// End of Addition - Khrystyne Williams - May 24, 2016\r\n\t\t\t} else {\r\n\t\t\t\tthis._setGeoValues(\"Division\");\r\n\t\t\t}\r\n\t\t},\r\n\t\t_initializeOthers: function() {\r\n\t\t\tvar oFunction = this.byId(\"Function\");\r\n\t\t\tvar oChannel = this.byId(\"Channel\");\r\n\t\t\tvar oUserData = this.getOwnerComponent().getModel(\"UserData\");\r\n\t\t\tif (oUserData) {\r\n\t\t\t\tvar sFunction = oUserData.getProperty(\"/Function\");\r\n\t\t\t\tvar sChannel = oUserData.getProperty(\"/Channel\");\r\n\t\t\t\tif (sFunction && sFunction !== \"\") {\r\n\t\t\t\t\toFunction.setSelectedKey(sFunction);\r\n\t\t\t\t\toFunction.setEnabled(false);\r\n\t\t\t\t} else {\r\n\t\t\t\t\toFunction.setSelectedKey(\"\");\r\n\t\t\t\t}\r\n\t\t\t\tif (sChannel && sChannel !== \"\") {\r\n\t\t\t\t\toChannel.setSelectedKey(sChannel);\r\n\t\t\t\t\toChannel.setEnabled(false);\r\n\t\t\t\t} else {\r\n\t\t\t\t\toFunction.setSelectedKey(\"\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t// Begin of Addition - Khrystyne Williams - May 24, 2016\r\n\t\t// Adding initialization for PH Filter fields\r\n\t\t_initializePH: function() {\r\n\t\t\tvar oCategory = this.byId(\"Category\");\r\n\t\t\tvar oSubcategory = this.byId(\"Subcategory\");\r\n\t\t\tvar oBrand = this.byId(\"Brand\");\r\n\t\t\tvar oUserData = this.getOwnerComponent().getModel(\"UserData\");\r\n\t\t\tif (oUserData) {\r\n\t\t\t\tvar sCategory = oUserData.getProperty(\"/Category\");\r\n\t\t\t\tif (sCategory && sCategory !== \"\") {\r\n\t\t\t\t\toCategory.setSelectedKey(sCategory);\r\n\t\t\t\t\toCategory.setEnabled(false);\r\n\t\t\t\t\tvar sSubcategory = oUserData.getProperty(\"/SubCategory\");\r\n\t\t\t\t\tif (sSubcategory && sSubcategory !== \"\") {\r\n\t\t\t\t\t\tthis._setGeoValues(\"Category\");\r\n\t\t\t\t\t\toSubcategory.setSelectedKey(sSubcategory);\r\n\t\t\t\t\t\toSubcategory.setEnabled(false);\r\n\t\t\t\t\t\tvar sBrand = oUserData.getProperty(\"/Brand\");\r\n\t\t\t\t\t\tif (sBrand && sBrand !== \"\") {\r\n\t\t\t\t\t\t\tthis._setGeoValues(\"Subcategory\");\r\n\t\t\t\t\t\t\toBrand.setSelectedKey(sBrand);\r\n\t\t\t\t\t\t\t//oBrand.setEnabled(false);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis._setGeoValues(\"Subcategory\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis._setGeoValues(\"Category\");\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis._setGeoValues(\"Category\");\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tthis._setGeoValues(\"Category\");\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\t// End of Addition - Khrystyne Williams - May 24, 2016\r\n\t\t_setGeoValues: function(sChanged) {\r\n\t\t\tvar oDivision = this.byId(\"Division\");\r\n\t\t\tvar oHub = this.byId(\"Hub\");\r\n\t\t\tvar oSub = this.byId(\"Sub\");\r\n\t\t\t// \t\t\tBegin of Addition - Khrystyne Williams - May 24, 2016\r\n\t\t\tvar oCategory = this.byId(\"Category\");\r\n\t\t\tvar oSubcategory = this.byId(\"Subcategory\");\r\n\t\t\tvar oBrand = this.byId(\"Brand\");\r\n\t\t\toBrand.setEnabled(true);\r\n\t\t\t// \t\t\tEnd of Addition - Khrystyne Williams - May 24, 2016\r\n\t\t\tvar oACModel = this.getOwnerComponent().getModel(\"GeoFilter\");\r\n\t\t\tvar oACData = oACModel.getData();\r\n\t\t\tvar sServiceUrl = this.getOwnerComponent().getModel(\"masterShared\").getProperty(\"/oServiceUrls/mainService\");\r\n\t\t\toACData.Placeholders.Brand = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_brand_f\");\r\n\t\t\tif (sChanged === \"Division\") {\r\n\t\t\t\t// First clear the keys\r\n\r\n\t\t\t\tvar model = this.getOwnerComponent().getModel(\"Division\");\r\n\t\t\t\tif (!model) {\r\n\t\t\t\t\tmodel = new sap.ui.model.odata.v2.ODataModel(sServiceUrl, false);\r\n\t\t\t\t\tmodel.setSizeLimit(50000);\r\n\t\t\t\t\tthis.getOwnerComponent().setModel(model, \"Division\");\r\n\t\t\t\t}\r\n\t\t\t\tvar sSelected = oDivision.getSelectedKey();\r\n\t\t\t\tif (!sSelected || sSelected === \"\") {\r\n\t\t\t\t\t// var filters = [];\r\n\t\t\t\t\t// filters.push(new sap.ui.model.Filter(\"GeoKey\", sap.ui.model.FilterOperator.EQ, oDivision.getSelectedKey()));\r\n\t\t\t\t\t// var sPath = \"/VHDivision\";\r\n\t\t\t\t\t// model.read(sPath, {\r\n\t\t\t\t\t// \tasync: false,\r\n\t\t\t\t\t// \tfilters: filters,\r\n\t\t\t\t\t// \terror: function() {\r\n\t\t\t\t\t// \t\talert(\"Error Occurred\");\r\n\t\t\t\t\t// \t}\r\n\t\t\t\t\t// });\r\n\t\t\t\t\tif (oACData.Input.Hub) {\r\n\t\t\t\t\t\toACData.Input.Hub = \"\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (oACData.Input.Sub) {\r\n\t\t\t\t\t\toACData.Input.Sub = \"\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\toHub.setEnabled(false);\r\n\t\t\t\t\toSub.setEnabled(false);\r\n\t\t\t\t\toACData.Placeholders.Hub = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_hub\");\r\n\t\t\t\t\toACData.Placeholders.Sub = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_sub\");\r\n\t\t\t\t\tthis._getLocationList();\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// Check if you already have these values stored\r\n\t\t\t\t\tvar combinedKey = oDivision.getSelectedKey();\r\n\t\t\t\t\t// First clear out old values\r\n\t\t\t\t\tif (oACData.Input.Hub) {\r\n\t\t\t\t\t\toACData.Input.Hub = \"\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (oACData.Input.Sub) {\r\n\t\t\t\t\t\toACData.Input.Sub = \"\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (oACData.Hub && oACData.Hub[combinedKey]) {\r\n\t\t\t\t\t\t// You don't need to select - we already have the data\r\n\t\t\t\t\t\toACData.Hub.Current = oACData.Hub[combinedKey];\r\n\t\t\t\t\t\tthis._getLocationList();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tvar bmodel = this.getOwnerComponent().getModel(\"Hub\");\r\n\t\t\t\t\t\tif (!bmodel) {\r\n\t\t\t\t\t\t\tbmodel = new sap.ui.model.odata.v2.ODataModel(sServiceUrl);\r\n\t\t\t\t\t\t\tbmodel.setSizeLimit(50000);\r\n\t\t\t\t\t\t\tbmodel.setDefaultCountMode(sap.ui.model.odata.CountMode.None);\r\n\t\t\t\t\t\t\tthis.getOwnerComponent().setModel(bmodel, \"Hub\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvar filters = [];\r\n\t\t\t\t\t\tfilters.push(new sap.ui.model.Filter(\"GeoKey\", sap.ui.model.FilterOperator.EQ, oHub.getSelectedKey()));\r\n\t\t\t\t\t\tfilters.push(new sap.ui.model.Filter(\"DivisionKey\", sap.ui.model.FilterOperator.EQ, oDivision.getSelectedKey()));\r\n\t\t\t\t\t\tvar sPath = \"/VHHubs\";\r\n\t\t\t\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", true); // Start Spinner\r\n\t\t\t\t\t\tvar that = this;\r\n\t\t\t\t\t\tbmodel.read(sPath, {\r\n\t\t\t\t\t\t\tasync: true,\r\n\t\t\t\t\t\t\tfilters: filters,\r\n\t\t\t\t\t\t\tsuccess: function(oData, oResponse) {\r\n\t\t\t\t\t\t\t\tTimeoutUtils.onResetTimer(that);\r\n\t\t\t\t\t\t\t\tthat._setHubs(oData);\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\terror: function(oError) {\r\n\t\t\t\t\t\t\t\toError.ErrorOrigin = \"Hubs\";\r\n\t\t\t\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.detail\", \"Errors\", oError);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t\toHub.setEnabled(true);\r\n\t\t\t\t\toACData.Placeholders.Hub = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_hub_f\");\r\n\t\t\t\t\toACData.Placeholders.Sub = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_sub_he\");\r\n\t\t\t\t}\r\n\t\t\t\toSub.setEnabled(false);\r\n\t\t\t} else if (sChanged === \"Hub\") {\r\n\t\t\t\t// First clear out old values\r\n\t\t\t\tif (oHub.getSelectedKey() && oHub.getSelectedKey() !== \"\") {\r\n\t\t\t\t\tif (oACData.Input.Sub) {\r\n\t\t\t\t\t\toACData.Input.Sub = \"\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar sbmodel = this.getOwnerComponent().getModel(\"Sub\");\r\n\t\t\t\t\tif (!sbmodel) {\r\n\t\t\t\t\t\tsbmodel = new sap.ui.model.odata.v2.ODataModel(sServiceUrl);\r\n\t\t\t\t\t\tsbmodel.setSizeLimit(50000);\r\n\t\t\t\t\t\tsbmodel.setDefaultCountMode(sap.ui.model.odata.CountMode.None);\r\n\t\t\t\t\t\tthis.getOwnerComponent().setModel(sbmodel, \"Sub\");\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar filters = [];\r\n\t\t\t\t\tfilters.push(new sap.ui.model.Filter(\"GeoKey\", sap.ui.model.FilterOperator.EQ, oSub.getSelectedKey()));\r\n\t\t\t\t\tfilters.push(new sap.ui.model.Filter(\"HubKey\", sap.ui.model.FilterOperator.EQ, oHub.getSelectedKey()));\r\n\t\t\t\t\tfilters.push(new sap.ui.model.Filter(\"DivisionKey\", sap.ui.model.FilterOperator.EQ, oDivision.getSelectedKey()));\r\n\t\t\t\t\tvar sPath = \"/VHSubs\";\r\n\t\t\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", true); // Start Spinner\r\n\t\t\t\t\tvar that = this;\r\n\t\t\t\t\tsbmodel.read(sPath, {\r\n\t\t\t\t\t\tasync: true,\r\n\t\t\t\t\t\tfilters: filters,\r\n\t\t\t\t\t\tsuccess: function(oData, oResponse) {\r\n\t\t\t\t\t\t\tTimeoutUtils.onResetTimer(that);\r\n\t\t\t\t\t\t\tthat._setSubs(oData);\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\terror: function(oError) {\r\n\t\t\t\t\t\t\toError.ErrorOrigin = \"Subs\";\r\n\t\t\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.detail\", \"Errors\", oError);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\toSub.setEnabled(true);\r\n\t\t\t\t\toACData.Placeholders.Sub = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_sub_f\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// Reset Sub\r\n\t\t\t\t\toSub.setEnabled(false);\r\n\t\t\t\t\tif (oACData.Input.Sub) {\r\n\t\t\t\t\t\toACData.Input.Sub = \"\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\toACData.Placeholders.Sub = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_sub_he\");\r\n\t\t\t\t\tthis._getLocationList();\r\n\t\t\t\t}\r\n\t\t\t} else if (sChanged === \"Sub\") {\r\n\t\t\t\tthis._getLocationList();\r\n\t\t\t\t// Begin of Addition - Khrystyne Williams - May 24, 2016\r\n\t\t\t\t// Adding the setting of the Category, SubCategory, and Brand\r\n\t\t\t} else if (sChanged === \"Category\") {\r\n\t\t\t\t// First clear the keys\r\n\t\t\t\tvar cmodel = this.getOwnerComponent().getModel(\"Category\");\r\n\t\t\t\tif (!cmodel) {\r\n\t\t\t\t\tcmodel = new sap.ui.model.odata.v2.ODataModel(sServiceUrl, false);\r\n\t\t\t\t\tcmodel.setSizeLimit(50000);\r\n\t\t\t\t\tthis.getOwnerComponent().setModel(cmodel, \"Category\");\r\n\t\t\t\t}\r\n\t\t\t\tvar cSelected = oCategory.getSelectedKey();\r\n\t\t\t\tif (!cSelected || cSelected === \"\") {\r\n\t\t\t\t\toSubcategory.setEnabled(false);\r\n\t\t\t\t\t//oBrand.setEnabled(false);\r\n\t\t\t\t\tif (oACData.Input.Subcategory) {\r\n\t\t\t\t\t\toACData.Input.Subcategory = \"\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// if (oACData.Input.Brand) {\r\n\t\t\t\t\t// \toACData.Input.Brand = \"\";\r\n\t\t\t\t\t// }\r\n\t\t\t\t\toACData.Placeholders.Subcategory = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_pscategory\");\r\n\t\t\t\t\t//oACData.Placeholders.Brand = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_brand\");\r\n\t\t\t\t\tthis._showDetail(); //GDH\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// Check if you already have these values stored\r\n\t\t\t\t\tvar catcombinedKey = oCategory.getSelectedKey();\r\n\t\t\t\t\t// First clear out old values\r\n\t\t\t\t\tif (oACData.Input.Subcategory) { // GDH\r\n\t\t\t\t\t\toACData.Input.Subcategory = \"\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// if (oACData.Input.Brand) {\r\n\t\t\t\t\t// \toACData.Input.Brand = \"\";\r\n\t\t\t\t\t// }\r\n\t\t\t\t\tif (oACData.Subcategory && oACData.Subcategory[catcombinedKey]) {\r\n\t\t\t\t\t\t// You don't need to select - we already have the data\r\n\t\t\t\t\t\toACData.Subcategory.Current = oACData.Subcategory[catcombinedKey];\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tvar dmodel = this.getOwnerComponent().getModel(\"Subcategory\");\r\n\t\t\t\t\t\tif (!dmodel) {\r\n\t\t\t\t\t\t\tdmodel = new sap.ui.model.odata.v2.ODataModel(sServiceUrl);\r\n\t\t\t\t\t\t\tdmodel.setSizeLimit(50000);\r\n\t\t\t\t\t\t\tdmodel.setDefaultCountMode(sap.ui.model.odata.CountMode.None);\r\n\t\t\t\t\t\t\tthis.getOwnerComponent().setModel(dmodel, \"Subcategory\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvar cfilters = [];\r\n\t\t\t\t\t\tcfilters.push(new sap.ui.model.Filter(\"Category\", sap.ui.model.FilterOperator.EQ, oCategory.getSelectedKey()));\r\n\t\t\t\t\t\tvar cPath = \"/VHSubcategories\";\r\n\t\t\t\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", true); // Start Spinner\r\n\t\t\t\t\t\tvar holder = this;\r\n\t\t\t\t\t\tdmodel.read(cPath, {\r\n\t\t\t\t\t\t\tasync: true,\r\n\t\t\t\t\t\t\tfilters: cfilters,\r\n\t\t\t\t\t\t\tsuccess: function(oData, oResponse) {\r\n\t\t\t\t\t\t\t\tTimeoutUtils.onResetTimer(holder);\r\n\t\t\t\t\t\t\t\tholder._setSubcategory(oData);\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\terror: function(oError) {\r\n\t\t\t\t\t\t\t\toError.ErrorOrigin = \"Category\";\r\n\t\t\t\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.detail\", \"Errors\", oError);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t\toSubcategory.setEnabled(true);\r\n\t\t\t\t\toACData.Placeholders.Subcategory = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_pscategory_f\");\r\n\t\t\t\t\t//oACData.Placeholders.Brand = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_brand_se\");\r\n\t\t\t\t}\r\n\t\t\t\tDropdownUtils.getBrands(this, oBrand, oCategory.getSelectedKey(), oSubcategory.getSelectedKey(), oBrand.getSelectedKey(),\r\n\t\t\t\t\tthis.getOwnerComponent().getModel(\"GeoFilter\"), \"/Brand\", null, \"/Brand/Current\");\r\n\t\t\t\t//oBrand.setEnabled(false);\r\n\t\t\t} else if (sChanged === \"Subcategory\") {\r\n\t\t\t\t// First clear out old values\r\n\t\t\t\tDropdownUtils.getBrands(this, oBrand, oCategory.getSelectedKey(), oSubcategory.getSelectedKey(), oBrand.getSelectedKey(),\r\n\t\t\t\t\tthis.getOwnerComponent().getModel(\"GeoFilter\"), \"/Brand\", null, \"/Brand/Current\");\r\n\t\t\t\tthis._showDetail();\r\n\t\t\t\t//if (oSubcategory.getSelectedKey() && oSubcategory.getSelectedKey() !== \"\") {\r\n\t\t\t\t// if (oACData.Input.Brand) {\r\n\t\t\t\t// \toACData.Input.Brand = \"\";\r\n\t\t\t\t// }\r\n\t\t\t\t// GDH Brand Adjustments\r\n\t\t\t\t// var brmodel = this.getOwnerComponent().getModel(\"Brand\");\r\n\t\t\t\t// if (!brmodel) {\r\n\t\t\t\t// \tbrmodel = new sap.ui.model.odata.v2.ODataModel(sServiceUrl);\r\n\t\t\t\t// \tbrmodel.setSizeLimit(50000);\r\n\t\t\t\t// \tbrmodel.setDefaultCountMode(sap.ui.model.odata.CountMode.None);\r\n\t\t\t\t// \tthis.getOwnerComponent().setModel(brmodel, \"Brand\");\r\n\t\t\t\t// }\r\n\t\t\t\t// var sbfilters = [];\r\n\t\t\t\t// sbfilters.push(new sap.ui.model.Filter(\"PSubCategory\", sap.ui.model.FilterOperator.EQ, oSubcategory.getSelectedKey()));\r\n\t\t\t\t// sbfilters.push(new sap.ui.model.Filter(\"Category\", sap.ui.model.FilterOperator.EQ, oCategory.getSelectedKey()));\r\n\t\t\t\t// if (oBrand.getSelectedKey() && oBrand.getSelectedKey() !== \"\") {\r\n\t\t\t\t// \tsbfilters.push(new sap.ui.model.Filter(\"Brand\", sap.ui.model.FilterOperator.EQ, oBrand.getSelectedKey()));\r\n\t\t\t\t// }\r\n\t\t\t\t// var brPath = \"/VHBrands\";\r\n\t\t\t\t// this.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", true); // Start Spinner\r\n\t\t\t\t// var brholder = this;\r\n\t\t\t\t// brmodel.read(brPath, {\r\n\t\t\t\t// \tasync: true,\r\n\t\t\t\t// \tfilters: sbfilters,\r\n\t\t\t\t// \tsuccess: function(oData, oResponse) {\r\n\t\t\t\t// \t\tTimeoutUtils.onResetTimer(brholder);\r\n\t\t\t\t// \t\tbrholder._setBrand(oData);\r\n\t\t\t\t// \t},\r\n\t\t\t\t// \terror: function(oError) {\r\n\t\t\t\t// \t\toError.ErrorOrigin = \"Brand\";\r\n\t\t\t\t// \t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.detail\", \"Errors\", oError);\r\n\t\t\t\t// \t}\r\n\t\t\t\t// });\r\n\t\t\t\t//oBrand.setEnabled(true);\r\n\t\t\t\t//oACData.Placeholders.Brand = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_brand_f\");\r\n\t\t\t\t//} else {\r\n\t\t\t\t// Reset Brand\r\n\t\t\t\t// oBrand.setEnabled(false);\r\n\t\t\t\t// if (oACData.Input.Brand) { // GDH\r\n\t\t\t\t// \toACData.Input.Brand = \"\";\r\n\t\t\t\t// }\r\n\t\t\t\t//oACData.Placeholders.Brand = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_brand_se\");\r\n\t\t\t\t//this._showDetail();\r\n\t\t\t\t//}\r\n\t\t\t} else if (sChanged === \"Brand\") {\r\n\t\t\t\tthis._showDetail();\r\n\t\t\t}\r\n\t\t\t//   End of Addition - Khrystyne Williams - May 24, 2016\r\n\t\t},\r\n\t\t_setHubs: function(oDataIn) {\r\n\t\t\tvar oModel = this.getOwnerComponent().getModel(\"GeoFilter\");\r\n\t\t\tvar oData = oModel.getData();\r\n\t\t\tif (!oData.Hub) {\r\n\t\t\t\toData.Hub = {};\r\n\t\t\t}\r\n\t\t\toData.Hub.Current = oDataIn.results;\r\n\t\t\tvar oDivision = this.byId(\"Division\");\r\n\t\t\tvar combinedKey = oDivision.getSelectedKey();\r\n\t\t\toData.Hub[combinedKey] = oDataIn.results;\r\n\t\t\toModel.refresh(false);\r\n\t\t\tthis._getLocationList();\r\n\t\t},\r\n\t\t_setSubs: function(oDataIn) {\r\n\t\t\tvar oModel = this.getOwnerComponent().getModel(\"GeoFilter\");\r\n\t\t\tvar oData = oModel.getData();\r\n\t\t\tif (!oData.Sub) {\r\n\t\t\t\toData.Sub = {};\r\n\t\t\t}\r\n\t\t\toData.Sub.Current = oDataIn.results;\r\n\t\t\toModel.refresh(false);\r\n\t\t\tthis._getLocationList();\r\n\t\t},\r\n\t\t// Begin of Addition - Khrystyne Williams - May 24, 2016\r\n\t\t// Setting the Sub-Category and Brand\r\n\t\t_setSubcategory: function(oDataIn) {\r\n\t\t\tvar oModel = this.getOwnerComponent().getModel(\"GeoFilter\");\r\n\t\t\tvar oData = oModel.getData();\r\n\t\t\tif (!oData.Subcategory) {\r\n\t\t\t\toData.Subcategory = {};\r\n\t\t\t}\r\n\t\t\toData.Subcategory.Current = oDataIn.results;\r\n\t\t\toModel.refresh(false);\r\n\t\t\tthis._showDetail();\r\n\t\t},\r\n\t\t// GDH Brand Adjustment\r\n\t\t// _setBrand: function(oDataIn) {\r\n\t\t// \tvar oModel = this.getOwnerComponent().getModel(\"GeoFilter\");\r\n\t\t// \tvar oData = oModel.getData();\r\n\t\t// \tif (!oData.Brand) {\r\n\t\t// \t\toData.Brand = {};\r\n\t\t// \t}\r\n\t\t// \toData.Brand.Current = oDataIn.results;\r\n\t\t// \toModel.refresh(false);\r\n\t\t// \tthis._showDetail();\r\n\t\t// },\r\n\t\t// End of Addition - Khrystyne Williams - May 24, 2016\r\n\t\t_handleButtonsSet: function(oDataIn) {\r\n\t\t\t// if(!this.byId(\"list\").getSelectedItem()){\r\n\t\t\t// \tvar aItems = this.byId(\"list\").getItems();\r\n\t\t\t// \tvar sId = \"\";\r\n\t\t\t// \tvar sCurrentView = this.getOwnerComponent().getModel(\"masterShared\").getProperty(\"/currentDetailView\");\r\n\t\t\t// \tif (sCurrentView===\"Finance\") {\r\n\t\t\t// \t\tsId = aItems[0].getId();\r\n\t\t\t// \t} else if (sCurrentView===\"Media\"){\r\n\t\t\t// \t\tsId = aItems[1].getId();\r\n\t\t\t// \t} else if (sCurrentView===\"Projects\"){\r\n\t\t\t// \t\tsId = aItems[2].getId();\r\n\t\t\t// \t}\r\n\t\t\t// \tthis.byId(\"list\").setSelectedItemById(sId);\r\n\t\t\t// }\r\n\t\t},\r\n\t\t_setPlanningYearInfo: function() {\r\n\t\t\tvar oConfig = JSON.parse(this.getOwnerComponent().getModel(\"ASMConfig\").getData().Properties.PlanningYearConfig);\r\n\t\t\tvar currentPlanningYear = this.getOwnerComponent().getModel(\"GeoFilter\").getProperty(\"/Input/PlanningYear\");\r\n\t\t\tvar configDefaultPlanningYear = this.getOwnerComponent().getModel(\"GeoFilter\").getProperty(\"/PlanningYear/Default\");\r\n\t\t\tif (!currentPlanningYear || currentPlanningYear === \"\") {\r\n\t\t\t\tvar aPlanningYears = this.getOwnerComponent().getModel(\"GeoFilter\").getProperty(\"/PlanningYear/Current\");\r\n\t\t\t\tvar sPlanningYear = \"2016\";\r\n\t\t\t\tif (!aPlanningYears || aPlanningYears.length === 0) {\r\n\t\t\t\t\taPlanningYears = [];\r\n\t\t\t\t\tfor (var i = 0; i < oConfig.length; i++) {\r\n\t\t\t\t\t\tvar oPlanningYearRecord = {};\r\n\t\t\t\t\t\toPlanningYearRecord.Key = oConfig[i].Year;\r\n\t\t\t\t\t\toPlanningYearRecord.Text = oConfig[i].Year;\r\n\t\t\t\t\t\toPlanningYearRecord.DisplayOnly = oConfig[i].DisplayOnly;\r\n\t\t\t\t\t\tif (oConfig[i].Default === true) {\r\n\t\t\t\t\t\t\tconfigDefaultPlanningYear = oConfig[i].Year;\r\n\t\t\t\t\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oInternalEvents/displayOnlyMode\", oConfig[i].DisplayOnly);\r\n\t\t\t\t\t\t\tcurrentPlanningYear = configDefaultPlanningYear;\r\n\t\t\t\t\t\t\tthis.getOwnerComponent().getModel(\"GeoFilter\").setProperty(\"/Input/PlanningYear\", oConfig[i].Year);\r\n\t\t\t\t\t\t\tthis.getOwnerComponent().getModel(\"GeoFilter\").setProperty(\"/PlanningYear/Default\", oConfig[i].Year);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\taPlanningYears.push(oPlanningYearRecord);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.getOwnerComponent().getModel(\"GeoFilter\").setProperty(\"/PlanningYear/Current\", aPlanningYears);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tvar aPlanningYears = this.getOwnerComponent().getModel(\"GeoFilter\").getProperty(\"/PlanningYear/Current\");\r\n\t\t\tfor (var i = 0; i < aPlanningYears.length; i++) {\r\n\t\t\t\tif (oConfig[i].Year === currentPlanningYear) {\r\n\t\t\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oInternalEvents/displayOnlyMode\", oConfig[i].DisplayOnly);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.getOwnerComponent().getModel(\"ASMConfig\").getData().Properties.PlanningYear = currentPlanningYear;\r\n\t\t\tthis.getOwnerComponent().getModel(\"GeoFilter\").refresh(false);\r\n\t\t},\r\n\t\tonClearAllFilters: function(oEvent) {\r\n\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.master.event\", \"ClearFilter\", {});\r\n\t\t}\r\n\t});\r\n\r\n});",
		"colgate/asm/planning/base/view/ChangeActivity.view.xml": "<mvc:View controllerName=\"colgate.asm.planning.base.controller.ChangeActivity\" xmlns:footerbar=\"sap.ushell.ui.footerbar\"\r\n\txmlns:mvc=\"sap.ui.core.mvc\" xmlns:sap.ui.core=\"sap.ui.core\" xmlns:semantic=\"sap.m.semantic\" xmlns=\"sap.m\">\r\n\t<semantic:DetailPage busy=\"{masterShared>/oDetailBusy/busy}\" busyIndicatorDelay=\"{masterShared>/oDetailBusy/delay}\" id=\"page\" navButtonPress=\"onNavBack\"\r\n\t\tshowNavButton=\"{device&gt;/system/phone}\" title=\"{i18n&gt;detailTitle}\">\r\n\t\t<semantic:content>\r\n\t\t</semantic:content>\r\n\t\t<semantic:messagesIndicator>\r\n\t\t\t\t\t<semantic:MessagesIndicator press=\"onMessagesButtonPress\"/>\r\n\t\t</semantic:messagesIndicator>\r\n\t\t<!--<semantic:saveAction>-->\r\n\t\t<!--\t<semantic:SaveAction id=\"save\" press=\"onSave\"/>-->\r\n\t\t<!--</semantic:saveAction>-->\r\n\t\t<!--<semantic:cancelAction>-->\r\n\t\t<!--\t<semantic:CancelAction id=\"cancel\" press=\"onCancel\"/>-->\r\n\t\t<!--</semantic:cancelAction>-->\r\n\t</semantic:DetailPage>\r\n</mvc:View>",
		"colgate/asm/planning/base/view/NotFound.view.xml": "<mvc:View\r\n\t\tcontrollerName=\"colgate.asm.planning.base.controller.BaseController\"\r\n\t\txmlns:mvc=\"sap.ui.core.mvc\"\r\n\t\txmlns=\"sap.m\">\r\n\r\n\t<MessagePage\r\n\t\t\tid=\"page\"\r\n\t\t\ttitle=\"{i18n>notFoundTitle}\"\r\n\t\t\ttext=\"{i18n>notFoundText}\"\r\n\t\t\ticon=\"{sap-icon://document}\"\r\n\t\t\tdescription=\"\"\r\n\t\t\tshowNavButton=\"{device>/system/phone}\"\r\n\t\t\tnavButtonPress=\"onNavBack\">\r\n\t</MessagePage>\r\n\r\n</mvc:View>",
		"colgate/asm/planning/base/controller/CopyActivity.controller.js": "sap.ui.define([\r\n\t\"colgate/asm/planning/base/controller/BaseController\",\r\n\t\"colgate/asm/planning/base/model/formatter\",\r\n\t\"sap/ui/core/mvc/Controller\",\r\n\t\"sap/ui/model/json/JSONModel\",\r\n\t\"colgate/asm/planning/base/util/AdvCopyUtils\",\r\n\t\"sap/m/MessageToast\",\r\n\t\"sap/m/MessageBox\",\r\n\t\"colgate/asm/planning/base/util/TimeoutUtils\",\r\n\t\"colgate/asm/planning/base/util/DropdownUtils\",\r\n\t\"colgate/asm/planning/base/util/SpinnerUtils\"\r\n], function(BaseController, formatter, Controller, JSONModel, AdvCopyUtils, MessageToast, MessageBox, TimeoutUtils, DropdownUtils,\r\n\tSpinnerUtils) {\r\n\t\"use strict\";\r\n\r\n\treturn BaseController.extend(\"colgate.asm.planning.base.controller.CopyActivity\", {\r\n\t\t/**\r\n\t\t * Called when a controller is instantiated and its View controls (if available) are already created.\r\n\t\t * Can be used to modify the View before it is displayed, to bind event handlers and do other one-time initialization.\r\n\t\t * @memberOf colgate.asm.planning.base.view.CopyActivity\r\n\t\t */\r\n\t\tformatter: formatter,\r\n\r\n\t\tonInit: function() {\r\n\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oBusy/skipStop\", true);\r\n\t\t\tSpinnerUtils.startDetailSpinner(this);\r\n\t\t\tthis.getRouter().getRoute(\"copyActivity\").attachPatternMatched(this._onCopyClicked, this);\r\n\t\t\tvar oEventBus = sap.ui.getCore().getEventBus();\r\n\r\n\t\t\toEventBus.subscribe(\"colgate.asm.planning.project\", \"Refresh\", function(sChannelId, sEventId, oData) {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\tthat.onCancel();\r\n\t\t\t\t}, 200);\r\n\t\t\t}, this);\r\n\t\t\t// var oView = this.getView();\r\n\t\t\t// oView.addEventDelegate({\r\n\t\t\t// \t// not added the controller as delegate to avoid controller functions with similar names as the events\r\n\t\t\t// \tonBeforeShow: jQuery.proxy(function(evt) {\r\n\t\t\t// \t\tthis.onBeforeShow(evt);\r\n\t\t\t// \t}, this)\r\n\t\t\t// });\r\n\t\t},\r\n\r\n\t\t// onBeforeShow: function() {\r\n\t\t// \tthis.getModel(\"Copy\").refresh(true);\r\n\t\t// \tthis.getView().byId(\"Table\").expandToLevel(2);\r\n\t\t// },\r\n\r\n\t\t/**\r\n\t\t * Similar to onAfterRendering, but this hook is invoked before the controller's View is re-rendered\r\n\t\t * (NOT before the first rendering! onInit() is used for that one!).\r\n\t\t * @memberOf colgate.asm.planning.base.view.CopyActivity\r\n\t\t */\r\n\t\t//\tonBeforeRendering: function() {\r\n\t\t//\r\n\t\t//\t},\r\n\r\n\t\t/**\r\n\t\t * Called when the View has been rendered (so its HTML is part of the document). Post-rendering manipulations of the HTML could be done here.\r\n\t\t * This hook is the same one that SAPUI5 controls get after being rendered.\r\n\t\t * @memberOf colgate.asm.planning.base.view.CopyActivity\r\n\t\t */\r\n\t\tonAfterRendering: function() {\r\n\t\t\tthis.getModel(\"Copy\").refresh(false);\r\n\t\t\tthis.getView().byId(\"Table\").expandToLevel(2);\r\n\t\t},\r\n\r\n\t\tonYearChange: function(oEvent) {\r\n\t\t\tvar iYear = \"\";\r\n\t\t\tif (oEvent && oEvent.getSource && typeof oEvent.getSource === 'function') {\r\n\t\t\t\tiYear = oEvent.getSource().getSelectedKey();\r\n\t\t\t}\r\n\t\t\tif (!iYear || iYear === \"\") {\r\n\t\t\t\tif (oEvent && oEvent.Year) {\r\n\t\t\t\t\tiYear = oEvent.Year;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (iYear !== \"\") {\r\n\t\t\t\tvar oData = this.getModel(\"Copy\").getData().Table;\r\n\t\t\t\tif (oData.rows) {\r\n\t\t\t\t\tfor (var i = 0; i < oData.rows.length; i++) {\r\n\t\t\t\t\t\tvar startDt = oData.rows[i].StartDt;\r\n\t\t\t\t\t\tvar endDt = oData.rows[i].EndDt;\r\n\t\t\t\t\t\toData.rows[i].PlanningYear = iYear;\r\n\t\t\t\t\t\toData.rows[i].StartDt = iYear + startDt.substring(4, startDt.length);\r\n\t\t\t\t\t\toData.rows[i].EndDt = iYear + endDt.substring(4, endDt.length);\r\n\t\t\t\t\t\tif (oData.rows[i].rows) {\r\n\t\t\t\t\t\t\tfor (var j = 0; j < oData.rows[i].rows.length; j++) {\r\n\t\t\t\t\t\t\t\tstartDt = oData.rows[i].rows[j].StartDt;\r\n\t\t\t\t\t\t\t\tendDt = oData.rows[i].rows[j].EndDt;\r\n\t\t\t\t\t\t\t\toData.rows[i].rows[j].PlanningYear = iYear;\r\n\t\t\t\t\t\t\t\toData.rows[i].rows[j].StartDt = iYear + startDt.substring(4, startDt.length);\r\n\t\t\t\t\t\t\t\toData.rows[i].rows[j].EndDt = iYear + endDt.substring(4, endDt.length);\r\n\t\t\t\t\t\t\t\tif (oData.rows[i].rows[j].rows) {\r\n\t\t\t\t\t\t\t\t\tfor (var k = 0; k < oData.rows[i].rows[j].rows.length; k++) {\r\n\t\t\t\t\t\t\t\t\t\tstartDt = oData.rows[i].rows[j].rows[k].StartDt;\r\n\t\t\t\t\t\t\t\t\t\tendDt = oData.rows[i].rows[j].rows[k].EndDt;\r\n\t\t\t\t\t\t\t\t\t\toData.rows[i].rows[j].rows[k].PlanningYear = iYear;\r\n\t\t\t\t\t\t\t\t\t\toData.rows[i].rows[j].rows[k].StartDt = iYear + startDt.substring(4, startDt.length);\r\n\t\t\t\t\t\t\t\t\t\toData.rows[i].rows[j].rows[k].EndDt = iYear + endDt.substring(4, endDt.length);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_onCopyClicked: function() {\r\n\t\t\tvar oTableSelect = this.getOwnerComponent().getModel(\"masterShared\").getData().oTableSelect;\r\n\t\t\tif (!this.getOwnerComponent().getModel(\"ASMConfig\")) {\r\n\t\t\t\t// This means the application was restarted on this page.\r\n\t\t\t\tthis.getRouter().navTo(\"activities\", {\r\n\t\t\t\t\tobjectId: \"Activities\"\r\n\t\t\t\t}, true);\r\n\t\t\t} else {\r\n\t\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oBusy/skipStop\", true);\r\n\t\t\t\tSpinnerUtils.startDetailSpinner(this);\r\n\t\t\t\tthis._initializeModel();\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\tvar oPromise = that._initializeTypeModels();\r\n\t\t\t\t\tvar oP13n = that.getOwnerComponent().getModel(\"masterShared\").getData().oP13n;\r\n\t\t\t\t\tvar oData = that.getModel(\"Copy\").getData();\r\n\t\t\t\t\t// Reformat Table Type\r\n\t\t\t\t\tvar oTable = {};\r\n\t\t\t\t\toTable[0] = JSON.parse(JSON.stringify(oTableSelect));\r\n\t\t\t\t\tthat._buildChildren(oTable);\r\n\t\t\t\t\toData.Table = oTable;\r\n\t\t\t\t\t//GDH this.setModel(oModel, \"copy\");\r\n\r\n\t\t\t\t\tvar oP13nModel = new sap.ui.model.json.JSONModel(JSON.parse(JSON.stringify(oP13n)));\r\n\t\t\t\t\tthat.setModel(oP13nModel, \"P13n\");\r\n\t\t\t\t\t// Start of Code Added for Page Title 7/11/2016 SDS\r\n\t\t\t\t\tvar oData = that.getModel(\"Copy\").getData().Table;\r\n\t\t\t\t\tvar sTitle = \"\";\r\n\t\t\t\t\tif (oData.rows[0] != undefined) {\r\n\t\t\t\t\t\tvar sName = oData.rows[0].Name;\r\n\r\n\t\t\t\t\t\tsTitle = that.getResourceBundle().getText(\"CP_Activity\", [sName]);\r\n\t\t\t\t\t\tvar oPage = that.byId(\"page\");\r\n\t\t\t\t\t\toPage.setTitle(sTitle);\r\n\t\t\t\t\t\tthat.getModel(\"Copy\").setProperty(\"/Header/TargetPlanningYear/Enabled\", oData.rows[0].isRowEditable);\r\n\t\t\t\t\t\tthat.getModel(\"Copy\").setProperty(\"/Header/TargetPlanningYear/Value\", oData.rows[0].PlanningYear);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthat.getView().byId(\"cp_includeBudget\").setSelected(false); //by default set selection false\r\n\t\t\t\t\tvar oBar = that.byId(\"page-intHeader\");\r\n\t\t\t\t\toBar.addStyleClass(\"ModeEdit\"); //change header color\r\n\r\n\t\t\t\t\t// END of Code Added for Page Title 7/11/2016 SDS\r\n\t\t\t\t\t//var oTableControl = that.getView().byId(\"Table\");\r\n\t\t\t\t\t//oTableControl.expandToLevel(1); //expand Tree table by default\r\n\r\n\t\t\t\t\t//this._setVisibleRowCount(oData);\r\n\r\n\t\t\t\t\tvar oPromiseH = that._getHubsList(oData.rows[0]);\r\n\t\t\t\t\tvar oPromiseAll = Promise.all([oPromise, oPromiseH]);\r\n\t\t\t\t\toPromiseAll.then(function(oHubData) {\r\n\t\t\t\t\t\tif (oData.rows) {\r\n\t\t\t\t\t\t\tvar aSubListArray = [];\r\n\t\t\t\t\t\t\tfor (var i = 0; i < oData.rows.length; i++) {\r\n\t\t\t\t\t\t\t\tthat._initializeRowAT(oData.rows[i], {}, false);\r\n\t\t\t\t\t\t\t\toData.rows[i].StartDt = oData.rows[i].StartDt.substring(0, 8) + \"01\" + oData.rows[i].StartDt.substring(10, oData.rows[i].StartDt\r\n\t\t\t\t\t\t\t\t\t.length);\r\n\t\t\t\t\t\t\t\toData.rows[i].EndDt = oData.rows[i].EndDt.substring(0, 8) + \"28\" + oData.rows[i].EndDt.substring(10, oData.rows[i].EndDt.length);\r\n\t\t\t\t\t\t\t\toData.rows[i].ActivityTypeDesc = \"\";\r\n\t\t\t\t\t\t\t\t//var oPromiseSL = that._getSubsList(oData.rows[i]);\r\n\t\t\t\t\t\t\t\taSubListArray.push(oData.rows[i]);\r\n\t\t\t\t\t\t\t\tif (oData.rows[i].rows) {\r\n\t\t\t\t\t\t\t\t\tfor (var j = 0; j < oData.rows[i].rows.length; j++) {\r\n\t\t\t\t\t\t\t\t\t\toData.rows[i].rows[j].StartDt = oData.rows[i].rows[j].StartDt.substring(0, 8) + \"01\" +\r\n\t\t\t\t\t\t\t\t\t\t\toData.rows[i].rows[j].StartDt.substring(10, oData.rows[i].rows[j].StartDt.length);\r\n\t\t\t\t\t\t\t\t\t\toData.rows[i].rows[j].EndDt = oData.rows[i].rows[j].EndDt.substring(0, 8) + \"28\" +\r\n\t\t\t\t\t\t\t\t\t\t\toData.rows[i].rows[j].EndDt.substring(10, oData.rows[i].rows[j].EndDt.length);\r\n\t\t\t\t\t\t\t\t\t\toData.rows[i].rows[j].ActivityTypeDesc = \"\";\r\n\t\t\t\t\t\t\t\t\t\t//var oPromiseSL2 = that._getSubsList(oData.rows[i].rows[j]);\r\n\t\t\t\t\t\t\t\t\t\taSubListArray.push(oData.rows[i].rows[j]);\r\n\t\t\t\t\t\t\t\t\t\tif (oData.rows[i].rows[j].rows) {\r\n\t\t\t\t\t\t\t\t\t\t\tfor (var k = 0; k < oData.rows[i].rows[j].rows.length; k++) {\r\n\t\t\t\t\t\t\t\t\t\t\t\toData.rows[i].rows[j].rows[k].StartDt = oData.rows[i].rows[j].rows[k].StartDt.substring(0, 8) + \"01\" +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\toData.rows[i].rows[j].rows[k].StartDt.substring(10, oData.rows[i].rows[j].rows[k].StartDt.length);\r\n\t\t\t\t\t\t\t\t\t\t\t\toData.rows[i].rows[j].rows[k].EndDt = oData.rows[i].rows[j].rows[k].EndDt.substring(0, 8) + \"28\" +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\toData.rows[i].rows[j].rows[k].EndDt.substring(10, oData.rows[i].rows[j].rows[k].EndDt.length);\r\n\t\t\t\t\t\t\t\t\t\t\t\toData.rows[i].rows[j].rows[k].ActivityTypeDesc = \"\";\r\n\t\t\t\t\t\t\t\t\t\t\t\t//var oPromiseSL2 = that._getSubsList(oData.rows[i].rows[j].rows[k]);\r\n\t\t\t\t\t\t\t\t\t\t\t\taSubListArray.push(oData.rows[i].rows[j].rows[k]);\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthat._resolveSubsList(that, 0, aSubListArray);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvar oEvent = {};\r\n\t\t\t\t\t\toEvent.Year = that._initialYear;\r\n\t\t\t\t\t\tthat.onYearChange(oEvent);\r\n\t\t\t\t\t\tthat.getModel(\"Copy\").refresh(false);\r\n\t\t\t\t\t});\r\n\t\t\t\t}, 200);\r\n\t\t\t}\r\n\t\t},\r\n\t\t_onSubsFetched: function() {\r\n\t\t\tthis._setEnablement();\r\n\t\t\tthis._setEnablementPH();\r\n\t\t},\r\n\t\t_onPHFetched: function(sChannelId, sEventId, oData) {\r\n\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oBusy/skipStop\", false);\r\n\t\t\tthis.getModel(\"Copy\").refresh(false);\r\n\t\t\tthis.getModel(\"GeoFilter\").refresh(false);\r\n\t\t\t// This should not be needed - but we seem to have a refreshing problem.\r\n\t\t\tvar tableData = this.getModel(\"Copy\").getProperty(\"/Table\");\r\n\t\t\tthis.getModel(\"Copy\").setProperty(\"/Table\", []);\r\n\t\t\tthis.getModel(\"Copy\").setProperty(\"/Table\", tableData);\r\n\t\t\tSpinnerUtils.stopDetailSpinner(this);\r\n\t\t},\r\n\t\t_resolveSubsList: function(oContext, i, aSubListArray) {\r\n\t\t\tif (i < aSubListArray.length) {\r\n\t\t\t\toContext._oSLPromise = (oContext._getSubsList(aSubListArray[i])).then(function(oData) {\r\n\t\t\t\t\tif (i + 1 === aSubListArray.length) {\r\n\t\t\t\t\t\toContext._onSubsFetched();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\toContext._resolveSubsList(oContext, i + 1, aSubListArray);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\t_setEnablementPH: function() {\r\n\t\t\tvar oData = this.getModel(\"Copy\").getData().Table;\r\n\t\t\tif (oData.rows) {\r\n\t\t\t\tDropdownUtils.resetDelay();\r\n\t\t\t\t// The PH Rows need to be initialized in reverse order\r\n\t\t\t\tfor (var i = 0; i < oData.rows.length; i++) {\r\n\t\t\t\t\tif (oData.rows[i].rows) {\r\n\t\t\t\t\t\tfor (var j = 0; j < oData.rows[i].rows.length; j++) {\r\n\t\t\t\t\t\t\tif (oData.rows[i].rows[j].rows) {\r\n\t\t\t\t\t\t\t\tfor (var k = 0; k < oData.rows[i].rows[j].rows.length; k++) {\r\n\t\t\t\t\t\t\t\t\tthis._initializeRowPH(oData.rows[i].rows[j].rows[k], oData.rows[i].rows[j]);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthis._initializeRowPH(oData.rows[i].rows[j], oData.rows[i]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis._initializeRowPH(oData.rows[i], {});\r\n\t\t\t\t}\r\n\t\t\t\tsap.ui.getCore().getEventBus().subscribeOnce(\"colgate.asm.planning.dropdownutils\", \"PHFetchComplete\", this._onPHFetched, this);\r\n\t\t\t\tDropdownUtils.executeDelayed();\r\n\t\t\t}\r\n\t\t},\r\n\t\t_setEnablement: function() {\r\n\t\t\tvar oData = this.getModel(\"Copy\").getData().Table;\r\n\t\t\tif (oData.rows) {\r\n\t\t\t\tfor (var i = 0; i < oData.rows.length; i++) {\r\n\t\t\t\t\tif (oData.rows[i].isRowEditable) {\r\n\t\t\t\t\t\tif (oData.rows[i].HubKey === \"\") {\r\n\t\t\t\t\t\t\toData.rows[i].isEnabled = false;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\toData.rows[i].isEnabled = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\toData.rows[i].HubEnabled = true;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\toData.rows[i].isEnabled = false;\r\n\t\t\t\t\t\toData.rows[i].HubEnabled = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (oData.rows[i].rows) {\r\n\t\t\t\t\t\tfor (var j = 0; j < oData.rows[i].rows.length; j++) {\r\n\t\t\t\t\t\t\tif (!oData.rows[i].rows[j].isRowEditable) {\r\n\t\t\t\t\t\t\t\toData.rows[i].rows[j].HubEnabled = false;\r\n\t\t\t\t\t\t\t\toData.rows[i].rows[j].isEnabled = false;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tif (oData.rows[i].HubKey === \"\") {\r\n\t\t\t\t\t\t\t\t\toData.rows[i].rows[j].HubEnabled = true;\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\toData.rows[i].rows[j].HubEnabled = false;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif (oData.rows[i].SubKey === \"\" && oData.rows[i].rows[j].HubKey !== \"\") {\r\n\t\t\t\t\t\t\t\t\toData.rows[i].rows[j].isEnabled = true;\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\toData.rows[i].rows[j].isEnabled = false;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (oData.rows[i].rows[j].rows) {\r\n\t\t\t\t\t\t\t\tfor (var k = 0; k < oData.rows[i].rows[j].rows.length; k++) {\r\n\t\t\t\t\t\t\t\t\tif (!oData.rows[i].rows[j].rows[k].isRowEditable) {\r\n\t\t\t\t\t\t\t\t\t\toData.rows[i].rows[j].rows[k].HubEnabled = false;\r\n\t\t\t\t\t\t\t\t\t\toData.rows[i].rows[j].rows[k].isEnabled = false;\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tif (oData.rows[i].rows[j].HubKey === \"\") {\r\n\t\t\t\t\t\t\t\t\t\t\toData.rows[i].rows[j].rows[k].HubEnabled = true;\r\n\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\toData.rows[i].rows[j].rows[k].HubEnabled = false;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tif (oData.rows[i].rows[j].SubKey === \"\" &&\r\n\t\t\t\t\t\t\t\t\t\t\toData.rows[i].rows[j].rows[k].HubKey !== \"\") {\r\n\t\t\t\t\t\t\t\t\t\t\toData.rows[i].rows[j].rows[k].isEnabled = true;\r\n\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\toData.rows[i].rows[j].rows[k].isEnabled = false;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.getModel(\"GeoFilter\").refresh(false);\r\n\t\t\tthis.getModel(\"Copy\").refresh(false);\r\n\t\t},\r\n\t\t_getHubsList: function(oRecord) {\r\n\t\t\tvar that = this;\r\n\t\t\tvar oPromise = new Promise(function(resolve, reject) {\r\n\t\t\t\tvar combinedKey = oRecord.DivisionKey;\r\n\t\t\t\tvar oGeoModel = that.getModel(\"GeoFilter\");\r\n\t\t\t\tvar oGeoData = oGeoModel.getData();\r\n\t\t\t\tif (oGeoData.Hub !== undefined && oGeoData.Hub[combinedKey] !== undefined) {\r\n\t\t\t\t\toGeoData.currentHubs = JSON.parse(JSON.stringify(oGeoData.Hub[combinedKey]));\r\n\t\t\t\t\tvar oUserData = that.getOwnerComponent().getModel(\"UserData\");\r\n\t\t\t\t\tif (oUserData) {\r\n\t\t\t\t\t\tvar sHub = oUserData.getProperty(\"/HubKey\");\r\n\t\t\t\t\t\tif (sHub && sHub !== \"\") {\r\n\t\t\t\t\t\t\t// Filter currentHubs\r\n\t\t\t\t\t\t\tvar aHubs = oGeoData.currentHubs;\r\n\t\t\t\t\t\t\tvar iCorrectKey = 0;\r\n\t\t\t\t\t\t\tfor (var i = 0; i < aHubs.length; i++) {\r\n\t\t\t\t\t\t\t\tif (aHubs[i].HubKey === sHub) {\r\n\t\t\t\t\t\t\t\t\tiCorrectKey = i;\r\n\t\t\t\t\t\t\t\t\ti = aHubs.length;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\toGeoData.currentHubs = [];\r\n\t\t\t\t\t\t\toGeoData.currentHubs.push(aHubs[iCorrectKey]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\toGeoModel.refresh(false);\r\n\t\t\t\t\tresolve(oGeoData.currentHubs);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar sServiceUrl = that.getOwnerComponent().getModel(\"masterShared\").getProperty(\"/oServiceUrls/mainService\");\r\n\t\t\t\t\tvar bmodel = that.getModel(\"Hub\");\r\n\t\t\t\t\tif (!bmodel) {\r\n\t\t\t\t\t\t//bmodel = new sap.ui.model.odata.v2.ODataModel(sServiceUrl); // Changed by Khrystyne 10/27\r\n\t\t\t\t\t\tbmodel = new sap.ui.model.odata.ODataModel(sServiceUrl);\r\n\t\t\t\t\t\tbmodel.setSizeLimit(50000);\r\n\t\t\t\t\t\tbmodel.setDefaultCountMode(sap.ui.model.odata.CountMode.None);\r\n\t\t\t\t\t\tthat.setModel(bmodel, \"Hub\");\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar sPath = \"/VHHubs\";\r\n\t\t\t\t\tvar filters = [];\r\n\r\n\t\t\t\t\tvar sDivisionKey = oRecord.DivisionKey; //oACData.Input.DivisionKey;\r\n\t\t\t\t\tif (!sDivisionKey) {\r\n\t\t\t\t\t\tsDivisionKey = \"\";\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar sHubKey = oRecord.HubKey; //oACData.Input.HubKey;\r\n\t\t\t\t\tif (!sHubKey) {\r\n\t\t\t\t\t\tsHubKey = \"\";\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tfilters.push(new sap.ui.model.Filter(\"GeoKey\", sap.ui.model.FilterOperator.EQ, sHubKey));\r\n\t\t\t\t\tfilters.push(new sap.ui.model.Filter(\"DivisionKey\", sap.ui.model.FilterOperator.EQ, sDivisionKey));\r\n\r\n\t\t\t\t\tbmodel.read(sPath, {\r\n\t\t\t\t\t\tasync: false, // Changed by Khrystyne 10/27\r\n\t\t\t\t\t\tfilters: filters,\r\n\t\t\t\t\t\tsuccess: function(oData, oResponse) {\r\n\t\t\t\t\t\t\tTimeoutUtils.onResetTimer(that);\r\n\t\t\t\t\t\t\tthat._setHubs(oData, oRecord);\r\n\t\t\t\t\t\t\tresolve(oData);\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\terror: function(oError) {\r\n\t\t\t\t\t\t\toError.ErrorOrigin = \"Initial\";\r\n\t\t\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.detail\", \"Errors\", oError);\r\n\t\t\t\t\t\t\treject(oError);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\treturn oPromise;\r\n\t\t},\r\n\t\t_setVisibleRowCount: function(oData) {\r\n\t\t\tvar iVisibleRowCount = 0;\r\n\t\t\tif (oData.rows) {\r\n\t\t\t\tfor (var i = 0; i < oData.rows.length; i++) {\r\n\t\t\t\t\tiVisibleRowCount++;\r\n\t\t\t\t\tif (oData.rows[i].rows) {\r\n\t\t\t\t\t\tfor (var j = 0; j < oData.rows[i].rows.length; j++) {\r\n\t\t\t\t\t\t\tiVisibleRowCount++;\r\n\t\t\t\t\t\t\tif (oData.rows[i].rows[j].rows) {\r\n\t\t\t\t\t\t\t\tfor (var k = 0; k < oData.rows[i].rows[j].rows.length; k++) {\r\n\t\t\t\t\t\t\t\t\tiVisibleRowCount++;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.getView().byId(\"Table\").setVisibleRowCount(iVisibleRowCount);\r\n\t\t},\r\n\r\n\t\t//End: code for making visible row count same as no of rows availble.  July 13th, 2016 SDS\r\n\t\t_getSubsList: function(oRecord) {\r\n\t\t\tvar that = this;\r\n\t\t\tvar oPromise = new Promise(function(resolve, reject) {\r\n\t\t\t\tvar sSubKey = oRecord.SubKey;\r\n\t\t\t\tvar sHubKey = oRecord.HubKey;\r\n\t\t\t\tvar sDivisionKey = oRecord.DivisionKey;\r\n\t\t\t\tvar filters = [];\r\n\t\t\t\tif (sHubKey !== \"\") {\r\n\t\t\t\t\tvar combinedKey = sDivisionKey + \"|\" + sHubKey;\r\n\t\t\t\t\tvar oGeoModel = that.getModel(\"GeoFilter\");\r\n\t\t\t\t\tvar oGeoData = oGeoModel.getData();\r\n\t\t\t\t\tif (oGeoData.Sub !== undefined && oGeoData.Sub[combinedKey] !== undefined) {\r\n\t\t\t\t\t\toRecord.currentSubs = oGeoData.Sub[combinedKey];\r\n\t\t\t\t\t\tvar oUserData = that.getOwnerComponent().getModel(\"UserData\");\r\n\t\t\t\t\t\tif (oUserData) {\r\n\t\t\t\t\t\t\tvar sSub = oUserData.getProperty(\"/SubKey\");\r\n\t\t\t\t\t\t\tif (sSub && sSub !== \"\") {\r\n\t\t\t\t\t\t\t\t// Filter currentHubs\r\n\t\t\t\t\t\t\t\tvar aSubs = oGeoData.currentSubs;\r\n\t\t\t\t\t\t\t\tvar iCorrectKey = 0;\r\n\t\t\t\t\t\t\t\tfor (var i = 0; i < aSubs.length; i++) {\r\n\t\t\t\t\t\t\t\t\tif (aSubs[i].SubKey === sSub) {\r\n\t\t\t\t\t\t\t\t\t\tiCorrectKey = i;\r\n\t\t\t\t\t\t\t\t\t\ti = aSubs.length;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\toGeoData.currentSubs = [];\r\n\t\t\t\t\t\t\t\toGeoData.currentSubs.push(aSubs[iCorrectKey]);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tresolve(oGeoData.currentSubs);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tvar sServiceUrl = that.getOwnerComponent().getModel(\"masterShared\").getProperty(\"/oServiceUrls/mainService\");\r\n\t\t\t\t\t\tvar sbmodel = that.getModel(\"Sub\");\r\n\t\t\t\t\t\tif (!sbmodel) {\r\n\t\t\t\t\t\t\t//sbmodel = new sap.ui.model.odata.v2.ODataModel(sServiceUrl); // Changed by Khrystyne 10/27\r\n\t\t\t\t\t\t\tsbmodel = new sap.ui.model.odata.ODataModel(sServiceUrl);\r\n\t\t\t\t\t\t\tsbmodel.setSizeLimit(50000);\r\n\t\t\t\t\t\t\tsbmodel.setDefaultCountMode(sap.ui.model.odata.CountMode.None);\r\n\t\t\t\t\t\t\tthat.setModel(sbmodel, \"Sub\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tfilters.push(new sap.ui.model.Filter(\"GeoKey\", sap.ui.model.FilterOperator.EQ, sSubKey));\r\n\t\t\t\t\t\tfilters.push(new sap.ui.model.Filter(\"HubKey\", sap.ui.model.FilterOperator.EQ, sHubKey));\r\n\t\t\t\t\t\tfilters.push(new sap.ui.model.Filter(\"DivisionKey\", sap.ui.model.FilterOperator.EQ, sDivisionKey));\r\n\t\t\t\t\t\tvar sPath = \"/VHSubs\";\r\n\t\t\t\t\t\tvar that2 = that;\r\n\t\t\t\t\t\tsbmodel.read(sPath, {\r\n\t\t\t\t\t\t\tasync: false, //Changed by Khrystyne 10/27\r\n\t\t\t\t\t\t\tfilters: filters,\r\n\t\t\t\t\t\t\tsuccess: function(oData, oResponse) {\r\n\t\t\t\t\t\t\t\tTimeoutUtils.onResetTimer(that2);\r\n\t\t\t\t\t\t\t\tthat2._setSubs(oData, oRecord);\r\n\t\t\t\t\t\t\t\tresolve(oData);\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\terror: function(oError) {\r\n\t\t\t\t\t\t\t\toError.ErrorOrigin = \"Subs\";\r\n\t\t\t\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.detail\", \"Errors\", oError);\r\n\t\t\t\t\t\t\t\tthat2._setSubs([]);\r\n\t\t\t\t\t\t\t\treject(oError);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tresolve([]);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\treturn oPromise;\r\n\t\t},\r\n\r\n\t\t// psutram: Jan 2017, method added\r\n\t\t_setHubs: function(oDataIn, oRecord) {\r\n\t\t\tvar oUserData = this.getOwnerComponent().getModel(\"UserData\");\r\n\t\t\tif (oUserData) {\r\n\t\t\t\tvar sHub = oUserData.getProperty(\"/HubKey\");\r\n\t\t\t\tif (sHub && sHub !== \"\") {\r\n\t\t\t\t\t// Filter currentHubs\r\n\t\t\t\t\tvar aHubs = oDataIn.results;\r\n\t\t\t\t\tvar iCorrectKey = 0;\r\n\t\t\t\t\tfor (var i = 0; i < aHubs.length; i++) {\r\n\t\t\t\t\t\tif (aHubs[i].HubKey === sHub) {\r\n\t\t\t\t\t\t\tiCorrectKey = i;\r\n\t\t\t\t\t\t\ti = aHubs.length;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\toDataIn.results = [];\r\n\t\t\t\t\toDataIn.results.push(aHubs[iCorrectKey]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tvar oModel = this.getModel(\"GeoFilter\");\r\n\t\t\tvar oData = oModel.getData();\r\n\t\t\tif (!oData.Hub) {\r\n\t\t\t\toData.Hub = {};\r\n\t\t\t}\r\n\t\t\tvar combinedKey = oRecord.DivisionKey;\r\n\t\t\toData.Hub[combinedKey] = oDataIn.results;\r\n\t\t\toData.currentHubs = JSON.parse(JSON.stringify(oDataIn.results));\r\n\t\t\toModel.refresh(false);\r\n\t\t},\r\n\r\n\t\t_setSubs: function(oDataIn, oRecord) {\r\n\t\t\tvar oUserData = this.getOwnerComponent().getModel(\"UserData\");\r\n\t\t\tif (oUserData) {\r\n\t\t\t\tvar sSub = oUserData.getProperty(\"/SubKey\");\r\n\t\t\t\tif (sSub && sSub !== \"\") {\r\n\t\t\t\t\t// Filter currentHubs\r\n\t\t\t\t\tvar aSubs = oDataIn.results;\r\n\t\t\t\t\tvar iCorrectKey = 0;\r\n\t\t\t\t\tfor (var i = 0; i < aSubs.length; i++) {\r\n\t\t\t\t\t\tif (aSubs[i].SubKey === sSub) {\r\n\t\t\t\t\t\t\tiCorrectKey = i;\r\n\t\t\t\t\t\t\ti = aSubs.length;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\toDataIn.results = [];\r\n\t\t\t\t\toDataIn.results.push(aSubs[iCorrectKey]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tvar oModel = this.getModel(\"GeoFilter\");\r\n\t\t\tvar oData = oModel.getData();\r\n\t\t\tif (!oData.Sub) {\r\n\t\t\t\toData.Sub = {};\r\n\t\t\t}\r\n\t\t\tvar combinedKey = oRecord.DivisionKey + \"|\" + oRecord.HubKey;\r\n\r\n\t\t\toData.Sub[combinedKey] = oDataIn.results;\r\n\t\t\toRecord.currentSubs = oDataIn.results;\r\n\t\t\tthis.getModel(\"Copy\").refresh(false);\r\n\t\t},\r\n\t\t//End:Fetch values from backend and bind to Subsidiary combobox.  July 13th, 2016 SDS\r\n\t\tonValueHelpRequest: function(evt) {\r\n\r\n\t\t\tif (!this.oMonthYearPickerDialog) {\r\n\t\t\t\tthis.oMonthYearPickerDialog = sap.ui.xmlfragment(\"colgate.asm.planning.base.fragment.MonthYearPickerDialog\", this);\r\n\t\t\t\tthis.getView().addDependent(this.oMonthYearPickerDialog);\r\n\r\n\t\t\t}\r\n\t\t\t//GDH this._setPlanningYearInfo();\r\n\t\t\tjQuery.sap.syncStyleClass(\"sapUiSizeCompact\", this.getView(), this.oMonthYearPickerDialog);\r\n\t\t\tvar sContext = evt.getSource().getBindingContext(\"Copy\").getPath();\r\n\t\t\tvar sPath = evt.getSource().getBinding(\"value\").getPath();\r\n\t\t\tthis._sMonthPickingContext = sContext;\r\n\t\t\tthis._sMonthPickingSPath = sPath;\r\n\t\t\tthis._sMonthPickingPath = sContext + \"/\" + sPath;\r\n\t\t\tvar date = this.getModel(\"Copy\").getProperty(sContext + \"/\" + sPath);\r\n\t\t\tvar iNewMonth = parseInt(date.substring(5, 7)) - 1;\r\n\t\t\tthis.getModel(\"Copy\").setProperty(\"/MonthSelect\", iNewMonth);\r\n\t\t\tthis.getModel(\"Copy\").refresh(false);\r\n\r\n\t\t\tthis.oMonthYearPickerDialog.open();\r\n\t\t},\r\n\t\tcheckMandatoryFields: function(oData) {\r\n\t\t\tvar bError = false;\r\n\t\t\tvar j = 0;\r\n\t\t\tif (oData && oData.rows[0]) {\r\n\t\t\t\tif (oData.rows[0].Name === \"\" || oData.rows[0].Name === null) {\r\n\t\t\t\t\toData.rows[0].ValueState.Name = sap.ui.core.ValueState.Error;\r\n\t\t\t\t\toData.rows[0].ValueStateText.Name = this.getResourceBundle().getText(\"C_Mandatory_Field\");\r\n\t\t\t\t\tbError = true;\r\n\t\t\t\t}\r\n\t\t\t\tif (oData.rows[0].ActivityType === \"\" || oData.rows[0].ActivityType === null) {\r\n\t\t\t\t\toData.rows[0].ValueState.ActivityType = sap.ui.core.ValueState.Error;\r\n\t\t\t\t\toData.rows[0].ValueStateText.ActivityType = this.getResourceBundle().getText(\"C_Mandatory_Field\");\r\n\t\t\t\t\tbError = true;\r\n\t\t\t\t}\r\n\t\t\t\tif (oData.rows[0].rows && oData.rows[0].rows[0] !== undefined) {\r\n\t\t\t\t\tdo {\r\n\t\t\t\t\t\tif (oData.rows[0].rows[j].Name === \"\" || oData.rows[0].rows[j].Name === null) {\r\n\t\t\t\t\t\t\toData.rows[0].rows[j].ValueState.Name = sap.ui.core.ValueState.Error;\r\n\t\t\t\t\t\t\toData.rows[0].rows[j].ValueStateText.Name = this.getResourceBundle().getText(\"C_Mandatory_Field\");\r\n\t\t\t\t\t\t\tbError = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (oData.rows[0].rows[j].ActivityType === \"\" || oData.rows[0].rows[j].ActivityType === null) {\r\n\t\t\t\t\t\t\toData.rows[0].rows[j].ValueState.ActivityType = sap.ui.core.ValueState.Error;\r\n\t\t\t\t\t\t\toData.rows[0].rows[j].ValueStateText.ActivityType = this.getResourceBundle().getText(\"C_Mandatory_Field\");\r\n\t\t\t\t\t\t\tbError = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvar m = 0;\r\n\t\t\t\t\t\tif (oData.rows[0].rows[j].rows) {\r\n\t\t\t\t\t\t\twhile (oData.rows[0].rows[j].rows[m] !== undefined) {\r\n\t\t\t\t\t\t\t\tif (oData.rows[0].rows[j].rows[m].Name === \"\" || oData.rows[0].rows[j].rows[m].Name === null) {\r\n\t\t\t\t\t\t\t\t\toData.rows[0].rows[j].rows[m].ValueState.Name = sap.ui.core.ValueState.Error;\r\n\t\t\t\t\t\t\t\t\toData.rows[0].rows[j].rows[m].ValueStateText.Name = this.getResourceBundle().getText(\"C_Mandatory_Field\");\r\n\t\t\t\t\t\t\t\t\tbError = true;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif (oData.rows[0].rows[j].rows[m].ActivityType === \"\" || oData.rows[0].rows[j].rows[m].ActivityType === null) {\r\n\t\t\t\t\t\t\t\t\toData.rows[0].rows[j].rows[m].ValueState.ActivityType = sap.ui.core.ValueState.Error;\r\n\t\t\t\t\t\t\t\t\toData.rows[0].rows[j].rows[m].ValueStateText.ActivityType = this.getResourceBundle().getText(\"C_Mandatory_Field\");\r\n\t\t\t\t\t\t\t\t\tbError = true;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif (oData.rows[0].rows[j].rows[m].HubKey === \"\" || oData.rows[0].rows[j].rows[m].HubKey === null) {\r\n\t\t\t\t\t\t\t\t\toData.rows[0].rows[j].rows[m].ValueState.Hub = sap.ui.core.ValueState.Error;\r\n\t\t\t\t\t\t\t\t\toData.rows[0].rows[j].rows[m].ValueStateText.Hub = this.getResourceBundle().getText(\"C_Mandatory_Field\");\r\n\t\t\t\t\t\t\t\t\tbError = true;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif (oData.rows[0].rows[j].rows[m].SubKey === \"\" || oData.rows[0].rows[j].rows[m].SubKey === null) {\r\n\t\t\t\t\t\t\t\t\toData.rows[0].rows[j].rows[m].ValueState.Sub = sap.ui.core.ValueState.Error;\r\n\t\t\t\t\t\t\t\t\toData.rows[0].rows[j].rows[m].ValueStateText.Sub = this.getResourceBundle().getText(\"C_Mandatory_Field\");\r\n\t\t\t\t\t\t\t\t\tbError = true;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tm++;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tj++;\r\n\t\t\t\t\t} while (oData.rows[0].rows[j] !== undefined);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn bError;\r\n\t\t},\r\n\t\t//Start code to check if all date fields having values July 12th,2017\r\n\t\tcheckMandatoryDateFields: function(oData, startDt, endDt) {\r\n\t\t\tvar iCount = 0;\r\n\r\n\t\t\tif (endDt === \"\" || startDt === \"\") {\r\n\t\t\t\tiCount = iCount + 1;\r\n\t\t\t}\r\n\t\t\tvar j = 0;\r\n\t\t\tif (oData.rows[0].rows && oData.rows[0].rows[0] !== undefined) {\r\n\t\t\t\tdo {\r\n\t\t\t\t\tif (oData.rows[0].rows[j].StartDt === \"\" || oData.rows[0].rows[j].StartDt === null) {\r\n\t\t\t\t\t\tiCount = iCount + 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (oData.rows[0].rows[j].EndDt === \"\" || oData.rows[0].rows[j].EndDt === null) {\r\n\t\t\t\t\t\tiCount = iCount + 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar m = 0;\r\n\t\t\t\t\tif (oData.rows[0].rows[j].rows) {\r\n\t\t\t\t\t\twhile (oData.rows[0].rows[j].rows[m] !== undefined) {\r\n\t\t\t\t\t\t\tif (oData.rows[0].rows[j].rows[m].StartDt === \"\" || oData.rows[0].rows[j].rows[m].StartDt === null) {\r\n\t\t\t\t\t\t\t\tiCount = iCount + 1;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (oData.rows[0].rows[j].rows[m].EndDt === \"\" || oData.rows[0].rows[j].rows[m].EndDt === null) {\r\n\t\t\t\t\t\t\t\tiCount = iCount + 1;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tm++;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tj++;\r\n\t\t\t\t} while (oData.rows[0].rows[j] !== undefined);\r\n\t\t\t}\r\n\r\n\t\t\treturn iCount;\r\n\t\t},\r\n\t\t//End code to check if all date fields having values July 12th,2017 SDS\r\n\r\n\t\tonSave: function() {\r\n\t\t\tvar oData = this.getModel(\"Copy\").getData().Table;\r\n\r\n\t\t\t// var oRawActivities = this.getOwnerComponent().getModel(\"masterShared\").getData().oRawActivities;\r\n\t\t\t/* Additional Code starts here*/\r\n\r\n\t\t\tvar endDt = oData.rows[0].EndDt;\r\n\t\t\tvar startDt = oData.rows[0].StartDt;\r\n\r\n\t\t\tvar bError = this.checkMandatoryFields(oData);\r\n\t\t\tif (!bError) {\r\n\t\t\t\tvar iCount = this.checkMandatoryDateFields(oData, startDt, endDt);\r\n\t\t\t\tvar iCountSub = this._validateSubsidiary();\r\n\t\t\t\tvar iCountDates = this._validateDates();\r\n\t\t\t\tvar iYearSpan = this._calculateYrSpan();\r\n\t\t\t\tvar refThis = this;\r\n\t\t\t\tif (iCount === 0) {\r\n\t\t\t\t\tif (iCountSub === 0) {\r\n\t\t\t\t\t\tif (iCountDates === 0) {\r\n\t\t\t\t\t\t\tif (iYearSpan > 0) {\r\n\t\t\t\t\t\t\t\tMessageBox.show(\"Planning span is more than one year\", {\r\n\t\t\t\t\t\t\t\t\ticon: MessageBox.Icon.WARNING,\r\n\t\t\t\t\t\t\t\t\ttitle: \"Warning\",\r\n\t\t\t\t\t\t\t\t\tactions: [MessageBox.Action.YES, MessageBox.Action.NO],\r\n\t\t\t\t\t\t\t\t\tdefaultAction: MessageBox.Action.NO,\r\n\t\t\t\t\t\t\t\t\tonClose: function(evt) {\r\n\r\n\t\t\t\t\t\t\t\t\t\tif (evt === \"YES\") {\r\n\t\t\t\t\t\t\t\t\t\t\trefThis.onSaveProcess();\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthis.onSaveProcess();\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tvar sErrMsg = this.getResourceBundle().getText(\"C_ERR_DateRange\");\r\n\t\t\t\t\t\t\tMessageToast.show(sErrMsg);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tvar sErrMsg = this.getResourceBundle().getText(\"C_ERR_Sub\");\r\n\t\t\t\t\t\tMessageToast.show(sErrMsg);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar sErrMsg = \"\";\r\n\t\t\t\t\tsErrMsg = this.getResourceBundle().getText(\"C_ERR_EnterDate\");\r\n\t\t\t\t\tMessageToast.show(sErrMsg);\r\n\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tthis.getModel(\"Copy\").refresh(false);\r\n\t\t\t\tvar sErrMsg = \"\";\r\n\t\t\t\tsErrMsg = this.getResourceBundle().getText(\"C_Mandatory\");\r\n\t\t\t\tMessageToast.show(sErrMsg);\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\tonSaveProcess: function() {\r\n\t\t\tvar oData = this.getModel(\"Copy\").getData().Table;\r\n\r\n\t\t\tvar oRawActivities = this.getOwnerComponent().getModel(\"masterShared\").getData().oRawActivities;\r\n\t\t\t/* Additional Code starts here*/\r\n\r\n\t\t\tvar endDt = oData.rows[0].EndDt;\r\n\t\t\tvar startDt = oData.rows[0].StartDt;\r\n\t\t\t//reset time to zero\r\n\t\t\tendDt = endDt.split(\"T\")[0] + \"T00:00:00Z\"; // GDH Added UTC addition to correct for using Java Dates later\r\n\t\t\tstartDt = startDt.split(\"T\")[0] + \"T00:00:00Z\";\r\n\r\n\t\t\t//GGA: 3/8/17 dates so far are only concerned with the month so set the start date\r\n\t\t\t//to the beginning of the month\r\n\t\t\tvar startDateDate = new Date(startDt);\r\n\t\t\tvar endDateDate = new Date(endDt);\r\n\t\t\tstartDateDate.setUTCDate(1);\r\n\r\n\t\t\t//GGA: 3/8/17 dates so far are only concerned with the month so set the end date\r\n\t\t\t//to the last day of the month, asking for day 0 gives the last day of the \r\n\t\t\t//previous month, month is +1 to move it forward a month\r\n\t\t\t// GDH - Change to 28th for consistency\r\n\t\t\t//endDateDate.setUTCDate(new Date(endDateDate.getUTCFullYear(), endDateDate.getUTCMonth() + 1, 0).getUTCDate());\r\n\t\t\tendDateDate.setUTCDate(28); // GDH For Date Consistency\r\n\t\t\toData.rows[0].EndDt = endDateDate.toISOString();\r\n\t\t\toData.rows[0].StartDt = startDateDate.toISOString();\r\n\r\n\t\t\t//get the start and end month, add one to make it 1 based instead of 0 based\r\n\t\t\tvar startMonth = startDateDate.getUTCMonth() + 1;\r\n\t\t\tvar endMonth = endDateDate.getUTCMonth() + 1;\r\n\r\n\t\t\tvar index = oData.rows[0].__index;\r\n\t\t\tvar oRawItem = oRawActivities[index];\r\n\t\t\tvar aKeys = Object.keys(oRawItem);\r\n\r\n\t\t\tfor (var i = 0; i < aKeys.length; i++) {\r\n\t\t\t\tif (oRawItem[aKeys[i]] !== oData.rows[0][aKeys[i]]) {\r\n\t\t\t\t\toRawItem[aKeys[i]] = oData.rows[0][aKeys[i]];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t//GGA: 3/8/17 clear out plan totals if the month is not in the new copy's date range,\r\n\t\t\t//if the month is between the start and end leave the plan amount alone\r\n\t\t\tfor (var month = 1; month <= 12; month++) {\r\n\r\n\t\t\t\tif (month < startMonth) {\r\n\t\t\t\t\toRawItem[\"AmtB\" + month] = \"0.00000000\";\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (month > endMonth) {\r\n\t\t\t\t\toRawItem[\"AmtB\" + month] = \"0.00000000\";\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\toRawItem.MaxValueB = \"0.00000000\";\r\n\r\n\t\t\tvar j = 0;\r\n\t\t\tif (oData.rows[0].rows) {\r\n\t\t\t\tif (oData.rows[0].rows[0] !== undefined) { // to update date and oRawActivities for activities\r\n\t\t\t\t\tdo {\r\n\t\t\t\t\t\tendDt = oData.rows[0].rows[j].EndDt;\r\n\t\t\t\t\t\tendDt = endDt.split(\"T\")[0] + \"T00:00:00Z\";\r\n\t\t\t\t\t\tstartDt = oData.rows[0].rows[j].StartDt;\r\n\t\t\t\t\t\tstartDt = startDt.split(\"T\")[0] + \"T00:00:00Z\";\r\n\r\n\t\t\t\t\t\tstartDateDate = new Date(startDt);\r\n\t\t\t\t\t\tendDateDate = new Date(endDt);\r\n\t\t\t\t\t\t//GGA: 3/8/17 dates so far are only concerned with the month so set the start date\r\n\t\t\t\t\t\t//to the beginning of the month\r\n\t\t\t\t\t\tstartDateDate.setUTCDate(1);\r\n\r\n\t\t\t\t\t\t//GGA: 3/8/17 dates so far are only concerned with the month so set the end date\r\n\t\t\t\t\t\t//to the last day of the month, asking for day 0 gives the last day of the \r\n\t\t\t\t\t\t//previous month, month is +1 to move it forward a month\r\n\t\t\t\t\t\t// GDH Changed for consistency - 28th is the end of the month for other portions of the application\r\n\t\t\t\t\t\t//endDateDate.setUTCDate(new Date(endDateDate.getUTCFullYear(), endDateDate.getUTCMonth() + 1, 0).getUTCDate());\r\n\t\t\t\t\t\tendDateDate.setUTCDate(28);\r\n\r\n\t\t\t\t\t\toData.rows[0].rows[j].EndDt = endDateDate.toISOString();\r\n\t\t\t\t\t\toData.rows[0].rows[j].StartDt = startDateDate.toISOString();\r\n\r\n\t\t\t\t\t\t//get the start and end month, add one to make it 1 based instead of 0 based\r\n\t\t\t\t\t\tstartMonth = startDateDate.getUTCMonth() + 1;\r\n\t\t\t\t\t\tendMonth = endDateDate.getUTCMonth() + 1;\r\n\r\n\t\t\t\t\t\tindex = oData.rows[0].rows[j].__index;\r\n\t\t\t\t\t\toRawItem = oRawActivities[index];\r\n\t\t\t\t\t\taKeys = Object.keys(oRawItem);\r\n\t\t\t\t\t\tfor (i = 0; i < aKeys.length; i++) {\r\n\t\t\t\t\t\t\tif (oRawItem[aKeys[i]] !== oData.rows[0].rows[j][aKeys[i]]) {\r\n\t\t\t\t\t\t\t\toRawItem[aKeys[i]] = oData.rows[0].rows[j][aKeys[i]];\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t//GGA: 3/8/17 clear out plan totals if the month is not in the new copy's date range,\r\n\t\t\t\t\t\t//if the month is between the start and end leave the plan amount alone\r\n\t\t\t\t\t\tfor (month = 1; month <= 12; month++) {\r\n\r\n\t\t\t\t\t\t\tif (month < startMonth) {\r\n\t\t\t\t\t\t\t\toRawItem[\"AmtB\" + month] = \"0.00000000\";\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tif (month > endMonth) {\r\n\t\t\t\t\t\t\t\toRawItem[\"AmtB\" + month] = \"0.00000000\";\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\toRawItem.MaxValueB = \"0.00000000\";\r\n\r\n\t\t\t\t\t\t//Start Code for updating sub activity\tJuly 12th,2017 SDS\t\r\n\t\t\t\t\t\tvar m = 0;\r\n\t\t\t\t\t\tif (oData.rows[0].rows[j].rows) {\r\n\t\t\t\t\t\t\twhile (oData.rows[0].rows[j].rows[m] !== undefined) { // to update date and oRawActivities for subactivities\r\n\t\t\t\t\t\t\t\tendDt = oData.rows[0].rows[j].rows[m].EndDt;\r\n\t\t\t\t\t\t\t\tendDt = endDt.split(\"T\")[0] + \"T00:00:00Z\";\r\n\t\t\t\t\t\t\t\tstartDt = oData.rows[0].rows[j].rows[m].StartDt;\r\n\t\t\t\t\t\t\t\tstartDt = startDt.split(\"T\")[0] + \"T00:00:00Z\";\r\n\r\n\t\t\t\t\t\t\t\tstartDateDate = new Date(startDt);\r\n\t\t\t\t\t\t\t\tendDateDate = new Date(endDt);\r\n\r\n\t\t\t\t\t\t\t\t//dates so far are only concerned with the month so set the start date\r\n\t\t\t\t\t\t\t\t//to the beginning of the month\r\n\t\t\t\t\t\t\t\tstartDateDate.setUTCDate(1);\r\n\r\n\t\t\t\t\t\t\t\t//dates so far are only concerned with the month so set the end date\r\n\t\t\t\t\t\t\t\t//to the last day of the month, asking for day 0 gives the last day of the \r\n\t\t\t\t\t\t\t\t//previous month, month is +1 to move it forward a month\r\n\t\t\t\t\t\t\t\t// GDH Changed for consistency - 28th is taken to be the end of the month\r\n\t\t\t\t\t\t\t\t//endDateDate.setUTCDate(new Date(endDateDate.getUTCFullYear(), endDateDate.getUTCMonth() + 1, 0).getUTCDate());\r\n\t\t\t\t\t\t\t\tendDateDate.setUTCDate(28);\r\n\r\n\t\t\t\t\t\t\t\toData.rows[0].rows[j].rows[m].EndDt = endDateDate.toISOString();\r\n\t\t\t\t\t\t\t\toData.rows[0].rows[j].rows[m].StartDt = startDateDate.toISOString();\r\n\r\n\t\t\t\t\t\t\t\t//get the start and end month, add one to make it 1 based instead of 0 based\r\n\t\t\t\t\t\t\t\tstartMonth = startDateDate.getUTCMonth() + 1;\r\n\t\t\t\t\t\t\t\tendMonth = endDateDate.getUTCMonth() + 1;\r\n\r\n\t\t\t\t\t\t\t\tindex = oData.rows[0].rows[j].rows[m].__index;\r\n\t\t\t\t\t\t\t\toRawItem = oRawActivities[index];\r\n\t\t\t\t\t\t\t\taKeys = Object.keys(oRawItem);\r\n\t\t\t\t\t\t\t\tfor (i = 0; i < aKeys.length; i++) {\r\n\t\t\t\t\t\t\t\t\tif (oRawItem[aKeys[i]] !== oData.rows[0].rows[j].rows[m][aKeys[i]]) {\r\n\t\t\t\t\t\t\t\t\t\toRawItem[aKeys[i]] = oData.rows[0].rows[j].rows[m][aKeys[i]];\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t//GGA: 3/8/17 clear out plan totals if the month is not in the new copy's date range,\r\n\t\t\t\t\t\t\t\t//if the month is between the start and end leave the plan amount alone\r\n\t\t\t\t\t\t\t\tfor (month = 1; month <= 12; month++) {\r\n\r\n\t\t\t\t\t\t\t\t\tif (month < startMonth) {\r\n\t\t\t\t\t\t\t\t\t\toRawItem[\"AmtB\" + month] = \"0.00000000\";\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\tif (month > endMonth) {\r\n\t\t\t\t\t\t\t\t\t\toRawItem[\"AmtB\" + month] = \"0.00000000\";\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\toRawItem.MaxValueB = \"0.00000000\";\r\n\r\n\t\t\t\t\t\t\t\tm++;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t//End Code for updating sub activity July 12th,2017 SDS\t\r\n\r\n\t\t\t\t\t\tj++;\r\n\t\t\t\t\t} while (oData.rows[0].rows[j] !== undefined);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t/*Additional code ends here*/\r\n\r\n\t\t\tvar bInclude = true; //sap.ui.getCore().byId(\"cp_include\").getSelected();\r\n\t\t\tvar bIncludeBudget = this.oView.byId(\"cp_includeBudget\").getSelected();\r\n\t\t\tvar sPrefix = \"\"; //sap.ui.getCore().byId(\"cp_prefix\").getValue();\r\n\t\t\t/*if (!sPrefix || sPrefix === \"\") {\r\n\t\t\t\tsPrefix = \"COPY\";\r\n\t\t\t}\r\n\t\t\tsPrefix = sPrefix + \" \";*/\r\n\r\n\t\t\tvar oDataParsed = JSON.parse(JSON.stringify(oData.rows[0]));\r\n\t\t\tvar newCpAct = null;\r\n\r\n\t\t\tif (!oDataParsed.isRowEditable) {\r\n\r\n\t\t\t\tvar i = 0;\r\n\t\t\t\tif (oDataParsed.rows) {\r\n\t\t\t\t\twhile (oDataParsed.rows[i] !== undefined) {\r\n\t\t\t\t\t\tif (oDataParsed.rows[i].isRowEditable === true) {\r\n\r\n\t\t\t\t\t\t\tvar arrTemp = [];\r\n\t\t\t\t\t\t\tif (oDataParsed.rows[i].isSelected !== undefined && oDataParsed.rows[i].isSelected !== false) {\r\n\t\t\t\t\t\t\t\tvar m = 0;\r\n\t\t\t\t\t\t\t\tvar iTempCount = 0;\r\n\t\t\t\t\t\t\t\tvar oCurrAct = oDataParsed.rows[i];\r\n\t\t\t\t\t\t\t\tif (oCurrAct.rows) {\r\n\t\t\t\t\t\t\t\t\twhile (oCurrAct.rows[m] !== undefined) {\r\n\r\n\t\t\t\t\t\t\t\t\t\tif (oCurrAct.rows[m].isSelected !== undefined && oCurrAct.rows[m].isSelected !== false) {\r\n\r\n\t\t\t\t\t\t\t\t\t\t\tarrTemp[iTempCount] = oCurrAct.rows[m];\r\n\t\t\t\t\t\t\t\t\t\t\tiTempCount++;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t\tdelete oCurrAct.rows[m];\r\n\t\t\t\t\t\t\t\t\t\tm++;\r\n\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tnewCpAct = oCurrAct;\r\n\t\t\t\t\t\t\t\tvar iLen = 0;\r\n\t\t\t\t\t\t\t\twhile (arrTemp[iLen] !== undefined) {\r\n\t\t\t\t\t\t\t\t\tnewCpAct.rows[iLen] = arrTemp[iLen];\r\n\t\t\t\t\t\t\t\t\tiLen++;\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tnewCpAct = oDataParsed.rows[i];\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tvar j = 0;\r\n\t\t\t\t\t\t\tif (oDataParsed.rows[i].rows) {\r\n\t\t\t\t\t\t\t\twhile (oDataParsed.rows[i].rows[j] !== undefined) {\r\n\t\t\t\t\t\t\t\t\tif (oDataParsed.rows[i].rows[j].isRowEditable === true) {\r\n\t\t\t\t\t\t\t\t\t\tnewCpAct = oDataParsed.rows[i].rows[j];\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tj++;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ti++;\r\n\t\t\t\t\t}\r\n\t\t\t\t\toDataParsed = newCpAct;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tAdvCopyUtils.copyItems(this, bInclude, bIncludeBudget, sPrefix, oDataParsed, JSON.parse(JSON.stringify(oRawActivities)));\r\n\r\n\t\t},\r\n\t\tonCancel: function() {\r\n\t\t\tif (this._currentAction === \"saveAndAdd\") {\r\n\t\t\t\t// This means we need to reload items\r\n\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.project\", \"Refresh\", {});\r\n\t\t\t\tthis._currentAction = \"\";\r\n\t\t\t}\r\n\t\t\tthis.getRouter().navTo(\"activities\", {\r\n\t\t\t\tobjectId: \"Activities\"\r\n\t\t\t}, true);\r\n\t\t},\r\n\r\n\t\t_validateSubsidiary: function() {\r\n\t\t\tvar oData = this.getModel(\"Copy\").getData().Table;\r\n\t\t\tvar sParentSub = oData.rows[0].SubKey;\r\n\t\t\tvar iMissMatch = 0;\r\n\t\t\tif (sParentSub !== \"\") {\r\n\t\t\t\tvar iActCount = 0;\r\n\t\t\t\tif (oData.rows[0].rows) {\r\n\t\t\t\t\twhile (oData.rows[0].rows[iActCount] !== undefined && oData.rows[0].rows[iActCount].SubKey !== \"\") {\r\n\t\t\t\t\t\tif (sParentSub !== oData.rows[0].rows[iActCount].SubKey) {\r\n\t\t\t\t\t\t\tiMissMatch++;\r\n\r\n\t\t\t\t\t\t\tvar iSubActCount = 0;\r\n\t\t\t\t\t\t\tif (oData.rows[0].rows[iActCount].rows) {\r\n\t\t\t\t\t\t\t\twhile (oData.rows[0].rows[iActCount].rows[iSubActCount] !== undefined) {\r\n\t\t\t\t\t\t\t\t\tif (oData.rows[0].rows[iActCount].SubKey !== oData.rows[0].rows[iActCount].rows[iSubActCount].SubKey) {\r\n\t\t\t\t\t\t\t\t\t\tiMissMatch++;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tiSubActCount++;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tiActCount++;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tvar iActCount = 0;\r\n\t\t\t\tif (oData.rows[0].rows) {\r\n\t\t\t\t\twhile (oData.rows[0].rows[iActCount] !== undefined && oData.rows[0].rows[iActCount].SubKey !== \"\") {\r\n\t\t\t\t\t\tvar iSubActCount = 0;\r\n\t\t\t\t\t\tif (oData.rows[0].rows[iActCount].rows) {\r\n\t\t\t\t\t\t\twhile (oData.rows[0].rows[iActCount].rows[iSubActCount] !== undefined) {\r\n\t\t\t\t\t\t\t\tif (oData.rows[0].rows[iActCount].SubKey !== oData.rows[0].rows[iActCount].rows[iSubActCount].SubKey) {\r\n\t\t\t\t\t\t\t\t\tiMissMatch++;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tiSubActCount++;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tiActCount++;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn iMissMatch;\r\n\t\t},\r\n\r\n\t\t_validateDates: function() {\r\n\t\t\tvar oData = this.getModel(\"Copy\").getData().Table;\r\n\t\t\tvar sParentStartdt = oData.rows[0].StartDt;\r\n\t\t\tvar sParentEnddt = oData.rows[0].EndDt;\r\n\t\t\tvar iMissMatch = 0;\r\n\t\t\tvar iActCount = 0;\r\n\t\t\tif (oData.rows[0].rows) {\r\n\t\t\t\twhile (oData.rows[0].rows[iActCount] !== undefined) {\r\n\t\t\t\t\tvar bValidateActStartDt = this.validateDateDifference(oData.rows[0].rows[iActCount].StartDt, sParentStartdt, sParentEnddt);\r\n\t\t\t\t\tvar bValidateActEndDt = this.validateDateDifference(oData.rows[0].rows[iActCount].EndDt, sParentStartdt, sParentEnddt);\r\n\t\t\t\t\tif (!bValidateActStartDt || !bValidateActEndDt) {\r\n\t\t\t\t\t\tiMissMatch++;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar iSubActCount = 0;\r\n\t\t\t\t\tif (oData.rows[0].rows[iActCount].rows) {\r\n\t\t\t\t\t\twhile (oData.rows[0].rows[iActCount].rows[iSubActCount] !== undefined) {\r\n\t\t\t\t\t\t\tvar bValidateSubActStartDt = this.validateDateDifference(oData.rows[0].rows[iActCount].rows[iSubActCount].StartDt, oData.rows[0]\r\n\t\t\t\t\t\t\t\t.rows[\r\n\t\t\t\t\t\t\t\t\tiActCount].StartDt,\r\n\t\t\t\t\t\t\t\toData.rows[0].rows[iActCount].EndDt);\r\n\t\t\t\t\t\t\tvar bValidateSubActEndDt = this.validateDateDifference(oData.rows[0].rows[iActCount].rows[iSubActCount].EndDt, oData.rows[0].rows[\r\n\t\t\t\t\t\t\t\t\tiActCount].StartDt,\r\n\t\t\t\t\t\t\t\toData.rows[0].rows[iActCount].EndDt);\r\n\r\n\t\t\t\t\t\t\tif (!bValidateSubActStartDt || !bValidateSubActEndDt) {\r\n\t\t\t\t\t\t\t\tiMissMatch++;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tiSubActCount++;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tiActCount++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn iMissMatch;\r\n\t\t},\r\n\r\n\t\t//psutram: Jan 2017 modified\r\n\t\t_calculateYrSpan: function() {\r\n\t\t\tvar oData = this.getModel(\"Copy\").getData().Table;\r\n\t\t\tvar sParentStartdt = new Date(oData.rows[0].StartDt);\r\n\t\t\tvar sParentEnddt = new Date(oData.rows[0].EndDt);\r\n\r\n\t\t\t//psutram: jan 2017 modified next two lines to check for getUTCFullYear rather than getFullyear\r\n\t\t\t// var iStartYr = sParentStartdt.getFullYear();\r\n\t\t\t// var iEndYr = sParentEnddt.getFullYear();\r\n\t\t\tvar iStartYr = sParentStartdt.getUTCFullYear();\r\n\t\t\tvar iEndYr = sParentEnddt.getUTCFullYear();\r\n\t\t\treturn iEndYr - iStartYr;\r\n\r\n\t\t},\r\n\r\n\t\tvalidateDateDifference: function(sNewSelectedDt, sParentStartDt, sParentEndDt) {\r\n\t\t\tvar t1 = new Date(sNewSelectedDt).getTime();\r\n\t\t\tvar t2 = new Date(sParentStartDt).getTime();\r\n\t\t\tvar t3 = new Date(sParentEndDt).getTime();\r\n\r\n\t\t\tvar diffStartDate = parseInt((t1 - t2) / (24 * 3600 * 1000));\r\n\t\t\tvar diffEndDate = parseInt((t3 - t1) / (24 * 3600 * 1000));\r\n\t\t\tif (diffStartDate < 0 || diffEndDate < 0) {\r\n\t\t\t\treturn false;\r\n\t\t\t} else {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\t//GGA: 3/8/17 added oNewDate so the value is passed in instead of reading it from the input field, the input field (model)\r\n\t\t//is no longer changed in this method but by the caller when this onDateChange method returns true to the caller\r\n\t\tonDateChange: function(oNewDate, oRowData, indicator) {\r\n\t\t\tvar sErrMsg;\r\n\t\t\tvar oStartDate, oEndDate;\r\n\r\n\t\t\t//check if this new date is for the start or end date\r\n\t\t\tif (indicator === 1) {\r\n\t\t\t\toStartDate = oNewDate;\r\n\t\t\t\t//read end date from row data\r\n\t\t\t\toEndDate = new Date(oRowData.getBindingContext(\"Copy\").getObject().EndDt);\r\n\t\t\t} else {\r\n\t\t\t\toEndDate = oNewDate;\r\n\t\t\t\t//read start date from row data\r\n\t\t\t\toStartDate = new Date(oRowData.getBindingContext(\"Copy\").getObject().StartDt);\r\n\t\t\t}\r\n\r\n\t\t\tvar tStart = oStartDate.getTime();\r\n\t\t\tvar tEnd = oEndDate.getTime();\r\n\r\n\t\t\tvar nDiffDate = tEnd - tStart;\r\n\t\t\tif (nDiffDate < 0) {\r\n\t\t\t\tsErrMsg = this.getResourceBundle().getText(\"C_ERR_DateDiff\");\r\n\t\t\t\tMessageToast.show(sErrMsg);\r\n\t\t\t\treturn false;\r\n\t\t\t} else {\r\n\r\n\t\t\t\t//get the path of the binding for this row to determine if this is an activity or a subactivity\r\n\t\t\t\t//this is used to determine the context of the parents row to make sure the dates fit\r\n\t\t\t\tvar sPath = oRowData.getBindingContext(\"Copy\").getPath();\r\n\t\t\t\tvar aPathArr = sPath.split(\"/\");\r\n\r\n\t\t\t\tvar oParentStartDate, oParentEndDate;\r\n\r\n\t\t\t\tif (aPathArr.length > 2) {\r\n\t\t\t\t\tif (aPathArr.length > 3) {\r\n\t\t\t\t\t\t//the row is a sub activity\r\n\r\n\t\t\t\t\t\tvar iBindingContext = aPathArr[2];\r\n\t\t\t\t\t\toParentStartDate = new Date(this.getModel(\"Copy\").getData().rows[0].rows[iBindingContext].StartDt);\r\n\t\t\t\t\t\toParentEndDate = new Date(this.getModel(\"Copy\").getData().rows[0].rows[iBindingContext].EndDt);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t//the row is an activity\r\n\r\n\t\t\t\t\t\toParentStartDate = new Date(this.getModel(\"Copy\").getData().rows[0].StartDt);\r\n\t\t\t\t\t\toParentEndDate = new Date(this.getModel(\"Copy\").getData().rows[0].EndDt);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar tSelectedDate = oNewDate.getTime();\r\n\t\t\t\t\tvar tParentStart = oParentStartDate.getTime();\r\n\t\t\t\t\tvar tParentEnd = oParentEndDate.getTime();\r\n\r\n\t\t\t\t\tvar diffStartDate = tSelectedDate - tParentStart;\r\n\t\t\t\t\tvar diffEndDate = tParentEnd - tSelectedDate;\r\n\t\t\t\t\tif (diffStartDate < 0 || diffEndDate < 0) {\r\n\t\t\t\t\t\tsErrMsg = this.getResourceBundle().getText(\"C_ERR_DateRange\");\r\n\t\t\t\t\t\tMessageToast.show(sErrMsg);\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\r\n\t\t},\r\n\t\t//End code for Date Changes on Live Change July, 7th 2017 SDS\r\n\r\n\t\tonSubSelectionChange: function(evt) {\r\n\t\t\tvar sSelectedKey = evt.getSource().getSelectedKey();\r\n\t\t\tvar sPath = evt.getSource().getBindingContext(\"Copy\").getPath();\r\n\t\t\tvar sParentObj = evt.getSource().getBindingContext(\"Copy\").getObject();\r\n\t\t\tvar aPathArr = sPath.split(\"/\");\r\n\t\t\tvar sParentSub = \"\";\r\n\t\t\tif (aPathArr.length > 4) { // this part of condition will get executed on change of activity susidiary\r\n\t\t\t\tif (aPathArr.length < 7) {\r\n\t\t\t\t\tsParentSub = this.getModel(\"Copy\").getData().Table.rows[0].SubKey;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar iCount = aPathArr[5];\r\n\t\t\t\t\tsParentSub = this.getModel(\"Copy\").getData().Table.rows[0].rows[iCount].SubKey;\r\n\t\t\t\t}\r\n\t\t\t\tif (sSelectedKey !== sParentSub && sParentSub !== \"\") {\r\n\t\t\t\t\tvar sErrMsg = this.getResourceBundle().getText(\"C_ERR_Sub\");\r\n\t\t\t\t\tMessageToast.show(sErrMsg);\r\n\t\t\t\t\tevt.getSource().setSelectedKey(sParentSub);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar iSubAct = 0;\r\n\t\t\t\t\tif (sSelectedKey !== \"\") {\r\n\t\t\t\t\t\tif (sParentObj.rows) {\r\n\t\t\t\t\t\t\twhile (sParentObj.rows[iSubAct] !== undefined) {\r\n\t\t\t\t\t\t\t\tsParentObj.rows[iSubAct].SubKey = sSelectedKey;\r\n\t\t\t\t\t\t\t\tiSubAct++;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else { // else part will get executed on change of Project Subsidiary\r\n\t\t\t\tvar iActCount = 0;\r\n\t\t\t\tif (sSelectedKey !== \"\") {\r\n\t\t\t\t\tif (sParentObj.rows) {\r\n\t\t\t\t\t\twhile (sParentObj.rows && sParentObj.rows[iActCount] !== undefined) {\r\n\t\t\t\t\t\t\tsParentObj.rows[iActCount].SubKey = sSelectedKey;\r\n\t\t\t\t\t\t\tvar iSubActCount = 0;\r\n\t\t\t\t\t\t\twhile (sParentObj.rows[iActCount].rows && sParentObj.rows[iActCount].rows[iSubActCount] !== undefined) {\r\n\t\t\t\t\t\t\t\tsParentObj.rows[iActCount].rows[iSubActCount].SubKey = sSelectedKey;\r\n\t\t\t\t\t\t\t\tiSubActCount++;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tiActCount++;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis._setEnablement();\r\n\t\t},\r\n\r\n\t\tonHubSelectionChange: function(evt) {\r\n\t\t\tvar sSelectedKey = evt.getSource().getSelectedKey();\r\n\t\t\tvar sPath = evt.getSource().getBindingContext(\"Copy\").getPath();\r\n\t\t\tvar oParentObj = evt.getSource().getBindingContext(\"Copy\").getObject();\r\n\t\t\tvar aPathArr = sPath.split(\"/\");\r\n\t\t\tvar sParentHub = \"\";\r\n\t\t\tif (aPathArr.length > 4) { // this part of condition will get executed on change of activity Hub\r\n\t\t\t\tif (aPathArr.length < 7) {\r\n\t\t\t\t\tsParentHub = this.getModel(\"Copy\").getData().Table.rows[0].HubKey;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar iCount = aPathArr[5];\r\n\t\t\t\t\tsParentHub = this.getModel(\"Copy\").getData().Table.rows[0].rows[iCount].HubKey;\r\n\t\t\t\t}\r\n\t\t\t\tif (sSelectedKey !== sParentHub && sParentHub !== \"\") {\r\n\t\t\t\t\tvar sErrMsg = this.getResourceBundle().getText(\"C_ERR_Hub\");\r\n\t\t\t\t\tMessageToast.show(sErrMsg);\r\n\t\t\t\t\tevt.getSource().setSelectedKey(sParentHub);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar iSubAct = 0;\r\n\t\t\t\t\toParentObj.SubKey = \"\";\r\n\t\t\t\t\tthis._getSubsList(oParentObj);\r\n\t\t\t\t\tif (sSelectedKey !== \"\") {\r\n\t\t\t\t\t\twhile (oParentObj.rows && oParentObj.rows[iSubAct] !== undefined) {\r\n\t\t\t\t\t\t\toParentObj.rows[iSubAct].HubKey = sSelectedKey;\r\n\t\t\t\t\t\t\toParentObj.rows[iSubAct].SubKey = \"\";\r\n\t\t\t\t\t\t\tthis._getSubsList(oParentObj.rows[iSubAct]);\r\n\t\t\t\t\t\t\tiSubAct++;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else { // else part will get executed on change of Project Hub\r\n\t\t\t\tvar iActCount = 0;\r\n\t\t\t\toParentObj.SubKey = \"\";\r\n\t\t\t\tthis._getSubsList(oParentObj);\r\n\t\t\t\tif (sSelectedKey !== \"\") {\r\n\t\t\t\t\twhile (oParentObj.rows && oParentObj.rows[iActCount] !== undefined) {\r\n\t\t\t\t\t\tif (sSelectedKey !== oParentObj.rows[iActCount].HubKey) {\r\n\t\t\t\t\t\t\toParentObj.rows[iActCount].HubKey = sSelectedKey;\r\n\t\t\t\t\t\t\toParentObj.rows[iActCount].SubKey = \"\";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis._getSubsList(oParentObj.rows[iActCount]);\r\n\t\t\t\t\t\tvar iSubActCount = 0;\r\n\t\t\t\t\t\twhile (oParentObj.rows[iActCount].rows && oParentObj.rows[iActCount].rows[iSubActCount] !== undefined) {\r\n\t\t\t\t\t\t\tif (sSelectedKey !== oParentObj.rows[iActCount].rows[iSubActCount].HubKey) {\r\n\t\t\t\t\t\t\t\toParentObj.rows[iActCount].rows[iSubActCount].HubKey = sSelectedKey;\r\n\t\t\t\t\t\t\t\toParentObj.rows[iActCount].rows[iSubActCount].SubKey = oParentObj.rows[iActCount].SubKey;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthis._getSubsList(oParentObj.rows[iActCount].rows[iSubActCount]);\r\n\t\t\t\t\t\t\tiSubActCount++;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tiActCount++;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis._setEnablement();\r\n\t\t},\r\n\r\n\t\t//Call dialog when Start Month or End month Inputs value help\r\n\t\tonDateDialogConfirm: function(evt) {\r\n\t\t\tvar sNewMonth = sap.ui.getCore().byId(\"idMonthPicker\").getMonth();\r\n\t\t\tvar sOrigDate = this.getModel(\"Copy\").getProperty(this._sMonthPickingPath);\r\n\t\t\tvar sField = this._sMonthPickingSPath;\r\n\t\t\tsNewMonth++;\r\n\t\t\tif (sNewMonth < 10) {\r\n\t\t\t\tsNewMonth = \"0\" + sNewMonth.toString();\r\n\t\t\t}\r\n\t\t\tvar sNewDate = sOrigDate.substring(0, 5) + sNewMonth + sOrigDate.substring(7, sOrigDate.length);\r\n\t\t\tsNewDate = sNewDate.split(\"T\")[0] + \"T00:00:00Z\";\r\n\t\t\tif (sField === \"StartDt\") {\r\n\t\t\t\tsNewDate = sNewDate.substring(0, 8) + \"01\" + sNewDate.substring(10, sNewDate.length);\r\n\t\t\t} else if (sField === \"EndDt\") {\r\n\t\t\t\tsNewDate = sNewDate.substring(0, 8) + \"28\" + sNewDate.substring(10, sNewDate.length);\r\n\t\t\t}\r\n\t\t\tvar dNewDate = new Date(sNewDate);\r\n\t\t\tvar sPath = this._sMonthPickingContext;\r\n\t\t\tvar oParentObj = this.getModel(\"Copy\").getProperty(sPath);\r\n\t\t\tvar sCurrentSt = oParentObj.StartDt;\r\n\t\t\tvar sCurrentEd = oParentObj.EndDt;\r\n\t\t\tvar dCurrentSt = new Date(sCurrentSt);\r\n\t\t\tvar dCurrentEd = new Date(sCurrentEd);\r\n\t\t\tvar aPathArr = sPath.split(\"/\");\r\n\t\t\tvar sParentStDate = \"\";\r\n\t\t\tvar sParentEdDate = \"\";\r\n\t\t\tif (aPathArr.length > 4) { // this part of condition will get executed on change of activity Hub\r\n\t\t\t\tif (aPathArr.length < 7) {\r\n\t\t\t\t\tsParentStDate = this.getModel(\"Copy\").getData().Table.rows[0].StartDt;\r\n\t\t\t\t\tsParentEdDate = this.getModel(\"Copy\").getData().Table.rows[0].EndDt;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar iCount = aPathArr[5];\r\n\t\t\t\t\tsParentStDate = this.getModel(\"Copy\").getData().Table.rows[0].rows[iCount].StartDt;\r\n\t\t\t\t\tsParentEdDate = this.getModel(\"Copy\").getData().Table.rows[0].rows[iCount].EndDt;\r\n\t\t\t\t}\r\n\t\t\t\tvar dParentStDate = new Date(sParentStDate);\r\n\t\t\t\tvar dParentEdDate = new Date(sParentEdDate);\r\n\t\t\t\tvar bErrored = false;\r\n\t\t\t\tif (sField === \"StartDt\") {\r\n\t\t\t\t\tif (dNewDate >= dParentStDate && dNewDate <= dParentEdDate && dNewDate <= dCurrentEd) {\r\n\t\t\t\t\t\tthis.getModel(\"Copy\").setProperty(this._sMonthPickingPath, sNewDate);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tbErrored = true;\r\n\t\t\t\t\t\tvar sErrMsg = this.getResourceBundle().getText(\"C_ERR_StartDt\");\r\n\t\t\t\t\t\tMessageToast.show(sErrMsg);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (sField === \"EndDt\") {\r\n\t\t\t\t\tif (dNewDate >= dParentStDate && dNewDate <= dParentEdDate && dNewDate >= dCurrentSt) {\r\n\t\t\t\t\t\tthis.getModel(\"Copy\").setProperty(this._sMonthPickingPath, sNewDate);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tbErrored = true;\r\n\t\t\t\t\t\tvar sErrMsg = this.getResourceBundle().getText(\"C_ERR_EndDt\");\r\n\t\t\t\t\t\tMessageToast.show(sErrMsg);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (!bErrored) {\r\n\t\t\t\t\tvar iSubAct = 0;\r\n\t\t\t\t\twhile (oParentObj.rows && oParentObj.rows[iSubAct] !== undefined) {\r\n\t\t\t\t\t\tvar sCStDate = oParentObj.rows[iSubAct].StartDt;\r\n\t\t\t\t\t\tvar sCEdDate = oParentObj.rows[iSubAct].EndDt;\r\n\t\t\t\t\t\tvar dCStDate = new Date(sCStDate);\r\n\t\t\t\t\t\tvar dCEdDate = new Date(sCEdDate);\r\n\t\t\t\t\t\tif (sField === \"StartDt\") {\r\n\t\t\t\t\t\t\tif (dNewDate > dCStDate) {\r\n\t\t\t\t\t\t\t\toParentObj.rows[iSubAct].StartDt = sNewDate;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (dNewDate > dCEdDate) {\r\n\t\t\t\t\t\t\t\toParentObj.rows[iSubAct].EndDt = sNewDate;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (sField === \"EndDt\") {\r\n\t\t\t\t\t\t\tif (dNewDate < dCStDate) {\r\n\t\t\t\t\t\t\t\toParentObj.rows[iSubAct].StartDt = sNewDate;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (dNewDate < dCEdDate) {\r\n\t\t\t\t\t\t\t\toParentObj.rows[iSubAct].EndDt = sNewDate;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tiSubAct++;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else { // else part will get executed on change of Project Hub\r\n\t\t\t\tvar iActCount = 0;\r\n\t\t\t\tthis.getModel(\"Copy\").setProperty(this._sMonthPickingPath, sNewDate);\r\n\t\t\t\twhile (oParentObj.rows && oParentObj.rows[iActCount] !== undefined) {\r\n\t\t\t\t\tvar sCStDate = oParentObj.rows[iActCount].StartDt;\r\n\t\t\t\t\tvar sCEdDate = oParentObj.rows[iActCount].EndDt;\r\n\t\t\t\t\tvar dCStDate = new Date(sCStDate);\r\n\t\t\t\t\tvar dCEdDate = new Date(sCEdDate);\r\n\t\t\t\t\tif (sField === \"StartDt\") {\r\n\t\t\t\t\t\tif (dNewDate > dCStDate) {\r\n\t\t\t\t\t\t\toParentObj.rows[iActCount].StartDt = sNewDate;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (dNewDate > dCEdDate) {\r\n\t\t\t\t\t\t\toParentObj.rows[iActCount].EndDt = sNewDate;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (sField === \"EndDt\") {\r\n\t\t\t\t\t\tif (dNewDate < dCStDate) {\r\n\t\t\t\t\t\t\toParentObj.rows[iActCount].StartDt = sNewDate;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (dNewDate < dCEdDate) {\r\n\t\t\t\t\t\t\toParentObj.rows[iActCount].EndDt = sNewDate;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar iSubActCount = 0;\r\n\t\t\t\t\twhile (oParentObj.rows && oParentObj.rows[iActCount].rows[iSubActCount] !== undefined) {\r\n\t\t\t\t\t\tvar sCStDate = oParentObj.rows[iActCount].rows[iSubActCount].StartDt;\r\n\t\t\t\t\t\tvar sCEdDate = oParentObj.rows[iActCount].rows[iSubActCount].EndDt;\r\n\t\t\t\t\t\tvar dCStDate = new Date(sCStDate);\r\n\t\t\t\t\t\tvar dCEdDate = new Date(sCEdDate);\r\n\t\t\t\t\t\tif (sField === \"StartDt\") {\r\n\t\t\t\t\t\t\tif (dNewDate > dCStDate) {\r\n\t\t\t\t\t\t\t\toParentObj.rows[iActCount].rows[iSubActCount].StartDt = sNewDate;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (dNewDate > dCEdDate) {\r\n\t\t\t\t\t\t\t\toParentObj.rows[iActCount].rows[iSubActCount].EndDt = sNewDate;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (sField === \"EndDt\") {\r\n\t\t\t\t\t\t\tif (dNewDate < dCStDate) {\r\n\t\t\t\t\t\t\t\toParentObj.rows[iActCount].rows[iSubActCount].StartDt = sNewDate;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (dNewDate < dCEdDate) {\r\n\t\t\t\t\t\t\t\toParentObj.rows[iActCount].rows[iSubActCount].EndDt = sNewDate;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tiSubActCount++;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tiActCount++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.getModel(\"Copy\").refresh(false);\r\n\t\t\tthis.oMonthYearPickerDialog.close();\r\n\t\t},\r\n\t\tonDateDialogClose: function() {\r\n\t\t\tthis.oMonthYearPickerDialog.close();\r\n\t\t},\r\n\t\t_initializeModel: function() {\r\n\t\t\tvar oModel = this.getModel(\"Copy\");\r\n\t\t\tvar currentPlanningYear = this.getModel(\"GeoFilter\").getProperty(\"/Input/PlanningYear\");\r\n\t\t\tvar aPlanningYears = [];\r\n\t\t\tif (!oModel) {\r\n\t\t\t\tvar oConfig = JSON.parse(this.getOwnerComponent().getModel(\"ASMConfig\").getData().Properties.PlanningYearConfig);\r\n\t\t\t\t//var aPlanningYears = this.getModel(\"GeoFilter\").getProperty(\"/PlanningYear/Current\");\r\n\t\t\t\tif (!aPlanningYears || aPlanningYears.length === 0) {\r\n\t\t\t\t\taPlanningYears = [];\r\n\t\t\t\t\tfor (var i = 0; i < oConfig.length; i++) {\r\n\t\t\t\t\t\tif (!oConfig[i].DisplayOnly) {\r\n\t\t\t\t\t\t\tvar oPlanningYearRecord = {};\r\n\t\t\t\t\t\t\toPlanningYearRecord.Key = oConfig[i].Year;\r\n\t\t\t\t\t\t\toPlanningYearRecord.Text = oConfig[i].Year;\r\n\t\t\t\t\t\t\toPlanningYearRecord.DisplayOnly = oConfig[i].DisplayOnly;\r\n\t\t\t\t\t\t\taPlanningYears.push(oPlanningYearRecord);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tvar oViewModel1 = new sap.ui.model.json.JSONModel({\r\n\t\t\t\t\t\"Table\": [],\r\n\t\t\t\t\t\"Header\": {\r\n\t\t\t\t\t\t\"TargetPlanningYear\": {\r\n\t\t\t\t\t\t\t\"Value\": currentPlanningYear,\r\n\t\t\t\t\t\t\t\"Current\": aPlanningYears,\r\n\t\t\t\t\t\t\t\"Enabled\": true\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\t\"MonthSelect\": 0,\r\n\t\t\t\t\t\"Dropdowns\": {\r\n\t\t\t\t\t\t\"Division\": [],\r\n\t\t\t\t\t\t\"Hub\": [],\r\n\t\t\t\t\t\t\"Sub\": [],\r\n\t\t\t\t\t\t\"Category\": [],\r\n\t\t\t\t\t\t\"Subcategory\": [],\r\n\t\t\t\t\t\t\"Brand\": [],\r\n\t\t\t\t\t\t\"Subbrand\": [],\r\n\t\t\t\t\t\t\"ProjectType\": [],\r\n\t\t\t\t\t\t\"ActivityType\": [],\r\n\t\t\t\t\t\t\"SubactivityType\": []\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\toViewModel1.setSizeLimit(50000);\r\n\t\t\t\tthis.setModel(oViewModel1, \"Copy\");\r\n\t\t\t}\r\n\t\t\taPlanningYears = this.getModel(\"Copy\").getProperty(\"/Header/TargetPlanningYear/Current\");\r\n\t\t\tvar bInitialYearSet = false;\r\n\t\t\tthis._initialYear = currentPlanningYear;\r\n\t\t\tfor (var j = 0; j < aPlanningYears.length; j++) {\r\n\t\t\t\tif (aPlanningYears[j].Key === this._initialYear) {\r\n\t\t\t\t\tbInitialYearSet = true;\r\n\t\t\t\t\tj = aPlanningYears.length;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (!bInitialYearSet) {\r\n\t\t\t\tthis._initialYear = aPlanningYears[0].Key;\r\n\t\t\t}\r\n\t\t},\r\n\t\t_buildChildren: function(oParent) {\r\n\t\t\tvar i = 0;\r\n\t\t\tvar done = false;\r\n\t\t\tif (oParent[0]) {\r\n\t\t\t\toParent.rows = [];\r\n\t\t\t\twhile (!done) {\r\n\t\t\t\t\tif (oParent[i]) {\r\n\t\t\t\t\t\tthis._addFieldControl(oParent[i]);\r\n\t\t\t\t\t\toParent.rows.push(oParent[i]);\r\n\t\t\t\t\t\tthis._buildChildren(oParent[i]);\r\n\t\t\t\t\t\tdelete oParent[i];\r\n\t\t\t\t\t\ti++;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tdone = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t_addFieldControl: function(oRecord) {\r\n\t\t\toRecord.ValueState = {};\r\n\t\t\toRecord.ValueStateText = {};\r\n\t\t\toRecord.ValueState.Name = sap.ui.core.ValueState.None;\r\n\t\t\toRecord.ValueStateText.Name = \"\";\r\n\t\t\toRecord.ValueState.ActivityType = sap.ui.core.ValueState.None;\r\n\t\t\toRecord.ValueStateText.ActivityType = \"\";\r\n\t\t\toRecord.ValueState.Hub = sap.ui.core.ValueState.None;\r\n\t\t\toRecord.ValueStateText.Hub = \"\";\r\n\t\t\toRecord.ValueState.Sub = sap.ui.core.ValueState.None;\r\n\t\t\toRecord.ValueStateText.Sub = \"\";\r\n\t\t\toRecord.ValueState.Category = sap.ui.core.ValueState.None;\r\n\t\t\toRecord.ValueStateText.Category = \"\";\r\n\t\t\toRecord.ValueState.Subcategory = sap.ui.core.ValueState.None;\r\n\t\t\toRecord.ValueStateText.Subcategory = \"\";\r\n\t\t\toRecord.ValueState.Brand = sap.ui.core.ValueState.None;\r\n\t\t\toRecord.ValueStateText.Brand = \"\";\r\n\t\t\toRecord.ValueState.Subbrand = sap.ui.core.ValueState.None;\r\n\t\t\toRecord.ValueStateText.Subbrand = \"\";\r\n\t\t},\r\n\t\t_setATValues: function(sParentType, oRecord, bClearChildren) {\r\n\t\t\tvar sChanged = oRecord.ItemType;\r\n\t\t\tvar oDropdowns = this.getModel(\"Copy\").getProperty(\"/Dropdowns\");\r\n\t\t\tif (!oRecord.Enabled) {\r\n\t\t\t\toRecord.Enabled = {};\r\n\t\t\t}\r\n\t\t\tif (!oRecord.Placeholders) {\r\n\t\t\t\toRecord.Placeholders = {};\r\n\t\t\t}\r\n\t\t\tif (sChanged === \"PT\") {\r\n\t\t\t\toRecord.Enabled.ActivityType = true;\r\n\t\t\t\toRecord.CurrentActivityTypes = oDropdowns.ProjectType;\r\n\t\t\t\tthis._setATChildrenValues(oRecord, bClearChildren);\r\n\t\t\t} else if (sChanged === \"AT\") {\r\n\t\t\t\tif (sParentType !== \"\") {\r\n\t\t\t\t\toRecord.Enabled.ActivityType = true;\r\n\t\t\t\t\tif (oRecord.ActivityType !== \"\" && !oDropdowns.SubactivityType[oRecord.ActivityType]) {\r\n\t\t\t\t\t\tvar that = this;\r\n\t\t\t\t\t\tthat._getSubactivityTypes(oRecord.ActivityType); //Changed By Khrystyne 10/30\r\n\t\t\t\t\t\t// setTimeout(function() {\r\n\t\t\t\t\t\t// \tthat._getSubactivityTypes(oRecord.ActivityType);\r\n\t\t\t\t\t\t// }, 200);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\toRecord.Enabled.ActivityType = true; //Would have been false\r\n\t\t\t\t}\r\n\t\t\t\toRecord.CurrentActivityTypes = oDropdowns.ActivityType;\r\n\t\t\t\tthis._setATChildrenValues(oRecord, bClearChildren);\r\n\t\t\t} else if (sChanged === \"SA\") {\r\n\t\t\t\tif (sParentType !== \"\") {\r\n\t\t\t\t\toRecord.Enabled.ActivityType = true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\toRecord.Enabled.ActivityType = true; //Would have been false\r\n\t\t\t\t}\r\n\t\t\t\toRecord.CurrentActivityTypes = oDropdowns.SubactivityType[sParentType];\r\n\t\t\t\t// Double check to make sure item is selected\r\n\t\t\t\tif (oRecord.ActivityType === \"\") {\r\n\t\t\t\t\toRecord.ActivityType = oRecord.CurrentActivityTypes[0].Key;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar bFound = false;\r\n\t\t\t\t\tfor (var i = 0; i < oRecord.CurrentActivityTypes.length; i++) {\r\n\t\t\t\t\t\tif (oRecord.ActivityType === oRecord.CurrentActivityTypes[i].Key) {\r\n\t\t\t\t\t\t\tbFound = true;\r\n\t\t\t\t\t\t\ti = oRecord.CurrentActivityTypes.length;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (!bFound) {\r\n\t\t\t\t\t\toRecord.ActivityType = oRecord.CurrentActivityTypes[0].Key;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.getModel(\"Copy\").refresh(false);\r\n\t\t},\r\n\t\t_setPHValues: function(sChanged, oRecord, bChild, oParent) {\r\n\t\t\tvar that = this;\r\n\t\t\tvar oDropdowns = this.getModel(\"Copy\").getProperty(\"/Dropdowns\");\r\n\t\t\tvar sServiceUrl = this.getOwnerComponent().getModel(\"masterShared\").getProperty(\"/oServiceUrls/mainService\");\r\n\t\t\tif (!oRecord.Enabled) {\r\n\t\t\t\toRecord.Enabled = {};\r\n\t\t\t}\r\n\t\t\tif (!oRecord.Placeholders) {\r\n\t\t\t\toRecord.Placeholders = {};\r\n\t\t\t}\r\n\t\t\toRecord.Placeholders.Brand = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_brand_e\");\r\n\t\t\tif (sChanged === \"CategoryKey\") {\r\n\t\t\t\tif (bChild && oRecord.CategoryKey !== \"\") {\r\n\t\t\t\t\toRecord.Enabled.Category = false;\r\n\t\t\t\t} else if (bChild && oRecord.CategoryKey === \"\") {\r\n\t\t\t\t\toRecord.Enabled.Category = true;\r\n\t\t\t\t}\r\n\t\t\t\t// First clear the keys\r\n\t\t\t\t// PSW Start Correction Clear Dependent fields May 26th 2016 v3\r\n\t\t\t\tif (oRecord.SubcategoryKey) {\r\n\t\t\t\t\toRecord.SubcategoryKey = \"\";\r\n\t\t\t\t}\r\n\t\t\t\tif (oRecord.BrandKey) {\r\n\t\t\t\t\toRecord.Placeholders.Brand = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_brand_e\");\r\n\t\t\t\t\t// Check to see if BrandKey should be removed\r\n\t\t\t\t\tif (oRecord.BrandKey !== \"\" && oRecord.CategoryKey !== \"\") {\r\n\t\t\t\t\t\tvar aBrands = [];\r\n\t\t\t\t\t\tif (oRecord.CurrentBrands) {\r\n\t\t\t\t\t\t\taBrands = oRecord.CurrentBrands;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tfor (var i = 0; i < aBrands.length; i++) {\r\n\t\t\t\t\t\t\tif (aBrands[i].Key === oRecord.BrandKey) {\r\n\t\t\t\t\t\t\t\tif (oRecord.CategoryKey !== aBrands[i].Category && aBrands[i].Category !== \"\") {\r\n\t\t\t\t\t\t\t\t\toRecord.BrandKey = \"\";\r\n\t\t\t\t\t\t\t\t\toRecord.SubbrandKey = \"\";\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\ti = aBrands.length;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tDropdownUtils.getDelayedCategories(this, oRecord.CategoryKey, oRecord.BrandKey,\r\n\t\t\t\t\tthis.getView().getModel(\"Copy\"), \"/Dropdowns/Category\",\r\n\t\t\t\t\toRecord, \"CurrentCategories\");\r\n\t\t\t\tDropdownUtils.getDelayedBrands(this, null, oRecord.CategoryKey, oRecord.SubcategoryKey, oRecord.BrandKey,\r\n\t\t\t\t\tthis.getModel(\"Copy\"), \"/Dropdowns/Brand\", oRecord, \"CurrentBrands\");\r\n\t\t\t\tvar sSelected = oRecord.CategoryKey;\r\n\t\t\t\tif (!sSelected || sSelected === \"\") {\r\n\t\t\t\t\toRecord.Enabled.Subcategory = false;\r\n\t\t\t\t\t//oRecord.Enabled.Brand = false;\r\n\t\t\t\t\toRecord.Enabled.Subbrand = false;\r\n\t\t\t\t\toRecord.Placeholders.Subcategory = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_pscategory_e\");\r\n\t\t\t\t\t//oRecord.Placeholders.Brand = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_brand\");\r\n\t\t\t\t\toRecord.Placeholders.Subbrand = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_subbrand\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// May need to change the Brand List\r\n\t\t\t\t\t// Check if you already have these values stored\r\n\t\t\t\t\tDropdownUtils.getDelayedSubcategories(this, oRecord.CategoryKey, oRecord.SubcategoryKey, oRecord.BrandKey, this.getView()\r\n\t\t\t\t\t\t.getModel(\r\n\t\t\t\t\t\t\t\"Copy\"), \"/Dropdowns/Subcategory\", oRecord, \"CurrentSubcategories\");\r\n\t\t\t\t\toRecord.Enabled.Subcategory = true;\r\n\t\t\t\t\toRecord.Placeholders.Subcategory = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_subcategory_e\");\r\n\t\t\t\t\toRecord.Placeholders.Subbrand = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_subbrand_sbe\");\r\n\t\t\t\t}\r\n\t\t\t\toRecord.Enabled.Subbrand = false;\r\n\t\t\t} else if (sChanged === \"BrandKey\" || sChanged === \"SubcategoryKey\") {\r\n\t\t\t\tif (sChanged === \"SubcategoryKey\") {\r\n\t\t\t\t\tif (bChild && oRecord.SubcategoryKey !== \"\") {\r\n\t\t\t\t\t\toRecord.Enabled.Subcategory = false;\r\n\t\t\t\t\t} else if (bChild && oRecord.SubcategoryKey === \"\") {\r\n\t\t\t\t\t\toRecord.Enabled.Subcategory = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tDropdownUtils.getDelayedBrands(this, null, oRecord.CategoryKey, oRecord.SubcategoryKey, oRecord.BrandKey,\r\n\t\t\t\t\t\tthis.getModel(\"Copy\"), \"/Dropdowns/Brand\", oRecord, \"CurrentBrands\");\r\n\t\t\t\t\twhile (this._phLoopBusy) {\r\n\t\t\t\t\t\t// This is added in just to wait for the data to be released.\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (sChanged === \"BrandKey\") {\r\n\t\t\t\t\tvar aBrands = [];\r\n\t\t\t\t\tif (oRecord.CurrentBrands) {\r\n\t\t\t\t\t\taBrands = oRecord.CurrentBrands;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar bFound = false;\r\n\t\t\t\t\tfor (var i = 0; i < aBrands.length; i++) {\r\n\t\t\t\t\t\tif (oRecord.BrandKey === aBrands[i].Key) {\r\n\t\t\t\t\t\t\tbFound = true;\r\n\t\t\t\t\t\t\tif (oRecord.SubcategoryKey !== \"\" && oRecord.SubcategoryKey !== aBrands[i].PSubCategory) {\r\n\t\t\t\t\t\t\t\toRecord.SubcategoryKey = \"\";\r\n\t\t\t\t\t\t\t\tDropdownUtils._clearParentPHField(this.getModel(\"Copy\").getData().Table, \"SubcategoryKey\", oRecord);\r\n\t\t\t\t\t\t\t\tif (oRecord.CategoryKey !== \"\" && oRecord.CategoryKey !== aBrands[i].Category) {\r\n\t\t\t\t\t\t\t\t\toRecord.CategoryKey = \"\";\r\n\t\t\t\t\t\t\t\t\tDropdownUtils._clearParentPHField(this.getModel(\"Copy\").getData().Table, \"CategoryKey\", oRecord);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else if (oRecord.CategoryKey !== \"\" && oRecord.CategoryKey !== aBrands[i].Category) {\r\n\t\t\t\t\t\t\t\toRecord.CategoryKey = \"\";\r\n\t\t\t\t\t\t\t\tDropdownUtils._clearParentPHField(this._oContext.getModel(\"Copy\").getData().Table, \"CategoryKey\", oRecord);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (bChild) {\r\n\t\t\t\t\t\t\t\tif (oRecord.SubcategoryKey !== \"\") {\r\n\t\t\t\t\t\t\t\t\tif (oParent.SubcategoryKey !== \"\") {\r\n\t\t\t\t\t\t\t\t\t\toRecord.Enabled.Subcategory = false;\r\n\t\t\t\t\t\t\t\t\t\toRecord.Placeholders.Subcategory = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_sparent\");\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\toRecord.Enabled.Subcategory = true;\r\n\t\t\t\t\t\t\t\t\t\toRecord.Placeholders.Subcategory = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_subcategory_e\");\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t} else if (oRecord.CategoryKey === \"\") {\r\n\t\t\t\t\t\t\t\t\toRecord.Enabled.Subcategory = false;\r\n\t\t\t\t\t\t\t\t\toRecord.Enabled.Category = true;\r\n\t\t\t\t\t\t\t\t\toRecord.Placeholders.Subcategory = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_pscategory\");\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif (oRecord.CategoryKey !== \"\" && oParent.CategoryKey === oRecord.CategoryKey) {\r\n\t\t\t\t\t\t\t\t\toRecord.Enabled.Category = false;\r\n\t\t\t\t\t\t\t\t\toRecord.Placeholders.Category = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_sparent\");\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\ti = aBrands.length;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (!bFound && aBrands.length > 0) {\r\n\t\t\t\t\t\t// This means that brand selected is not on the current brand list\r\n\t\t\t\t\t\t// Thus the Category / Subcategory must be wrong.\r\n\t\t\t\t\t\toRecord.CategoryKey = \"\";\r\n\t\t\t\t\t\toRecord.SubcategoryKey = \"\";\r\n\t\t\t\t\t\toRecord.SubbrandKey = \"\";\r\n\t\t\t\t\t\tDropdownUtils.getDelayedBrands(this, null, oRecord.CategoryKey, oRecord.SubcategoryKey, oRecord.BrandKey,\r\n\t\t\t\t\t\t\tthis.getModel(\"Copy\"), \"/Dropdowns/Brand\", oRecord, \"CurrentBrands\");\r\n\t\t\t\t\t\tif (bChild) {\r\n\t\t\t\t\t\t\tif (oRecord.SubcategoryKey !== \"\") {\r\n\t\t\t\t\t\t\t\tif (oParent.SubcategoryKey !== \"\") {\r\n\t\t\t\t\t\t\t\t\toRecord.Enabled.Subcategory = false;\r\n\t\t\t\t\t\t\t\t\toRecord.Placeholders.Subcategory = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_sparent\");\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\toRecord.Enabled.Subcategory = true;\r\n\t\t\t\t\t\t\t\t\toRecord.Placeholders.Subcategory = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_pscategory_e\");\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else if (oRecord.CategoryKey === \"\") {\r\n\t\t\t\t\t\t\t\toRecord.Enabled.Subcategory = false;\r\n\t\t\t\t\t\t\t\toRecord.Enabled.Category = true;\r\n\t\t\t\t\t\t\t\toRecord.Placeholders.Subcategory = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_pscategory\");\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\toRecord.Placeholders.Category = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_sparent\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (bChild && oRecord.BrandKey !== \"\") {\r\n\t\t\t\t\toRecord.Enabled.Brand = false;\r\n\t\t\t\t} else if (bChild && oRecord.BrandKey === \"\") {\r\n\t\t\t\t\toRecord.Enabled.Brand = oRecord.isRowEditable;\r\n\t\t\t\t\toRecord.Placeholders.Brand = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_brand_e\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\toRecord.Enabled.Brand = oRecord.isRowEditable;\r\n\t\t\t\t}\r\n\t\t\t\t// First clear out old values\r\n\t\t\t\tif (oRecord.SubbrandKey) {\r\n\t\t\t\t\toRecord.SubbrandKey = \"\";\r\n\t\t\t\t}\r\n\t\t\t\tif (oRecord.BrandKey !== \"\" || oRecord.SubcategoryKey !== \"\") {\r\n\t\t\t\t\tDropdownUtils.getDelayedSubbrands(this, null, oRecord.CategoryKey, oRecord.SubcategoryKey, oRecord.BrandKey, oRecord.SubbrandKey,\r\n\t\t\t\t\t\tthis.getModel(\"Copy\"), \"/Dropdowns/Subbrand\", oRecord, \"CurrentSubbrands\");\r\n\t\t\t\t\t// var combinedKey = oRecord.CategoryKey + \":\" + oRecord.SubcategoryKey + \":\" + oRecord.BrandKey;\r\n\t\t\t\t\t// if (oDropdowns.Subbrand && oDropdowns.Subbrand[combinedKey]) {\r\n\t\t\t\t\t// \t// You don't need to select - we already have the data\r\n\t\t\t\t\t// \toRecord.CurrentSubbrands = oDropdowns.Subbrand[combinedKey];\r\n\t\t\t\t\t// } else {\r\n\t\t\t\t\t// \tvar sbmodel = this.getModel(\"Subbrand\");\r\n\t\t\t\t\t// \tif (!sbmodel) {\r\n\t\t\t\t\t// \t\t//sbmodel = new sap.ui.model.odata.v2.ODataModel(sServiceUrl, false); //Changed by Khrystyne 10/27\r\n\t\t\t\t\t// \t\tsbmodel = new sap.ui.model.odata.ODataModel(sServiceUrl, false);\r\n\t\t\t\t\t// \t\tsbmodel.setSizeLimit(50000);\r\n\t\t\t\t\t// \t\tsbmodel.setDefaultCountMode(sap.ui.model.odata.CountMode.None);\r\n\t\t\t\t\t// \t\tthis.setModel(sbmodel, \"Subbrand\");\r\n\t\t\t\t\t// \t}\r\n\t\t\t\t\t// \tvar filters = [];\r\n\t\t\t\t\t// \tfilters.push(new sap.ui.model.Filter({\r\n\t\t\t\t\t// \t\tpath: \"Key\",\r\n\t\t\t\t\t// \t\toperator: sap.ui.model.FilterOperator.EQ,\r\n\t\t\t\t\t// \t\tvalue1: oRecord.SubbrandKey\r\n\t\t\t\t\t// \t}));\r\n\t\t\t\t\t// \tfilters.push(new sap.ui.model.Filter({\r\n\t\t\t\t\t// \t\tpath: \"Category\",\r\n\t\t\t\t\t// \t\toperator: sap.ui.model.FilterOperator.EQ,\r\n\t\t\t\t\t// \t\tvalue1: oRecord.CategoryKey\r\n\t\t\t\t\t// \t}));\r\n\t\t\t\t\t// \tfilters.push(new sap.ui.model.Filter({\r\n\t\t\t\t\t// \t\tpath: \"PSubCategory\",\r\n\t\t\t\t\t// \t\toperator: sap.ui.model.FilterOperator.EQ,\r\n\t\t\t\t\t// \t\tvalue1: oRecord.SubcategoryKey\r\n\t\t\t\t\t// \t}));\r\n\t\t\t\t\t// \tfilters.push(new sap.ui.model.Filter({\r\n\t\t\t\t\t// \t\tpath: \"Brand\",\r\n\t\t\t\t\t// \t\toperator: sap.ui.model.FilterOperator.EQ,\r\n\t\t\t\t\t// \t\tvalue1: oRecord.BrandKey\r\n\t\t\t\t\t// \t}));\r\n\t\t\t\t\t// \tvar sPath = \"/VHSubbrands\";\r\n\t\t\t\t\t// \tSpinnerUtils.startDetailSpinner(this);\r\n\t\t\t\t\t// \tvar that = this;\r\n\t\t\t\t\t// \tvar oPromise = new Promise(function(resolve, reject) {\r\n\t\t\t\t\t// \t\tsbmodel.read(sPath, {\r\n\t\t\t\t\t// \t\t\tasync: false,\r\n\t\t\t\t\t// \t\t\tfilters: filters,\r\n\t\t\t\t\t// \t\t\tsuccess: function(oData, oResponse) {\r\n\t\t\t\t\t// \t\t\t\tTimeoutUtils.onResetTimer(that);\r\n\t\t\t\t\t// \t\t\t\tthat._setSubbrands(oData, oRecord);\r\n\t\t\t\t\t// \t\t\t\tresolve(oData);\r\n\t\t\t\t\t// \t\t\t},\r\n\t\t\t\t\t// \t\t\terror: function(oError) {\r\n\t\t\t\t\t// \t\t\t\toError.ErrorOrigin = \"Subbrands\";\r\n\t\t\t\t\t// \t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.detail\", \"Errors\", oError);\r\n\t\t\t\t\t// \t\t\t\treject(oError);\r\n\t\t\t\t\t// \t\t\t}\r\n\t\t\t\t\t// \t\t});\r\n\t\t\t\t\t// \t});\r\n\t\t\t\t\t// \toPromise.then(function(oData) {\r\n\t\t\t\t\t// \t\tSpinnerUtils.stopDetailSpinner(that);\r\n\t\t\t\t\t// \t});\r\n\t\t\t\t\t// }\r\n\t\t\t\t\tif (oRecord.CategoryKey === \"\" && oRecord.SubcategoryKey === \"\" && oRecord.BrandKey === \"\") {\r\n\t\t\t\t\t\toRecord.Enabled.Subbrand = false;\r\n\t\t\t\t\t\toRecord.Placeholders.Subbrand = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_subbrand\");\r\n\t\t\t\t\t} else if (oRecord.SubcategoryKey === \"\" && oRecord.BrandKey === \"\") {\r\n\t\t\t\t\t\toRecord.Enabled.Subbrand = false;\r\n\t\t\t\t\t\toRecord.Placeholders.Subbrand = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_subbrand_sbe\");\r\n\t\t\t\t\t} else if (oRecord.CategoryKey === \"\" && oRecord.SubcategoryKey === \"\") {\r\n\t\t\t\t\t\toRecord.Enabled.Subbrand = false;\r\n\t\t\t\t\t\toRecord.Placeholders.Subbrand = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_subbrand_cse\");\r\n\t\t\t\t\t} else if (oRecord.BrandKey === \"\") {\r\n\t\t\t\t\t\toRecord.Enabled.Subbrand = false;\r\n\t\t\t\t\t\toRecord.Placeholders.Subbrand = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_subbrand_be\");\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\toRecord.Enabled.Subbrand = true;\r\n\t\t\t\t\t\toRecord.Placeholders.Subbrand = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_subbrand_e\");\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\toRecord.Enabled.Subbrand = false;\r\n\t\t\t\t\toRecord.Placeholders.Brand = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_brand_e\");\r\n\t\t\t\t\toRecord.Placeholders.Subbrand = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_subbrand_be\");\r\n\t\t\t\t}\r\n\t\t\t\tDropdownUtils.getDelayedCategories(this, oRecord.CategoryKey, oRecord.BrandKey,\r\n\t\t\t\t\tthis.getView().getModel(\"Copy\"), \"/Dropdowns/Category\",\r\n\t\t\t\t\toRecord, \"CurrentCategories\");\r\n\t\t\t\tif (oRecord.CategoryKey && oRecord.CategoryKey !== \"\") {\r\n\t\t\t\t\tDropdownUtils.getDelayedSubcategories(this, oRecord.CategoryKey, oRecord.SubcategoryKey, oRecord.BrandKey,\r\n\t\t\t\t\t\tthis.getView().getModel(\"Copy\"), \"/Dropdowns/Subcategory\",\r\n\t\t\t\t\t\toRecord, \"CurrentSubcategories\");\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (bChild && oRecord.SubbrandKey !== \"\") {\r\n\t\t\t\t\toRecord.Enabled.Subbrand = false;\r\n\t\t\t\t} else if (bChild && oRecord.SubbrandKey === \"\" && oRecord.SubcategoryKey !== \"\") {\r\n\t\t\t\t\toRecord.Enabled.Subbrand = true;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (oRecord.SubbrandKey !== \"\") {\r\n\t\t\t\t\tif (oRecord.CurrentSubbrands) {\r\n\t\t\t\t\t\tvar aSubbrands = oRecord.CurrentSubbrands;\r\n\t\t\t\t\t\tfor (var i = 0; i < aSubbrands.length; i++) {\r\n\t\t\t\t\t\t\tif (aSubbrands[i].Key === oRecord.SubbrandKey) {\r\n\t\t\t\t\t\t\t\tif (oRecord.BrandKey !== aSubbrands[i].Brand) {\r\n\t\t\t\t\t\t\t\t\toRecord.BrandKey = aSubbrands[i].Brand;\r\n\t\t\t\t\t\t\t\t\t//this.getModel(\"Copy\").refresh(false);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif (!bChild) {\r\n\t\t\t\t\t\t\t\t\tthis._setPHChildrenValuesSimple(\"BrandKey\", oRecord);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\ti = aSubbrands.length;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (!bChild) {\r\n\t\t\t\tthis._setPHChildrenValues(sChanged, oRecord);\r\n\t\t\t}\r\n\t\t\tthis.getModel(\"Copy\").refresh(false);\r\n\t\t},\r\n\t\t// _setSubbrands: function(oDataIn, oRecord) {\r\n\t\t// \tvar oDropdowns = this.getModel(\"Copy\").getProperty(\"/Dropdowns\");\r\n\t\t// \toRecord.CurrentSubbrands = oDataIn.results;\r\n\t\t// \tvar combinedKey = oRecord.CategoryKey + \":\" + oRecord.SubcategoryKey + \":\" + oRecord.BrandKey;\r\n\t\t// \toDropdowns.Subbrand[combinedKey] = oDataIn.results;\r\n\t\t// \tthis.getModel(\"Copy\").refresh(false);\r\n\t\t// },\r\n\t\tonSelectionChange: function(oEvent) {\r\n\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oBusy/skipStop\", true);\r\n\t\t\tSpinnerUtils.startDetailSpinner(this);\r\n\t\t\tvar sChanged = oEvent.getSource().getId();\r\n\t\t\tvar aParts = sChanged.split(\"--\");\r\n\t\t\tvar aParts2 = aParts[aParts.length - 1].split(\"-\");\r\n\t\t\tsChanged = aParts2[0];\r\n\t\t\tvar sPath = oEvent.getSource().getParent().getBindingContext(\"Copy\").getPath();\r\n\t\t\tvar oRecord = this.getModel(\"Copy\").getProperty(sPath);\r\n\t\t\tDropdownUtils.resetDelay();\r\n\t\t\tthis._setPHValues(sChanged, oRecord, false, null);\r\n\t\t\tDropdownUtils._resetEnabled(this.getModel(\"Copy\").getData().Table, \"Brand\", \"BrandKey\");\r\n\t\t\tsap.ui.getCore().getEventBus().subscribeOnce(\"colgate.asm.planning.dropdownutils\", \"PHFetchComplete\", this._onPHFetched, this);\r\n\t\t\tDropdownUtils.executeDelayed();\r\n\t\t},\r\n\t\tonActivityTypeChange: function(oEvent) {\r\n\t\t\tvar sPath = oEvent.getSource().getParent().getBindingContext(\"Copy\").getPath();\r\n\t\t\tvar oRecord = this.getModel(\"Copy\").getProperty(sPath);\r\n\t\t\tif (oRecord.ItemType === \"AT\") {\r\n\t\t\t\tthis._setATValues(\"X\", oRecord, true);\r\n\t\t\t}\r\n\t\t},\r\n\t\t_initializeRowPH: function(oRecord, oParent) {\r\n\t\t\tvar hSubcategory = oRecord.SubcategoryKey;\r\n\t\t\tvar hBrand = oRecord.BrandKey;\r\n\t\t\tvar hSubbrand = oRecord.SubbrandKey;\r\n\t\t\tthis._setPHValues(\"CategoryKey\", oRecord, true, oParent);\r\n\t\t\tif (!oParent || oRecord.CategoryKey !== oParent.CategoryKey) {\r\n\t\t\t\toRecord.Enabled.Category = true;\r\n\t\t\t}\r\n\t\t\tif (hSubcategory !== \"\") {\r\n\t\t\t\toRecord.SubcategoryKey = hSubcategory;\r\n\t\t\t\tthis._setPHValues(\"SubcategoryKey\", oRecord, true, oParent);\r\n\t\t\t\tif (!oParent || oRecord.SubcategoryKey !== oParent.SubcategoryKey) {\r\n\t\t\t\t\toRecord.Enabled.Subcategory = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (hBrand !== \"\") {\r\n\t\t\t\toRecord.BrandKey = hBrand;\r\n\t\t\t\tthis._setPHValues(\"BrandKey\", oRecord, true, oParent);\r\n\t\t\t\tif (!oParent || oRecord.BrandKey !== oParent.BrandKey) {\r\n\t\t\t\t\toRecord.Enabled.Brand = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (hSubbrand !== \"\") {\r\n\t\t\t\toRecord.SubbrandKey = hSubbrand;\r\n\t\t\t\tthis._setPHValues(\"SubbrandKey\", oRecord, true, oParent);\r\n\t\t\t\tif (!oParent || oRecord.SubbrandKey !== oParent.SubbrandKey) {\r\n\t\t\t\t\toRecord.Enabled.Subbrand = true;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (oRecord.BrandKey === \"\") {\r\n\t\t\t\t\toRecord.Enabled.Subbrand = false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (!oRecord.isRowEditable) {\r\n\t\t\t\toRecord.Enabled.Category = false;\r\n\t\t\t\toRecord.Enabled.Subcategory = false;\r\n\t\t\t\toRecord.Enabled.Brand = false;\r\n\t\t\t\toRecord.Enabled.Subbrand = false;\r\n\t\t\t}\r\n\t\t\toRecord.CategoryDesc = \"\";\r\n\t\t\toRecord.SubcategoryDesc = \"\";\r\n\t\t\toRecord.BrandDesc = \"\";\r\n\t\t\toRecord.SubbrandDesc = \"\";\r\n\t\t\t//this._getDropdownSet(oRecord);\r\n\t\t},\r\n\t\t_initializeRowAT: function(oRecord, oParent, bClearChildren) {\r\n\t\t\tthis._setATValues(oParent.ActivityType, oRecord, bClearChildren);\r\n\t\t},\r\n\t\t_setPHChildrenValuesSimple: function(sChanged, oRecord) {\r\n\t\t\tvar sKey = oRecord[sChanged];\r\n\t\t\tif (sKey !== \"\" && oRecord.rows) {\r\n\t\t\t\tfor (var i = 0; i < oRecord.rows.length; i++) {\r\n\t\t\t\t\tvar oNewRecord = oRecord.rows[i];\r\n\t\t\t\t\toNewRecord[sChanged] = sKey;\r\n\t\t\t\t\tvar sEnabledField = sChanged.replace(\"Key\", \"\");\r\n\t\t\t\t\toNewRecord.Enabled[sEnabledField] = false;\r\n\t\t\t\t\tthis._setPHChildrenValues(sChanged, oNewRecord);\r\n\t\t\t\t\tthis._getDropdownSet(oNewRecord);\r\n\t\t\t\t}\r\n\t\t\t} else if (oRecord.rows) {\r\n\t\t\t\tfor (var i = 0; i < oRecord.rows.length; i++) {\r\n\t\t\t\t\tvar oNewRecord = oRecord.rows[i];\r\n\t\t\t\t\tvar sEnabledField = sChanged.replace(\"Key\", \"\");\r\n\t\t\t\t\toNewRecord.Enabled[sEnabledField] = true;\r\n\t\t\t\t\tthis._getDropdownSet(oNewRecord);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.getModel(\"Copy\").refresh(false);\r\n\t\t},\r\n\t\t_setPHChildrenValues: function(sChanged, oRecord) {\r\n\t\t\tvar sKey = oRecord[sChanged];\r\n\t\t\tif (sKey !== \"\" && oRecord.rows) {\r\n\t\t\t\tfor (var i = 0; i < oRecord.rows.length; i++) {\r\n\t\t\t\t\tvar oNewRecord = oRecord.rows[i];\r\n\t\t\t\t\toNewRecord[sChanged] = sKey;\r\n\t\t\t\t\tthis._setPHValues(sChanged, oNewRecord, true, oRecord);\r\n\t\t\t\t\tthis._setPHChildrenValues(sChanged, oNewRecord);\r\n\t\t\t\t\tthis._getDropdownSet(oNewRecord);\r\n\t\t\t\t}\r\n\t\t\t} else if (oRecord.rows) {\r\n\t\t\t\tfor (var i = 0; i < oRecord.rows.length; i++) {\r\n\t\t\t\t\tvar oNewRecord = oRecord.rows[i];\r\n\t\t\t\t\tvar sEnabledField = sChanged.replace(\"Key\", \"\");\r\n\t\t\t\t\toNewRecord.Enabled[sEnabledField] = true;\r\n\t\t\t\t\tthis._getDropdownSet(oNewRecord);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t//this.getModel(\"Copy\").refresh(false);\r\n\t\t},\r\n\t\t_setATChildrenValues: function(oRecord, bClearChildren) {\r\n\t\t\tvar sKey = oRecord.ActivityType;\r\n\t\t\tif (sKey !== \"\" && oRecord.rows) {\r\n\t\t\t\tfor (var i = 0; i < oRecord.rows.length; i++) {\r\n\t\t\t\t\tvar oNewRecord = oRecord.rows[i];\r\n\t\t\t\t\tif (!oNewRecord.Enabled) {\r\n\t\t\t\t\t\toNewRecord.Enabled = {};\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (!oNewRecord.Placeholders) {\r\n\t\t\t\t\t\toNewRecord.Placeholders = {};\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (bClearChildren) {\r\n\t\t\t\t\t\toNewRecord.ActivityType = \"\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\toNewRecord.Enabled.ActivityType = true;\r\n\t\t\t\t\tif (oRecord.ItemType === \"AT\") {\r\n\t\t\t\t\t\toNewRecord.Placeholders.ActivityType = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_AT\");\r\n\t\t\t\t\t} else if (oRecord.ItemType === \"SA\") {\r\n\t\t\t\t\t\toNewRecord.Placeholders.ActivityType = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_SA\");\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis._setATValues(oRecord.ActivityType, oNewRecord, bClearChildren);\r\n\t\t\t\t\tthis._setATChildrenValues(oNewRecord, bClearChildren);\r\n\t\t\t\t}\r\n\t\t\t} else if (oRecord.rows) {\r\n\t\t\t\tfor (var i = 0; i < oRecord.rows.length; i++) {\r\n\t\t\t\t\tvar oNewRecord = oRecord.rows[i];\r\n\t\t\t\t\tif (!oNewRecord.Enabled) {\r\n\t\t\t\t\t\toNewRecord.Enabled = {};\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (!oNewRecord.Placeholders) {\r\n\t\t\t\t\t\toNewRecord.Placeholders = {};\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (oRecord.ItemType === \"AT\") {\r\n\t\t\t\t\t\toNewRecord.Placeholders.ActivityType = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_AT_E\");\r\n\t\t\t\t\t} else if (oRecord.ItemType === \"SA\") {\r\n\t\t\t\t\t\toNewRecord.Placeholders.ActivityType = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_SA_E\");\r\n\t\t\t\t\t}\r\n\t\t\t\t\toNewRecord.Enabled.ActivityType = true; //Would have been false\r\n\t\t\t\t\tthis._setATChildrenValues(oNewRecord, true);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t//this.getModel(\"Copy\").refresh(false);\r\n\t\t},\r\n\t\t_initializeTypeModels: function() {\r\n\t\t\t// Make initial OData calls that need further processing\r\n\t\t\tvar that = this;\r\n\t\t\tvar oModel = this.getModel(\"ActivityType\");\r\n\t\t\tvar sServiceUrl = this.getOwnerComponent().getModel(\"masterShared\").getProperty(\"/oServiceUrls/mainService\");\r\n\t\t\tif (!oModel) {\r\n\t\t\t\t//oModel = new sap.ui.model.odata.v2.ODataModel(sServiceUrl, false); //Changed by Khrystyne 10/27\r\n\t\t\t\toModel = new sap.ui.model.odata.ODataModel(sServiceUrl, false);\r\n\t\t\t\toModel.setSizeLimit(50000);\r\n\t\t\t\tthis.setModel(oModel, \"ActivityType\");\r\n\t\t\t}\r\n\t\t\tvar oPromisePT = new Promise(function(resolve, reject) {\r\n\t\t\t\tvar sPath = \"/VHProjectTypes\";\r\n\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\toModel.read(sPath, {\r\n\t\t\t\t\t\tasync: false,\r\n\t\t\t\t\t\tsuccess: function(oData, oResponse) {\r\n\t\t\t\t\t\t\tTimeoutUtils.onResetTimer(that);\r\n\t\t\t\t\t\t\tthat._setProjectTypes(oData);\r\n\t\t\t\t\t\t\tresolve(oData);\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\terror: function(oError) {\r\n\t\t\t\t\t\t\toError.ErrorOrigin = \"Initial\";\r\n\t\t\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.detail\", \"Errors\", oError);\r\n\t\t\t\t\t\t\treject(oError);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}, 200);\r\n\t\t\t});\r\n\t\t\tvar oPromiseAT = new Promise(function(resolve, reject) {\r\n\t\t\t\tvar sPath = \"/VHActivityTypes\";\r\n\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\toModel.read(sPath, {\r\n\t\t\t\t\t\tasync: false,\r\n\t\t\t\t\t\tsuccess: function(oData, oResponse) {\r\n\t\t\t\t\t\t\tthat._setActivityTypes(oData);\r\n\t\t\t\t\t\t\tresolve(oData);\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\terror: function(oError) {\r\n\t\t\t\t\t\t\toError.ErrorOrigin = \"Initial\";\r\n\t\t\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.detail\", \"Errors\", oError);\r\n\t\t\t\t\t\t\treject(oError);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}, 200);\r\n\t\t\t});\r\n\t\t\tvar oPromise = Promise.all([oPromisePT, oPromiseAT]);\r\n\t\t\treturn oPromise;\r\n\t\t},\r\n\t\t_setProjectTypes: function(oDataIn) {\r\n\t\t\tvar oDropdowns = this.getModel(\"Copy\").getProperty(\"/Dropdowns\");\r\n\t\t\toDropdowns.ProjectType = oDataIn.results;\r\n\t\t\tthis._resetATValues();\r\n\t\t},\r\n\t\t_setActivityTypes: function(oDataIn) {\r\n\t\t\tvar oDropdowns = this.getModel(\"Copy\").getProperty(\"/Dropdowns\");\r\n\t\t\toDropdowns.ActivityType = oDataIn.results;\r\n\t\t\tthis._resetATValues();\r\n\t\t},\r\n\t\t_setSubactivityTypes: function(oDataIn, sSubactivityKey) {\r\n\t\t\tvar oModel = this.getModel(\"Copy\");\r\n\t\t\tvar oDropdowns = oModel.getProperty(\"/Dropdowns\");\r\n\t\t\toDropdowns.SubactivityType[sSubactivityKey] = oDataIn.results;\r\n\t\t\tthis._resetATValues();\r\n\t\t},\r\n\t\t_getSubactivityTypes: function(sActivityType) {\r\n\t\t\t// If the activity type is selected, then select the subactivity types.\r\n\t\t\t// Pick up the subactivity types\r\n\t\t\tvar that = this;\r\n\t\t\tvar oPromise = new Promise(function(resolve, reject) {\r\n\t\t\t\tvar sPath = \"/VHSubactivityTypes\";\r\n\t\t\t\tvar filters = [];\r\n\t\t\t\tfilters.push(new sap.ui.model.Filter({\r\n\t\t\t\t\tpath: \"Key\",\r\n\t\t\t\t\toperator: sap.ui.model.FilterOperator.EQ,\r\n\t\t\t\t\tvalue1: sActivityType\r\n\t\t\t\t}));\r\n\t\t\t\tthat.getModel(\"ActivityType\").read(sPath, { //Changed By Khrystyne 10/30\r\n\t\t\t\t\tasync: false,\r\n\t\t\t\t\tfilters: filters,\r\n\t\t\t\t\tsuccess: function(oData, oResponse) {\r\n\t\t\t\t\t\tTimeoutUtils.onResetTimer(that);\r\n\t\t\t\t\t\tthat._setSubactivityTypes(oData, sActivityType);\r\n\t\t\t\t\t\tresolve(oData);\r\n\t\t\t\t\t},\r\n\t\t\t\t\terror: function(oError) {\r\n\t\t\t\t\t\toError.ErrorOrigin = \"Initial\";\r\n\t\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.detail\", \"Errors\", oError);\r\n\t\t\t\t\t\treject(oError);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t\treturn oPromise;\r\n\t\t},\r\n\t\t_resetATValues: function() {\r\n\t\t\tvar oData = this.getModel(\"Copy\").getData().Table;\r\n\t\t\tif (oData.rows) {\r\n\t\t\t\tfor (var i = 0; i < oData.rows.length; i++) {\r\n\t\t\t\t\tthis._initializeRowAT(oData.rows[i], {}, false);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.getModel(\"Copy\").refresh(false);\r\n\t\t},\r\n\t\t_getDropdownSet: function(oRecord) {\r\n\t\t\tDropdownUtils.getDelayedBrands(this, null, oRecord.CategoryKey, oRecord.SubcategoryKey, oRecord.BrandKey,\r\n\t\t\t\tthis.getModel(\"Copy\"), \"/Dropdowns/Brand\", oRecord, \"CurrentBrands\");\r\n\t\t\tDropdownUtils.getDelayedCategories(this, oRecord.CategoryKey, oRecord.BrandKey,\r\n\t\t\t\tthis.getModel(\"Copy\"), \"/Dropdowns/Category\",\r\n\t\t\t\toRecord, \"CurrentCategories\");\r\n\t\t\tif (oRecord.CategoryKey && oRecord.CategoryKey !== \"\") {\r\n\t\t\t\tDropdownUtils.getDelayedSubcategories(this, oRecord.CategoryKey, oRecord.SubcategoryKey, oRecord.BrandKey,\r\n\t\t\t\t\tthis.getModel(\"Copy\"), \"/Dropdowns/Subcategory\",\r\n\t\t\t\t\toRecord, \"CurrentSubcategories\");\r\n\t\t\t}\r\n\t\t\tif (oRecord.BrandKey && oRecord.BrandKey !== \"\") {\r\n\t\t\t\tDropdownUtils.getDelayedSubbrands(this, null, oRecord.CategoryKey, oRecord.SubcategoryKey, oRecord.BrandKey, oRecord.SubbrandKey,\r\n\t\t\t\t\tthis.getModel(\"Copy\"), \"/Dropdowns/Subbrand\", oRecord, \"CurrentSubbrands\");\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n});",
		"colgate/asm/planning/base/view/Settings.fragment.xml": "<core:FragmentDefinition xmlns=\"sap.m\" xmlns:core=\"sap.ui.core\">\r\n\t<ActionSheet title=\"\" showCancelButton=\"true\" placement=\"Bottom\">\r\n\t\t<buttons>\r\n\t\t\t<Button text=\"{i18n&gt;GS_personalization}\" icon=\"sap-icon://person-placeholder\" press=\"onGlobalPersonalization\"/>\r\n\t\t\t<Button text=\"{i18n&gt;GS_currencyButton}\" icon=\"sap-icon://money-bills\" press=\"onCurrencySettings\"/>\r\n\t\t</buttons>\r\n\t</ActionSheet>\r\n</core:FragmentDefinition>",
		"colgate/asm/planning/base/controller/AddActivity.controller.js": "/*global location */\r\nsap.ui.define([\r\n\t\"colgate/asm/planning/base/controller/BaseController\",\r\n\t\"sap/ui/model/json/JSONModel\",\r\n\t\"colgate/asm/planning/base/model/formatter\",\r\n\t\"sap/m/MessagePopover\",\r\n\t\"sap/m/MessagePopoverItem\",\r\n\t\"sap/m/MessageToast\",\r\n\t\"colgate/asm/planning/base/util/VendorUtils\",\r\n\t\"colgate/asm/planning/base/util/RetailerUtils\",\r\n\t'colgate/asm/planning/base/util/TimeoutUtils',\r\n\t'colgate/asm/planning/base/util/DropdownUtils',\r\n\t'colgate/asm/planning/base/util/FieldCheckUtils',\r\n\t'colgate/asm/planning/base/util/CustomCurrencyType',\r\n\t'colgate/asm/planning/base/util/CustomCurrencyTypeFull',\r\n\t\"sap/ui/model/Filter\",\r\n\t\"sap/ui/model/FilterOperator\",\r\n\t\"sap/m/Button\",\r\n\t\"sap/m/Text\",\r\n\t\"sap/m/Dialog\",\r\n\t\"colgate/asm/planning/base/util/CrossSubBrandUtils\"\r\n], function(BaseController, JSONModel, formatter, MessagePopover, MessagePopoverItem, MessageToast, VendorUtils, RetailerUtils,\r\n\tTimeoutUtils, DropdownUtils, FieldCheckUtils, CustomCurrencyType, CustomCurrencyTypeFull, Filter, FilterOperator, Button, Text, Dialog,\r\n\tCrossSubBrandUtils) {\r\n\t\"use strict\";\r\n\r\n\treturn BaseController.extend(\"colgate.asm.planning.base.controller.AddActivity\", {\r\n\r\n\t\tformatter: formatter,\r\n\r\n\t\t/* =========================================================== */\r\n\t\t/* lifecycle methods                                           */\r\n\t\t/* =========================================================== */\r\n\r\n\t\tonInit: function() {\r\n\t\t\t// Model used to manipulate control states. The chosen values make sure,\r\n\t\t\t// detail page is busy indication immediately so there is no break in\r\n\t\t\t// between the busy indication for loading the view's meta data\r\n\t\t\t// var oViewModel = new JSONModel({\r\n\t\t\t// \tbusy: false,\r\n\t\t\t// \tdelay: 0\r\n\t\t\t// });\r\n\r\n\t\t\tthis._newAdd = true;\r\n\r\n\t\t\tthis.getRouter().getRoute(\"addActivity\").attachPatternMatched(this._onObjectMatched, this);\r\n\r\n\t\t\tthis.getOwnerComponent().getModel().metadataLoaded().then(this._onMetadataLoaded.bind(this));\r\n\r\n\t\t\tvar sServiceUrl = this.getOwnerComponent().getModel(\"masterShared\").getProperty(\"/oServiceUrls/mainService\");\r\n\t\t\tvar oBaseModel = new sap.ui.model.odata.v2.ODataModel(sServiceUrl);\r\n\t\t\toBaseModel.setSizeLimit(50000);\r\n\t\t\tthis.setModel(oBaseModel);\r\n\r\n\t\t\t//GDH - Receive events when screen is shown \r\n\t\t\tvar oEventBus = sap.ui.getCore().getEventBus();\r\n\t\t\toEventBus.subscribe(\"colgate.asm.planning.detail\", \"Errors\", function(sChannelId, sEventId, oData) {\r\n\t\t\t\tthis._handleODataErrors(oData);\r\n\t\t\t}, this);\r\n\t\t\toEventBus.subscribe(\"colgate.asm.planning.initialize\", \"AddActivity\", function(sChannelId, sEventId, oData) {\r\n\t\t\t\tthis._handleInitialize(oData);\r\n\t\t\t}, this);\r\n\t\t\toEventBus.subscribe(\"colgate.asm.planning.master.event\", \"ConfigurationLoaded\", function(sChannelId, sEventId, oData) {\r\n\t\t\t\tthis._setASMConfig();\r\n\t\t\t}, this);\r\n\r\n\t\t\t// Set up the initial selections\r\n\t\t\tvar oData = {};\r\n\t\t\toData.Placeholders = {\r\n\t\t\t\tBrand: this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_brand\"),\r\n\t\t\t\tSubbrand: this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_subbrand\"),\r\n\t\t\t\tHub: this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_hub\"),\r\n\t\t\t\tSub: this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_sub\"),\r\n\t\t\t\tPriority: this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_priority\"),\r\n\t\t\t\tFunction: this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_function\"),\r\n\t\t\t\tChannel: this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_channel\"),\r\n\t\t\t\tDemographics: this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_demographics_e\")\r\n\t\t\t};\r\n\t\t\toData.Input = {};\r\n\t\t\toData.Display = {};\r\n\t\t\toData.Retailer = {};\r\n\t\t\toData.Agency = {};\r\n\t\t\toData.MaestroBrief = {};\r\n\t\t\toData.ProjectType = {};\r\n\t\t\toData.ActivityType = {};\r\n\t\t\toData.Priority = {};\r\n\t\t\toData.SubactivityType = {};\r\n\t\t\toData.Demographics = {};\r\n\t\t\toData.MaxValueC = {};\r\n\t\t\toData.Costcenter = {};\r\n\t\t\toData.Visible = {\r\n\t\t\t\tParent: true,\r\n\t\t\t\tLevelType: true,\r\n\t\t\t\tName: true,\r\n\t\t\t\tProjectType: true,\r\n\t\t\t\tActivityType: true,\r\n\t\t\t\tSubactivityType: true,\r\n\t\t\t\tPriority: true,\r\n\t\t\t\tFunction: true,\r\n\t\t\t\tChannel: true,\r\n\t\t\t\tLongText: true,\r\n\t\t\t\tDivision: true,\r\n\t\t\t\tHub: true,\r\n\t\t\t\tSub: true,\r\n\t\t\t\tCategory: true,\r\n\t\t\t\tSubcategory: true,\r\n\t\t\t\tBrand: true,\r\n\t\t\t\tSubbrand: true,\r\n\t\t\t\tRetailer: true,\r\n\t\t\t\tAgency: true,\r\n\t\t\t\tGlAccount: true,\r\n\t\t\t\tDemographics: true,\r\n\t\t\t\tMaxValueC: false,\r\n\t\t\t\tMaestroBrief: true,\r\n\t\t\t\tCostcenter: true,\r\n\t\t\t\tPO: true,\r\n\t\t\t\tSave2: true,\r\n\t\t\t\tSave3: false,\r\n\t\t\t\t// Begin of Changes - Khrystyne Williams - Feb 2017\r\n\t\t\t\tCancel: false,\r\n\t\t\t\t// End of Changes - Khrystyne Williams - Feb 2017\r\n\t\t\t\t//INBHD02\r\n\t\t\t\tCrossSubBrand: false,\r\n\t\t\t\tCrossSubBrandList: false\r\n\t\t\t\t\t//INBHD02\r\n\t\t\t};\r\n\t\t\toData.Enabled = {\r\n\t\t\t\tParent: true,\r\n\t\t\t\tLevelType: true,\r\n\t\t\t\tName: true,\r\n\t\t\t\tProjectType: true,\r\n\t\t\t\tActivityType: true,\r\n\t\t\t\tSubactivityType: true,\r\n\t\t\t\tPriority: true,\r\n\t\t\t\tFunction: true,\r\n\t\t\t\tChannel: true,\r\n\t\t\t\tLongText: true,\r\n\t\t\t\tDivision: true,\r\n\t\t\t\tHub: true,\r\n\t\t\t\tSub: true,\r\n\t\t\t\tCategory: true,\r\n\t\t\t\tSubcategory: false,\r\n\t\t\t\tBrand: false,\r\n\t\t\t\tSubbrand: false,\r\n\t\t\t\tRetailer: false,\r\n\t\t\t\tAgency: false,\r\n\t\t\t\tGlAccount: true,\r\n\t\t\t\tDemographics: true,\r\n\t\t\t\tMaestroBrief: false,\r\n\t\t\t\tCostcenter: true,\r\n\t\t\t\tPO: true\r\n\t\t\t};\r\n\t\t\toData.Labels = {\r\n\t\t\t\tParent: \"Override Parent Label\",\r\n\t\t\t\tSave2: \"Override Save2\",\r\n\t\t\t\tSave3: \"Override Save3\",\r\n\t\t\t\t// Begin of Addition - Khrystyne Williams - July 14, 2016\r\n\t\t\t\t// Begin Changes - Khrystyne Williams - Feb 2017\r\n\t\t\t\tTitle1: \"\",\r\n\t\t\t\tTitle2: \"\",\r\n\t\t\t\tTitle3: \"\"\r\n\t\t\t\t\t// Title1: \"Create New Project\",\r\n\t\t\t\t\t// Title2: \"Create New Activity\",\r\n\t\t\t\t\t// Title3: \"Create New Sub-Activity\"\r\n\t\t\t\t\t// End Changes - Khrystyne Williams - Feb 2017\r\n\t\t\t\t\t// End of Addition - Khrystyne Williams - July 14, 2016\r\n\t\t\t};\r\n\t\t\toData.Internal = {\r\n\t\t\t\tSave2Mode: \"AddActivity\",\r\n\t\t\t\tSave3Mode: \"AddSubactivity\",\r\n\t\t\t\tCurrentSaveMode: \"AddActivity\"\r\n\t\t\t};\r\n\t\t\toData.Brand = {};\r\n\t\t\toData.Brand.Current = [];\r\n\t\t\toData.Category = {};\r\n\t\t\toData.Category.Current = [];\r\n\t\t\toData.Subcategory = {};\r\n\t\t\toData.Subcategory.Current = [];\r\n\t\t\t// INBHD02 Cross Sub Brand\r\n\t\t\toData.CSBCategory = {};\r\n\t\t\toData.CSBCategory.Current = [];\r\n\t\t\toData.CSBSubcategory = {};\r\n\t\t\toData.CSBSubcategory.Current = [];\r\n\t\t\toData.CSBBrand = {};\r\n\t\t\toData.CSBBrand.Current = [];\r\n\t\t\toData.CSBSubbrand = {};\r\n\t\t\toData.CSBSubbrand.Current = [];\r\n\t\t\toData.CSBSubbrand.Selected = [];\r\n\t\t\toData.CSBSubbrand.Change = [];\r\n\t\t\toData.CSBSubbrand.NewChange = [];\r\n\t\t\toData.CSBSubbrand.Count = {};\r\n\t\t\toData.CSBSubbrand.Count.Selected = \"(0)\";\r\n\t\t\toData.CSBSubbrand.Count.Current = \"(0)\";\r\n\t\t\t// INBHD02 Cross Sub Brand\t\t\t\r\n\t\t\tvar oModel = new sap.ui.model.json.JSONModel(oData);\r\n\t\t\toModel.setSizeLimit(50000);\r\n\t\t\tthis.setModel(oModel, \"AddActivity\");\r\n\r\n\t\t\t// Set the initial form to be the display one\r\n\t\t\tthis._showFormFragment(\"AddActivity\");\r\n\t\t\tthis._setPHValues(\"CategoryKey\");\r\n\t\t\tthis._setMonthPicker(1, 12);\r\n\r\n\t\t\t// Make initial OData calls that need further processing\r\n\t\t\tvar sPath = \"/VHProjectTypes\";\r\n\t\t\tvar that = this;\r\n\t\t\toBaseModel.read(sPath, {\r\n\t\t\t\tasync: true,\r\n\t\t\t\tsuccess: function(oData, oResponse) {\r\n\t\t\t\t\tTimeoutUtils.onResetTimer(that);\r\n\t\t\t\t\tthat._setProjectTypes(oData);\r\n\t\t\t\t},\r\n\t\t\t\terror: function(oError) {\r\n\t\t\t\t\toError.ErrorOrigin = \"Initial\";\r\n\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.detail\", \"Errors\", oError);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tsPath = \"/VHActivityTypes\";\r\n\t\t\toBaseModel.read(sPath, {\r\n\t\t\t\tasync: true,\r\n\t\t\t\tsuccess: function(oData, oResponse) {\r\n\t\t\t\t\tthat._setActivityTypes(oData);\r\n\t\t\t\t\tthat._setASMConfig();\r\n\t\t\t\t\tthat.onParentChange(null);\r\n\t\t\t\t},\r\n\t\t\t\terror: function(oError) {\r\n\t\t\t\t\toError.ErrorOrigin = \"Initial\";\r\n\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.detail\", \"Errors\", oError);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tsPath = \"/VHInitiativePriorities\";\r\n\t\t\toBaseModel.read(sPath, {\r\n\t\t\t\tasync: true,\r\n\t\t\t\tsuccess: function(oData, oResponse) {\r\n\t\t\t\t\t// The success for this one handles itself, but you should set the initial division data.\r\n\t\t\t\t\tTimeoutUtils.onResetTimer(that);\r\n\t\t\t\t\tthat._setPriorities(oData);\r\n\t\t\t\t\tthat._initializeGeo();\r\n\t\t\t\t\tthat.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", false);\r\n\t\t\t\t\tsap.ui.core.BusyIndicator.hide();\r\n\t\t\t\t},\r\n\t\t\t\terror: function(oError) {\r\n\t\t\t\t\toError.ErrorOrigin = \"Initial\";\r\n\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.detail\", \"Errors\", oError);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", true); // Start Spinner\r\n\r\n\t\t\tvar oMessageProcessor = new sap.ui.core.message.ControlMessageProcessor();\r\n\t\t\tvar oMessageManager = sap.ui.getCore().getMessageManager();\r\n\t\t\toMessageManager.registerMessageProcessor(oMessageProcessor);\r\n\t\t\tthis.oMessageManager = oMessageManager;\r\n\t\t\tthis.oMessageProcessor = oMessageProcessor;\r\n\t\t\tvar oBrand = this.byId(\"BrandKey\");\r\n\t\t\tDropdownUtils.getBrands(this, oBrand, oData.Input.CategoryKey, oData.Input.SubcategoryKey, oBrand.getSelectedKey(),\r\n\t\t\t\tthis.getModel(\"AddActivity\"), \"/Brand\", null, \"/Brand/Current\");\r\n\t\t},\r\n\r\n\t\t/* =========================================================== */\r\n\t\t/* event handlers                                              */\r\n\t\t/* =========================================================== */\r\n\r\n\t\t/**\r\n\t\t * Event handler when the share by E-Mail button has been clicked\r\n\t\t * @public\r\n\t\t */\r\n\t\tonShareEmailPress: function() {\r\n\t\t\tvar oViewModel = this.getModel(\"addActivityView\");\r\n\r\n\t\t\tsap.m.URLHelper.triggerEmail(\r\n\t\t\t\tnull,\r\n\t\t\t\toViewModel.getProperty(\"/shareSendEmailSubject\"),\r\n\t\t\t\toViewModel.getProperty(\"/shareSendEmailMessage\")\r\n\t\t\t);\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Event handler when the share in JAM button has been clicked\r\n\t\t * @public\r\n\t\t */\r\n\t\tonShareInJamPress: function() {\r\n\t\t\tvar oViewModel = this.getModel(\"addActivityView\"),\r\n\t\t\t\toShareDialog = sap.ui.getCore().createComponent({\r\n\t\t\t\t\tname: \"sap.collaboration.components.fiori.sharing.dialog\",\r\n\t\t\t\t\tsettings: {\r\n\t\t\t\t\t\tobject: {\r\n\t\t\t\t\t\t\tid: location.href,\r\n\t\t\t\t\t\t\tshare: oViewModel.getProperty(\"/shareOnJamTitle\")\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\toShareDialog.open();\r\n\t\t},\r\n\r\n\t\tonCancel: function() {\r\n\t\t\tif (this._currentAction === \"saveAndAdd\") {\r\n\t\t\t\t// This means we need to reload items\r\n\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.project\", \"Refresh\", {});\r\n\t\t\t\tthis._currentAction = \"\";\r\n\t\t\t}\r\n\t\t\t// Begin of Changes - Khrystyne Williams - Nov 2016\r\n\t\t\tthis._clearErrors();\r\n\t\t\t// End of Changes - Khrystyne Williams - Nov 2016\r\n\t\t\tthis.getRouter().navTo(\"activities\", {\r\n\t\t\t\tobjectId: \"Activities\"\r\n\t\t\t}, true);\r\n\t\t},\r\n\t\tonSave: function(oEvent) {\r\n\t\t\tthis._currentAction = \"save\";\r\n\t\t\tvar bComplete = this._validateInput(null);\r\n\t\t\tif (bComplete) {\r\n\t\t\t\t// Start GDH 03252017\r\n\t\t\t\tthis.getModel(\"AddActivity\").setProperty(\"/Input/Id\", \"\");\r\n\t\t\t\tthis._createItem();\r\n\t\t\t\t// End GDH 03262017 this._getExternalId();\r\n\t\t\t}\r\n\t\t},\r\n\t\tonSaveAndAdd: function(oEvent) {\r\n\t\t\tvar oInternal = this.getModel(\"AddActivity\").getData().Internal;\r\n\t\t\tvar sId = oEvent.getSource().getId();\r\n\t\t\tif (sId.endsWith(\"Save2\")) {\r\n\t\t\t\toInternal.CurrentSaveMode = oInternal.Save2Mode;\r\n\t\t\t} else if (sId.endsWith(\"Save3\")) {\r\n\t\t\t\toInternal.CurrentSaveMode = oInternal.Save3Mode;\r\n\t\t\t}\r\n\t\t\tthis._currentAction = \"saveAndAdd\";\r\n\t\t\tvar bComplete = this._validateInput(null);\r\n\t\t\tif (bComplete) {\r\n\t\t\t\t// Start GDH 03252017\r\n\t\t\t\tthis.getModel(\"AddActivity\").setProperty(\"/Input/Id\", \"\");\r\n\t\t\t\tthis._createItem();\r\n\t\t\t\t// End GDH 03262017 this._getExternalId();\r\n\t\t\t}\r\n\t\t},\r\n\t\tonSelectionChange: function(oEvent) {\r\n\t\t\tvar sChanged = oEvent.getSource().getId();\r\n\t\t\tvar aParts = sChanged.split(\"--\");\r\n\t\t\tsChanged = aParts[aParts.length - 1];\r\n\t\t\tthis._setPHValues(sChanged);\r\n\t\t},\r\n\t\tonGeoSelectionChange: function(oEvent) {\r\n\t\t\tvar sChanged = oEvent.getSource().getId();\r\n\t\t\tvar aParts = sChanged.split(\"--\");\r\n\t\t\tsChanged = aParts[aParts.length - 1];\r\n\t\t\tthis._setGeoValues(sChanged);\r\n\t\t},\r\n\t\t// Begin of Changes - Khrystyne Williams - Nov 2016\r\n\t\tonSubActSelectionChange: function(oEvent) {\r\n\t\t\tvar oModel = this.getModel(\"AddActivity\");\r\n\t\t\tvar oData = oModel.getData();\r\n\t\t\tvar oInput = this.getModel(\"AddActivity\").getData().Input;\r\n\t\t\tif (oData.Input.SubactivityType && oData.Input.SubactivityType !== \"\") {\r\n\t\t\t\t// Set the GL Account\r\n\t\t\t\tvar aSAType = oData.SubactivityType.Current;\r\n\t\t\t\tfor (var i = 0; i < aSAType.length; i++) {\r\n\t\t\t\t\tif (aSAType[i].Key === oData.Input.SubactivityType) {\r\n\t\t\t\t\t\tvar oAdditionalData = JSON.parse(aSAType[i].AdditionalData);\r\n\t\t\t\t\t\tif (oAdditionalData.glAccount) {\r\n\t\t\t\t\t\t\toInput.GlAccount = oAdditionalData.glAccount.toString();\r\n\t\t\t\t\t\t\toData.Display.GlAccount = oAdditionalData.glAccount;\r\n\t\t\t\t\t\t\ti = aSAType.length;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\toData.Display.GlAccount = \"No G/L Account for Sub-Activity Type\";\r\n\t\t\t\toInput.GlAccount = \"\";\r\n\t\t\t}\r\n\t\t\toModel.refresh(false);\r\n\t\t},\r\n\t\t// End of Changes - Khrystyne Williams - Nov 2016\r\n\r\n\t\tonMessagesButtonPress: function(oEvent) {\r\n\t\t\tvar oMessagesButton = oEvent.getSource();\r\n\t\t\tif (!this._messagePopover) {\r\n\t\t\t\tthis._messagePopover = new MessagePopover({\r\n\t\t\t\t\titems: {\r\n\t\t\t\t\t\tpath: \"message>/\",\r\n\t\t\t\t\t\ttemplate: new MessagePopoverItem({\r\n\t\t\t\t\t\t\tdescription: \"{message>description}\",\r\n\t\t\t\t\t\t\ttype: \"{message>type}\",\r\n\t\t\t\t\t\t\ttitle: \"{message>message}\"\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tthis._messagePopover.attachItemSelect(function(oEvent) {\r\n\t\t\t\t\t// Begin of Changes - Khrystyne Williams - Jan 2017\r\n\t\t\t\t\t// this._messagePopover.close();\r\n\t\t\t\t\t// End of Changes - Khrystyne Williams - Jan 2017\r\n\t\t\t\t\tthis._onMessageSelected(oEvent);\r\n\t\t\t\t}, this);\r\n\t\t\t\toMessagesButton.addDependent(this._messagePopover);\r\n\t\t\t}\r\n\t\t\tthis._messagePopover.toggle(oMessagesButton);\r\n\t\t},\r\n\t\tonDtChange: function(oEvent) {\r\n\t\t\tif (this.getOwnerComponent().getModel(\"ASMConfig\")) {\r\n\t\t\t\tvar bDatesGood = true;\r\n\t\t\t\tthis.oMessageManager.removeAllMessages();\r\n\t\t\t\tvar oASMConfigData = this.getOwnerComponent().getModel(\"ASMConfig\").getData();\r\n\t\t\t\tvar sYear = oASMConfigData.Properties.PlanningYear;\r\n\t\t\t\tvar oInput = this.getModel(\"AddActivity\").getData().Input;\r\n\t\t\t\tvar aOptions = this.getOwnerComponent().getModel(\"masterShared\").getData().aAddOptions;\r\n\t\t\t\tvar dStartDt = sYear + \"0101\";\r\n\t\t\t\tvar dEndDt = sYear + \"1228\";\r\n\t\t\t\tvar oStartDt = this.byId(\"StartDt\");\r\n\t\t\t\tvar oEndDt = this.byId(\"EndDt\");\r\n\t\t\t\t// PSW Start change For Month Picker May 25th 2016 v2 -->\t\t\t\t\t\r\n\t\t\t\tvar oMonthSt = this.byId(\"MonthSt\");\r\n\t\t\t\tvar oMonthEd = this.byId(\"MonthEd\");\r\n\t\t\t\tvar oDateFormat = sap.ui.core.format.DateFormat.getInstance({\r\n\t\t\t\t\tpattern: \"MM/dd/yyyy\"\r\n\t\t\t\t});\r\n\t\t\t\tif (oInput.Type !== \"PT\") {\r\n\t\t\t\t\tfor (var i = 0; i < aOptions.length; i++) {\r\n\t\t\t\t\t\tif (aOptions[i].Key === oInput.Parent) {\r\n\t\t\t\t\t\t\tdStartDt = aOptions[i].StartDt.substring(0, 4) + aOptions[i].StartDt.substring(5, 7) + aOptions[i].StartDt.substring(8, 10);\r\n\t\t\t\t\t\t\tdEndDt = aOptions[i].EndDt.substring(0, 4) + aOptions[i].EndDt.substring(5, 7) + aOptions[i].EndDt.substring(8, 10);\r\n\t\t\t\t\t\t\ti = aOptions.length;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tvar sDt1 = this._getMonthText(parseInt(dStartDt.substring(4, 6)));\r\n\t\t\t\tvar sDt2 = this._getMonthText(parseInt(dEndDt.substring(4, 6)));\r\n\t\t\t\t// PSW Start correction For Month Picker June 16th 2016-->\t\r\n\t\t\t\tif (oMonthSt.getMonth() < 9) {\r\n\t\t\t\t\tvar sMth1 = \"0\" + (oMonthSt.getMonth() + 1);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// Begin of Changes - Pin-See Wong - Dec 2016\r\n\t\t\t\t\t// var sMth2 = oMonthEd.getMonth() + 1;\r\n\t\t\t\t\tvar sMth1 = oMonthSt.getMonth() + 1;\r\n\t\t\t\t\t// End of Changes - Pin-See Wong - Dec 2016\r\n\t\t\t\t}\r\n\r\n\t\t\t\toInput.StartDt = sYear + sMth1 + \"01\";\r\n\r\n\t\t\t\tif (oMonthEd.getMonth() < 9) {\r\n\t\t\t\t\tvar sMth2 = \"0\" + (oMonthEd.getMonth() + 1);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar sMth2 = oMonthEd.getMonth() + 1;\r\n\t\t\t\t}\r\n\r\n\t\t\t\toInput.EndDt = sYear + sMth2 + \"28\";\r\n\t\t\t\t// PSW End correction For Month Picker June 16th 2016-->\t\r\n\r\n\t\t\t\tif (oInput.StartDt < dStartDt || oInput.StartDt > dEndDt) {\r\n\t\t\t\t\t// Entry is wrong\r\n\t\t\t\t\tbDatesGood = false;\r\n\t\t\t\t\toStartDt.setValueStateText(this.getResourceBundle().getText(\"AC_E_badStartDate\", [sDt1, sDt2]));\r\n\t\t\t\t\toStartDt.setValueState(sap.ui.core.ValueState.Error);\r\n\t\t\t\t\tthis.oMessageManager.addMessages(\r\n\t\t\t\t\t\tnew sap.ui.core.message.Message({\r\n\t\t\t\t\t\t\tmessage: this.getResourceBundle().getText(\"AC_E_badStartDate\", [sDt1, sDt2]),\r\n\t\t\t\t\t\t\t// Begin of Commenting - Khrystyne Williams - Jan 2017\r\n\t\t\t\t\t\t\t// description: \"StartDt\",\r\n\t\t\t\t\t\t\t// End of Commenting - Khrystyne Williams - Jan 2017\r\n\t\t\t\t\t\t\ttype: sap.ui.core.MessageType.Error,\r\n\t\t\t\t\t\t\tprocessor: this.oMessageProcessor\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t);\r\n\t\t\t\t} else {\r\n\t\t\t\t\toStartDt.setValueStateText(\"\");\r\n\t\t\t\t\toStartDt.setValueState(sap.ui.core.ValueState.None);\r\n\t\t\t\t}\r\n\t\t\t\tif (oInput.EndDt < dStartDt || oInput.EndDt > dEndDt) {\r\n\t\t\t\t\t// Entry is wrong\r\n\t\t\t\t\tbDatesGood = false;\r\n\t\t\t\t\toEndDt.setValueStateText(this.getResourceBundle().getText(\"AC_E_badEndDate\", [sDt1, sDt2]));\r\n\t\t\t\t\toEndDt.setValueState(sap.ui.core.ValueState.Error);\r\n\t\t\t\t\tthis.oMessageManager.addMessages(\r\n\t\t\t\t\t\tnew sap.ui.core.message.Message({\r\n\t\t\t\t\t\t\tmessage: this.getResourceBundle().getText(\"AC_E_badEndDate\", [sDt1, sDt2]),\r\n\t\t\t\t\t\t\t// Begin of Commenting - Khrystyne Williams - Jan 2017\r\n\t\t\t\t\t\t\t//description: \"EndDt\",\r\n\t\t\t\t\t\t\t// End of Commenting - Khrystyne Williams - Jan 2017\r\n\t\t\t\t\t\t\ttype: sap.ui.core.MessageType.Error,\r\n\t\t\t\t\t\t\tprocessor: this.oMessageProcessor\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t);\r\n\t\t\t\t} else {\r\n\t\t\t\t\toEndDt.setValueStateText(\"\");\r\n\t\t\t\t\toEndDt.setValueState(sap.ui.core.ValueState.None);\r\n\t\t\t\t}\r\n\t\t\t\tif (oInput.EndDt < oInput.StartDt) {\r\n\t\t\t\t\t// Entry is wrong\r\n\t\t\t\t\tbDatesGood = false;\r\n\t\t\t\t\toEndDt.setValueStateText(this.getResourceBundle().getText(\"AC_E_badDate\", []));\r\n\t\t\t\t\toEndDt.setValueState(sap.ui.core.ValueState.Error);\r\n\t\t\t\t\tthis.oMessageManager.addMessages(\r\n\t\t\t\t\t\tnew sap.ui.core.message.Message({\r\n\t\t\t\t\t\t\tmessage: this.getResourceBundle().getText(\"AC_E_badDate\", []),\r\n\t\t\t\t\t\t\t// Begin of Commenting - Khrystyne Williams - Jan 2017\r\n\t\t\t\t\t\t\t// description: \"StartDt\",\r\n\t\t\t\t\t\t\t// End of Commenting - Khrystyne Williams - Jan 2017\r\n\t\t\t\t\t\t\ttype: sap.ui.core.MessageType.Error,\r\n\t\t\t\t\t\t\tprocessor: this.oMessageProcessor\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// PSW End change For Month Picker May 25th 2016 v2-->\t\t\t\t\r\n\t\t\treturn bDatesGood;\r\n\t\t},\r\n\t\tonParentChange: function(oEvent) {\r\n\t\t\tvar oTableSelect = this.getOwnerComponent().getModel(\"masterShared\").getData().oTableSelect;\r\n\t\t\tvar oMasterSelect = this.getOwnerComponent().getModel(\"masterShared\").getData().oMasterSelect;\r\n\t\t\tvar oInput = this.getModel(\"AddActivity\").getData().Input;\r\n\t\t\tvar oVisible = this.getModel(\"AddActivity\").getData().Visible;\r\n\t\t\tvar oEnabled = this.getModel(\"AddActivity\").getData().Enabled;\r\n\t\t\tvar oLabels = this.getModel(\"AddActivity\").getData().Labels;\r\n\t\t\tvar sKey = \"\";\r\n\t\t\tif (oEvent) {\r\n\t\t\t\tif (oEvent.NewParent) {\r\n\t\t\t\t\tsKey = oEvent.NewParent;\r\n\t\t\t\t\toInput.Parent = oEvent.NewParent;\r\n\t\t\t\t} else if (oEvent.getParameter(\"selectedItem\")) {\r\n\t\t\t\t\tsKey = oEvent.getParameter(\"selectedItem\").getProperty(\"key\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsKey = \"\";\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (oTableSelect.ParentGuid) {\r\n\t\t\t\t\tsKey = oTableSelect.ParentGuid;\r\n\t\t\t\t\toInput.Parent = oTableSelect.ParentGuid;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (sKey !== \"\") {\r\n\t\t\t\toVisible.MaxValueC = false;\r\n\t\t\t\tvar aAddOptions = this.getOwnerComponent().getModel(\"masterShared\").getData().aAddOptions;\r\n\t\t\t\t// Begin of Changes - Khrystyne Williams - Dec 2016\r\n\t\t\t\t// Retrieve the Display Data\r\n\t\t\t\tvar oDisplay = this.getModel(\"AddActivity\").getData().Display;\r\n\t\t\t\t// End of Changes - Khrystyne Williams - Dec 2016\r\n\r\n\t\t\t\tfor (var i = 0; i < aAddOptions.length; i++) {\r\n\t\t\t\t\tif (sKey === aAddOptions[i].Key) {\r\n\t\t\t\t\t\toInput.Type = aAddOptions[i].Type;\r\n\t\t\t\t\t\t// psutram: Feb 2017 modified next line to pass oEvent as a parameter\r\n\t\t\t\t\t\t// this._resetAddBasedOnType(oInput.Type);\r\n\t\t\t\t\t\tthis._resetAddBasedOnType(oInput.Type, oEvent);\r\n\t\t\t\t\t\tif (aAddOptions[i].Type === \"AT\") {\r\n\t\t\t\t\t\t\toInput.TypeDescription = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_activity\");\r\n\t\t\t\t\t\t\toLabels.Parent = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_proj\");\r\n\t\t\t\t\t\t} else if (aAddOptions[i].Type === \"SA\") {\r\n\t\t\t\t\t\t\toInput.TypeDescription = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_subactivity\");\r\n\t\t\t\t\t\t\toLabels.Parent = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_projAct\");\r\n\t\t\t\t\t\t\toInput.ActivityType = aAddOptions[i].ActivityType;\r\n\t\t\t\t\t\t\tthis._getSubactivityTypes();\r\n\t\t\t\t\t\t\t// Begin of Changes - Khrystyne Williams - Dec 2016\r\n\t\t\t\t\t\t\t// Clear the previous GL Account display value\r\n\t\t\t\t\t\t\toDisplay.GlAccount = \"\";\r\n\t\t\t\t\t\t\t// End of Changes - Khrystyne Williams - Dec 2016\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\toInput.StartDt = aAddOptions[i].StartDt.substring(0, 4) + aAddOptions[i].StartDt.substring(5, 7) + aAddOptions[i].StartDt.substring(\r\n\t\t\t\t\t\t\t8, 10);\r\n\t\t\t\t\t\toInput.EndDt = aAddOptions[i].EndDt.substring(0, 4) + aAddOptions[i].EndDt.substring(5, 7) + aAddOptions[i].EndDt.substring(8,\r\n\t\t\t\t\t\t\t10);\r\n\t\t\t\t\t\t// Add in all the Parent Values to initialize the child\r\n\t\t\t\t\t\tif (aAddOptions[i].Channel && aAddOptions[i].Channel !== \"\") {\r\n\t\t\t\t\t\t\toInput.Channel = aAddOptions[i].Channel;\r\n\t\t\t\t\t\t\toVisible.Channel = true;\r\n\t\t\t\t\t\t\toEnabled.Channel = false;\r\n\t\t\t\t\t\t} else if (oMasterSelect.hasOwnProperty(\"Channel\") && oMasterSelect.Channel !== \"\") {\r\n\t\t\t\t\t\t\toInput.Channel = oMasterSelect.Channel;\r\n\t\t\t\t\t\t\toVisible.Channel = true;\r\n\t\t\t\t\t\t\toEnabled.Channel = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (aAddOptions[i].Function && aAddOptions[i].Function !== \"\") {\r\n\t\t\t\t\t\t\toInput.Function = aAddOptions[i].Function;\r\n\t\t\t\t\t\t\toVisible.Function = true;\r\n\t\t\t\t\t\t\toEnabled.Function = false;\r\n\t\t\t\t\t\t} else if (oMasterSelect.hasOwnProperty(\"Function\") && oMasterSelect.Function !== \"\") {\r\n\t\t\t\t\t\t\toInput.Function = oMasterSelect.Function;\r\n\t\t\t\t\t\t\toVisible.Function = true;\r\n\t\t\t\t\t\t\toEnabled.Function = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (aAddOptions[i].DivisionKey && aAddOptions[i].DivisionKey !== \"\") {\r\n\t\t\t\t\t\t\toInput.DivisionKey = aAddOptions[i].DivisionKey;\r\n\t\t\t\t\t\t\tthis._setGeoValues(\"DivisionKey\");\r\n\t\t\t\t\t\t\toVisible.Division = true;\r\n\t\t\t\t\t\t\toEnabled.Division = false;\r\n\t\t\t\t\t\t} else if (oMasterSelect.hasOwnProperty(\"DivisionKey\") && oMasterSelect.DivisionKey !== \"\") {\r\n\t\t\t\t\t\t\toInput.DivisionKey = oMasterSelect.DivisionKey;\r\n\t\t\t\t\t\t\tthis._setGeoValues(\"DivisionKey\");\r\n\t\t\t\t\t\t\toVisible.Division = true;\r\n\t\t\t\t\t\t\toEnabled.Division = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (aAddOptions[i].HubKey && aAddOptions[i].HubKey !== \"\") {\r\n\t\t\t\t\t\t\toInput.HubKey = aAddOptions[i].HubKey;\r\n\t\t\t\t\t\t\tthis._setGeoValues(\"HubKey\");\r\n\t\t\t\t\t\t\toVisible.Hub = true;\r\n\t\t\t\t\t\t\toEnabled.Hub = false;\r\n\t\t\t\t\t\t} else if (oMasterSelect.hasOwnProperty(\"HubKey\") && oMasterSelect.HubKey !== \"\") {\r\n\t\t\t\t\t\t\toInput.HubKey = oMasterSelect.HubKey;\r\n\t\t\t\t\t\t\tthis._setGeoValues(\"HubKey\");\r\n\t\t\t\t\t\t\toVisible.Hub = true;\r\n\t\t\t\t\t\t\toEnabled.Hub = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (aAddOptions[i].SubKey && aAddOptions[i].SubKey !== \"\") {\r\n\t\t\t\t\t\t\toInput.SubKey = aAddOptions[i].SubKey;\r\n\t\t\t\t\t\t\tthis._setGeoValues(\"SubKey\");\r\n\t\t\t\t\t\t\toVisible.Sub = true;\r\n\t\t\t\t\t\t\toEnabled.Sub = false;\r\n\t\t\t\t\t\t} else if (oMasterSelect.hasOwnProperty(\"SubKey\") && oMasterSelect.SubKey !== \"\") {\r\n\t\t\t\t\t\t\toInput.SubKey = oMasterSelect.SubKey;\r\n\t\t\t\t\t\t\tthis._setGeoValues(\"SubKey\");\r\n\t\t\t\t\t\t\toVisible.Sub = true;\r\n\t\t\t\t\t\t\toEnabled.Sub = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (aAddOptions[i].BrandKey && aAddOptions[i].BrandKey !== \"\") {\r\n\t\t\t\t\t\t\toInput.BrandKey = aAddOptions[i].BrandKey;\r\n\t\t\t\t\t\t\tthis._setPHValues(\"BrandKey\");\r\n\t\t\t\t\t\t\toVisible.Brand = true;\r\n\t\t\t\t\t\t\toEnabled.Brand = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (aAddOptions[i].CategoryKey && aAddOptions[i].CategoryKey !== \"\") {\r\n\t\t\t\t\t\t\toInput.CategoryKey = aAddOptions[i].CategoryKey;\r\n\t\t\t\t\t\t\tthis._setPHValues(\"CategoryKey\");\r\n\t\t\t\t\t\t\toVisible.Category = true;\r\n\t\t\t\t\t\t\toEnabled.Category = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\toInput.PcategoryKey = aAddOptions[i].PcategoryKey;\r\n\t\t\t\t\t\tif (aAddOptions[i].SubcategoryKey && aAddOptions[i].SubcategoryKey !== \"\") {\r\n\t\t\t\t\t\t\toInput.SubcategoryKey = aAddOptions[i].SubcategoryKey;\r\n\t\t\t\t\t\t\tthis._setPHValues(\"SubcategoryKey\");\r\n\t\t\t\t\t\t\toVisible.Subcategory = true;\r\n\t\t\t\t\t\t\toEnabled.Subcategory = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (aAddOptions[i].SubbrandKey && aAddOptions[i].SubbrandKey !== \"\") {\r\n\t\t\t\t\t\t\toInput.SubbrandKey = aAddOptions[i].SubbrandKey;\r\n\t\t\t\t\t\t\toVisible.Subbrand = true;\r\n\t\t\t\t\t\t\toEnabled.Subbrand = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\toInput.SkuKey = aAddOptions[i].SkuKey;\r\n\t\t\t\t\t\toInput.ProjectGuid = aAddOptions[i].ProjectGuid;\r\n\t\t\t\t\t\toInput.ActivityGuid = aAddOptions[i].ActivityGuid;\r\n\t\t\t\t\t\tif (aAddOptions[i].PriorityKey && aAddOptions[i].PriorityKey !== \"\") {\r\n\t\t\t\t\t\t\toInput.PriorityKey = aAddOptions[i].PriorityKey;\r\n\t\t\t\t\t\t\toVisible.Priority = true;\r\n\t\t\t\t\t\t\t// Begin of Changes - Khrystyne Williams - Feb 2017\r\n\t\t\t\t\t\t\t// oEnabled.Priority = true;\r\n\t\t\t\t\t\t\toEnabled.Priority = false;\r\n\t\t\t\t\t\t\t// End of Changes - Khrystyne Williams - Feb 2017\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (aAddOptions[i].Retailer && aAddOptions[i].Retailer !== \"\" && aAddOptions[i].Retailer !== \"0000\") {\r\n\t\t\t\t\t\t\toInput.Retailer = aAddOptions[i].Retailer;\r\n\t\t\t\t\t\t\toVisible.Retailer = true;\r\n\t\t\t\t\t\t\toEnabled.Retailer = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (aAddOptions[i].Agency && aAddOptions[i].Agency !== \"\") {\r\n\t\t\t\t\t\t\toInput.Agency = aAddOptions[i].Agency;\r\n\t\t\t\t\t\t\toVisible.Agency = true;\r\n\t\t\t\t\t\t\toEnabled.Agency = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (aAddOptions[i].MaestroBrief && aAddOptions[i].MaestroBrief !== \"\") {\r\n\t\t\t\t\t\t\toInput.MaestroBrief = aAddOptions[i].MaestroBrief;\r\n\t\t\t\t\t\t\toVisible.MaestroBrief = true;\r\n\t\t\t\t\t\t\toEnabled.MaestroBrief = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (aAddOptions[i].Costcenter && aAddOptions[i].Costcenter !== \"\") {\r\n\t\t\t\t\t\t\toInput.Costcenter = aAddOptions[i].Costcenter;\r\n\t\t\t\t\t\t\toVisible.Costcenter = true;\r\n\t\t\t\t\t\t\toEnabled.Costcenter = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (aAddOptions[i].GlAccount && aAddOptions[i].GlAccount !== \"\") {\r\n\t\t\t\t\t\t\toInput.GlAccount = aAddOptions[i].GlAccount;\r\n\t\t\t\t\t\t\toVisible.GlAccount = true;\r\n\t\t\t\t\t\t\toEnabled.GlAccount = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (aAddOptions[i].Demographics && aAddOptions[i].Demographics !== \"\") {\r\n\t\t\t\t\t\t\t// Begin of Changes - Khrystyne Williams - Feb 2017\r\n\t\t\t\t\t\t\t// oInput.GlAccount = aAddOptions[i].Demographics;\r\n\t\t\t\t\t\t\toInput.Demographics = aAddOptions[i].Demographics;\r\n\t\t\t\t\t\t\t// End of Changes - Khrystyne Williams - Feb 2017\r\n\t\t\t\t\t\t\toVisible.Demographics = true;\r\n\t\t\t\t\t\t\toEnabled.Demographics = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ti = aAddOptions.length;\r\n\t\t\t\t\t\tDropdownUtils.getCategories(this, oInput.CategoryKey, oInput.BrandKey, this.getModel(\"AddActivity\"), \"/Category\", null,\r\n\t\t\t\t\t\t\t\"/Category/Current\");\r\n\t\t\t\t\t\tif (oInput.CategoryKey && oInput.CategoryKey !== \"\") {\r\n\t\t\t\t\t\t\tDropdownUtils.getSubcategories(this, oInput.CategoryKey, oInput.SubcategoryKey, oInput.BrandKey, this.getModel(\"AddActivity\"),\r\n\t\t\t\t\t\t\t\t\"/Subcategory\", null, \"/Subcategory/Current\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\t// This means we will be creating a project\r\n\t\t\t\toInput.Type = \"PT\";\r\n\t\t\t\toVisible.MaxValueC = true;\r\n\t\t\t\toInput.TypeDescription = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_project\");\r\n\t\t\t\t// PSW Start Change for User data check May 16th 2016\r\n\t\t\t\tvar oUserData = this.getOwnerComponent().getModel(\"UserData\");\r\n\t\t\t\t// psutram: Feb 2017 modified next line to pass oEvent as a parameter\r\n\t\t\t\t// this._resetAddBasedOnType(oInput.Type);\r\n\t\t\t\tthis._resetAddBasedOnType(oInput.Type, oEvent);\r\n\r\n\t\t\t\t// Add in all the Table Values to initialize the child\r\n\t\t\t\tif (oMasterSelect.hasOwnProperty(\"DivisionKey\") && oMasterSelect.DivisionKey !== \"\") {\r\n\t\t\t\t\toInput.DivisionKey = oMasterSelect.DivisionKey;\r\n\t\t\t\t\tthis._setGeoValues(\"DivisionKey\");\r\n\t\t\t\t\toVisible.Division = true;\r\n\t\t\t\t\tif (oUserData.getData().DivisionKey !== \"\") {\r\n\t\t\t\t\t\toEnabled.Division = false;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\toEnabled.Division = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (oMasterSelect.hasOwnProperty(\"HubKey\") && oMasterSelect.HubKey !== \"\") {\r\n\t\t\t\t\toInput.HubKey = oMasterSelect.HubKey;\r\n\t\t\t\t\tthis._setGeoValues(\"HubKey\");\r\n\t\t\t\t\toVisible.Hub = true;\r\n\t\t\t\t\tif (oUserData.getData().HubKey !== \"\") {\r\n\t\t\t\t\t\toEnabled.Hub = false;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\toEnabled.Hub = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (oMasterSelect.hasOwnProperty(\"SubKey\") && oMasterSelect.SubKey !== \"\") {\r\n\t\t\t\t\toInput.SubKey = oMasterSelect.SubKey;\r\n\t\t\t\t\tthis._setGeoValues(\"SubKey\");\r\n\t\t\t\t\toVisible.Sub = true;\r\n\t\t\t\t\tif (oUserData.getData().SubKey !== \"\") {\r\n\t\t\t\t\t\toEnabled.Sub = false;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\toEnabled.Sub = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (oMasterSelect.hasOwnProperty(\"Function\") && oMasterSelect.Function !== \"\") {\r\n\t\t\t\t\toInput.Function = oMasterSelect.Function;\r\n\t\t\t\t\toVisible.Function = true;\r\n\t\t\t\t\tif (oUserData.getData().Function !== \"\") {\r\n\t\t\t\t\t\toEnabled.Function = false;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\toEnabled.Function = true;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\t\t\t\tif (oMasterSelect.hasOwnProperty(\"Channel\") && oMasterSelect.Channel !== \"\") {\r\n\t\t\t\t\toInput.Channel = oMasterSelect.Channel;\r\n\t\t\t\t\tthis._setGeoValues(\"Channel\");\r\n\t\t\t\t\toVisible.Channel = true;\r\n\t\t\t\t\tif (oUserData.getData().Channel !== \"\") {\r\n\t\t\t\t\t\toEnabled.Channel = false;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\toEnabled.Channel = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// PSW End of Change for User Data Check May 16th 2016\t\r\n\t\t\t\t}\r\n\t\t\t\t// PSW Start Add Initialise PH from Side Panel June 1st 2016\t\t\t\t\t\r\n\t\t\t\tif (oMasterSelect.hasOwnProperty(\"Category\") && oMasterSelect.Category !== \"\") {\r\n\t\t\t\t\toInput.CategoryKey = oMasterSelect.Category;\r\n\t\t\t\t\tthis._setPHValues(\"CategoryKey\");\r\n\t\t\t\t\toVisible.Category = true;\r\n\t\t\t\t\tif (oUserData.getData().Category !== \"\") {\r\n\t\t\t\t\t\toEnabled.Category = false;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\toEnabled.Category = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (oMasterSelect.hasOwnProperty(\"Subcategory\") && oMasterSelect.Subcategory !== \"\") {\r\n\t\t\t\t\toInput.SubcategoryKey = oMasterSelect.Subcategory;\r\n\t\t\t\t\tthis._setPHValues(\"SubcategoryKey\");\r\n\t\t\t\t\toVisible.Subcategory = true;\r\n\t\t\t\t\tif (oUserData.getData().SubCategory !== \"\") { // GDH Fixed\r\n\t\t\t\t\t\toEnabled.Subcategory = false;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\toEnabled.Subcategory = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (oMasterSelect.hasOwnProperty(\"Brand\") && oMasterSelect.Brand !== \"\") {\r\n\t\t\t\t\toInput.BrandKey = oMasterSelect.Brand;\r\n\t\t\t\t\tthis._setPHValues(\"BrandKey\");\r\n\t\t\t\t\toVisible.Brand = true;\r\n\t\t\t\t\tif (oUserData.getData().Brand !== \"\") {\r\n\t\t\t\t\t\toEnabled.Brand = false;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\toEnabled.Brand = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\toInput.Currency = this.getOwnerComponent().getModel(\"P13n_Configuration\").getProperty(\"/CurrencySettings/Currency\");\r\n\t\t\t\toInput.MaxValueC = parseFloat(\"0.0\");\r\n\t\t\t\toVisible.MaxValueC = true;\r\n\t\t\t}\r\n\t\t\t//GRH this.onDtChange(null);\r\n\t\t\tthis.getModel().refresh(false);\r\n\t\t\tthis.getModel(\"AddActivity\").refresh(false);\r\n\t\t},\r\n\t\tonRetailerShow: function(oEvent) {\r\n\t\t\tRetailerUtils.onShow(oEvent, this.getModel(\"AddActivity\"), this.getModel(\"i18n\"), this.getView().byId(\"Retailer\"));\r\n\t\t},\r\n\t\tonRetailerClear: function(oEvent) {\r\n\t\t\tRetailerUtils.onClear(oEvent, this.getView().byId(\"Retailer\"));\r\n\t\t},\r\n\t\tonAgencyShow: function(oEvent) {\r\n\t\t\tVendorUtils.onShow(oEvent, this.getModel(\"AddActivity\"), this.getModel(\"i18n\"), this.getView().byId(\"Agency\"));\r\n\t\t},\r\n\t\tonAgencyClear: function(oEvent) {\r\n\t\t\tVendorUtils.onClear(oEvent, this.getView().byId(\"Agency\"));\r\n\t\t},\r\n\t\t_getSubactivityTypes: function() {\r\n\t\t\t// If the activity type is selected, then select the subactivity types.\r\n\t\t\tvar oInput = this.getModel(\"AddActivity\").getData().Input;\r\n\t\t\tif (oInput.ActivityType && oInput.ActivityType !== \"\" && oInput.Type === \"SA\") {\r\n\t\t\t\t// Pick up the subactivity types\r\n\t\t\t\tvar sPath = \"/VHSubactivityTypes\";\r\n\t\t\t\tvar filters = [];\r\n\t\t\t\tfilters.push(new sap.ui.model.Filter({\r\n\t\t\t\t\tpath: \"Key\",\r\n\t\t\t\t\toperator: sap.ui.model.FilterOperator.EQ,\r\n\t\t\t\t\tvalue1: oInput.ActivityType\r\n\t\t\t\t}));\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tthis.getModel().read(sPath, {\r\n\t\t\t\t\tasync: true,\r\n\t\t\t\t\tfilters: filters,\r\n\t\t\t\t\tsuccess: function(oData, oResponse) {\r\n\t\t\t\t\t\tTimeoutUtils.onResetTimer(that);\r\n\t\t\t\t\t\tthat._setSubactivityTypes(oData);\r\n\t\t\t\t\t},\r\n\t\t\t\t\terror: function(oError) {\r\n\t\t\t\t\t\toError.ErrorOrigin = \"Initial\";\r\n\t\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.detail\", \"Errors\", oError);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\t/* =========================================================== */\r\n\t\t/* begin: internal methods                                     */\r\n\t\t/* =========================================================== */\r\n\t\t_onMessageSelected: function(oEvent) {\r\n\t\t\tvar sField = oEvent.getParameter(\"item\").getDescription();\r\n\t\t\tvar oErrored = this.byId(sField);\r\n\t\t\tif (oErrored) {\r\n\t\t\t\toErrored.focus();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_onObjectMatched: function(oEvent) {\r\n\t\t\t// GDH\r\n\t\t\tif (this.getOwnerComponent().getModel(\"masterShared\") && this.getOwnerComponent().getModel(\"masterShared\").getData()) {\r\n\t\t\t\tif (this.getOwnerComponent().getModel(\"masterShared\").getData().oInternalEvents.lastAction !== \"NavToAddActivity\") {\r\n\t\t\t\t\tthis.getRouter().navTo(\"activities\", {\r\n\t\t\t\t\t\tobjectId: \"Activities\"\r\n\t\t\t\t\t}, true);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// Now Set the Date Fields based on the parent\r\n\t\t\t\t\tthis._storedProject = \"\";\r\n\t\t\t\t\tthis._storedActivity = \"\";\r\n\t\t\t\t\tthis._storedProjectName = \"\";\r\n\t\t\t\t\tvar oParent = this.getOwnerComponent().getModel(\"masterShared\").getData().oTableSelect;\r\n\t\t\t\t\tif (oParent.DivisionKey !== \"NoParent\") {\r\n\t\t\t\t\t\t// This means there is a parent and we need to set the child based on it.\r\n\t\t\t\t\t\tvar iStartMonth = oParent.StartDt.substring(5, 7);\r\n\t\t\t\t\t\tvar iEndMonth = oParent.EndDt.substring(5, 7);\r\n\t\t\t\t\t\tthis._setMonthPicker(iStartMonth, iEndMonth);\r\n\t\t\t\t\t\tthis._newAdd = false;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\toParent.DivisionKey = \"\";\r\n\t\t\t\t\t\tthis._newAdd = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tthis.getRouter().navTo(\"activities\", {\r\n\t\t\t\t\tobjectId: \"Activities\"\r\n\t\t\t\t}, true);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Binds the view to the object path. Makes sure that detail view displays\r\n\t\t * a busy indicator while data for the corresponding element binding is loaded.\r\n\t\t * @function\r\n\t\t * @param {string} sObjectPath path to the object to be bound to the view.\r\n\t\t * @private\r\n\t\t */\r\n\t\t_bindView: function(sObjectPath) {\r\n\t\t\t// Set busy indicator during view binding\r\n\t\t\tvar oViewModel = this.getOwnerComponent().getModel(\"masterShared\");\r\n\r\n\t\t\t// If the view was not bound yet its not busy, only if the binding requests data it is set to busy again\r\n\t\t\toViewModel.setProperty(\"/oDetailBusy/busy\", false);\r\n\r\n\t\t\tthis.getView().bindElement({\r\n\t\t\t\tpath: sObjectPath,\r\n\t\t\t\tevents: {\r\n\t\t\t\t\tchange: this._onBindingChange.bind(this),\r\n\t\t\t\t\tdataRequested: function() {\r\n\t\t\t\t\t\toViewModel.setProperty(\"/oDetailBusy/busy\", true);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tdataReceived: function() {\r\n\t\t\t\t\t\toViewModel.setProperty(\"/oDetailBusy/busy\", false);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t_onBindingChange: function() {\r\n\t\t\tvar oView = this.getView(),\r\n\t\t\t\toElementBinding = oView.getElementBinding();\r\n\r\n\t\t\t// No data for the binding\r\n\t\t\tif (!oElementBinding.getBoundContext()) {\r\n\t\t\t\tthis.getRouter().getTargets().display(\"detailObjectNotFound\");\r\n\t\t\t\t// if object could not be found, the selection in the master list\r\n\t\t\t\t// does not make sense anymore.\r\n\t\t\t\tthis.getOwnerComponent().oListSelector.clearMasterListSelection();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar sPath = oElementBinding.getPath(),\r\n\t\t\t\toResourceBundle = this.getResourceBundle(),\r\n\t\t\t\toObject = oView.getModel().getObject(sPath),\r\n\t\t\t\tsObjectId = oObject.TileId,\r\n\t\t\t\tsObjectName = oObject.Title,\r\n\t\t\t\toViewModel = this.getModel(\"addActivityView\");\r\n\r\n\t\t\tthis.getOwnerComponent().oListSelector.selectAListItem(sPath);\r\n\r\n\t\t\toViewModel.setProperty(\"/saveAsTileTitle\", oResourceBundle.getText(\"shareSaveTileAppTitle\", [sObjectName]));\r\n\t\t\toViewModel.setProperty(\"/shareOnJamTitle\", sObjectName);\r\n\t\t\toViewModel.setProperty(\"/shareSendEmailSubject\",\r\n\t\t\t\toResourceBundle.getText(\"shareSendEmailObjectSubject\", [sObjectId]));\r\n\t\t\toViewModel.setProperty(\"/shareSendEmailMessage\",\r\n\t\t\t\toResourceBundle.getText(\"shareSendEmailObjectMessage\", [sObjectName, sObjectId, location.href]));\r\n\t\t},\r\n\r\n\t\t_onMetadataLoaded: function() {\r\n\t\t\t// Store original busy indicator delay for the detail view\r\n\t\t\tvar iOriginalViewBusyDelay = this.getView().getBusyIndicatorDelay(),\r\n\t\t\t\toViewModel = this.getOwnerComponent().getModel(\"masterShared\");\r\n\r\n\t\t\t// Make sure busy indicator is displayed immediately when\r\n\t\t\t// detail view is displayed for the first time\r\n\t\t\toViewModel.setProperty(\"/oDetailBusy/delay\", 0);\r\n\r\n\t\t\t// Binding the view will set it to not busy - so the view is always busy if it is not bound\r\n\t\t\toViewModel.setProperty(\"/oDetailBusy/busy\", true);\r\n\t\t\t// Restore original busy indicator delay for the detail view\r\n\t\t\toViewModel.setProperty(\"/oDetailBusy/delay\", iOriginalViewBusyDelay);\r\n\t\t},\r\n\t\t_onButtonPressed: function(oEvent, oData) {\r\n\t\t\tif (oData) {\r\n\t\t\t\talert(\"Project Button: \" + oData.button);\r\n\t\t\t}\r\n\t\t},\r\n\t\t_formFragments: {},\r\n\t\t_getFormFragment: function(sFragmentName) {\r\n\t\t\tvar oFormFragment = this._formFragments[sFragmentName];\r\n\r\n\t\t\tif (oFormFragment) {\r\n\t\t\t\treturn oFormFragment;\r\n\t\t\t}\r\n\r\n\t\t\toFormFragment = sap.ui.xmlfragment(this.getView().getId(), \"colgate.asm.planning.base.fragment.\" + sFragmentName, this);\r\n\r\n\t\t\treturn this._formFragments[sFragmentName] = oFormFragment;\r\n\t\t},\r\n\r\n\t\t_showFormFragment: function(sFragmentName) {\r\n\t\t\tvar oPage = this.getView().byId(\"page\");\r\n\r\n\t\t\toPage.removeAllContent();\r\n\t\t\toPage.insertContent(this._getFormFragment(sFragmentName));\r\n\t\t},\r\n\r\n\t\t_setPHValues: function(sChanged) {\r\n\t\t\tvar oACModel = this.getModel(\"AddActivity\");\r\n\t\t\tvar oACData = oACModel.getData();\r\n\t\t\tvar oBrand = this.getView().byId(\"BrandKey\");\r\n\t\t\toACData.Placeholders.Brand = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_brand_e\");\r\n\t\t\tvar sServiceUrl = this.getOwnerComponent().getModel(\"masterShared\").getProperty(\"/oServiceUrls/mainService\");\r\n\t\t\tif (sChanged === \"CategoryKey\") {\r\n\t\t\t\t// First clear the keys\r\n\t\t\t\t// PSW Start Correction Clear Dependent fields May 26th 2016 v3\r\n\t\t\t\tif (oACData.Input.SubcategoryKey) {\r\n\t\t\t\t\toACData.Input.SubcategoryKey = \"\";\r\n\t\t\t\t}\r\n\t\t\t\t// if (oACData.Input.BrandKey) {\r\n\t\t\t\t// \toACData.Input.BrandKey = \"\";\r\n\t\t\t\t// }\r\n\t\t\t\tif (oACData.Input.SubbrandKey) {\r\n\t\t\t\t\toACData.Input.SubbrandKey = \"\";\r\n\t\t\t\t}\r\n\t\t\t\t// PSW End Correction Clear Dependent fields May 26th 2016 v3\r\n\t\t\t\tvar model = this.getModel(\"Category\");\r\n\t\t\t\tif (!model) {\r\n\t\t\t\t\tmodel = new sap.ui.model.odata.v2.ODataModel(sServiceUrl, false);\r\n\t\t\t\t\tmodel.setSizeLimit(50000);\r\n\t\t\t\t\tthis.setModel(model, \"Category\");\r\n\t\t\t\t}\r\n\t\t\t\tDropdownUtils.getBrands(this, oBrand, oACData.Input.CategoryKey, oACData.Input.SubcategoryKey, oBrand.getSelectedKey(),\r\n\t\t\t\t\tthis.getModel(\"AddActivity\"), \"/Brand\", null, \"/Brand/Current\");\r\n\t\t\t\tvar sSelected = oACData.Input.CategoryKey;\r\n\t\t\t\tif (!sSelected || sSelected === \"\") {\r\n\t\t\t\t\toACData.Enabled.Subcategory = false;\r\n\t\t\t\t\t//oACData.Enabled.Brand = false;\r\n\t\t\t\t\toACData.Enabled.Subbrand = false;\r\n\t\t\t\t\toACData.Placeholders.Subcategory = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_subcategory\");\r\n\t\t\t\t\t//oACData.Placeholders.Brand = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_brand\");\r\n\t\t\t\t\toACData.Placeholders.Subbrand = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_subbrand\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// May need to change the Brand List\r\n\t\t\t\t\t// Check if you already have these values stored\r\n\t\t\t\t\tif (!oACData.Input.BrandKey) {\r\n\t\t\t\t\t\toACData.Input.BrandKey = \"\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tDropdownUtils.getSubcategories(this, oACData.Input.CategoryKey, oACData.Input.SubcategoryKey, oACData.Input.BrandKey, this.getModel(\r\n\t\t\t\t\t\t\"AddActivity\"), \"/Subcategory\", null, \"/Subcategory/Current\");\r\n\t\t\t\t\t// var combinedKey = oACData.Input.CategoryKey + \":\" + oACData.Input.BrandKey;\r\n\t\t\t\t\t// if (oACData.Subcategory && oACData.Subcategory[combinedKey]) {\r\n\t\t\t\t\t// \t// You don't need to select - we already have the data\r\n\t\t\t\t\t// \toACData.Subcategory.Current = oACData.Subcategory[combinedKey];\r\n\t\t\t\t\t// } else {\r\n\t\t\t\t\t// \tthis.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", true); // Start Spinner\r\n\t\t\t\t\t// \tvar oSCModel = this.getModel(\"Subcategory\");\r\n\t\t\t\t\t// \tif (!oSCModel) {\r\n\t\t\t\t\t// \t\toSCModel = new sap.ui.model.odata.v2.ODataModel(sServiceUrl, false);\r\n\t\t\t\t\t// \t\toSCModel.setSizeLimit(50000);\r\n\t\t\t\t\t// \t\toSCModel.setDefaultCountMode(sap.ui.model.odata.CountMode.None);\r\n\t\t\t\t\t// \t\tthis.setModel(oSCModel, \"Subcategory\");\r\n\t\t\t\t\t// \t}\r\n\t\t\t\t\t// \tvar filters = [];\r\n\t\t\t\t\t// \t// PSW Start Correction Defaulting of Subcategory Values from side panel June 1st 2016 \t\t\t\t\t\t\t\r\n\t\t\t\t\t// \tfilters.push(new sap.ui.model.Filter({\r\n\t\t\t\t\t// \t\tpath: \"Key\",\r\n\t\t\t\t\t// \t\toperator: sap.ui.model.FilterOperator.EQ,\r\n\t\t\t\t\t// \t\tvalue1: oACData.Input.SubcategoryKey\r\n\t\t\t\t\t// \t}));\r\n\t\t\t\t\t// \t// PSW End Correction Defaulting of Subcategory Values from side panel June 1st 2016 \r\n\t\t\t\t\t// \tfilters.push(new sap.ui.model.Filter({\r\n\t\t\t\t\t// \t\tpath: \"Category\",\r\n\t\t\t\t\t// \t\toperator: sap.ui.model.FilterOperator.EQ,\r\n\t\t\t\t\t// \t\tvalue1: oACData.Input.CategoryKey\r\n\t\t\t\t\t// \t}));\r\n\t\t\t\t\t// \tif (!oACData.Enabled.Brand) {\r\n\t\t\t\t\t// \t\tfilters.push(new sap.ui.model.Filter({\r\n\t\t\t\t\t// \t\t\tpath: \"Brand\",\r\n\t\t\t\t\t// \t\t\toperator: sap.ui.model.FilterOperator.EQ,\r\n\t\t\t\t\t// \t\t\tvalue1: oACData.Input.BrandKey\r\n\t\t\t\t\t// \t\t}));\r\n\t\t\t\t\t// \t}\r\n\t\t\t\t\t// \tvar sPath = \"/VHSubcategories\";\r\n\t\t\t\t\t// \tvar that = this;\r\n\t\t\t\t\t// \toSCModel.read(sPath, {\r\n\t\t\t\t\t// \t\tasync: true,\r\n\t\t\t\t\t// \t\tfilters: filters,\r\n\t\t\t\t\t// \t\tsuccess: function(oData, oResponse) {\r\n\t\t\t\t\t// \t\t\tTimeoutUtils.onResetTimer(that);\r\n\t\t\t\t\t// \t\t\tthat._setSubcategories(oData);\r\n\t\t\t\t\t// \t\t},\r\n\t\t\t\t\t// \t\terror: function(oError) {\r\n\t\t\t\t\t// \t\t\toError.ErrorOrigin = \"Brands\";\r\n\t\t\t\t\t// \t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.detail\", \"Errors\", oError);\r\n\t\t\t\t\t// \t\t}\r\n\t\t\t\t\t// \t});\r\n\t\t\t\t\t// }\r\n\t\t\t\t\toACData.Enabled.Subcategory = true;\r\n\t\t\t\t\toACData.Placeholders.Subcategory = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_subcategory_e\");\r\n\t\t\t\t\t//oACData.Placeholders.Brand = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_brand_se\");\r\n\t\t\t\t\toACData.Placeholders.Subbrand = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_subbrand_sbe\");\r\n\t\t\t\t}\r\n\t\t\t\t//oACData.Enabled.Brand = false;\r\n\t\t\t\toACData.Enabled.Subbrand = false;\r\n\t\t\t\tthis._resetMaestroBrief();\r\n\t\t\t\t// } else if (sChanged === \"SubcategoryKey\") {\r\n\t\t\t\t// \t// First clear the keys\r\n\t\t\t\t// \t// PSW Start Correction Clear Dependent fields May 26th 2016 v3\t\t\t\t\t\r\n\t\t\t\t// \t// if (oACData.Input.BrandKey) {\r\n\t\t\t\t// \t// \toACData.Input.BrandKey = \"\";\r\n\t\t\t\t// \t// }\r\n\t\t\t\t// \tif (oACData.Input.SubbrandKey) {\r\n\t\t\t\t// \t\toACData.Input.SubbrandKey = \"\";\r\n\t\t\t\t// \t}\r\n\t\t\t\t// \t// PSW End Correction Clear Dependent fields May 26th 2016 v3\r\n\t\t\t\t// \tvar model = this.getModel(\"Subcategory\");\r\n\t\t\t\t// \tif (!model) {\r\n\t\t\t\t// \t\tmodel = new sap.ui.model.odata.v2.ODataModel(sServiceUrl, false);\r\n\t\t\t\t// \t\tmodel.setSizeLimit(50000);\r\n\t\t\t\t// \t\tthis.setModel(model, \"Subcategory\");\r\n\t\t\t\t// \t}\r\n\t\t\t\t// \tDropdownUtils.getBrands(this, oBrand, oACData.Input.CategoryKey, oACData.Input.SubcategoryKey, oBrand.getSelectedKey(),\r\n\t\t\t\t// \t\tthis.getOwnerComponent().getModel(\"AddActivity\"), \"/Brand\", null, \"/Brand/Current\");\r\n\t\t\t\t// \tvar sSelected = oACData.Input.SubcategoryKey;\r\n\t\t\t\t// \tif (!sSelected || sSelected === \"\") {\r\n\t\t\t\t// \t\toACData.Enabled.Subcategory = true;\r\n\t\t\t\t// \t\t//oACData.Enabled.Brand = false;\r\n\t\t\t\t// \t\toACData.Enabled.Subbrand = false;\r\n\t\t\t\t// \t\toACData.Placeholders.Subcategory = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_subcategory\");\r\n\t\t\t\t// \t\t//oACData.Placeholders.Brand = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_brand\");\r\n\t\t\t\t// \t\toACData.Placeholders.Subbrand = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_subbrand\");\r\n\t\t\t\t// \t} else {\r\n\t\t\t\t// \t\t// May need to change the Brand List\r\n\t\t\t\t// \t\t// Check if you already have these values stored\r\n\t\t\t\t// \t\t// var combinedKey = oACData.Input.CategoryKey + \":\" + oACData.Input.SubcategoryKey;\r\n\t\t\t\t// \t\t// if (oACData.Brand && oACData.Brand[combinedKey]) {\r\n\t\t\t\t// \t\t// \t// You don't need to select - we already have the data\r\n\t\t\t\t// \t\t// \toACData.Brand.Current = oACData.Brand[combinedKey];\r\n\t\t\t\t// \t\t// } else {\r\n\t\t\t\t// \t\t// \tthis.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", true); // Start Spinner\r\n\t\t\t\t// \t\t// \tvar bmodel = this.getModel(\"Brand\");\r\n\t\t\t\t// \t\t// \tif (!bmodel) {\r\n\t\t\t\t// \t\t// \t\tbmodel = new sap.ui.model.odata.v2.ODataModel(sServiceUrl, false);\r\n\t\t\t\t// \t\t// \t\tbmodel.setSizeLimit(50000);\r\n\t\t\t\t// \t\t// \t\tbmodel.setDefaultCountMode(sap.ui.model.odata.CountMode.None);\r\n\t\t\t\t// \t\t// \t\tthis.setModel(bmodel, \"Brand\");\r\n\t\t\t\t// \t\t// \t}\r\n\t\t\t\t// \t\t// \tvar filters = [];\r\n\t\t\t\t// \t\t// \tfilters.push(new sap.ui.model.Filter({\r\n\t\t\t\t// \t\t// \t\tpath: \"Key\",\r\n\t\t\t\t// \t\t// \t\toperator: sap.ui.model.FilterOperator.EQ,\r\n\t\t\t\t// \t\t// \t\tvalue1: oACData.Input.BrandKey\r\n\t\t\t\t// \t\t// \t}));\r\n\t\t\t\t// \t\t// \tfilters.push(new sap.ui.model.Filter({\r\n\t\t\t\t// \t\t// \t\tpath: \"Category\",\r\n\t\t\t\t// \t\t// \t\toperator: sap.ui.model.FilterOperator.EQ,\r\n\t\t\t\t// \t\t// \t\tvalue1: oACData.Input.CategoryKey\r\n\t\t\t\t// \t\t// \t}));\r\n\t\t\t\t// \t\t// \tfilters.push(new sap.ui.model.Filter({\r\n\t\t\t\t// \t\t// \t\tpath: \"PSubCategory\",\r\n\t\t\t\t// \t\t// \t\toperator: sap.ui.model.FilterOperator.EQ,\r\n\t\t\t\t// \t\t// \t\tvalue1: oACData.Input.SubcategoryKey\r\n\t\t\t\t// \t\t// \t}));\r\n\t\t\t\t// \t\t// \tvar sPath = \"/VHBrands\";\r\n\t\t\t\t// \t\t// \tvar that = this;\r\n\t\t\t\t// \t\t// \tbmodel.read(sPath, {\r\n\t\t\t\t// \t\t// \t\tasync: true,\r\n\t\t\t\t// \t\t// \t\tfilters: filters,\r\n\t\t\t\t// \t\t// \t\tsuccess: function(oData, oResponse) {\r\n\t\t\t\t// \t\t// \t\t\tTimeoutUtils.onResetTimer(that);\r\n\t\t\t\t// \t\t// \t\t\tthat._setBrands(oData);\r\n\t\t\t\t// \t\t// \t\t},\r\n\t\t\t\t// \t\t// \t\terror: function(oError) {\r\n\t\t\t\t// \t\t// \t\t\toError.ErrorOrigin = \"Brands\";\r\n\t\t\t\t// \t\t// \t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.detail\", \"Errors\", oError);\r\n\t\t\t\t// \t\t// \t\t}\r\n\t\t\t\t// \t\t// \t});\r\n\t\t\t\t// \t\t//}\r\n\t\t\t\t// \t\toACData.Enabled.Brand = true;\r\n\t\t\t\t// \t\t//oACData.Placeholders.Brand = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_brand_e\");\r\n\t\t\t\t// \t\toACData.Placeholders.Subbrand = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_subbrand_be\");\r\n\t\t\t\t// \t}\r\n\t\t\t\t// \toACData.Enabled.Subbrand = false;\r\n\t\t\t\t// \tthis._resetMaestroBrief();\r\n\t\t\t} else if (sChanged === \"BrandKey\" || sChanged === \"SubcategoryKey\") {\r\n\t\t\t\t// First clear out old values\r\n\t\t\t\tif (sChanged === \"SubcategoryKey\") {\r\n\t\t\t\t\tvar oBrand = this.getView().byId(\"BrandKey\");\r\n\t\t\t\t\tDropdownUtils.getBrands(this, oBrand, oACData.Input.CategoryKey, oACData.Input.SubcategoryKey, oACData.Input.BrandKey,\r\n\t\t\t\t\t\toACModel, \"/Brand\", null, \"/Brand/Current\");\r\n\t\t\t\t}\r\n\t\t\t\tif (oACData.Input.SubbrandKey) {\r\n\t\t\t\t\toACData.Input.SubbrandKey = \"\";\r\n\t\t\t\t}\r\n\t\t\t\tif (oACData.Input.Subcategory && oACData.Input.Subcategory !== \"\") {\r\n\t\t\t\t\toACData.Enabled.Subbrand = true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\toACData.Enabled.Subbrand = false;\r\n\t\t\t\t}\r\n\t\t\t\tif (oACData.Input.SubcategoryKey !== \"\") {\r\n\t\t\t\t\toACData.Enabled.Subcategory = true;\r\n\t\t\t\t\tvar sbmodel = this.getModel(\"Subbrand\");\r\n\t\t\t\t\tif (!sbmodel) {\r\n\t\t\t\t\t\tsbmodel = new sap.ui.model.odata.v2.ODataModel(sServiceUrl, false);\r\n\t\t\t\t\t\tsbmodel.setSizeLimit(50000);\r\n\t\t\t\t\t\tsbmodel.setDefaultCountMode(sap.ui.model.odata.CountMode.None);\r\n\t\t\t\t\t\tthis.setModel(sbmodel, \"Subbrand\");\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar filters = [];\r\n\t\t\t\t\tfilters.push(new sap.ui.model.Filter({\r\n\t\t\t\t\t\tpath: \"Key\",\r\n\t\t\t\t\t\toperator: sap.ui.model.FilterOperator.EQ,\r\n\t\t\t\t\t\tvalue1: oACData.Input.SubbrandKey\r\n\t\t\t\t\t}));\r\n\t\t\t\t\tfilters.push(new sap.ui.model.Filter({\r\n\t\t\t\t\t\tpath: \"Category\",\r\n\t\t\t\t\t\toperator: sap.ui.model.FilterOperator.EQ,\r\n\t\t\t\t\t\tvalue1: oACData.Input.CategoryKey\r\n\t\t\t\t\t}));\r\n\t\t\t\t\tfilters.push(new sap.ui.model.Filter({\r\n\t\t\t\t\t\tpath: \"PSubCategory\",\r\n\t\t\t\t\t\toperator: sap.ui.model.FilterOperator.EQ,\r\n\t\t\t\t\t\tvalue1: oACData.Input.SubcategoryKey\r\n\t\t\t\t\t}));\r\n\t\t\t\t\tfilters.push(new sap.ui.model.Filter({\r\n\t\t\t\t\t\tpath: \"Brand\",\r\n\t\t\t\t\t\toperator: sap.ui.model.FilterOperator.EQ,\r\n\t\t\t\t\t\tvalue1: oACData.Input.BrandKey\r\n\t\t\t\t\t}));\r\n\t\t\t\t\tvar sPath = \"/VHSubbrands\";\r\n\t\t\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", true); // Start Spinner\r\n\t\t\t\t\tvar that = this;\r\n\t\t\t\t\tsbmodel.read(sPath, {\r\n\t\t\t\t\t\tasync: true,\r\n\t\t\t\t\t\tfilters: filters,\r\n\t\t\t\t\t\tsuccess: function(oData, oResponse) {\r\n\t\t\t\t\t\t\tTimeoutUtils.onResetTimer(that);\r\n\t\t\t\t\t\t\tthat._setSubbrands(oData);\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\terror: function(oError) {\r\n\t\t\t\t\t\t\toError.ErrorOrigin = \"Subbrands\";\r\n\t\t\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.detail\", \"Errors\", oError);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\toACData.Enabled.Subbrand = true;\r\n\t\t\t\t\toACData.Placeholders.Subbrand = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_subbrand_e\");\r\n\t\t\t\t\tthis._getMaestroBrief();\r\n\t\t\t\t}\r\n\t\t\t\tDropdownUtils.getCategories(this, oACData.Input.CategoryKey, oACData.Input.BrandKey, this.getModel(\"AddActivity\"), \"/Category\",\r\n\t\t\t\t\tnull,\r\n\t\t\t\t\t\"/Category/Current\");\r\n\t\t\t\tif (oACData.Input.CategoryKey && oACData.Input.CategoryKey !== \"\") {\r\n\t\t\t\t\tDropdownUtils.getSubcategories(this, oACData.Input.CategoryKey, oACData.Input.SubcategoryKey, oACData.Input.BrandKey, this.getModel(\r\n\t\t\t\t\t\t\"AddActivity\"), \"/Subcategory\", null, \"/Subcategory/Current\");\r\n\t\t\t\t}\r\n\t\t\t} else if (sChanged === \"SubbrandKey\") {\r\n\t\t\t\tvar oSubbrand = this.getView().byId(\"SubbrandKey\");\r\n\t\t\t\tvar sKey = oSubbrand.getSelectedKey();\r\n\r\n\t\t\t\tif (sKey !== \"\") {\r\n\t\t\t\t\tvar aSubbrands = oACData.Subbrand.Current;\r\n\t\t\t\t\tfor (var i = 0; i < aSubbrands.length; i++) {\r\n\t\t\t\t\t\tif (aSubbrands[i].Key === sKey) {\r\n\t\t\t\t\t\t\tif (oACData.Input.BrandKey !== aSubbrands[i].Brand) {\r\n\t\t\t\t\t\t\t\toACData.Input.BrandKey = aSubbrands[i].Brand;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\toACModel.refresh(false);\r\n\t\t},\r\n\t\t_setGeoValues: function(sChanged) {\r\n\t\t\tvar oACModel = this.getModel(\"AddActivity\");\r\n\t\t\tvar oACData = oACModel.getData();\r\n\t\t\tvar sServiceUrl = this.getOwnerComponent().getModel(\"masterShared\").getProperty(\"/oServiceUrls/mainService\");\r\n\t\t\tif (sChanged === \"DivisionKey\") {\r\n\t\t\t\t// First clear the keys\r\n\t\t\t\tif (oACData.Input.HubKey) {\r\n\t\t\t\t\toACData.Input.HubKey = \"\";\r\n\t\t\t\t}\r\n\t\t\t\tif (oACData.Input.SubKey) {\r\n\t\t\t\t\toACData.Input.SubKey = \"\";\r\n\t\t\t\t}\r\n\t\t\t\tvar model = this.getModel(\"Division\");\r\n\t\t\t\tif (!model) {\r\n\t\t\t\t\tmodel = new sap.ui.model.odata.v2.ODataModel(sServiceUrl, false);\r\n\t\t\t\t\tmodel.setSizeLimit(50000);\r\n\t\t\t\t\tthis.setModel(model, \"Division\");\r\n\t\t\t\t}\r\n\t\t\t\tvar sSelected = oACData.Input.DivisionKey;\r\n\t\t\t\tif (!sSelected || sSelected === \"\") {\r\n\t\t\t\t\toACData.Enabled.Hub = false;\r\n\t\t\t\t\toACData.Enabled.Sub = false;\r\n\t\t\t\t\toACData.Placeholders.Hub = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_hub\");\r\n\t\t\t\t\toACData.Placeholders.Sub = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_sub\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// May need to change the Brand List\r\n\t\t\t\t\t// Check if you already have these values stored\r\n\t\t\t\t\tvar combinedKey = oACData.Input.DivisionKey;\r\n\t\t\t\t\tif (oACData.Hub && oACData.Hub[combinedKey]) {\r\n\t\t\t\t\t\t// You don't need to select - we already have the data\r\n\t\t\t\t\t\toACData.Hub.Current = oACData.Hub[combinedKey];\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tvar bmodel = this.getModel(\"Hub\");\r\n\t\t\t\t\t\tif (!bmodel) {\r\n\t\t\t\t\t\t\tbmodel = new sap.ui.model.odata.v2.ODataModel(sServiceUrl);\r\n\t\t\t\t\t\t\tbmodel.setSizeLimit(50000);\r\n\t\t\t\t\t\t\tbmodel.setDefaultCountMode(sap.ui.model.odata.CountMode.None);\r\n\t\t\t\t\t\t\tthis.setModel(bmodel, \"Hub\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvar filters = [];\r\n\t\t\t\t\t\tvar sHubKey = oACData.Input.HubKey;\r\n\t\t\t\t\t\tif (!sHubKey) {\r\n\t\t\t\t\t\t\tsHubKey = \"\";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvar sDivisionKey = oACData.Input.DivisionKey;\r\n\t\t\t\t\t\tif (!sDivisionKey) {\r\n\t\t\t\t\t\t\tsDivisionKey = \"\";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tfilters.push(new sap.ui.model.Filter({\r\n\t\t\t\t\t\t\tpath: \"GeoKey\",\r\n\t\t\t\t\t\t\toperator: sap.ui.model.FilterOperator.EQ,\r\n\t\t\t\t\t\t\tvalue1: sHubKey\r\n\t\t\t\t\t\t}));\r\n\t\t\t\t\t\tfilters.push(new sap.ui.model.Filter({\r\n\t\t\t\t\t\t\tpath: \"DivisionKey\",\r\n\t\t\t\t\t\t\toperator: sap.ui.model.FilterOperator.EQ,\r\n\t\t\t\t\t\t\tvalue1: sDivisionKey\r\n\t\t\t\t\t\t}));\r\n\t\t\t\t\t\tvar sPath = \"/VHHubs\";\r\n\t\t\t\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", true); // Start Spinner\r\n\t\t\t\t\t\tvar that = this;\r\n\t\t\t\t\t\tbmodel.read(sPath, {\r\n\t\t\t\t\t\t\tasync: true,\r\n\t\t\t\t\t\t\tfilters: filters,\r\n\t\t\t\t\t\t\tsuccess: function(oData, oResponse) {\r\n\t\t\t\t\t\t\t\tTimeoutUtils.onResetTimer(that);\r\n\t\t\t\t\t\t\t\tthat._setHubs(oData);\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\terror: function(oError) {\r\n\t\t\t\t\t\t\t\toError.ErrorOrigin = \"Hubs\";\r\n\t\t\t\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.detail\", \"Errors\", oError);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t\toACData.Enabled.Hub = true;\r\n\t\t\t\t\toACData.Placeholders.Hub = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_hub_e\");\r\n\t\t\t\t\toACData.Placeholders.Sub = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_sub_he\");\r\n\t\t\t\t}\r\n\t\t\t\toACData.Enabled.Sub = false;\r\n\t\t\t\tthis._resetRetailers();\r\n\t\t\t\tthis._resetDemographics();\r\n\t\t\t\t//this._resetCostcenters();\r\n\t\t\t\t//this._getAgencies();\r\n\t\t\t} else if (sChanged === \"HubKey\") {\r\n\t\t\t\t// First clear out old values\r\n\t\t\t\tif (oACData.Input.SubKey) {\r\n\t\t\t\t\toACData.Input.SubKey = \"\";\r\n\t\t\t\t}\r\n\t\t\t\tif (oACData.Input.Sub) {\r\n\t\t\t\t\toACData.Input.Sub = \"\";\r\n\t\t\t\t}\r\n\t\t\t\tvar sbmodel = this.getModel(\"Sub\");\r\n\t\t\t\tif (!sbmodel) {\r\n\t\t\t\t\tsbmodel = new sap.ui.model.odata.v2.ODataModel(sServiceUrl);\r\n\t\t\t\t\tsbmodel.setSizeLimit(50000);\r\n\t\t\t\t\tsbmodel.setDefaultCountMode(sap.ui.model.odata.CountMode.None);\r\n\t\t\t\t\tthis.setModel(sbmodel, \"Sub\");\r\n\t\t\t\t}\r\n\t\t\t\tvar filters = [];\r\n\t\t\t\tvar sSubKey = oACData.Input.SubKey;\r\n\t\t\t\tif (!sSubKey) {\r\n\t\t\t\t\tsSubKey = \"\";\r\n\t\t\t\t}\r\n\t\t\t\tvar sHubKey = oACData.Input.HubKey;\r\n\t\t\t\tif (!sHubKey) {\r\n\t\t\t\t\tsHubKey = \"\";\r\n\t\t\t\t}\r\n\t\t\t\tvar sDivisionKey = oACData.Input.DivisionKey;\r\n\t\t\t\tif (!sDivisionKey) {\r\n\t\t\t\t\tsDivisionKey = \"\";\r\n\t\t\t\t}\r\n\t\t\t\tif (sHubKey !== \"\") {\r\n\t\t\t\t\tfilters.push(new sap.ui.model.Filter({\r\n\t\t\t\t\t\tpath: \"GeoKey\",\r\n\t\t\t\t\t\toperator: sap.ui.model.FilterOperator.EQ,\r\n\t\t\t\t\t\tvalue1: sSubKey\r\n\t\t\t\t\t}));\r\n\t\t\t\t\tfilters.push(new sap.ui.model.Filter({\r\n\t\t\t\t\t\tpath: \"HubKey\",\r\n\t\t\t\t\t\toperator: sap.ui.model.FilterOperator.EQ,\r\n\t\t\t\t\t\tvalue1: sHubKey\r\n\t\t\t\t\t}));\r\n\t\t\t\t\tfilters.push(new sap.ui.model.Filter({\r\n\t\t\t\t\t\tpath: \"DivisionKey\",\r\n\t\t\t\t\t\toperator: sap.ui.model.FilterOperator.EQ,\r\n\t\t\t\t\t\tvalue1: sDivisionKey\r\n\t\t\t\t\t}));\r\n\t\t\t\t\tvar sPath = \"/VHSubs\";\r\n\t\t\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", true); // Start Spinner\r\n\t\t\t\t\tvar that = this;\r\n\t\t\t\t\tsbmodel.read(sPath, {\r\n\t\t\t\t\t\tasync: true,\r\n\t\t\t\t\t\tfilters: filters,\r\n\t\t\t\t\t\tsuccess: function(oData, oResponse) {\r\n\t\t\t\t\t\t\tTimeoutUtils.onResetTimer(that);\r\n\t\t\t\t\t\t\tthat._setSubs(oData);\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\terror: function(oError) {\r\n\t\t\t\t\t\t\toError.ErrorOrigin = \"Subs\";\r\n\t\t\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.detail\", \"Errors\", oError);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\toACData.Enabled.Sub = true;\r\n\t\t\t\t\toACData.Placeholders.Sub = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_sub_e\");\r\n\t\t\t\t\tthis._resetRetailers();\r\n\t\t\t\t\t//this._resetCostcenters();\r\n\t\t\t\t\tthis._resetDemographics();\r\n\t\t\t\t} else {\r\n\t\t\t\t\toACData.Enabled.Sub = false;\r\n\t\t\t\t\toACData.Placeholders.Hub = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_hub_e\");\r\n\t\t\t\t\toACData.Placeholders.Sub = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_sub_he\");\r\n\t\t\t\t}\r\n\t\t\t} else if (sChanged === \"SubKey\") {\r\n\t\t\t\t// Get the Retailer\r\n\t\t\t\tthis._getDemographics();\r\n\t\t\t\tthis._getRetailers();\r\n\t\t\t\tthis._getAgencies();\r\n\t\t\t\t//this._getCostcenters();\r\n\t\t\t}\r\n\t\t},\r\n\t\t// _setSubcategories: function(oDataIn) {\r\n\t\t// \tvar oModel = this.getModel(\"AddActivity\");\r\n\t\t// \tvar oData = oModel.getData();\r\n\t\t// \tif (!oData.Subcategory) {\r\n\t\t// \t\toData.Subcategory = {};\r\n\t\t// \t}\r\n\t\t// \toData.Subcategory.Current = oDataIn.results;\r\n\t\t// \tvar combinedKey = oData.Input.CategoryKey + \":\" + oData.Input.BrandKey;\r\n\t\t// \toData.Subcategory[combinedKey] = oDataIn.results;\r\n\t\t// \toModel.refresh(false);\r\n\t\t// \tthis.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", false); // Stop Spinner\r\n\t\t// },\r\n\t\t// _setBrands: function(oDataIn) {\r\n\t\t// \tvar oModel = this.getModel(\"AddActivity\");\r\n\t\t// \tvar oData = oModel.getData();\r\n\t\t// \tif (!oData.Brand) {\r\n\t\t// \t\toData.Brand = {};\r\n\t\t// \t}\r\n\t\t// \toData.Brand.Current = oDataIn.results;\r\n\t\t// \tvar combinedKey = oData.Input.CategoryKey + \":\" + oData.Input.SubcategoryKey;\r\n\t\t// \toData.Brand[combinedKey] = oDataIn.results;\r\n\t\t// \toModel.refresh(false);\r\n\t\t// \tthis.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", false); // Stop Spinner\r\n\t\t// },\r\n\t\t_setSubbrands: function(oDataIn) {\r\n\t\t\tvar oModel = this.getModel(\"AddActivity\");\r\n\t\t\tvar oData = oModel.getData();\r\n\t\t\tif (!oData.Subbrand) {\r\n\t\t\t\toData.Subbrand = {};\r\n\t\t\t}\r\n\t\t\toData.Subbrand.Current = oDataIn.results;\r\n\t\t\toModel.refresh(false);\r\n\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", false); // Stop Spinner\r\n\t\t},\r\n\t\t_setHubs: function(oDataIn) {\r\n\t\t\tvar oModel = this.getModel(\"AddActivity\");\r\n\t\t\tvar oData = oModel.getData();\r\n\t\t\tif (!oData.Hub) {\r\n\t\t\t\toData.Hub = {};\r\n\t\t\t}\r\n\t\t\toData.Hub.Current = oDataIn.results;\r\n\t\t\tvar combinedKey = oData.Input.DivisionKey;\r\n\t\t\toData.Hub[combinedKey] = oDataIn.results;\r\n\t\t\toModel.refresh(false);\r\n\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", false); // Stop Spinner\r\n\t\t},\r\n\t\t_setSubs: function(oDataIn) {\r\n\t\t\tvar oModel = this.getModel(\"AddActivity\");\r\n\t\t\tvar oData = oModel.getData();\r\n\t\t\tif (!oData.Sub) {\r\n\t\t\t\toData.Sub = {};\r\n\t\t\t}\r\n\t\t\toData.Sub.Current = oDataIn.results;\r\n\t\t\toModel.refresh(false);\r\n\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", false); // Stop Spinner\r\n\t\t},\r\n\t\t_setProjectTypes: function(oDataIn) {\r\n\t\t\tvar oModel = this.getModel(\"AddActivity\");\r\n\t\t\tvar oData = oModel.getData();\r\n\t\t\tif (!oData.ProjectType) {\r\n\t\t\t\toData.ProjectType = {};\r\n\t\t\t}\r\n\t\t\toData.ProjectType.Current = oDataIn.results;\r\n\t\t},\r\n\t\t_setActivityTypes: function(oDataIn) {\r\n\t\t\tvar oModel = this.getModel(\"AddActivity\");\r\n\t\t\tvar oData = oModel.getData();\r\n\t\t\tif (!oData.ActivityType) {\r\n\t\t\t\toData.ActivityType = {};\r\n\t\t\t}\r\n\t\t\toData.ActivityType.Current = oDataIn.results;\r\n\t\t},\r\n\t\t_setSubactivityTypes: function(oDataIn) {\r\n\t\t\tvar oModel = this.getModel(\"AddActivity\");\r\n\t\t\tvar oData = oModel.getData();\r\n\t\t\tif (!oData.SubactivityType) {\r\n\t\t\t\toData.SubactivityType = {};\r\n\t\t\t}\r\n\t\t\toData.SubactivityType.Current = oDataIn.results;\r\n\t\t\tvar combinedKey = oData.Input.ActivityType;\r\n\t\t\toData.SubactivityType[combinedKey] = oDataIn.results;\r\n\t\t\toModel.refresh(false);\r\n\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", false); // Stop Spinner\r\n\t\t},\r\n\t\t_setPriorities: function(oDataIn) {\r\n\t\t\tvar oModel = this.getModel(\"AddActivity\");\r\n\t\t\tvar oData = oModel.getData();\r\n\t\t\tif (!oData.Priority) {\r\n\t\t\t\toData.Priority = {};\r\n\t\t\t}\r\n\t\t\toData.Priority.Current = oDataIn.results;\r\n\t\t\toModel.refresh(false);\r\n\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", false); // Stop Spinner\r\n\t\t},\r\n\t\t_setASMConfig: function() {\r\n\t\t\t// Set the plan year\r\n\t\t\tvar oASMConfig = this.getOwnerComponent().getModel(\"ASMConfig\");\r\n\t\t\tif (oASMConfig) {\r\n\t\t\t\tvar oModel = this.getModel(\"AddActivity\");\r\n\t\t\t\tvar oASMConfigData = oASMConfig.getData();\r\n\t\t\t\tvar oCurrentData = oModel.getData();\r\n\t\t\t\tvar sYear = oASMConfigData.Properties.PlanningYear;\r\n\t\t\t\toCurrentData.Input.PlanningYear = sYear;\r\n\t\t\t\toCurrentData.Input.StartDt = sYear + \"0101\";\r\n\t\t\t\toCurrentData.Input.EndDt = sYear + \"1228\";\r\n\t\t\t\toModel.refresh(false);\r\n\t\t\t}\r\n\t\t},\r\n\t\t_validateInput: function() {\r\n\t\t\t// Check Mandatory Input Fields\r\n\t\t\tthis.oMessageManager.removeAllMessages();\r\n\t\t\tvar bDataGood = this.onDtChange(null);\r\n\t\t\tif (!bDataGood) {\r\n\t\t\t\tvar sMessage = this.getModel(\"i18n\").getResourceBundle().getText(\"AC_E_DateIssues\");\r\n\t\t\t\tMessageToast.show(sMessage);\r\n\t\t\t} else {\r\n\t\t\t\tvar oData = this.getModel(\"AddActivity\").getData();\r\n\t\t\t\tif (oData.Input.Type === \"PT\") {\r\n\t\t\t\t\t// Begin of Changes - Khrystyne Williams - Nov 2016\r\n\t\t\t\t\t// if (!this._checkNotEmpty(\"Name\", oData)) {\r\n\t\t\t\t\tif (!oData.Input.hasOwnProperty(\"Name\") || oData.Input.Name === \"\") {\r\n\t\t\t\t\t\t//Set the name to be the project type\r\n\t\t\t\t\t\tvar aPType = oData.ProjectType.Current;\r\n\t\t\t\t\t\tfor (var i = 0; i < aPType.length; i++) {\r\n\t\t\t\t\t\t\tif (aPType[i].Key === oData.Input.ProjectType) {\r\n\t\t\t\t\t\t\t\toData.Input.Name = aPType[i].Description.toString();\r\n\t\t\t\t\t\t\t\ti = aPType.length;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// bDataGood = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// End of Changes - Khrystyne Williams - Nov 2016\r\n\r\n\t\t\t\t\t// Begin of Changes - Khrystyne Williams - Nov 2016\r\n\t\t\t\t\t// if (!this._checkNotEmpty(\"ProjectType\", oData)) {\r\n\t\t\t\t\tif (!this._checkTypesNotEmpty(\"ProjectType\", oData)) {\r\n\r\n\t\t\t\t\t\tbDataGood = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// End of Changes - Khrystyne Williams - Nov 2016\r\n\r\n\t\t\t\t\t// Begin of Commenting - Khrystyne Williams - August 26, 2016\r\n\t\t\t\t\t// Remove check for Category as it is not required\r\n\t\t\t\t\t// if (!this._checkNotEmpty(\"CategoryKey\", oData)) {\r\n\t\t\t\t\t// \tbDataGood = false;\r\n\t\t\t\t\t// }\r\n\t\t\t\t\t// End of Commenting - Khrystyne Williams - August 26, 2016\r\n\r\n\t\t\t\t\t//Begin of Changes - Alex\r\n\t\t\t\t\t// if (!this._checkNotEmpty(\"PriorityKey\", oData)) {\r\n\t\t\t\t\t// \tbDataGood = false;\r\n\t\t\t\t\t// }\r\n\t\t\t\t\t// if (!this._checkNotEmpty(\"Function\", oData)) {\r\n\t\t\t\t\t// \tbDataGood = false;\r\n\t\t\t\t\t// }\r\n\t\t\t\t\t//End of Changes - Alex\r\n\r\n\t\t\t\t\tif (!this._checkNotEmpty(\"DivisionKey\", oData)) {\r\n\t\t\t\t\t\tbDataGood = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// Max Value C is no longer mandatory.\r\n\t\t\t\t\t// if (!this._checkNotEmpty(\"MaxValueC\", oData)) {\r\n\t\t\t\t\t// \tbDataGood = false;\r\n\t\t\t\t\t// }\r\n\t\t\t\t} else if (oData.Input.Type === \"AT\") {\r\n\t\t\t\t\t// Begin of Changes - Khrystyne Williams - Nov 2016\r\n\t\t\t\t\t// if (!this._checkNotEmpty(\"Name\", oData)) {\r\n\t\t\t\t\tif (!oData.Input.hasOwnProperty(\"Name\") || oData.Input.Name === \"\") {\r\n\t\t\t\t\t\t//Set the name to be the project type\r\n\t\t\t\t\t\tvar aAType = oData.ActivityType.Current;\r\n\t\t\t\t\t\tfor (var i = 0; i < aAType.length; i++) {\r\n\t\t\t\t\t\t\tif (aAType[i].Key === oData.Input.ActivityType) {\r\n\t\t\t\t\t\t\t\toData.Input.Name = aAType[i].Description.toString();\r\n\t\t\t\t\t\t\t\ti = aAType.length;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// bDataGood = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// End of Changes - Khrystyne Williams - Nov 2016\r\n\r\n\t\t\t\t\t// Begin of Changes - Khrystyne Williams - Nov 2016\r\n\t\t\t\t\t// if (!this._checkNotEmpty(\"ActivityType\", oData)) {\r\n\t\t\t\t\tif (!this._checkTypesNotEmpty(\"ActivityType\", oData)) {\r\n\t\t\t\t\t\tbDataGood = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// End of Changes - Khrystyne Williams - Nov 2016\r\n\t\t\t\t} else if (oData.Input.Type === \"SA\") {\r\n\t\t\t\t\t// Begin of Changes - Khrystyne Williams - Nov 2016\r\n\t\t\t\t\t// if (!this._checkNotEmpty(\"Name\", oData)) {\r\n\t\t\t\t\tif (!oData.Input.hasOwnProperty(\"Name\") || oData.Input.Name === \"\") {\r\n\t\t\t\t\t\t//Set the name to be the project type\r\n\t\t\t\t\t\tvar aSAType = oData.SubactivityType.Current;\r\n\t\t\t\t\t\tfor (var i = 0; i < aSAType.length; i++) {\r\n\t\t\t\t\t\t\tif (aSAType[i].Key === oData.Input.SubactivityType) {\r\n\t\t\t\t\t\t\t\toData.Input.Name = aSAType[i].Description.toString();\r\n\t\t\t\t\t\t\t\ti = aSAType.length;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// bDataGood = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// End of Changes - Khrystyne Williams - Nov 2016\r\n\r\n\t\t\t\t\t// Begin of Changes - Khrystyne Williams - Nov 2016\r\n\t\t\t\t\t// if (!this._checkNotEmpty(\"SubactivityType\", oData)) {\r\n\t\t\t\t\tif (!this._checkTypesNotEmpty(\"SubactivityType\", oData)) {\r\n\t\t\t\t\t\tbDataGood = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (!this._checkNotEmpty(\"DivisionKey\", oData)) {\r\n\t\t\t\t\t\tbDataGood = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//Validation for Hub and Sub in SA / Eric Atempa / 1-27-2017\r\n\t\t\t\t\tif (!this._checkNotEmpty(\"HubKey\", oData)) {\r\n\t\t\t\t\t\tbDataGood = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (!this._checkNotEmpty(\"SubKey\", oData)) {\r\n\t\t\t\t\t\tbDataGood = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// if (!this._checkNotEmpty(\"CategoryKey\", oData)) {\r\n\t\t\t\t\t// \tbDataGood = false;\r\n\t\t\t\t\t// }\r\n\t\t\t\t\t// if (!this._checkNotEmpty(\"SubcategoryKey\", oData)) {\r\n\t\t\t\t\t// \tbDataGood = false;\r\n\t\t\t\t\t// }\r\n\t\t\t\t\t// if (!this._checkNotEmpty(\"BrandKey\", oData)) {\r\n\t\t\t\t\t// \tbDataGood = false;\r\n\t\t\t\t\t// }\r\n\t\t\t\t\t// if (!this._checkNotEmpty(\"SubbrandKey\", oData)) {\r\n\t\t\t\t\t// \tbDataGood = false;\r\n\t\t\t\t\t// }\r\n\t\t\t\t}\r\n\t\t\t\tif (!bDataGood) {\r\n\t\t\t\t\t// Begin of Changes - Khrystyne Williams - Nov 2016\r\n\t\t\t\t\t// var sMessage = this.getModel(\"i18n\").getResourceBundle().getText(\"AC_E_BudgetErrors\");\r\n\t\t\t\t\tvar sMessage = this.getModel(\"i18n\").getResourceBundle().getText(\"AC_E_EmptyErrors\");\r\n\t\t\t\t\t// End of Changes - Khrystyne Williams - Nov 2016\r\n\t\t\t\t\tMessageToast.show(sMessage);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn bDataGood;\r\n\t\t},\r\n\t\t_clearErrors: function() {\r\n\t\t\tthis._clearValueState(\"DivisionKey\");\r\n\t\t\tthis._clearValueState(\"HubKey\");\r\n\t\t\tthis._clearValueState(\"SubKey\");\r\n\t\t\tthis.oMessageManager.removeAllMessages();\r\n\t\t},\r\n\t\t_clearValueState: function(sId) {\r\n\t\t\tvar oControl = this.byId(sId);\r\n\t\t\toControl.setValueState(sap.ui.core.ValueState.None);\r\n\t\t\toControl.setValueStateText(\"\");\r\n\t\t},\r\n\t\t_checkNotEmpty: function(sId, oData) {\r\n\t\t\tvar oControl = this.byId(sId);\r\n\t\t\toControl.setValueState(sap.ui.core.ValueState.None);\r\n\t\t\toControl.setValueStateText(\"\");\r\n\t\t\tif (!oData.Input.hasOwnProperty(sId) || oData.Input[sId] === \"\" || (sId === \"MaxValueC\" && parseFloat(oData.Input[sId]) ===\r\n\t\t\t\t\tparseFloat(\"0.0\"))) {\r\n\t\t\t\toControl.setValueState(sap.ui.core.ValueState.Error);\r\n\t\t\t\tvar sProperty = \"AC_E_\" + sId;\r\n\t\t\t\toControl.setValueStateText(this.getOwnerComponent().getModel(\"i18n\").getProperty(sProperty));\r\n\t\t\t\tthis.oMessageManager.addMessages(\r\n\t\t\t\t\tnew sap.ui.core.message.Message({\r\n\t\t\t\t\t\tmessage: this.getOwnerComponent().getModel(\"i18n\").getProperty(sProperty),\r\n\t\t\t\t\t\t// description: sId, //Khrystyne commented Feb 2017\r\n\t\t\t\t\t\ttype: sap.ui.core.MessageType.Error,\r\n\t\t\t\t\t\tprocessor: this.oMessageProcessor\r\n\t\t\t\t\t})\r\n\t\t\t\t);\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t},\r\n\t\t// Begin of Changes - Khrystyne Williams - Nov 2016\r\n\t\t_checkTypesNotEmpty: function(sId, oData) {\r\n\t\t\tif (!oData.Input.hasOwnProperty(sId) || oData.Input[sId] === \"\") {\r\n\t\t\t\tvar sProperty = \"AC_E_\" + sId;\r\n\t\t\t\tthis.oMessageManager.addMessages(\r\n\t\t\t\t\tnew sap.ui.core.message.Message({\r\n\t\t\t\t\t\tmessage: this.getOwnerComponent().getModel(\"i18n\").getProperty(sProperty),\r\n\t\t\t\t\t\t// description: sId, // Khrystyne commented Feb 2017\r\n\t\t\t\t\t\ttype: sap.ui.core.MessageType.Error,\r\n\t\t\t\t\t\tprocessor: this.oMessageProcessor\r\n\t\t\t\t\t})\r\n\t\t\t\t);\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t},\r\n\t\t// End of Changes - Khrystyne Williams - Nov 2016\r\n\t\t_createItem: function() {\r\n\t\t\tvar oData = this.getModel(\"AddActivity\").getData();\r\n\t\t\tvar aKeys = Object.keys(oData.Input);\r\n\t\t\tvar oItem = {};\r\n\t\t\tfor (var i = 0; i < aKeys.length; i++) {\r\n\t\t\t\toItem[aKeys[i]] = oData.Input[aKeys[i]];\r\n\t\t\t}\r\n\t\t\toItem.StartDt = oData.Input.StartDt.substring(0, 4) + \"-\" + oData.Input.StartDt.substring(4, 6) + \"-\" + oData.Input.StartDt.substring(\r\n\t\t\t\t6, 8) + \"T00:00:00\";\r\n\t\t\toItem.EndDt = oData.Input.EndDt.substring(0, 4) + \"-\" + oData.Input.EndDt.substring(4, 6) + \"-\" + oData.Input.EndDt.substring(6, 8) +\r\n\t\t\t\t\"T00:00:00\";\r\n\t\t\tvar oDate = new Date();\r\n\t\t\tvar iMonth = parseInt(oDate.getMonth()) + 1;\r\n\t\t\tif (oItem.MaxValueC && parseFloat(oItem.MaxValueC) > parseFloat(\"0.0\")) {\r\n\t\t\t\toItem.MaxValueC = parseFloat(oItem.MaxValueC).toString();\r\n\t\t\t} else {\r\n\t\t\t\toItem.MaxValueC = parseFloat(\"0.0\").toString();\r\n\t\t\t}\r\n\t\t\tvar aOptions = this.getOwnerComponent().getModel(\"masterShared\").getData().aAddOptions;\r\n\t\t\tif (oItem.Type === \"PT\") {\r\n\t\t\t\tthis._newAdd = true;\r\n\t\t\t\toItem.ActivityType = oItem.ProjectType;\r\n\t\t\t\tdelete oItem.SubactivityType;\r\n\t\t\t\tdelete oItem.ProjectType;\r\n\t\t\t} else if (oItem.Type === \"SA\") {\r\n\t\t\t\tthis._newAdd = false;\r\n\t\t\t\toItem.ActivityType = oItem.SubactivityType;\r\n\t\t\t\tdelete oItem.SubactivityType;\r\n\t\t\t\tdelete oItem.ProjectType;\r\n\t\t\t\tfor (var i = 0; i < aOptions.length; i++) {\r\n\t\t\t\t\tif (aOptions[i].Key === oItem.Parent) {\r\n\t\t\t\t\t\tif (aOptions[i].ProjectGuid) {\r\n\t\t\t\t\t\t\toItem.ProjectGuid = aOptions[i].ProjectGuid;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (aOptions[i].ActivityGuid) {\r\n\t\t\t\t\t\t\toItem.ActivityGuid = aOptions[i].ActivityGuid;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (aOptions[i].CategoryBucket) {\r\n\t\t\t\t\t\t\toItem.CategoryBucket = aOptions[i].CategoryBucket;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t//bhavik\r\n\t\t\t\tif (oItem.SubbrandKey) {\r\n\t\t\t\t\tfor (var j = 0; j < oData.Subbrand.Current.length; j++) {\r\n\t\t\t\t\t\tif (oData.Subbrand.Current[j].Key === oItem.SubbrandKey) {\r\n\t\t\t\t\t\t\tvar desc = oData.Subbrand.Current[j].Description;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar newdata = {},\r\n\t\t\t\t\t\tFData = {};\r\n\r\n\t\t\t\t\tnewdata.SubbrandKey = oItem.SubbrandKey;\r\n\t\t\t\t\tnewdata.SubbrandDesc = desc;\r\n\t\t\t\t\tnewdata.LeadSubbrand = \"X\";\r\n\t\t\t\t\tnewdata.UpdatedFlag = \"I\";\r\n\t\t\t\t\toData.CSBSubbrand.Change.push(newdata);\r\n\r\n\t\t\t\t\t//CSBTest\r\n\t\t\t\t\tFData.K = oItem.SubbrandKey;\r\n\t\t\t\t\tFData.L = \"X\";\r\n\t\t\t\t\tFData.U = \"I\";\r\n\t\t\t\t\toData.CSBSubbrand.NewChange.push(FData);\r\n\t\t\t\t\t//CSBTest\r\n\t\t\t\t}\r\n\t\t\t\t// if (oData.CSBSubbrand.Change.length) {\r\n\t\t\t\t// \toItem.CsbConfig = JSON.stringify(oData.CSBSubbrand.Change); //bhavik\r\n\t\t\t\t// }\r\n\t\t\t\tif (oData.CSBSubbrand.NewChange.length) {\r\n\t\t\t\t\toItem.CsbConfig = JSON.stringify(oData.CSBSubbrand.NewChange); //bhavik\r\n\t\t\t\t}\r\n\t\t\t\t//bhavik\r\n\t\t\t} else if (oItem.Type === \"AT\") {\r\n\t\t\t\tthis._newAdd = true;\r\n\t\t\t\tdelete oItem.SubactivityType;\r\n\t\t\t\tdelete oItem.ProjectType;\r\n\t\t\t\tfor (var i = 0; i < aOptions.length; i++) {\r\n\t\t\t\t\tif (aOptions[i].Key === oItem.Parent) {\r\n\t\t\t\t\t\tif (aOptions[i].ProjectGuid) {\r\n\t\t\t\t\t\t\toItem.ProjectGuid = aOptions[i].ProjectGuid;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (aOptions[i].ActivityGuid) {\r\n\t\t\t\t\t\t\toItem.ActivityGuid = oItem.Guid;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (aOptions[i].CategoryBucket) {\r\n\t\t\t\t\t\t\toItem.CategoryBucket = aOptions[i].CategoryBucket;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\toItem.ItemType = oItem.Type;\r\n\t\t\tdelete oItem.Type;\r\n\t\t\tdelete oItem.TypeDescription;\r\n\t\t\tdelete oItem.Parent;\r\n\t\t\tvar sProjectName = \"\";\r\n\t\t\tfor (var i = 0; i < aOptions.length; i++) {\r\n\t\t\t\tif (aOptions[i].Key === oItem.ProjectGuid) {\r\n\t\t\t\t\tsProjectName = aOptions[i].Description;\r\n\t\t\t\t\tthis._storedProjectName = sProjectName;\r\n\t\t\t\t\ti = aOptions.length;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tvar oModel = this.getModel(\"Category\");\r\n\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", true);\r\n\t\t\tvar that = this;\r\n\t\t\toModel.create(\"/Items\", oItem, {\r\n\t\t\t\tsuccess: function(oData, oResponse) {\r\n\t\t\t\t\tTimeoutUtils.onResetTimer(that);\r\n\t\t\t\t\t// Add a Success toast and navigate back to the Project view and refresh the data.\r\n\t\t\t\t\tif (!oData.Name || oData.Name === \"\") {\r\n\t\t\t\t\t\toData.ErrorOrigin = \"CreateProject\";\r\n\t\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.detail\", \"Errors\", oData);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tvar sMessage = that.getOwnerComponent().getModel(\"i18n\").getResourceBundle().getText(\"AC_S_created\", [oData.Name]);\r\n\t\t\t\t\t\tif (oData.ItemType === \"PT\") {\r\n\t\t\t\t\t\t\tthat._storedProject = oData.ProjectGuid;\r\n\t\t\t\t\t\t\tthat._storedProjectName = oData.Name;\r\n\t\t\t\t\t\t\tsMessage = that.getOwnerComponent().getModel(\"i18n\").getResourceBundle().getText(\"AC_S_pCreated\", [oData.Name]);\r\n\t\t\t\t\t\t} else if (oData.ItemType === \"AT\") {\r\n\t\t\t\t\t\t\tif (!that._storedProject || that._storedProject === \"\") {\r\n\t\t\t\t\t\t\t\tthat._storedProject = oData.ProjectGuid;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthat._storedActivity = oData.ActivityGuid;\r\n\t\t\t\t\t\t\tsMessage = that.getOwnerComponent().getModel(\"i18n\").getResourceBundle().getText(\"AC_S_aCreated\", [oData.Name]);\r\n\t\t\t\t\t\t} else if (oData.ItemType === \"SA\") {\r\n\t\t\t\t\t\t\tif (!that._storedProject || that._storedProject === \"\") {\r\n\t\t\t\t\t\t\t\tthat._storedProject = oData.ProjectGuid;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (!that._storedActivity || that._storedActivity === \"\") {\r\n\t\t\t\t\t\t\t\tthat._storedActivity = oData.ActivityGuid;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tsMessage = that.getOwnerComponent().getModel(\"i18n\").getResourceBundle().getText(\"AC_S_saCreated\", [oData.Name]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tMessageToast.show(sMessage);\r\n\t\t\t\t\t\tif (that._currentAction === \"save\") {\r\n\t\t\t\t\t\t\t//\t\t\t\t\t\t\tthat.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", false); // Stop Spinner\r\n\t\t\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.project\", \"Refresh\", {});\r\n\t\t\t\t\t\t\tthat.getRouter().navTo(\"activities\", {\r\n\t\t\t\t\t\t\t\tobjectId: \"Activities\"\r\n\t\t\t\t\t\t\t}, true);\r\n\t\t\t\t\t\t\tthat._currentAction = \"\";\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t// Add another\r\n\t\t\t\t\t\t\tvar oInternal = that.getModel(\"AddActivity\").getData().Internal;\r\n\t\t\t\t\t\t\tvar oEvent = {};\r\n\t\t\t\t\t\t\tif (oInternal.CurrentSaveMode === \"AddActivity\") {\r\n\t\t\t\t\t\t\t\toEvent.NewParent = that._storedProject;\r\n\t\t\t\t\t\t\t\toData.ProjectGuid = that._storedProject;\r\n\t\t\t\t\t\t\t} else if (oInternal.CurrentSaveMode === \"AddSubactivity\") {\r\n\t\t\t\t\t\t\t\toEvent.NewParent = that._storedActivity;\r\n\t\t\t\t\t\t\t\toData.ProjectGuid = that._storedProject;\r\n\t\t\t\t\t\t\t\toData.ActivityGuid = that._storedActivity;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthat._addOption(oData, that._storedProjectName);\r\n\t\t\t\t\t\t\tthat.onParentChange(oEvent);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\terror: function(oError) {\r\n\t\t\t\t\toError.ErrorOrigin = \"CreateProject\";\r\n\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.detail\", \"Errors\", oError);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t_addOption: function(oDataIn, sProjectName) {\r\n\t\t\tvar aOptions = this.getOwnerComponent().getModel(\"masterShared\").getData().aAddOptions;\r\n\t\t\tvar oOption = {};\r\n\t\t\tvar oRecord = JSON.parse(JSON.stringify(oDataIn));\r\n\t\t\tdelete oRecord.__metadata;\r\n\t\t\toOption.Key = oRecord.Guid;\r\n\t\t\toOption.DivisionKey = oRecord.DivisionKey;\r\n\t\t\toOption.HubKey = oRecord.HubKey;\r\n\t\t\toOption.SubKey = oRecord.SubKey;\r\n\t\t\toOption.CategoryBucket = oRecord.CategoryBucket;\r\n\t\t\toOption.CategoryKey = oRecord.CategoryKey;\r\n\t\t\toOption.PcategoryKey = oRecord.PcategoryKey;\r\n\t\t\toOption.SubcategoryKey = oRecord.SubcategoryKey;\r\n\t\t\toOption.BrandKey = oRecord.BrandKey;\r\n\t\t\toOption.SubbrandKey = oRecord.SubbrandKey;\r\n\t\t\toOption.SkuKey = oRecord.SkuKey;\r\n\t\t\toOption.PriorityKey = oRecord.PriorityKey;\r\n\t\t\toOption.Channel = oRecord.Channel;\r\n\t\t\toOption.Retailer = oRecord.Retailer;\r\n\t\t\toOption.Agency = oRecord.Agency;\r\n\t\t\toOption.Function = oRecord.Function;\r\n\t\t\toOption.MaestroBrief = oRecord.MaestroBrief;\r\n\t\t\toOption.ActivityType = oRecord.ActivityType;\r\n\t\t\toOption.Costcenter = oRecord.Costcenter;\r\n\t\t\toOption.GlAccount = oRecord.GlAccount;\r\n\t\t\toOption.StartDt = oRecord.StartDt;\r\n\t\t\toOption.EndDt = oRecord.EndDt;\r\n\t\t\toOption.Demographics = oRecord.Demographics;\r\n\t\t\tif (oRecord.ItemType === \"PT\") {\r\n\t\t\t\toOption.Key = oRecord.Guid;\r\n\t\t\t\toOption.Type = \"AT\";\r\n\t\t\t\toOption.ProjectGuid = oRecord.Guid;\r\n\t\t\t\toOption.Description = oRecord.Name;\r\n\t\t\t\taOptions.push(oOption);\r\n\t\t\t} else if (oRecord.ItemType === \"AT\") {\r\n\t\t\t\toOption.Key = oRecord.Guid;\r\n\t\t\t\toOption.Type = \"SA\";\r\n\t\t\t\toOption.ProjectGuid = oRecord.ProjectGuid;\r\n\t\t\t\toOption.ActivityGuid = oRecord.Guid;\r\n\t\t\t\toOption.Description = sProjectName + \" : \" + oRecord.Name;\r\n\t\t\t\taOptions.push(oOption);\r\n\t\t\t} else if (oRecord.ItemType === \"SA\") {\r\n\t\t\t\t// There is nothing to do here\r\n\t\t\t}\r\n\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").setProperty(\"aAddOptions\", aOptions);\r\n\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", false); // Stop Spinner\r\n\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").refresh(false);\r\n\t\t},\r\n\t\t_getExternalId: function() {\r\n\t\t\tvar oModel = this.getModel(\"Category\");\r\n\t\t\tvar filters = [];\r\n\t\t\tfilters.push(new sap.ui.model.Filter({\r\n\t\t\t\tpath: \"Nrrangenr\",\r\n\t\t\t\toperator: sap.ui.model.FilterOperator.EQ,\r\n\t\t\t\tvalue1: '01'\r\n\t\t\t}));\r\n\t\t\tvar sPath = \"/Ids\";\r\n\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", true); // Start Spinner\r\n\t\t\tvar that = this;\r\n\t\t\toModel.read(sPath, {\r\n\t\t\t\tasync: true,\r\n\t\t\t\tfilters: filters,\r\n\t\t\t\tsuccess: function(oData, oResponse) {\r\n\t\t\t\t\tTimeoutUtils.onResetTimer(that);\r\n\t\t\t\t\tthat.getModel(\"AddActivity\").setProperty(\"/Input/Id\", oData.results[0].Number);\r\n\t\t\t\t\tthat._createItem();\r\n\t\t\t\t},\r\n\t\t\t\terror: function(oError) {\r\n\t\t\t\t\toError.ErrorOrigin = \"ExternalId\";\r\n\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.detail\", \"Errors\", oError);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t_handleODataErrors: function(oDataIn) {\r\n\t\t\tvar sOrigin = oDataIn.ErrorOrigin;\r\n\t\t\talert(\"Error Occurred\");\r\n\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", false); // Stop Spinner\r\n\t\t},\r\n\t\t_handleInitialize: function(oDataIn) {\r\n\t\t\t// This is called on subsequent loads of this view.\r\n\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", false);\r\n\t\t\tvar oModel = this.getModel(\"AddActivity\");\r\n\t\t\tvar oData = oModel.getData();\r\n\t\t\toData.Enabled.Division = true;\r\n\t\t\toData.Enabled.Hub = true;\r\n\t\t\toData.Enabled.Sub = true;\r\n\t\t\toData.Enabled.ProjectType = true;\r\n\t\t\toData.Enabled.ActivityType = true;\r\n\t\t\toData.Enabled.SubactivityType = true;\r\n\t\t\toData.Enabled.StartDt = true;\r\n\t\t\toData.Enabled.EndDt = true;\r\n\t\t\toData.Enabled.Category = true;\r\n\t\t\toData.Enabled.Subcategory = false;\r\n\t\t\toData.Enabled.Brand = true;\r\n\t\t\toData.Enabled.Subbrand = false;\r\n\t\t\toData.Enabled.Channel = true;\r\n\t\t\toData.Enabled.Function = true;\r\n\t\t\toData.Enabled.Agency = false;\r\n\t\t\toData.Enabled.Retailer = false;\r\n\t\t\toData.Enabled.Demographics = true;\r\n\t\t\toData.Enabled.Costcenter = true;\r\n\t\t\toData.Enabled.MaestroBrief = false;\r\n\t\t\toData.Input = {};\r\n\t\t\toData.Display.GlAccount = \"\";\r\n\r\n\t\t\tthis._setASMConfig();\r\n\t\t\tthis._initializeGeo();\r\n\t\t\tthis._initializeCSB(oModel); //INBHD02\r\n\r\n\t\t\tvar oACModel = this.getModel(\"AddActivity\");\r\n\t\t\tvar oACData = oACModel.getData();\r\n\t\t\toACData.Placeholders.MaestroBrief = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_maestroBrief\");\r\n\t\t\toACData.Placeholders.Agency = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_agency\");\r\n\t\t\toACData.Placeholders.Retailer = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_retailer\");\r\n\t\t\toACData.Enabled.MaestroBrief = false;\r\n\t\t\toACData.Enabled.Agency = false;\r\n\t\t\toACData.Enabled.Retailer = false;\r\n\t\t\toACData.Visible.MaxValueC = true;\r\n\t\t\tsap.ui.core.BusyIndicator.hide();\r\n\t\t\tthis.onParentChange(null);\r\n\t\t},\r\n\t\t// PSW Start change For Month Picker May 26th 2016 -->\t\t\r\n\t\t_setMonthPicker: function(iStartMonth, iEndMonth) {\r\n\t\t\tvar oMth1 = this.byId(\"MonthSt\");\r\n\t\t\tvar oMth2 = this.byId(\"MonthEd\");\r\n\t\t\toMth1.setMonth(iStartMonth - 1);\r\n\t\t\toMth2.setMonth(iEndMonth - 1);\r\n\t\t},\r\n\t\t// PSW End change For Month Picker May 26th 2016 -->\r\n\t\t_initializeGeo: function() {\r\n\t\t\tvar oMasterSelect = this.getOwnerComponent().getModel(\"masterShared\").getData().oMasterSelect;\r\n\t\t\tvar oTableSelect = this.getOwnerComponent().getModel(\"masterShared\").getData().oTableSelect;\r\n\t\t\tvar oACData = this.getModel(\"AddActivity\").getData();\r\n\t\t\tif (oMasterSelect.hasOwnProperty(\"DivisionKey\") && oMasterSelect.DivisionKey !== \"\") {\r\n\t\t\t\toACData.Input.DivisionKey = oMasterSelect.DivisionKey;\r\n\t\t\t\tthis._setGeoValues(\"DivisionKey\");\r\n\t\t\t\toACData.Enabled.Division = false;\r\n\t\t\t} else if (oTableSelect.hasOwnProperty(\"DivisionKey\") && oTableSelect.DivisionKey !== \"\") {\r\n\t\t\t\toACData.Input.DivisionKey = oTableSelect.DivisionKey;\r\n\t\t\t\tthis._setGeoValues(\"DivisionKey\");\r\n\t\t\t\toACData.Enabled.Division = false;\r\n\t\t\t}\r\n\t\t\tif (oMasterSelect.hasOwnProperty(\"HubKey\") && oMasterSelect.HubKey !== \"\") {\r\n\t\t\t\toACData.Input.HubKey = oMasterSelect.HubKey;\r\n\t\t\t\tthis._setGeoValues(\"HubKey\");\r\n\t\t\t\toACData.Enabled.Hub = false;\r\n\t\t\t} else if (oTableSelect.hasOwnProperty(\"HubKey\") && oTableSelect.HubKey !== \"\") {\r\n\t\t\t\toACData.Input.HubKey = oTableSelect.HubKey;\r\n\t\t\t\tthis._setGeoValues(\"HubKey\");\r\n\t\t\t\toACData.Enabled.Hub = false;\r\n\t\t\t}\r\n\t\t\tif (oMasterSelect.hasOwnProperty(\"SubKey\") && oMasterSelect.SubKey !== \"\") {\r\n\t\t\t\toACData.Input.SubKey = oMasterSelect.SubKey;\r\n\t\t\t\tthis._setGeoValues(\"SubKey\");\r\n\t\t\t\toACData.Enabled.Sub = false;\r\n\t\t\t} else if (oTableSelect.hasOwnProperty(\"SubKey\") && oTableSelect.SubKey !== \"\") {\r\n\t\t\t\toACData.Input.SubKey = oTableSelect.SubKey;\r\n\t\t\t\tthis._setGeoValues(\"SubKey\");\r\n\t\t\t\toACData.Enabled.Sub = false;\r\n\t\t\t} else {\r\n\t\t\t\t//this._getCostcenters();\r\n\t\t\t\tthis._getDemographics();\r\n\t\t\t}\r\n\t\t\tif (oMasterSelect.hasOwnProperty(\"Function\") && oMasterSelect.Function !== \"\") {\r\n\t\t\t\toACData.Input.Function = oMasterSelect.Function;\r\n\t\t\t\toACData.Enabled.Function = false;\r\n\t\t\t} else if (oTableSelect.hasOwnProperty(\"Function\") && oTableSelect.Function !== \"\") {\r\n\t\t\t\toACData.Input.Function = oTableSelect.Function;\r\n\t\t\t\toACData.Enabled.Function = false;\r\n\t\t\t}\r\n\t\t\tif (oMasterSelect.hasOwnProperty(\"Channel\") && oMasterSelect.Channel !== \"\") {\r\n\t\t\t\toACData.Input.Channel = oMasterSelect.Channel;\r\n\t\t\t\toACData.Enabled.Channel = false;\r\n\t\t\t} else if (oTableSelect.hasOwnProperty(\"Channel\") && oTableSelect.Channel !== \"\") {\r\n\t\t\t\toACData.Input.Channel = oTableSelect.Channel;\r\n\t\t\t\toACData.Enabled.Channel = false;\r\n\t\t\t}\r\n\t\t\t// PSW Start Add Initialize PH from Side Panel June 1st 2016 -->\r\n\t\t\tif (oMasterSelect.hasOwnProperty(\"Brand\") && oMasterSelect.Brand !== \"\") {\r\n\t\t\t\toACData.Input.BrandKey = oMasterSelect.Brand;\r\n\t\t\t\tthis._setPHValues(\"BrandKey\");\r\n\t\t\t\toACData.Enabled.Brand = false;\r\n\t\t\t} else if (oTableSelect.hasOwnProperty(\"Brand\") && oTableSelect.Brand !== \"\") {\r\n\t\t\t\toACData.Input.BrandKey = oTableSelect.Brand;\r\n\t\t\t\tthis._setPHValues(\"BrandKey\");\r\n\t\t\t\toACData.Enabled.Brand = false;\r\n\t\t\t}\r\n\t\t\tif (oMasterSelect.hasOwnProperty(\"Category\") && oMasterSelect.Category !== \"\") {\r\n\t\t\t\toACData.Input.CategoryKey = oMasterSelect.Category;\r\n\t\t\t\tthis._setPHValues(\"CategoryKey\");\r\n\t\t\t\toACData.Enabled.Category = false;\r\n\t\t\t} else if (oTableSelect.hasOwnProperty(\"Category\") && oTableSelect.Category !== \"\") {\r\n\t\t\t\toACData.Input.CategoryKey = oTableSelect.Category;\r\n\t\t\t\tthis._setPHValues(\"CategoryKey\");\r\n\t\t\t\toACData.Enabled.Category = false;\r\n\t\t\t}\r\n\t\t\tif (oMasterSelect.hasOwnProperty(\"Subcategory\") && oMasterSelect.Subcategory !== \"\") {\r\n\t\t\t\toACData.Input.SubcategoryKey = oMasterSelect.Subcategory;\r\n\t\t\t\tthis._setPHValues(\"SubcategoryKey\");\r\n\t\t\t\toACData.Enabled.Subcategory = false;\r\n\t\t\t} else if (oTableSelect.hasOwnProperty(\"Subcategory\") && oTableSelect.Subcategory !== \"\") {\r\n\t\t\t\toACData.Input.SubcategoryKey = oTableSelect.Subcategory;\r\n\t\t\t\tthis._setPHValues(\"SubcategoryKey\");\r\n\t\t\t\toACData.Enabled.Subcategory = false;\r\n\t\t\t} else {\r\n\t\t\t\tthis._setPHValues(\"SubcategoryKey\");\r\n\t\t\t}\r\n\t\t\tDropdownUtils.getCategories(this, oACData.Input.CategoryKey, oACData.Input.BrandKey, this.getModel(\"AddActivity\"), \"/Category\",\r\n\t\t\t\tnull,\r\n\t\t\t\t\"/Category/Current\");\r\n\t\t\tif (oACData.Input.CategoryKey && oACData.Input.CategoryKey !== \"\") {\r\n\t\t\t\tDropdownUtils.getSubcategories(this, oACData.Input.CategoryKey, oACData.Input.SubcategoryKey, oACData.Input.BrandKey, this.getModel(\r\n\t\t\t\t\t\"AddActivity\"), \"/Subcategory\", null, \"/Subcategory/Current\");\r\n\t\t\t}\r\n\r\n\t\t\t// PSW End Add Initialize PH from Side Panel June 1st 2016 -->\t\r\n\t\t},\r\n\r\n\t\t// psutram: feb 2017 changes to visibility of Cancel button, added a new parameter oEvent\r\n\t\t// _resetAddBasedOnType: function(sType) {\r\n\t\t_resetAddBasedOnType: function(sType, oEvent) {\r\n\r\n\t\t\tvar oInput = this.getModel(\"AddActivity\").getData().Input;\r\n\t\t\tvar oVisible = this.getModel(\"AddActivity\").getData().Visible;\r\n\t\t\tvar oEnabled = this.getModel(\"AddActivity\").getData().Enabled;\r\n\t\t\tvar oLabels = this.getModel(\"AddActivity\").getData().Labels;\r\n\t\t\tvar oInternal = this.getModel(\"AddActivity\").getData().Internal;\r\n\t\t\tthis._setRequiredFlags(sType);\r\n\t\t\tif (sType === \"PT\") {\r\n\t\t\t\t// Project\r\n\t\t\t\toInput.ProjectType = \"\";\r\n\t\t\t\toVisible.ProjectType = true;\r\n\t\t\t\toEnabled.ProjectType = true;\r\n\r\n\t\t\t\toInput.ActivityType = \"\";\r\n\t\t\t\toVisible.ActivityType = false;\r\n\t\t\t\toEnabled.ActivityType = true;\r\n\r\n\t\t\t\toInput.SubactivityType = \"\";\r\n\t\t\t\toVisible.SubactivityType = false;\r\n\t\t\t\toEnabled.SubactivityType = true;\r\n\r\n\t\t\t\toInput.DivisionKey = \"\";\r\n\t\t\t\toVisible.Division = true;\r\n\t\t\t\toEnabled.Division = true;\r\n\r\n\t\t\t\toInput.HubKey = \"\";\r\n\t\t\t\toVisible.Hub = true;\r\n\t\t\t\toEnabled.Hub = false;\r\n\r\n\t\t\t\toInput.SubKey = \"\";\r\n\t\t\t\toVisible.Sub = true;\r\n\t\t\t\toEnabled.Sub = false;\r\n\r\n\t\t\t\toInput.CategoryKey = \"\";\r\n\t\t\t\toVisible.Category = true;\r\n\t\t\t\toEnabled.Category = true;\r\n\r\n\t\t\t\toInput.PcategoryKey = \"\";\r\n\r\n\t\t\t\toInput.SubcategoryKey = \"\";\r\n\t\t\t\toVisible.Subcategory = true;\r\n\t\t\t\toEnabled.Subcategory = false;\r\n\r\n\t\t\t\toInput.BrandKey = \"\";\r\n\t\t\t\toVisible.Brand = true;\r\n\t\t\t\toEnabled.Brand = true;\r\n\r\n\t\t\t\toInput.SubbrandKey = \"\";\r\n\t\t\t\toVisible.Subbrand = true;\r\n\t\t\t\toEnabled.Subbrand = false;\r\n\r\n\t\t\t\toInput.SkuKey = \"\";\r\n\t\t\t\toInput.ProjectGuid = \"\";\r\n\t\t\t\toInput.ActivityGuid = \"\";\r\n\r\n\t\t\t\toInput.PriorityKey = \"\";\r\n\t\t\t\toVisible.Priority = true;\r\n\t\t\t\toEnabled.Priority = true;\r\n\r\n\t\t\t\toInput.Channel = \"\";\r\n\t\t\t\toVisible.Channel = true;\r\n\t\t\t\toEnabled.Channel = true;\r\n\r\n\t\t\t\toInput.Demographics = \"\";\r\n\t\t\t\toVisible.Demographics = true;\r\n\t\t\t\toEnabled.Demographics = true;\r\n\r\n\t\t\t\toInput.Retailer = \"\";\r\n\t\t\t\toVisible.Retailer = false;\r\n\t\t\t\toEnabled.Retailer = false;\r\n\r\n\t\t\t\toInput.Agency = \"\";\r\n\t\t\t\toVisible.Agency = false;\r\n\t\t\t\toEnabled.Agency = true;\r\n\r\n\t\t\t\toInput.Function = \"\";\r\n\t\t\t\toVisible.Function = true;\r\n\t\t\t\toEnabled.Function = true;\r\n\r\n\t\t\t\toInput.MaestroBrief = \"\";\r\n\t\t\t\toVisible.MaestroBrief = false;\r\n\t\t\t\toEnabled.MaestroBrief = true;\r\n\r\n\t\t\t\toInput.Costcenter = \"\";\r\n\t\t\t\toVisible.Costcenter = false;\r\n\t\t\t\toEnabled.Costcenter = false;\r\n\r\n\t\t\t\toInput.GlAccount = \"\";\r\n\t\t\t\toVisible.GlAccount = false;\r\n\t\t\t\toEnabled.GlAccount = true;\r\n\r\n\t\t\t\toInput.PO = \"\";\r\n\t\t\t\toVisible.PO = false;\r\n\t\t\t\toEnabled.PO = true;\r\n\r\n\t\t\t\toInput.Parent = \"\";\r\n\t\t\t\toVisible.Parent = false;\r\n\t\t\t\toVisible.Save2 = true;\r\n\t\t\t\toVisible.Save3 = false;\r\n\t\t\t\t// Begin of Changes - Khrystyne Williams - Feb 2017\r\n\t\t\t\toVisible.Cancel = true;\r\n\t\t\t\t// End of Changes - Khrystyne Williams - Feb 2017\r\n\t\t\t\toLabels.Save2 = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_B_saveCA\");\r\n\t\t\t\toLabels.Save3 = \"\";\r\n\t\t\t\toInternal.Save2Mode = \"AddActivity\";\r\n\r\n\t\t\t\t// Begin of Addition - Khrystyne Williams - July 14, 2016\r\n\t\t\t\toVisible.Title1 = true;\r\n\t\t\t\toVisible.Title2 = false;\r\n\t\t\t\toVisible.Title3 = false;\r\n\t\t\t\toLabels.Title1 = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_B_Title1\");\r\n\t\t\t\toLabels.Title2 = \"\";\r\n\t\t\t\toLabels.Title3 = \"\";\r\n\t\t\t\t// End of Addition - Khrystyne Williams - July 14, 2016\r\n\r\n\t\t\t\toInput.LongText = \"\";\r\n\t\t\t\toInput.Name = \"\";\r\n\t\t\t} else if (sType === \"AT\") {\r\n\t\t\t\t// Activity\r\n\t\t\t\toInput.ProjectType = \"\";\r\n\t\t\t\toVisible.ProjectType = false;\r\n\t\t\t\toEnabled.ProjectType = true;\r\n\r\n\t\t\t\toInput.ActivityType = \"\";\r\n\t\t\t\toVisible.ActivityType = true;\r\n\t\t\t\toEnabled.ActivityType = true;\r\n\r\n\t\t\t\toInput.SubactivityType = \"\";\r\n\t\t\t\toVisible.SubactivityType = false;\r\n\t\t\t\toEnabled.SubactivityType = true;\r\n\r\n\t\t\t\toInput.DivisionKey = \"\";\r\n\t\t\t\toVisible.Division = true;\r\n\t\t\t\toEnabled.Division = true;\r\n\r\n\t\t\t\toInput.HubKey = \"\";\r\n\t\t\t\toVisible.Hub = true;\r\n\t\t\t\toEnabled.Hub = false;\r\n\r\n\t\t\t\toInput.SubKey = \"\";\r\n\t\t\t\toVisible.Sub = true;\r\n\t\t\t\toEnabled.Sub = false;\r\n\r\n\t\t\t\toInput.CategoryKey = \"\";\r\n\t\t\t\toVisible.Category = true;\r\n\t\t\t\toEnabled.Category = true;\r\n\r\n\t\t\t\toInput.PcategoryKey = \"\";\r\n\r\n\t\t\t\toInput.SubcategoryKey = \"\";\r\n\t\t\t\toVisible.Subcategory = true;\r\n\t\t\t\toEnabled.Subcategory = false;\r\n\r\n\t\t\t\toInput.BrandKey = \"\";\r\n\t\t\t\toVisible.Brand = true;\r\n\t\t\t\toEnabled.Brand = true;\r\n\r\n\t\t\t\toInput.SubbrandKey = \"\";\r\n\t\t\t\toVisible.Subbrand = true;\r\n\t\t\t\toEnabled.Subbrand = false;\r\n\r\n\t\t\t\toInput.SkuKey = \"\";\r\n\t\t\t\toInput.ProjectGuid = \"\";\r\n\t\t\t\toInput.ActivityGuid = \"\";\r\n\r\n\t\t\t\toInput.PriorityKey = \"\";\r\n\t\t\t\toVisible.Priority = true;\r\n\t\t\t\toEnabled.Priority = true;\r\n\r\n\t\t\t\toInput.Channel = \"\";\r\n\t\t\t\toVisible.Channel = true;\r\n\t\t\t\toEnabled.Channel = true;\r\n\r\n\t\t\t\toInput.Demographics = \"\";\r\n\t\t\t\toVisible.Demographics = true;\r\n\t\t\t\toEnabled.Demographics = true;\r\n\r\n\t\t\t\toInput.Retailer = \"\";\r\n\t\t\t\toVisible.Retailer = true;\r\n\t\t\t\toEnabled.Retailer = false;\r\n\r\n\t\t\t\toInput.Agency = \"\";\r\n\t\t\t\t// Begin of Changes - Khrystyne Williams - Nov 2016\r\n\t\t\t\toVisible.Agency = false;\r\n\t\t\t\t// End of Changes - Khrystyne Williams - Nov 2016\r\n\t\t\t\toEnabled.Agency = false;\r\n\r\n\t\t\t\toInput.Function = \"\";\r\n\t\t\t\toVisible.Function = true;\r\n\t\t\t\toEnabled.Function = true;\r\n\r\n\t\t\t\toInput.MaestroBrief = \"\";\r\n\t\t\t\toVisible.MaestroBrief = true;\r\n\t\t\t\toEnabled.MaestroBrief = false;\r\n\r\n\t\t\t\toInput.Costcenter = \"\";\r\n\t\t\t\toVisible.Costcenter = false;\r\n\t\t\t\toEnabled.Costcenter = false;\r\n\r\n\t\t\t\toInput.GlAccount = \"\";\r\n\t\t\t\toVisible.GlAccount = false;\r\n\t\t\t\toEnabled.GlAccount = false;\r\n\r\n\t\t\t\toInput.PO = \"\";\r\n\t\t\t\toVisible.PO = false;\r\n\t\t\t\toEnabled.PO = false;\r\n\r\n\t\t\t\toVisible.Parent = true;\r\n\t\t\t\toEnabled.Parent = false;\r\n\t\t\t\toVisible.Save2 = true;\r\n\t\t\t\toVisible.Save3 = true;\r\n\t\t\t\toLabels.Save2 = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_B_saveCS\");\r\n\t\t\t\toLabels.Save3 = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_B_saveCA\");\r\n\t\t\t\toInternal.Save2Mode = \"AddSubactivity\";\r\n\t\t\t\toInternal.Save3Mode = \"AddActivity\";\r\n\r\n\t\t\t\t// Begin of Addition - Khrystyne Williams - July 14, 2016\r\n\t\t\t\t// Eric Atempa / 2-1-17 / Changes for Cancel\r\n\t\t\t\tif (this.getOwnerComponent().getModel(\"masterShared\").getData().oInternalEvents.lastAction === \"NewATWithPT\") {\r\n\t\t\t\t\t// oVisible.Title1 = true;\r\n\t\t\t\t\toVisible.Cancel = true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// oVisible.Title1 = false;\r\n\t\t\t\t\t// psutram: feb 2017 changes to visibility of Cancel button\r\n\t\t\t\t\t// oVisible.Cancel = false;\r\n\t\t\t\t\tif ((oEvent) && (oEvent.NewParent) && this._newAdd) {\r\n\t\t\t\t\t\toVisible.Cancel = false;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\toVisible.Cancel = true;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\toVisible.Title1 = false; // Khrystyne Williams - Feb 2017 - Added back\r\n\t\t\t\toVisible.Title2 = true;\r\n\t\t\t\toVisible.Title3 = false;\r\n\t\t\t\toLabels.Title1 = \"\";\r\n\t\t\t\toLabels.Title2 = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_B_Title2\");\r\n\t\t\t\toLabels.Title3 = \"\";\r\n\t\t\t\t// End of Addition - Khrystyne Williams - July 14, 2016\r\n\r\n\t\t\t\toInput.LongText = \"\";\r\n\t\t\t\toInput.Name = \"\";\r\n\r\n\t\t\t} else if (sType === \"SA\") {\r\n\t\t\t\t// SubActivity\r\n\t\t\t\toInput.ProjectType = \"\";\r\n\t\t\t\toVisible.ProjectType = false;\r\n\t\t\t\toEnabled.ProjectType = true;\r\n\r\n\t\t\t\toInput.ActivityType = \"\";\r\n\t\t\t\toVisible.ActivityType = true;\r\n\t\t\t\toEnabled.ActivityType = false;\r\n\r\n\t\t\t\toInput.SubactivityType = \"\";\r\n\t\t\t\toVisible.SubactivityType = true;\r\n\t\t\t\toEnabled.SubactivityType = true;\r\n\r\n\t\t\t\toInput.DivisionKey = \"\";\r\n\t\t\t\toVisible.Division = true;\r\n\t\t\t\toEnabled.Division = true;\r\n\r\n\t\t\t\toInput.HubKey = \"\";\r\n\t\t\t\toVisible.Hub = true;\r\n\t\t\t\toEnabled.Hub = false;\r\n\r\n\t\t\t\toInput.SubKey = \"\";\r\n\t\t\t\toVisible.Sub = true;\r\n\t\t\t\toEnabled.Sub = false;\r\n\r\n\t\t\t\toInput.CategoryKey = \"\";\r\n\t\t\t\toVisible.Category = true;\r\n\t\t\t\toEnabled.Category = true;\r\n\r\n\t\t\t\toInput.PcategoryKey = \"\";\r\n\r\n\t\t\t\toInput.SubcategoryKey = \"\";\r\n\t\t\t\toVisible.Subcategory = true;\r\n\t\t\t\toEnabled.Subcategory = false;\r\n\r\n\t\t\t\toInput.BrandKey = \"\";\r\n\t\t\t\toVisible.Brand = true;\r\n\t\t\t\toEnabled.Brand = true;\r\n\r\n\t\t\t\toInput.SubbrandKey = \"\";\r\n\t\t\t\toVisible.Subbrand = true;\r\n\t\t\t\toEnabled.Subbrand = false;\r\n\r\n\t\t\t\toInput.SkuKey = \"\";\r\n\t\t\t\toInput.ProjectGuid = \"\";\r\n\t\t\t\toInput.ActivityGuid = \"\";\r\n\r\n\t\t\t\toInput.PriorityKey = \"\";\r\n\t\t\t\toVisible.Priority = true;\r\n\t\t\t\toEnabled.Priority = true;\r\n\r\n\t\t\t\toInput.Channel = \"\";\r\n\t\t\t\toVisible.Channel = true;\r\n\t\t\t\toEnabled.Channel = true;\r\n\r\n\t\t\t\toInput.Demographics = \"\";\r\n\t\t\t\toVisible.Demographics = true;\r\n\t\t\t\toEnabled.Demographics = true;\r\n\r\n\t\t\t\toInput.Retailer = \"\";\r\n\t\t\t\toVisible.Retailer = true;\r\n\t\t\t\toEnabled.Retailer = false;\r\n\r\n\t\t\t\toInput.Agency = \"\";\r\n\t\t\t\toVisible.Agency = true;\r\n\t\t\t\toEnabled.Agency = false;\r\n\r\n\t\t\t\toInput.Function = \"\";\r\n\t\t\t\toVisible.Function = true;\r\n\t\t\t\toEnabled.Function = true;\r\n\r\n\t\t\t\toInput.MaestroBrief = \"\";\r\n\t\t\t\toVisible.MaestroBrief = true;\r\n\t\t\t\toEnabled.MaestroBrief = false;\r\n\r\n\t\t\t\toInput.Costcenter = \"\";\r\n\t\t\t\toVisible.Costcenter = true;\r\n\t\t\t\toEnabled.Costcenter = true;\r\n\r\n\t\t\t\toInput.GlAccount = \"\";\r\n\t\t\t\toVisible.GlAccount = true;\r\n\t\t\t\toEnabled.GlAccount = true;\r\n\r\n\t\t\t\toInput.PO = \"\";\r\n\t\t\t\toVisible.PO = true;\r\n\t\t\t\toEnabled.PO = true;\r\n\r\n\t\t\t\toVisible.Parent = true;\r\n\t\t\t\toEnabled.Parent = false;\r\n\t\t\t\toVisible.Save2 = true;\r\n\t\t\t\toVisible.Save3 = true;\r\n\t\t\t\toLabels.Save2 = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_B_saveCS\");\r\n\t\t\t\toLabels.Save3 = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_B_saveCA\");\r\n\t\t\t\toInternal.Save2Mode = \"AddSubactivity\";\r\n\t\t\t\toInternal.Save3Mode = \"AddActivity\";\r\n\r\n\t\t\t\t// Begin of Addition - Khrystyne Williams - July 14, 2016\r\n\r\n\t\t\t\t// Eric Atempa / 2-1-17 / Changes for Cancel\r\n\t\t\t\tif (this.getOwnerComponent().getModel(\"masterShared\").getData().oInternalEvents.lastAction === \"NewSAWithAT\") {\r\n\t\t\t\t\t// oVisible.Title1 = true;\r\n\t\t\t\t\toVisible.Cancel = true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// oVisible.Title1 = false;\r\n\t\t\t\t\t// psutram: feb 2017 changes to visibility of Cancel button\r\n\t\t\t\t\t// oVisible.Cancel = false;\r\n\t\t\t\t\tif ((oEvent) && (oEvent.NewParent) && this._newAdd) {\r\n\t\t\t\t\t\toVisible.Cancel = false;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\toVisible.Cancel = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\toVisible.Title1 = false;\r\n\t\t\t\toVisible.Title2 = false;\r\n\t\t\t\toVisible.Title3 = true;\r\n\t\t\t\toLabels.Title1 = \"\";\r\n\t\t\t\toLabels.Title2 = \"\";\r\n\t\t\t\toLabels.Title3 = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_B_Title3\");\r\n\t\t\t\t// End of Addition - Khrystyne Williams - July 14, 2016\r\n\r\n\t\t\t\toInput.LongText = \"\";\r\n\t\t\t\toInput.Name = \"\";\r\n\r\n\t\t\t\t//INBHD02\r\n\t\t\t\toVisible.CrossSubBrand = true;\r\n\t\t\t\toVisible.CrossSubBrandList = true;\r\n\t\t\t\t//INBHD02\r\n\t\t\t}\r\n\t\t\tthis.getModel(\"AddActivity\").refresh(false);\r\n\t\t},\r\n\t\t_resetDemographics: function() {\r\n\t\t\tvar oACData = this.getModel(\"AddActivity\").getData();\r\n\t\t\toACData.Enabled.Demographics = true;\r\n\t\t\toACData.Input.Demographics = \"\";\r\n\t\t\toACData.Demographics.Current = {};\r\n\t\t\toACData.Placeholders.Demographics = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_demographics_e\");\r\n\t\t},\r\n\t\t_getDemographics: function() {\r\n\t\t\t// Get the Retailers\r\n\t\t\tvar oRModel = this.getModel(\"Demographics\");\r\n\t\t\tvar oACModel = this.getModel(\"AddActivity\");\r\n\t\t\tvar sServiceUrl = this.getOwnerComponent().getModel(\"masterShared\").getProperty(\"/oServiceUrls/mainService\");\r\n\t\t\tvar oACData = oACModel.getData();\r\n\t\t\t// Clear the current retailer (if any)\r\n\t\t\toACData.Input.Demographics = \"\";\r\n\t\t\tif (!oRModel) {\r\n\t\t\t\toRModel = new sap.ui.model.odata.v2.ODataModel(sServiceUrl);\r\n\t\t\t\toRModel.setSizeLimit(50000);\r\n\t\t\t\toRModel.setDefaultCountMode(sap.ui.model.odata.CountMode.None);\r\n\t\t\t\tthis.setModel(oRModel, \"Demographics\");\r\n\t\t\t}\r\n\t\t\tvar filters = [];\r\n\t\t\tif (oACData.Input.SubKey && oACData.Input.SubKey !== \"\") {\r\n\t\t\t\tvar sAdditionalData = \"{ SUB:'\" + oACData.Input.SubKey + \"'}\";\r\n\t\t\t\tfilters.push(new sap.ui.model.Filter({\r\n\t\t\t\t\tpath: \"AdditionalData\",\r\n\t\t\t\t\toperator: sap.ui.model.FilterOperator.EQ,\r\n\t\t\t\t\tvalue1: sAdditionalData\r\n\t\t\t\t}));\r\n\t\t\t}\r\n\t\t\tvar sPath = \"/VHDemographics\";\r\n\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", true); // Start Spinner\r\n\t\t\tvar that = this;\r\n\t\t\toRModel.read(sPath, {\r\n\t\t\t\tasync: true,\r\n\t\t\t\tfilters: filters,\r\n\t\t\t\tsuccess: function(oData, oResponse) {\r\n\t\t\t\t\tTimeoutUtils.onResetTimer(that);\r\n\t\t\t\t\tthat._setDemographics(oData);\r\n\t\t\t\t},\r\n\t\t\t\terror: function(oError) {\r\n\t\t\t\t\toError.ErrorOrigin = \"Demographics\";\r\n\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.detail\", \"Errors\", oError);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t_setDemographics: function(oDataIn) {\r\n\t\t\tvar oModel = this.getModel(\"AddActivity\");\r\n\t\t\tvar oData = oModel.getData();\r\n\t\t\tif (!oData.Demographics) {\r\n\t\t\t\toData.Demographics = {};\r\n\t\t\t}\r\n\t\t\toData.Demographics.Current = oDataIn.results;\r\n\t\t\tif (oData.Demographics.Current.length === 0) {\r\n\t\t\t\toData.Enabled.Demographics = false;\r\n\t\t\t\toData.Placeholders.Demographics = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_demographics_n\");\r\n\t\t\t} else {\r\n\t\t\t\toData.Enabled.Demographics = true;\r\n\t\t\t\toData.Placeholders.Demographics = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_demographics_e\");\r\n\t\t\t}\r\n\t\t\toModel.refresh(false);\r\n\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", false); // Stop Spinner\r\n\t\t},\r\n\t\t_resetCostcenters: function() {\r\n\t\t\tvar oACData = this.getModel(\"AddActivity\").getData();\r\n\t\t\toACData.Enabled.Costcenter = true;\r\n\t\t\toACData.Input.Costcenter = \"\";\r\n\t\t\toACData.Costcenter.Current = {};\r\n\t\t\toACData.Placeholders.Costcenter = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_costcenter_e\");\r\n\t\t},\r\n\t\t_getCostcenters: function() {\r\n\t\t\t// Get the Retailers\r\n\t\t\tvar oRModel = this.getModel(\"Costcenter\");\r\n\t\t\tvar oACModel = this.getModel(\"AddActivity\");\r\n\t\t\tvar sServiceUrl = this.getOwnerComponent().getModel(\"masterShared\").getProperty(\"/oServiceUrls/mainService\");\r\n\t\t\tvar oACData = oACModel.getData();\r\n\t\t\t// Clear the current retailer (if any)\r\n\t\t\toACData.Input.Costcenter = \"\";\r\n\t\t\tif (!oRModel) {\r\n\t\t\t\toRModel = new sap.ui.model.odata.v2.ODataModel(sServiceUrl);\r\n\t\t\t\toRModel.setSizeLimit(50000);\r\n\t\t\t\toRModel.setDefaultCountMode(sap.ui.model.odata.CountMode.None);\r\n\t\t\t\tthis.setModel(oRModel, \"Costcenter\");\r\n\t\t\t}\r\n\t\t\tvar filters = [];\r\n\t\t\tif (oACData.Input.SubKey && oACData.Input.SubKey !== \"\") {\r\n\t\t\t\tvar sAdditionalData = \"{ SUB:'\" + oACData.Input.SubKey + \"'}\";\r\n\t\t\t\tfilters.push(new sap.ui.model.Filter({\r\n\t\t\t\t\tpath: \"AdditionalData\",\r\n\t\t\t\t\toperator: sap.ui.model.FilterOperator.EQ,\r\n\t\t\t\t\tvalue1: sAdditionalData\r\n\t\t\t\t}));\r\n\t\t\t}\r\n\t\t\tvar sPath = \"/VHCostcenter\";\r\n\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", true); // Start Spinner\r\n\t\t\tvar that = this;\r\n\t\t\toRModel.read(sPath, {\r\n\t\t\t\tasync: true,\r\n\t\t\t\tfilters: filters,\r\n\t\t\t\tsuccess: function(oData, oResponse) {\r\n\t\t\t\t\tTimeoutUtils.onResetTimer(that);\r\n\t\t\t\t\tthat._setCostcenters(oData);\r\n\t\t\t\t},\r\n\t\t\t\terror: function(oError) {\r\n\t\t\t\t\toError.ErrorOrigin = \"Costcenter\";\r\n\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.detail\", \"Errors\", oError);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t_setCostcenters: function(oDataIn) {\r\n\t\t\tvar oModel = this.getModel(\"AddActivity\");\r\n\t\t\tvar oData = oModel.getData();\r\n\t\t\tif (!oData.Costcenter) {\r\n\t\t\t\toData.Costcenter = {};\r\n\t\t\t}\r\n\t\t\toData.Costcenter.Current = [];\r\n\t\t\tfor (var i = 0; i < oDataIn.results.length; i++) {\r\n\t\t\t\tvar oRecord = {};\r\n\t\t\t\toRecord.Key = oDataIn.results[i].Key;\r\n\t\t\t\toRecord.Description = oDataIn.results[i].Key + \" - \" + oDataIn.results[i].Description;\r\n\t\t\t\toRecord.Selected = oDataIn.results[i].Selected;\r\n\t\t\t\toRecord.AdditionalData = oDataIn.results[i].AdditionalData;\r\n\t\t\t\toData.Costcenter.Current.push(oRecord);\r\n\t\t\t}\r\n\t\t\tif (oData.Costcenter.Current.length === 0) {\r\n\t\t\t\toData.Enabled.Costcenter = false;\r\n\t\t\t\toData.Placeholders.Costcenter = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_costcenter_n\");\r\n\t\t\t} else {\r\n\t\t\t\toData.Enabled.Costcenter = true;\r\n\t\t\t\toData.Placeholders.Costcenter = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_costcenter_e\");\r\n\t\t\t}\r\n\t\t\toModel.refresh(false);\r\n\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", false); // Stop Spinner\r\n\t\t},\r\n\t\t_resetRetailers: function() {\r\n\t\t\tvar oACData = this.getModel(\"AddActivity\").getData();\r\n\t\t\toACData.Enabled.Retailer = false;\r\n\t\t\toACData.Input.Retailer = \"\";\r\n\t\t\toACData.Retailer.Current = {};\r\n\t\t\toACData.Placeholders.Retailer = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_retailer\");\r\n\t\t},\r\n\t\t_getRetailers: function() {\r\n\t\t\t// Get the Retailers\r\n\t\t\tvar oRModel = this.getModel(\"Retailer\");\r\n\t\t\tvar oACModel = this.getModel(\"AddActivity\");\r\n\t\t\tvar sServiceUrl = this.getOwnerComponent().getModel(\"masterShared\").getProperty(\"/oServiceUrls/mainService\");\r\n\t\t\tvar oACData = oACModel.getData();\r\n\t\t\t// Clear the current retailer (if any)\r\n\t\t\toACData.Input.Retailer = \"\";\r\n\t\t\tif (!oRModel) {\r\n\t\t\t\toRModel = new sap.ui.model.odata.v2.ODataModel(sServiceUrl);\r\n\t\t\t\toRModel.setSizeLimit(50000);\r\n\t\t\t\toRModel.setDefaultCountMode(sap.ui.model.odata.CountMode.None);\r\n\t\t\t\tthis.setModel(oRModel, \"Retailer\");\r\n\t\t\t}\r\n\t\t\tif (oACData.Input.SubKey && oACData.Input.SubKey !== \"\") {\r\n\t\t\t\tvar filters = [];\r\n\t\t\t\tvar sAdditionalData = \"{ SUB:'\" + oACData.Input.SubKey + \"'}\";\r\n\t\t\t\tfilters.push(new sap.ui.model.Filter({\r\n\t\t\t\t\tpath: \"AdditionalData\",\r\n\t\t\t\t\toperator: sap.ui.model.FilterOperator.EQ,\r\n\t\t\t\t\tvalue1: sAdditionalData\r\n\t\t\t\t}));\r\n\t\t\t\tvar sPath = \"/VHRetailers\";\r\n\t\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", true); // Start Spinner\r\n\t\t\t\tvar that = this;\r\n\t\t\t\toRModel.read(sPath, {\r\n\t\t\t\t\tasync: true,\r\n\t\t\t\t\tfilters: filters,\r\n\t\t\t\t\tsuccess: function(oData, oResponse) {\r\n\t\t\t\t\t\tTimeoutUtils.onResetTimer(that);\r\n\t\t\t\t\t\tthat._setRetailers(oData);\r\n\t\t\t\t\t},\r\n\t\t\t\t\terror: function(oError) {\r\n\t\t\t\t\t\toError.ErrorOrigin = \"Retailer\";\r\n\t\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.detail\", \"Errors\", oError);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\t_setRetailers: function(oDataIn) {\r\n\t\t\tvar oModel = this.getModel(\"AddActivity\");\r\n\t\t\tvar oData = oModel.getData();\r\n\t\t\tif (!oData.Retailer) {\r\n\t\t\t\toData.Retailer = {};\r\n\t\t\t}\r\n\t\t\toData.Retailer.Current = oDataIn.results;\r\n\t\t\tif (oData.Retailer.Current.length === 0) {\r\n\t\t\t\toData.Enabled.Retailer = false;\r\n\t\t\t\toData.Placeholders.Retailer = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_retailer_n\");\r\n\t\t\t} else {\r\n\t\t\t\toData.Enabled.Retailer = true;\r\n\t\t\t\toData.Placeholders.Retailer = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_retailer_e\");\r\n\t\t\t}\r\n\t\t\toModel.refresh(false);\r\n\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", false); // Stop Spinner\r\n\t\t},\r\n\t\t_resetAgencies: function() {\r\n\t\t\tvar oACData = this.getModel(\"AddActivity\").getData();\r\n\t\t\toACData.Enabled.Agency = false;\r\n\t\t\toACData.Input.Agency = \"\";\r\n\t\t\toACData.Agency.Current = {};\r\n\t\t\toACData.Placeholders.Agency = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_agency\");\r\n\t\t},\r\n\t\t_getAgencies: function() {\r\n\t\t\t// Get the Retailers\r\n\t\t\tvar oRModel = this.getModel(\"Agency\");\r\n\t\t\tvar oACModel = this.getModel(\"AddActivity\");\r\n\t\t\tvar sServiceUrl = this.getOwnerComponent().getModel(\"masterShared\").getProperty(\"/oServiceUrls/mainService\");\r\n\t\t\tvar oACData = oACModel.getData();\r\n\t\t\toACData.Input.Agency = \"\";\r\n\t\t\tif (!oRModel) {\r\n\t\t\t\toRModel = new sap.ui.model.odata.v2.ODataModel(sServiceUrl);\r\n\t\t\t\toRModel.setSizeLimit(50000);\r\n\t\t\t\toRModel.setDefaultCountMode(sap.ui.model.odata.CountMode.None);\r\n\t\t\t\tthis.setModel(oRModel, \"Agency\");\r\n\t\t\t}\r\n\t\t\tif (oACData.Input.SubKey && oACData.Input.SubKey !== \"\") {\r\n\t\t\t\tvar filters = [];\r\n\t\t\t\tvar sAdditionalData = \"{ SUB:'\" + oACData.Input.SubKey + \"'}\";\r\n\t\t\t\tfilters.push(new sap.ui.model.Filter({\r\n\t\t\t\t\tpath: \"AdditionalData\",\r\n\t\t\t\t\toperator: sap.ui.model.FilterOperator.EQ,\r\n\t\t\t\t\tvalue1: sAdditionalData\r\n\t\t\t\t}));\r\n\t\t\t\tvar sPath = \"/VHAgencies\";\r\n\t\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", true); // Start Spinner\r\n\t\t\t\tvar that = this;\r\n\t\t\t\toRModel.read(sPath, {\r\n\t\t\t\t\tasync: true,\r\n\t\t\t\t\tfilters: filters,\r\n\t\t\t\t\tsuccess: function(oData, oResponse) {\r\n\t\t\t\t\t\tTimeoutUtils.onResetTimer(that);\r\n\t\t\t\t\t\tthat._setAgencies(oData);\r\n\t\t\t\t\t},\r\n\t\t\t\t\terror: function(oError) {\r\n\t\t\t\t\t\toError.ErrorOrigin = \"Agency\";\r\n\t\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.detail\", \"Errors\", oError);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\t_setAgencies: function(oDataIn) {\r\n\t\t\tvar oModel = this.getModel(\"AddActivity\");\r\n\t\t\tvar oData = oModel.getData();\r\n\t\t\tif (!oData.Agency) {\r\n\t\t\t\toData.Agency = {};\r\n\t\t\t}\r\n\t\t\toData.Agency.Current = oDataIn.results;\r\n\t\t\tif (oData.Agency.Current.length === 0) {\r\n\t\t\t\toData.Enabled.Agency = false;\r\n\t\t\t\toData.Placeholders.Agency = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_agency_n\");\r\n\t\t\t} else {\r\n\t\t\t\toData.Enabled.Agency = true;\r\n\t\t\t\toData.Placeholders.Agency = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_agency_e\");\r\n\t\t\t}\r\n\t\t\toModel.refresh(false);\r\n\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", false); // Stop Spinner\r\n\t\t},\r\n\t\t_resetMaestroBrief: function() {\r\n\t\t\tvar oACData = this.getModel(\"AddActivity\").getData();\r\n\t\t\toACData.Enabled.MaestroBrief = false;\r\n\t\t\toACData.Input.MaestroBrief = \"\";\r\n\t\t\toACData.MaestroBrief.Current = {};\r\n\t\t\toACData.Placeholders.MasteroBrief = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_maestroBrief\");\r\n\t\t},\r\n\t\t_getMaestroBrief: function() {\r\n\t\t\t// Get the Retailers\r\n\t\t\tvar oRModel = this.getModel(\"MaestroBrief\");\r\n\t\t\tvar oACModel = this.getModel(\"AddActivity\");\r\n\t\t\tvar sServiceUrl = this.getOwnerComponent().getModel(\"masterShared\").getProperty(\"/oServiceUrls/mainService\");\r\n\t\t\tvar oACData = oACModel.getData();\r\n\t\t\tif (!oRModel) {\r\n\t\t\t\toRModel = new sap.ui.model.odata.v2.ODataModel(sServiceUrl);\r\n\t\t\t\toRModel.setSizeLimit(50000);\r\n\t\t\t\toRModel.setDefaultCountMode(sap.ui.model.odata.CountMode.None);\r\n\t\t\t\tthis.setModel(oRModel, \"MaestroBrief\");\r\n\t\t\t}\r\n\t\t\tif (oACData.Input.DivisionKey && oACData.Input.DivisionKey !== \"\" && oACData.Input.CategoryKey && oACData.Input.CategoryKey !== \"\") {\r\n\t\t\t\tvar filters = [];\r\n\t\t\t\tfilters.push(new sap.ui.model.Filter({\r\n\t\t\t\t\tpath: \"DivisionKey\",\r\n\t\t\t\t\toperator: sap.ui.model.FilterOperator.EQ,\r\n\t\t\t\t\tvalue1: oACData.Input.DivisionKey\r\n\t\t\t\t}));\r\n\t\t\t\tfilters.push(new sap.ui.model.Filter({\r\n\t\t\t\t\tpath: \"CategoryKey\",\r\n\t\t\t\t\toperator: sap.ui.model.FilterOperator.EQ,\r\n\t\t\t\t\tvalue1: oACData.Input.CategoryKey\r\n\t\t\t\t}));\r\n\t\t\t\tif (oACData.Input.SubecategoryKey && oACData.Input.SubcategoryKey !== \"\") {\r\n\t\t\t\t\tfilters.push(new sap.ui.model.Filter({\r\n\t\t\t\t\t\tpath: \"SubcategoryKey\",\r\n\t\t\t\t\t\toperator: sap.ui.model.FilterOperator.EQ,\r\n\t\t\t\t\t\tvalue1: oACData.Input.SubcategoryKey\r\n\t\t\t\t\t}));\r\n\t\t\t\t}\r\n\t\t\t\tif (oACData.Input.BrandKey && oACData.Input.BrandKey !== \"\") {\r\n\t\t\t\t\tfilters.push(new sap.ui.model.Filter({\r\n\t\t\t\t\t\tpath: \"BrandKey\",\r\n\t\t\t\t\t\toperator: sap.ui.model.FilterOperator.EQ,\r\n\t\t\t\t\t\tvalue1: oACData.Input.BrandKey\r\n\t\t\t\t\t}));\r\n\t\t\t\t}\r\n\t\t\t\tvar sPath = \"/VHBriefs\";\r\n\t\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", true); // Start Spinner\r\n\t\t\t\tvar that = this;\r\n\t\t\t\toRModel.read(sPath, {\r\n\t\t\t\t\tasync: true,\r\n\t\t\t\t\tfilters: filters,\r\n\t\t\t\t\tsuccess: function(oData, oResponse) {\r\n\t\t\t\t\t\tTimeoutUtils.onResetTimer(that);\r\n\t\t\t\t\t\tthat._setMaestroBrief(oData);\r\n\t\t\t\t\t},\r\n\t\t\t\t\terror: function(oError) {\r\n\t\t\t\t\t\toError.ErrorOrigin = \"MaestroBrief\";\r\n\t\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.detail\", \"Errors\", oError);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\t_setMaestroBrief: function(oDataIn) {\r\n\t\t\tvar oModel = this.getModel(\"AddActivity\");\r\n\t\t\tvar oData = oModel.getData();\r\n\t\t\tif (!oData.MaestroBrief) {\r\n\t\t\t\toData.MaestroBrief = {};\r\n\t\t\t}\r\n\t\t\toData.MaestroBrief.Current = oDataIn.results;\r\n\t\t\tif (oData.MaestroBrief.Current.length === 0) {\r\n\t\t\t\toData.Enabled.MaestroBrief = false;\r\n\t\t\t\toData.Placeholders.MaestroBrief = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_maestroBrief_n\");\r\n\t\t\t} else {\r\n\t\t\t\toData.Enabled.MaestroBrief = true;\r\n\t\t\t\toData.Placeholders.MaestroBrief = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_P_maestroBrief_e\");\r\n\t\t\t}\r\n\t\t\toModel.refresh(false);\r\n\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", false); // Stop Spinner\r\n\t\t},\r\n\t\t_setRequiredFlags: function(sItemType) {\r\n\r\n\t\t\tif (sItemType === \"PT\") {\r\n\t\t\t\t// Begin of Changes - Alex \r\n\t\t\t\t// this.byId(\"FEPriorityKey\")._oLabel.setRequired(true);\r\n\t\t\t\t// this.byId(\"FEFunction\")._oLabel.setRequired(true);\r\n\t\t\t\t// End of Changes - Alex\r\n\t\t\t\tthis.byId(\"FEHub\")._oLabel.setRequired(false);\r\n\t\t\t\tthis.byId(\"FESub\")._oLabel.setRequired(false);\r\n\t\t\t\t//The Project Hub is no longer required\r\n\t\t\t\t//this.byId(\"FEMaxValueC\")._oLabel.setRequired(true);\r\n\t\t\t} else if (sItemType === \"AT\") {\r\n\t\t\t\tthis.byId(\"FEHub\")._oLabel.setRequired(false);\r\n\t\t\t\tthis.byId(\"FESub\")._oLabel.setRequired(false);\r\n\t\t\t} else if (sItemType === \"SA\") {\r\n\t\t\t\t// Added for required fields / USERA04 / 1-27-17\r\n\t\t\t\tthis.byId(\"FEHub\")._oLabel.setRequired(true);\r\n\t\t\t\tthis.byId(\"FESub\")._oLabel.setRequired(true);\r\n\t\t\t\t//end of USERA04 \r\n\t\t\t}\r\n\t\t\t// Flags the same for all  (This accessor should really be changed - it's using an internal interface now)\r\n\t\t\tthis.byId(\"FEParent\")._oLabel.setRequired(true);\r\n\t\t\t// Begin of Changes - Khrystyne Williams - Nov 2016\r\n\t\t\t// this.byId(\"FEName\")._oLabel.setRequired(true);\r\n\t\t\t// End of Changes - Khrystyne Williams - Nov 2016\r\n\t\t\tthis.byId(\"FEProjectType\")._oLabel.setRequired(true);\r\n\t\t\tthis.byId(\"FEActivityType\")._oLabel.setRequired(true);\r\n\t\t\tthis.byId(\"FESubactivityType\")._oLabel.setRequired(true);\r\n\t\t\tthis.byId(\"FEDivision\")._oLabel.setRequired(true);\r\n\t\t\t// Begin of Commenting - Khrystyne Williams - August 26, 2016\r\n\t\t\t// Make category a non-mandatory field \r\n\t\t\t// this.byId(\"FECategory\")._oLabel.setRequired(true);\r\n\t\t\t// End of Commenting - Khrystyne Williams - August 26, 2016\r\n\t\t},\r\n\t\t_getMonthText: function(iMonth) {\r\n\t\t\tvar sDt1 = iMonth;\r\n\t\t\tswitch (sDt1) {\r\n\t\t\t\tcase 1:\r\n\t\t\t\t\tsDt1 = this.getResourceBundle().getText(\"AC_M_Jan\");\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 2:\r\n\t\t\t\t\tsDt1 = this.getResourceBundle().getText(\"AC_M_Feb\");\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 3:\r\n\t\t\t\t\tsDt1 = this.getResourceBundle().getText(\"AC_M_Mar\");\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 4:\r\n\t\t\t\t\tsDt1 = this.getResourceBundle().getText(\"AC_M_Apr\");\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 5:\r\n\t\t\t\t\tsDt1 = this.getResourceBundle().getText(\"AC_M_May\");\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 6:\r\n\t\t\t\t\tsDt1 = this.getResourceBundle().getText(\"AC_M_Jun\");\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 7:\r\n\t\t\t\t\tsDt1 = this.getResourceBundle().getText(\"AC_M_Jul\");\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 8:\r\n\t\t\t\t\tsDt1 = this.getResourceBundle().getText(\"AC_M_Aug\");\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 9:\r\n\t\t\t\t\tsDt1 = this.getResourceBundle().getText(\"AC_M_Sep\");\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 10:\r\n\t\t\t\t\tsDt1 = this.getResourceBundle().getText(\"AC_M_Oct\");\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 11:\r\n\t\t\t\t\tsDt1 = this.getResourceBundle().getText(\"AC_M_Nov\");\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 12:\r\n\t\t\t\t\tsDt1 = this.getResourceBundle().getText(\"AC_M_Dec\");\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tsDt1 = \"Error\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\treturn sDt1;\r\n\t\t},\r\n\t\tonCheckValues: function(oEvent) {\r\n\t\t\tFieldCheckUtils.onCheckField(this, this.getModel(\"AddActivity\"), \"/Input/Name\");\r\n\t\t},\r\n\t\tonBudgetChange: function(oEvent) {\r\n\t\t\tvar oField = oEvent.getSource();\r\n\t\t\tvar sCurrentValue = oEvent.getParameters().value;\r\n\t\t\tsCurrentValue = sCurrentValue.replace(/,/g, \"\");\r\n\t\t\tsCurrentValue = sCurrentValue.replace(/\\./g, \"\");\r\n\t\t\tvar bNumber = /^-*[0-9,\\.]+$/.test(sCurrentValue);\r\n\t\t\tif (sCurrentValue !== \"\" && (!bNumber || parseFloat(sCurrentValue) < 0.0)) {\r\n\t\t\t\toField.setValue(\"0\");\r\n\t\t\t\toField.setValueState(sap.ui.core.ValueState.Warning);\r\n\t\t\t\toField.setValueStateText(this.getOwnerComponent().getModel(\"i18n\").getResourceBundle()\r\n\t\t\t\t\t.getText(\r\n\t\t\t\t\t\t\"A_E_notValid\", [sCurrentValue]));\r\n\t\t\t} else {\r\n\t\t\t\toField.setValueState(sap.ui.core.ValueState.None);\r\n\t\t\t\toField.setValueStateText(\"\");\r\n\t\t\t}\r\n\t\t\tthis.getModel(\"AddActivity\").refresh(false);\r\n\t\t},\r\n\r\n\t\t// // INBHD02\r\n\t\t// //New Utills Changes  bhavik\r\n\r\n\t\t// onSelectCrossBrand: function(oEvent) {\r\n\t\t// \tCrossSubBrandUtils.onSelectCrossBrand(\"AddActivity\", this, oEvent);\r\n\t\t// },\r\n\r\n\t\t// _onCSBFilterchange: function(oEvent) {\r\n\t\t// \tCrossSubBrandUtils._onCSBFilterchange(\"AddActivity\", this, oEvent);\r\n\t\t// },\r\n\r\n\t\t// onSearchCSB: function(oEvent) {\r\n\t\t// \tCrossSubBrandUtils.onSearchCSB(\"AddActivity\", this, oEvent);\r\n\t\t// },\r\n\r\n\t\t// _clearAllCSBSelection: function(oEvent) {\r\n\t\t// \tCrossSubBrandUtils._clearAllCSBSelection(\"AddActivity\", this, oEvent);\r\n\t\t// },\r\n\r\n\t\t// _addCSBbrands: function(oEvent) {\r\n\t\t// \tCrossSubBrandUtils._addCSBbrands(\"AddActivity\", this, oEvent);\r\n\t\t// },\r\n\r\n\t\t// _deleteCSBBrands: function(oEvent) {\r\n\t\t// \tCrossSubBrandUtils._deleteCSBBrands(\"AddActivity\", this, oEvent);\r\n\t\t// },\r\n\r\n\t\t// onCSBok: function(oEvent) {\r\n\t\t// \tCrossSubBrandUtils.onCSBok(\"AddActivity\", this, oEvent);\r\n\t\t// },\r\n\r\n\t\t// onCSBcancel: function(oEvent) {\r\n\t\t// \tCrossSubBrandUtils.onCSBcancel(\"AddActivity\", this, oEvent);\r\n\t\t// }\r\n\r\n\t\t// //New Utills Changes bhavik\r\n\r\n\t\tonSelectCrossBrand: function(oEvent) {\r\n\r\n\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", true); // Start Spinner\r\n\r\n\t\t\tvar oModel = this.getModel(\"AddActivity\");\r\n\t\t\tvar oInput = oModel.getData();\r\n\r\n\t\t\tif (!this.oPersonalizationDialog) {\r\n\t\t\t\tthis.oPersonalizationDialog = sap.ui.xmlfragment(\"colgate.asm.planning.base.fragment.CrossSubBrand_add\", this);\r\n\t\t\t\tthis.getView().addDependent(this.oPersonalizationDialog);\r\n\t\t\t\tthis._getdefaultCSBfilter();\r\n\t\t\t}\r\n\r\n\t\t\tthis.oPersonalizationDialog.open();\r\n\r\n\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", false); // Stop Spinner\r\n\t\t},\r\n\r\n\t\tonCSBok: function(oEvent) {\r\n\t\t\toEvent.getSource().close();\r\n\t\t\tif (this.oPersonalizationDialog) {\r\n\t\t\t\tthis.oPersonalizationDialog.destroy();\r\n\t\t\t\tthis.oPersonalizationDialog = null;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tonCSBcancel: function(oEvent) {\r\n\t\t\tvar that = this;\r\n\t\t\tvar event = oEvent.getSource();\r\n\r\n\t\t\tvar dialog = new Dialog({\r\n\t\t\t\ttitle: 'Confirm',\r\n\t\t\t\ttype: 'Message',\r\n\t\t\t\tstate: 'Warning',\r\n\t\t\t\tcontent: new Text({\r\n\t\t\t\t\ttext: this.getModel(\"i18n\").getResourceBundle().getText(\"CSBConfirmcancel\")\r\n\t\t\t\t}),\r\n\t\t\t\tbeginButton: new Button({\r\n\t\t\t\t\ttext: 'Yes',\r\n\t\t\t\t\tpress: function() {\r\n\t\t\t\t\t\tdialog.close();\r\n\t\t\t\t\t\tthat._discardallCSBChange();\r\n\t\t\t\t\t\tevent.close();\r\n\t\t\t\t\t\tif (that.oPersonalizationDialog) {\r\n\t\t\t\t\t\t\tthat.oPersonalizationDialog.destroy();\r\n\t\t\t\t\t\t\tthat.oPersonalizationDialog = null;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}),\r\n\t\t\t\tendButton: new Button({\r\n\t\t\t\t\ttext: 'Cancel',\r\n\t\t\t\t\tpress: function() {\r\n\t\t\t\t\t\tdialog.close();\r\n\t\t\t\t\t}\r\n\t\t\t\t}),\r\n\t\t\t\tafterClose: function() {\r\n\t\t\t\t\tdialog.destroy();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tdialog.open();\r\n\t\t},\r\n\r\n\t\tonSearchCSB: function(oEvent) {\r\n\t\t\tvar sQuery = oEvent.getParameter(\"query\");\r\n\r\n\t\t\tthis._oGlobalFilter = null;\r\n\t\t\tif (sQuery) {\r\n\t\t\t\tthis._oGlobalFilter = new Filter([\r\n\t\t\t\t\tnew Filter(\"SubbrandDesc\", FilterOperator.Contains, sQuery)\r\n\t\t\t\t], false);\r\n\t\t\t}\r\n\r\n\t\t\tvar binding = oEvent.oSource.getParent();\r\n\t\t\tbinding.getParent().getBinding(\"rows\").filter(this._oGlobalFilter, \"Application\");\r\n\t\t},\r\n\r\n\t\t_getCSBSubbrand: function(CSBCategoryKey, CSBSubcategoryKey, CSBBrandKey) {\r\n\r\n\t\t\tvar sServiceUrl = this.getOwnerComponent().getModel(\"masterShared\").getProperty(\"/oServiceUrls/mainService\");\r\n\r\n\t\t\tvar sbmodel = this.oPersonalizationDialog.getModel(\"CSBBrands\");\r\n\t\t\tif (!sbmodel) {\r\n\t\t\t\tsbmodel = new sap.ui.model.odata.v2.ODataModel(sServiceUrl, false);\r\n\t\t\t\tsbmodel.setSizeLimit(50000);\r\n\t\t\t\tsbmodel.setDefaultCountMode(sap.ui.model.odata.CountMode.None);\r\n\t\t\t\tthis.oPersonalizationDialog.setModel(sbmodel, \"CSBBrands\");\r\n\t\t\t}\r\n\r\n\t\t\tvar filters = [];\r\n\r\n\t\t\tfilters.push(new sap.ui.model.Filter(\"CategoryKey\", sap.ui.model.FilterOperator.EQ, CSBCategoryKey));\r\n\r\n\t\t\tfilters.push(new sap.ui.model.Filter(\"PcategoryKey\", sap.ui.model.FilterOperator.EQ, CSBSubcategoryKey));\r\n\r\n\t\t\tfilters.push(new sap.ui.model.Filter(\"BrandKey\", sap.ui.model.FilterOperator.EQ, CSBBrandKey));\r\n\r\n\t\t\tvar sPath = \"/VHCrossSubBrand\";\r\n\t\t\tvar that2 = this;\r\n\r\n\t\t\tvar oSBPromise = new Promise(function(resolve, reject) {\r\n\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\tsbmodel.read(sPath, {\r\n\t\t\t\t\t\tasync: true,\r\n\t\t\t\t\t\tfilters: filters,\r\n\t\t\t\t\t\tsuccess: function(oData, oResponse) {\r\n\t\t\t\t\t\t\tTimeoutUtils.onResetTimer(this);\r\n\t\t\t\t\t\t\tthat2._setCSBSubbrand(oData);\r\n\t\t\t\t\t\t\tresolve(oData);\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\terror: function(oError) {\r\n\t\t\t\t\t\t\toError.ErrorOrigin = \"Subbrands\";\r\n\t\t\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.detail\", \"Errors\", oError);\r\n\t\t\t\t\t\t\treject(oError);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}, 200);\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t_setCSBSubbrand: function(oDataIn) {\r\n\r\n\t\t\tvar oModel = this.getModel(\"AddActivity\");\r\n\t\t\tvar oData = oModel.getData();\r\n\t\t\tif (!oData.CSBSubbrand) {\r\n\t\t\t\toData.CSBSubbrand = {};\r\n\t\t\t}\r\n\t\t\toData.CSBSubbrand.Current = [];\r\n\t\t\toData.CSBSubbrand.Current = oDataIn.results;\r\n\t\t\toModel.refresh(false);\r\n\t\t\tthis._setinitialCSBSubbrandvalues();\r\n\t\t},\r\n\r\n\t\t_onCSBFilterchange: function(oEvent) {\r\n\t\t\tvar oModel = this.getModel(\"AddActivity\");\r\n\t\t\tvar oInput = oModel.getData();\r\n\r\n\t\t\tvar id = oEvent.getParameter(\"id\");\r\n\r\n\t\t\tif (id === \"CSBCategoryKey\") {\r\n\r\n\t\t\t\toInput.CSBSubbrand.CSBSubcategoryKey = \"\";\r\n\t\t\t\toInput.CSBSubcategory.Current = [];\r\n\r\n\t\t\t\toInput.CSBSubbrand.CSBBrandKey = \"\";\r\n\t\t\t\toInput.CSBBrand.Current = [];\r\n\r\n\t\t\t\toModel.refresh(false);\r\n\r\n\t\t\t\tthis._getCSBSubcategory();\r\n\t\t\t\tthis._getCSBBrand();\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tif (id === \"CSBSubcategoryKey\") {\r\n\r\n\t\t\t\t\toInput.CSBSubbrand.CSBBrandKey = \"\";\r\n\t\t\t\t\toInput.CSBBrand.Current = [];\r\n\r\n\t\t\t\t\toModel.refresh(false);\r\n\r\n\t\t\t\t\tthis._getCSBBrand();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tthis._getCSBSubbrand(oInput.CSBSubbrand.CSBCategoryKey, oInput.CSBSubbrand.CSBSubcategoryKey, oInput.CSBSubbrand.CSBBrandKey);\r\n\t\t},\r\n\r\n\t\t_getCSBSubcategory: function() {\r\n\t\t\tvar oModel = this.getModel(\"AddActivity\");\r\n\t\t\tvar oInput = oModel.getData();\r\n\t\t\tvar sServiceUrl = this.getOwnerComponent().getModel(\"masterShared\").getProperty(\"/oServiceUrls/mainService\");\r\n\t\t\tvar that = this;\r\n\r\n\t\t\tvar sbmodel = this.oPersonalizationDialog.getModel(\"CSBvhph\");\r\n\t\t\tif (!sbmodel) {\r\n\t\t\t\tsbmodel = new sap.ui.model.odata.v2.ODataModel(sServiceUrl, false);\r\n\t\t\t\tsbmodel.setSizeLimit(50000);\r\n\t\t\t\tsbmodel.setDefaultCountMode(sap.ui.model.odata.CountMode.None);\r\n\t\t\t\tthis.oPersonalizationDialog.setModel(sbmodel, \"CSBvhph\");\r\n\t\t\t}\r\n\r\n\t\t\tvar filters = [];\r\n\t\t\tfilters.push(new sap.ui.model.Filter(\"Category\", sap.ui.model.FilterOperator.EQ, oInput.CSBSubbrand.CSBCategoryKey));\r\n\r\n\t\t\tvar sPath = \"/VHSubcategories\";\r\n\r\n\t\t\tvar oSBPromise = new Promise(function(resolve, reject) {\r\n\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\tsbmodel.read(sPath, {\r\n\t\t\t\t\t\tasync: true,\r\n\t\t\t\t\t\tfilters: filters,\r\n\t\t\t\t\t\tsuccess: function(oData) {\r\n\t\t\t\t\t\t\tTimeoutUtils.onResetTimer(this);\r\n\t\t\t\t\t\t\tthat._setCSBSubcategory(oData);\r\n\t\t\t\t\t\t\tresolve(oData);\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\terror: function(oError) {\r\n\t\t\t\t\t\t\toError.ErrorOrigin = \"Subbrands\";\r\n\t\t\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.detail\", \"Errors\", oError);\r\n\t\t\t\t\t\t\treject(oError);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}, 200);\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t_setCSBSubcategory: function(oDataIn) {\r\n\t\t\tvar oModel = this.getModel(\"AddActivity\");\r\n\t\t\tvar oData = oModel.getData();\r\n\r\n\t\t\tif (!oData.CSBSubcategory) {\r\n\t\t\t\toData.CSBSubcategory = {};\r\n\t\t\t}\r\n\t\t\toData.CSBSubcategory.Current = [];\r\n\t\t\toData.CSBSubcategory.Current = oDataIn.results;\r\n\t\t\toModel.refresh(false);\r\n\t\t},\r\n\r\n\t\t_getCSBBrand: function() {\r\n\t\t\tvar oModel = this.getModel(\"AddActivity\");\r\n\t\t\tvar oInput = oModel.getData();\r\n\t\t\tvar sServiceUrl = this.getOwnerComponent().getModel(\"masterShared\").getProperty(\"/oServiceUrls/mainService\");\r\n\t\t\tvar that = this;\r\n\r\n\t\t\tvar sbmodel = this.oPersonalizationDialog.getModel(\"CSBvhph\");\r\n\t\t\tif (!sbmodel) {\r\n\t\t\t\tsbmodel = new sap.ui.model.odata.v2.ODataModel(sServiceUrl, false);\r\n\t\t\t\tsbmodel.setSizeLimit(50000);\r\n\t\t\t\tsbmodel.setDefaultCountMode(sap.ui.model.odata.CountMode.None);\r\n\t\t\t\tthis.oPersonalizationDialog.setModel(sbmodel, \"CSBvhph\");\r\n\t\t\t}\r\n\r\n\t\t\tvar filters = [];\r\n\r\n\t\t\tfilters.push(new sap.ui.model.Filter(\"Category\", sap.ui.model.FilterOperator.EQ, oInput.CSBSubbrand.CSBCategoryKey));\r\n\t\t\tfilters.push(new sap.ui.model.Filter(\"PSubCategory\", sap.ui.model.FilterOperator.EQ, oInput.CSBSubbrand.CSBSubcategoryKey));\r\n\r\n\t\t\tvar sPath = \"/VHBrands\";\r\n\r\n\t\t\tvar oSBPromise = new Promise(function(resolve, reject) {\r\n\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\tsbmodel.read(sPath, {\r\n\t\t\t\t\t\tasync: true,\r\n\t\t\t\t\t\tfilters: filters,\r\n\t\t\t\t\t\tsuccess: function(oData) {\r\n\t\t\t\t\t\t\tTimeoutUtils.onResetTimer(this);\r\n\t\t\t\t\t\t\tthat._setCSBBrand(oData);\r\n\t\t\t\t\t\t\tresolve(oData);\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\terror: function(oError) {\r\n\t\t\t\t\t\t\toError.ErrorOrigin = \"Subbrands\";\r\n\t\t\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.detail\", \"Errors\", oError);\r\n\t\t\t\t\t\t\treject(oError);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}, 200);\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t_setCSBBrand: function(oDataIn) {\r\n\t\t\tvar oModel = this.getModel(\"AddActivity\");\r\n\t\t\tvar oData = oModel.getData();\r\n\r\n\t\t\tif (!oData.CSBBrand) {\r\n\t\t\t\toData.CSBBrand = {};\r\n\t\t\t}\r\n\t\t\toData.CSBBrand.Current = [];\r\n\t\t\toData.CSBBrand.Current = oDataIn.results;\r\n\t\t\toModel.refresh(false);\r\n\t\t},\r\n\r\n\t\t_getExistingCSBSubbrand: function(AsmID) {\r\n\t\t\tvar sServiceUrl = this.getOwnerComponent().getModel(\"masterShared\").getProperty(\"/oServiceUrls/mainService\");\r\n\r\n\t\t\tvar sbmodel = this.getModel(\"CSBESubbrands\");\r\n\r\n\t\t\tif (!sbmodel) {\r\n\t\t\t\tsbmodel = new sap.ui.model.odata.v2.ODataModel(sServiceUrl, false);\r\n\t\t\t\tsbmodel.setSizeLimit(50000);\r\n\t\t\t\tsbmodel.setDefaultCountMode(sap.ui.model.odata.CountMode.None);\r\n\t\t\t\tthis.setModel(sbmodel, \"CSBESubbrands\");\r\n\t\t\t}\r\n\r\n\t\t\tvar filters = [];\r\n\t\t\tfilters.push(new sap.ui.model.Filter(\"AsmId\", sap.ui.model.FilterOperator.EQ, AsmID));\r\n\r\n\t\t\tvar sPath = \"/CrossSubBrandListSet\";\r\n\t\t\tvar that = this;\r\n\r\n\t\t\tvar oSBPromise = new Promise(function(resolve, reject) {\r\n\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\tsbmodel.read(sPath, {\r\n\t\t\t\t\t\tasync: true,\r\n\t\t\t\t\t\tfilters: filters,\r\n\t\t\t\t\t\tsuccess: function(oData, oResponse) {\r\n\t\t\t\t\t\t\tTimeoutUtils.onResetTimer(this);\r\n\t\t\t\t\t\t\tthat._setExistingCSBSubbrand(oData);\r\n\t\t\t\t\t\t\tresolve(oData);\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\terror: function(oError) {\r\n\t\t\t\t\t\t\toError.ErrorOrigin = \"GetSubbrands\";\r\n\t\t\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.detail\", \"Errors\", oError);\r\n\t\t\t\t\t\t\treject(oError);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}, 200);\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t_setExistingCSBSubbrand: function(oDataIn) {\r\n\t\t\tvar oModel = this.getModel(\"AddActivity\");\r\n\t\t\tvar oData = oModel.getData();\r\n\t\t\tif (!oData.CSBSubbrand) {\r\n\t\t\t\toData.CSBSubbrand = {};\r\n\t\t\t}\r\n\t\t\toData.CSBSubbrand.Selected = oDataIn.results;\r\n\t\t\toData.CSBSubbrand.Count.Selected = \"(\" + oData.CSBSubbrand.Selected.length + \")\";\r\n\t\t\toModel.refresh(false);\r\n\t\t},\r\n\r\n\t\t_getdefaultCSBfilter: function() {\r\n\t\t\tvar oModel = this.getModel(\"AddActivity\");\r\n\t\t\tvar oInput = oModel.getData();\r\n\r\n\t\t\toInput.CSBSubbrand.CSBCategoryKey = oInput.Input.CategoryKey;\r\n\t\t\toInput.CSBSubbrand.CSBSubcategoryKey = oInput.Input.SubcategoryKey;\r\n\t\t\toInput.CSBSubbrand.CSBBrandKey = oInput.Input.BrandKey;\r\n\r\n\t\t\tthis._getCSBCategory();\r\n\t\t\toInput.CSBSubcategory.Current = oInput.Subcategory.Current;\r\n\t\t\toInput.CSBBrand.Current = oInput.Brand.Current;\r\n\r\n\t\t\tthis._getCSBSubbrand(oInput.Input.CategoryKey, oInput.Input.SubcategoryKey, oInput.Input.BrandKey);\r\n\r\n\t\t\toModel.refresh(false);\r\n\r\n\t\t},\r\n\r\n\t\t_getCSBCategory: function() {\r\n\r\n\t\t\tvar oModel = this.getModel(\"AddActivity\");\r\n\t\t\tvar oInput = oModel.getData();\r\n\t\t\tvar sServiceUrl = this.getOwnerComponent().getModel(\"masterShared\").getProperty(\"/oServiceUrls/mainService\");\r\n\t\t\tvar that = this;\r\n\r\n\t\t\tvar sbmodel = this.oPersonalizationDialog.getModel(\"CSBvhph\");\r\n\t\t\tif (!sbmodel) {\r\n\t\t\t\tsbmodel = new sap.ui.model.odata.v2.ODataModel(sServiceUrl, false);\r\n\t\t\t\tsbmodel.setSizeLimit(50000);\r\n\t\t\t\tsbmodel.setDefaultCountMode(sap.ui.model.odata.CountMode.None);\r\n\t\t\t\tthis.oPersonalizationDialog.setModel(sbmodel, \"CSBvhph\");\r\n\t\t\t}\r\n\r\n\t\t\tvar filters = [];\r\n\t\t\tvar sPath = \"/VHCategories\";\r\n\r\n\t\t\tvar oSBPromise = new Promise(function(resolve, reject) {\r\n\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\tsbmodel.read(sPath, {\r\n\t\t\t\t\t\tasync: true,\r\n\t\t\t\t\t\tfilters: filters,\r\n\t\t\t\t\t\tsuccess: function(oData) {\r\n\t\t\t\t\t\t\tTimeoutUtils.onResetTimer(this);\r\n\t\t\t\t\t\t\tthat._setCSBCategory(oData);\r\n\t\t\t\t\t\t\tresolve(oData);\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\terror: function(oError) {\r\n\t\t\t\t\t\t\toError.ErrorOrigin = \"Subbrands\";\r\n\t\t\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.detail\", \"Errors\", oError);\r\n\t\t\t\t\t\t\treject(oError);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}, 200);\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t_setCSBCategory: function(oDataIn) {\r\n\t\t\tvar oModel = this.getModel(\"AddActivity\");\r\n\t\t\tvar oData = oModel.getData();\r\n\t\t\tif (!oData.CSBCategory) {\r\n\t\t\t\toData.CSBCategory = {};\r\n\t\t\t}\r\n\t\t\toData.CSBCategory.Current = [];\r\n\t\t\toData.CSBCategory.Current = oDataIn.results;\r\n\t\t\toModel.refresh(false);\r\n\t\t},\r\n\r\n\t\t_addCSBbrands: function(oEvent) {\r\n\r\n\t\t\tvar oModel = this.getModel(\"AddActivity\"),\r\n\t\t\t\tCSBTable = oEvent.oSource.getParent().getParent(),\r\n\t\t\t\tSelectedRowContext = CSBTable.getSelectedIndices(),\r\n\t\t\t\tbinding = CSBTable.getBinding();\r\n\r\n\t\t\tif (SelectedRowContext.length) {\r\n\t\t\t\tfor (var i = 0; i < SelectedRowContext.length; i++) {\r\n\t\t\t\t\tvar rowIndices = \"\",\r\n\t\t\t\t\t\tnewdata = {},\r\n\t\t\t\t\t\tFData = {};\r\n\r\n\t\t\t\t\trowIndices = SelectedRowContext[i];\r\n\r\n\t\t\t\t\tvar selctedrow = binding.oList[rowIndices];\r\n\r\n\t\t\t\t\tnewdata.SubbrandKey = selctedrow.SubbrandKey;\r\n\t\t\t\t\tnewdata.SubbrandDesc = selctedrow.SubbrandDesc;\r\n\t\t\t\t\tnewdata.LeadSubbrand = \"\";\r\n\t\t\t\t\tnewdata.UpdatedFlag = \"I\";\r\n\r\n\t\t\t\t\toModel.oData.CSBSubbrand.Change.push(newdata);\r\n\t\t\t\t\toModel.oData.CSBSubbrand.Selected.push(newdata);\r\n\r\n\t\t\t\t\t//CSBTest\r\n\t\t\t\t\tFData.K = selctedrow.SubbrandKey;\r\n\t\t\t\t\tFData.L = \"\";\r\n\t\t\t\t\tFData.U = \"I\";\r\n\t\t\t\t\toModel.oData.CSBSubbrand.NewChange.push(FData);\r\n\t\t\t\t\t//CSBTest\t\t\t\t\t\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar reverse = [].concat(CSBTable.getSelectedIndices()).reverse();\r\n\r\n\t\t\t\treverse.forEach(function(index) {\r\n\t\t\t\t\toModel.getData().CSBSubbrand.Current.splice(index, 1);\r\n\t\t\t\t});\r\n\r\n\t\t\t\toModel.oData.CSBSubbrand.Count.Selected = \"(\" + oModel.oData.CSBSubbrand.Selected.length + \")\";\r\n\t\t\t\toModel.oData.CSBSubbrand.Count.Current = \"(\" + oModel.oData.CSBSubbrand.Current.length + \")\";\r\n\r\n\t\t\t\toModel.refresh(false);\r\n\t\t\t\tCSBTable.clearSelection();\r\n\r\n\t\t\t} else {\r\n\t\t\t\tvar sMessage = this.getModel(\"i18n\").getResourceBundle().getText(\"AC_CSBAddError\");\r\n\t\t\t\tMessageToast.show(sMessage);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_deleteCSBBrands: function(oEvent) {\r\n\t\t\tvar oModel = this.getModel(\"AddActivity\"),\r\n\t\t\t\toChange = oModel.getData().CSBSubbrand.Change,\r\n\r\n\t\t\t\tCSBTable_Selected = oEvent.oSource.getParent().getParent(),\r\n\t\t\t\tSelectedRowContext = CSBTable_Selected.getSelectedIndices(),\r\n\t\t\t\tbinding = CSBTable_Selected.getBinding();\r\n\r\n\t\t\tif (SelectedRowContext.length) {\r\n\t\t\t\tfor (var i = 0; i < SelectedRowContext.length; i++) {\r\n\t\t\t\t\tvar newdata = {},\r\n\t\t\t\t\t\tFData = {},\r\n\t\t\t\t\t\tflag = \"\";\r\n\t\t\t\t\tvar rowIndices = SelectedRowContext[i];\r\n\t\t\t\t\tvar selctedrow = binding.oList[rowIndices];\r\n\r\n\t\t\t\t\tfor (var j = 0; j < oChange.length; j++) {\r\n\t\t\t\t\t\tif (oChange[j].SubbrandKey === selctedrow.SubbrandKey && oChange[j].UpdatedFlag === \"I\") {\r\n\t\t\t\t\t\t\toModel.getData().CSBSubbrand.Change.splice(j, 1);\r\n\r\n\t\t\t\t\t\t\tnewdata.SubbrandKey = selctedrow.SubbrandKey;\r\n\t\t\t\t\t\t\tnewdata.SubbrandDesc = selctedrow.SubbrandDesc;\r\n\t\t\t\t\t\t\tnewdata.LeadSubbrand = \"\";\r\n\t\t\t\t\t\t\tnewdata.UpdatedFlag = \"D\";\r\n\r\n\t\t\t\t\t\t\toModel.oData.CSBSubbrand.Current.push(newdata);\r\n\r\n\t\t\t\t\t\t\t//CSBTest\r\n\t\t\t\t\t\t\toModel.getData().CSBSubbrand.NewChange.splice(j, 1);\r\n\t\t\t\t\t\t\t//CSBTest\t\t\t\t\t\r\n\r\n\t\t\t\t\t\t\tflag = \"X\";\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (flag !== \"X\") {\r\n\t\t\t\t\t\tnewdata.SubbrandKey = selctedrow.SubbrandKey;\r\n\t\t\t\t\t\tnewdata.SubbrandDesc = selctedrow.SubbrandDesc;\r\n\t\t\t\t\t\tnewdata.LeadSubbrand = \"\";\r\n\t\t\t\t\t\tnewdata.UpdatedFlag = \"D\";\r\n\r\n\t\t\t\t\t\toModel.oData.CSBSubbrand.Change.push(newdata);\r\n\t\t\t\t\t\toModel.oData.CSBSubbrand.Current.push(newdata);\r\n\r\n\t\t\t\t\t\t//CSBTest\r\n\t\t\t\t\t\tFData.K = selctedrow.SubbrandKey;\r\n\t\t\t\t\t\tFData.L = \"\";\r\n\t\t\t\t\t\tFData.U = \"D\";\r\n\t\t\t\t\t\toModel.oData.CSBSubbrand.NewChange.push(FData);\r\n\t\t\t\t\t\t//CSBTest\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar reverse = [].concat(CSBTable_Selected.getSelectedIndices()).reverse();\r\n\r\n\t\t\t\treverse.forEach(function(index) {\r\n\t\t\t\t\toModel.getData().CSBSubbrand.Selected.splice(index, 1);\r\n\t\t\t\t});\r\n\r\n\t\t\t\toModel.oData.CSBSubbrand.Count.Selected = \"(\" + oModel.oData.CSBSubbrand.Selected.length + \")\";\r\n\t\t\t\toModel.oData.CSBSubbrand.Count.Current = \"(\" + oModel.oData.CSBSubbrand.Current.length + \")\";\r\n\r\n\t\t\t\toModel.refresh(false);\r\n\t\t\t\tCSBTable_Selected.clearSelection();\r\n\r\n\t\t\t} else {\r\n\t\t\t\tvar sMessage = this.getModel(\"i18n\").getResourceBundle().getText(\"AC_CSBDeleteError\");\r\n\t\t\t\tMessageToast.show(sMessage);\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\t_setinitialCSBSubbrandvalues: function() {\r\n\t\t\tvar oModel = this.getModel(\"AddActivity\");\r\n\r\n\t\t\tvar sData = oModel.getData().CSBSubbrand.Selected,\r\n\t\t\t\tcData = oModel.getData().CSBSubbrand.Current;\r\n\r\n\t\t\tfor (var i = 0; i < sData.length; i++) {\r\n\t\t\t\tfor (var j = 0; j < cData.length; j++) {\r\n\t\t\t\t\tif (sData[i].SubbrandKey === cData[j].SubbrandKey) {\r\n\t\t\t\t\t\toModel.getData().CSBSubbrand.Current.splice(j, 1);\r\n\t\t\t\t\t\toModel.refresh(false);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\toModel.oData.CSBSubbrand.Count.Current = \"(\" + oModel.oData.CSBSubbrand.Current.length + \")\";\r\n\t\t\toModel.refresh(false);\r\n\r\n\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", false); // Stop Spinner\r\n\t\t},\r\n\r\n\t\t_discardallCSBChange: function() {\r\n\t\t\tvar oModel = this.getModel(\"AddActivity\");\r\n\r\n\t\t\tvar sData = oModel.getData().CSBSubbrand.Selected,\r\n\t\t\t\tcData = oModel.getData().CSBSubbrand.Change;\r\n\r\n\t\t\tfor (var j = 0; j < cData.length; j++) {\r\n\t\t\t\tfor (var i = 0; i < sData.length; i++) {\r\n\t\t\t\t\tif (sData[i].SubbrandKey === cData[j].SubbrandKey) {\r\n\t\t\t\t\t\toModel.getData().CSBSubbrand.Selected.splice(i, 1);\r\n\t\t\t\t\t\toModel.refresh(false);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\toModel.getData().CSBSubbrand.Change = [];\r\n\t\t\toModel.refresh(false);\r\n\t\t},\r\n\r\n\t\t_clearAllCSBSelection: function(oEvent) {\r\n\t\t\tvar Table = oEvent.oSource.getParent().getParent();\r\n\t\t\tTable.clearSelection();\r\n\t\t},\r\n\r\n\t\t_initializeCSB: function(oModel) {\r\n\t\t\tvar oData = oModel.getData();\r\n\r\n\t\t\toData.CSBSubbrand.Change = [];\r\n\t\t\toData.CSBSubbrand.NewChange = [];\r\n\t\t\toData.CSBSubbrand.Selected = [];\r\n\t\t\toData.CSBSubbrand.Count.Current = \"(0)\";\r\n\t\t\toData.CSBSubbrand.Count.Selected = \"(0)\";\r\n\r\n\t\t\toModel.refresh(false);\r\n\t\t}\r\n\r\n\t\t// INBHD02\t\t\r\n\r\n\t});\r\n});",
		"colgate/asm/planning/base/view/DetailObjectNotFound.view.xml": "<mvc:View\r\n\t\tcontrollerName=\"colgate.asm.planning.base.controller.BaseController\"\r\n\t\txmlns:mvc=\"sap.ui.core.mvc\"\r\n\t\txmlns=\"sap.m\">\r\n\r\n\t<MessagePage\r\n\t\t\tid=\"page\"\r\n\t\t\ttitle=\"{i18n>detailTitle}\"\r\n\t\t\ttext=\"{i18n>noObjectFoundText}\"\r\n\t\t\ticon=\"{sap-icon://product}\"\r\n\t\t\tdescription=\"\"\r\n\t\t\tshowNavButton=\"{device>/system/phone}\"\r\n\t\t\tnavButtonPress=\"onNavBack\">\r\n\t</MessagePage>\r\n\r\n</mvc:View>",
		"colgate/asm/planning/base/controller/Activities.controller.js": "/*global location */\r\nsap.ui.define([\r\n\t\"colgate/asm/planning/base/controller/BaseController\",\r\n\t\"sap/ui/model/json/JSONModel\",\r\n\t\"colgate/asm/planning/base/model/formatter\",\r\n\t\"colgate/asm/planning/base/util/ValidationUtils\",\r\n\t\"colgate/asm/planning/base/util/PersonalizationUtils\",\r\n\t\"colgate/asm/planning/base/util/CustomCurrencyType\",\r\n\t\"colgate/asm/planning/base/util/CustomCurrencyTypeFull\",\r\n\t\"colgate/asm/planning/base/util/CopyUtils\",\r\n\t\"colgate/asm/planning/base/util/StatusChangeUtils\",\r\n\t\"colgate/asm/planning/base/util/ColumnCatalog\",\r\n\t\"colgate/asm/planning/base/util/FieldControlUtils\",\r\n\t\"colgate/asm/planning/base/util/MonthPicker\",\r\n\t\"sap/m/MessageToast\",\r\n\t\"sap/m/MessagePopover\",\r\n\t\"sap/m/MessagePopoverItem\",\r\n\t'sap/ui/model/Filter',\r\n\t'sap/ui/model/Sorter',\r\n\t'sap/m/MessageBox',\r\n\t'sap/m/Dialog',\r\n\t'sap/ui/layout/VerticalLayout',\r\n\t'sap/ui/layout/HorizontalLayout',\r\n\t'colgate/asm/planning/base/util/VendorUtils',\r\n\t'colgate/asm/planning/base/util/TimeoutUtils',\r\n\t'colgate/asm/planning/base/util/OverlayUtils',\r\n\t\"colgate/asm/planning/base/util/SpinnerUtils\"\r\n], function(BaseController, JSONModel, formatter, ValidationUtils, PersonalizationUtils, CustomCurrencyType, CustomCurrencyTypeFull,\r\n\tCopyUtils, StatusChangeUtils, ColumnCatalog, FieldControlUtils,\r\n\tMonthPicker, MessageToast, MessagePopover, MessagePopoverItem, Filter, Sorter,\r\n\tMessageBox, Dialog, VerticalLayout,\r\n\tHorizontalLayout, VendorUtils, TimeoutUtils, OverlayUtils, SpinnerUtils) {\r\n\t\"use strict\";\r\n\r\n\treturn BaseController.extend(\"colgate.asm.planning.base.controller.Activities\", {\r\n\r\n\t\tformatter: formatter,\r\n\t\t_oDialog: null,\r\n\r\n\t\t/* =========================================================== */\r\n\t\t/* lifecycle methods                                           */\r\n\t\t/* =========================================================== */\r\n\r\n\t\tonInit: function() {\r\n\t\t\t// Model used to manipulate control states. The chosen values make sure,\r\n\t\t\t// detail page is busy indication immediately so there is no break in\r\n\t\t\t// between the busy indication for loading the view's meta data\r\n\t\t\tvar oViewModel = new JSONModel({\r\n\t\t\t\toTableControl: {\r\n\t\t\t\t\teditable: false,\r\n\t\t\t\t\tvisibleRowCount: 15,\r\n\t\t\t\t\taddEnabled: true,\r\n\t\t\t\t\tssaveEnabled: false,\r\n\t\t\t\t\tstatusEnabled: true,\r\n\t\t\t\t\tselMatchEnabled: false,\r\n\t\t\t\t\teditEnabled: false,\r\n\t\t\t\t\tcopyEnabled: false, //Added by Dipen on June 7th, 2016\r\n\t\t\t\t\tdeleteEnabled: false,\r\n\t\t\t\t\tcheckEnabled: true,\r\n\t\t\t\t\tdistributeEnabled: false,\r\n\t\t\t\t\tprojectFilterEnabled: true,\r\n\t\t\t\t\teMailVisible: true,\r\n\t\t\t\t\tclearVisible: true,\r\n\t\t\t\t\tpersonalizeVisible: true,\r\n\t\t\t\t\tbAddVisible: true,\r\n\t\t\t\t\tbSSaveVisible: false,\r\n\t\t\t\t\tbDeleteVisible: true,\r\n\t\t\t\t\tbCheckVisible: true,\r\n\t\t\t\t\tbSCancelVisible: false,\r\n\t\t\t\t\tbVariantVisible: true,\r\n\t\t\t\t\tbStatusVisible: true,\r\n\t\t\t\t\tbEditVisible: true,\r\n\t\t\t\t\tbCopyVisible: true,\r\n\t\t\t\t\tbDisplayVisible: true,\r\n\t\t\t\t\tbValidateVisible: false,\r\n\t\t\t\t\tbSaveVisible: false,\r\n\t\t\t\t\tbCancelVisible: false,\r\n\t\t\t\t\tbEMailVisible: true,\r\n\t\t\t\t\tbClearVisible: true,\r\n\t\t\t\t\tbPersonalizeVisible: true,\r\n\t\t\t\t\tbDistributeVisible: false,\r\n\t\t\t\t\t//psutram modified Dec 15th, 2016 to include Refresh and Calculate functionality\r\n\t\t\t\t\tbRefreshVisible: true,\r\n\t\t\t\t\trefreshEnabled: true,\r\n\t\t\t\t\tbCalculateVisible: false,\r\n\t\t\t\t\tcalculateEnabled: true,\r\n\t\t\t\t\tprojectFilterText: this.getOwnerComponent().getModel(\"i18n\").getProperty(\"TS_myProjects\"),\r\n\t\t\t\t\tprojectFilterPressed: true,\r\n\t\t\t\t\tprojectFilterCount: 0,\r\n\t\t\t\t\tprojectFilterYear: \"\",\r\n\t\t\t\t\tprojectFilterYearNew: \"\"\r\n\r\n\t\t\t\t},\r\n\t\t\t\toPlaceholder: {\r\n\t\t\t\t\tbudget: this.getOwnerComponent().getModel(\"i18n\").getProperty(\"C_P_Budget\")\r\n\t\t\t\t},\r\n\t\t\t\toTabButtons: {\r\n\t\t\t\t\tvisible: {\r\n\t\t\t\t\t\tsave: false,\r\n\t\t\t\t\t\tedit: true,\r\n\t\t\t\t\t\tcancel: false\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\toDynText: {\r\n\t\t\t\t\trows: this.getOwnerComponent().getModel(\"i18n\").getResourceBundle().getText(\"C_S_filter\", [\"0\", \"0\"]),\r\n\t\t\t\t\tshareSendEMailSubject: \"Subject\",\r\n\t\t\t\t\tshareSendEMailMessage: \"Here's the Message\"\r\n\t\t\t\t},\r\n\t\t\t\toTabHeader: {\r\n\t\t\t\t\tcurrency: \"\",\r\n\t\t\t\t\tmode: \"Normal\"\r\n\t\t\t\t},\r\n\t\t\t\toFStatus: {\r\n\t\t\t\t\tSelected: \"\",\r\n\t\t\t\t\tOptions: [],\r\n\t\t\t\t\tEnabled: true,\r\n\t\t\t\t\tVisible: true,\r\n\t\t\t\t\tPlaceholder: this.getOwnerComponent().getModel(\"i18n\").getResourceBundle().getText(\"S_P_fStatus\", [])\r\n\t\t\t\t},\r\n\t\t\t\toTStatus: {\r\n\t\t\t\t\tSelected: \"\",\r\n\t\t\t\t\tOptions: [],\r\n\t\t\t\t\tEnabled: false,\r\n\t\t\t\t\tVisible: true,\r\n\t\t\t\t\tPlaceholder: this.getOwnerComponent().getModel(\"i18n\").getResourceBundle().getText(\"S_P_tStatus_e\", [])\r\n\t\t\t\t},\r\n\t\t\t\toDist: {\r\n\t\t\t\t\tAmt: 0\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tthis.getRouter().getRoute(\"activities\").attachPatternMatched(this._onObjectMatched, this);\r\n\t\t\toViewModel.setSizeLimit(50000);\r\n\t\t\tthis.setModel(oViewModel, \"projectView\");\r\n\r\n\t\t\tthis.getOwnerComponent().getModel().metadataLoaded().then(this._onMetadataLoaded.bind(this));\r\n\r\n\t\t\tvar sServiceUrl = this.getOwnerComponent().getModel(\"masterShared\").getProperty(\"/oServiceUrls/mainService\");\r\n\t\t\tvar oBaseModel = new sap.ui.model.odata.v2.ODataModel(sServiceUrl);\r\n\t\t\toBaseModel.setSizeLimit(50000);\r\n\t\t\tthis.setModel(oBaseModel);\r\n\r\n\t\t\t//GDH - Receive events when screen is shown \r\n\t\t\tvar oEventBus = sap.ui.getCore().getEventBus();\r\n\t\t\tthis._Event_ConfigurationLoaded = false;\r\n\t\t\tthis._Event_VariantsSet = false;\r\n\t\t\tthis._Event_PersonalizationInitialized = false;\r\n\t\t\toEventBus.subscribe(\"colgate.asm.planning.master.listItemSelected\", \"Activities\", function(sChannelId, sEventId, oData) {\r\n\t\t\t\t// USERA04 / 2-1-17 / Resets display from status mode.\r\n\t\t\t\tvar cMode = this.getOwnerComponent().getModel(\"masterShared\").getData().oInternalEvents.currentMode;\r\n\t\t\t\tif (cMode === \"Edit\" || cMode === \"Status\") {\r\n\t\t\t\t\t// Cancel Edit or Status Mode\r\n\t\t\t\t\t// if (this.getOwnerComponent().getModel(\"masterShared\").getData().oInternalEvents.currentMode === \"Edit\") {\r\n\t\t\t\t\tvar that = this;\r\n\t\t\t\t\tvar oData2 = oData;\r\n\t\t\t\t\tsap.m.MessageBox.show(\r\n\t\t\t\t\t\tthis.getModel(\"i18n\").getResourceBundle().getText(\"B_T_confirmCancel_Body\"), {\r\n\t\t\t\t\t\t\ticon: sap.m.MessageBox.Icon.QUESTION,\r\n\t\t\t\t\t\t\ttitle: this.getModel(\"i18n\").getResourceBundle().getText(\"B_T_confirmSwitch\"),\r\n\t\t\t\t\t\t\tactions: [sap.m.MessageBox.Action.YES, sap.m.MessageBox.Action.NO],\r\n\t\t\t\t\t\t\tonClose: function(oAction) {\r\n\t\t\t\t\t\t\t\tif (oAction === sap.m.MessageBox.Action.YES) {\r\n\t\t\t\t\t\t\t\t\tif (cMode === \"Status\") {\r\n\t\t\t\t\t\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.master.button.pressed\", \"CancelStatus\", {});\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tthat.onCancel(null);\r\n\t\t\t\t\t\t\t\t\t\tthat._getItems(oData2);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis._getItems(oData);\r\n\t\t\t\t}\r\n\t\t\t}, this);\r\n\r\n\t\t\t//DblClick Changes // USERA04 // 3/7/17\r\n\t\t\toEventBus.subscribe(\"colgate.asm.planning.master.listItemSelected\", \"Update\", function(sChannelId, sEventId, oData) {\r\n\t\t\t\tvar cMode = this.getOwnerComponent().getModel(\"masterShared\").getData().oInternalEvents.currentMode;\r\n\t\t\t\tif (cMode === \"Edit\" || cMode === \"Status\") {\r\n\t\t\t\t\tvar that = this;\r\n\t\t\t\t\tsap.m.MessageBox.show(\r\n\t\t\t\t\t\tthis.getModel(\"i18n\").getResourceBundle().getText(\"B_T_confirmCancel_Body\"), {\r\n\t\t\t\t\t\t\ticon: sap.m.MessageBox.Icon.QUESTION,\r\n\t\t\t\t\t\t\ttitle: this.getModel(\"i18n\").getResourceBundle().getText(\"B_T_editRow\"),\r\n\t\t\t\t\t\t\tactions: [sap.m.MessageBox.Action.YES, sap.m.MessageBox.Action.NO],\r\n\t\t\t\t\t\t\tonClose: function(oAction) {\r\n\t\t\t\t\t\t\t\tif (oAction === sap.m.MessageBox.Action.YES) {\r\n\t\t\t\t\t\t\t\t\tthat.onEdit(oData);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.onEdit(oData);\r\n\t\t\t\t}\r\n\t\t\t}, this);\r\n\t\t\t//End Of USERA04\r\n\r\n\t\t\t// Eric Atempa / 1-27-2017 / Added new subscribe to refresh data\r\n\t\t\toEventBus.subscribe(\"colgate.asm.planning.master.reinitialize\", \"CurrencyChange\", function(sChannelId, sEventId, oData) {\r\n\t\t\t\tthis.onCancel(null);\r\n\t\t\t\tthis._getItems(oData);\r\n\t\t\t}, this);\r\n\r\n\t\t\toEventBus.subscribe(\"colgate.asm.planning.master.reinitialize\", \"ChangeStatus\", function(sChannelId, sEventId, oData) {\r\n\t\t\t\t//\t\t\t    this._onStatusChange(null);\r\n\t\t\t\tthis._getItems(oData);\r\n\t\t\t}, this);\r\n\t\t\toEventBus.subscribe(\"colgate.asm.planning.activities\", \"RecalculateTotals\", function(sChannelId, sEventId, oData) {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\tthat._validateInput();\r\n\t\t\t\t}, 200);\r\n\t\t\t}, this);\r\n\t\t\toEventBus.subscribe(\"colgate.asm.planning.master.button.pressed\", \"Projects\", function(sChannelId, sEventId, oData) {\r\n\t\t\t\tthis._onButtonPressed(null, oData);\r\n\t\t\t}, this);\r\n\t\t\toEventBus.subscribe(\"colgate.asm.planning.project\", \"Refresh\", function(sChannelId, sEventId, oData) {\r\n\t\t\t\tthis._onRefresh(oData);\r\n\t\t\t}, this);\r\n\t\t\toEventBus.subscribe(\"colgate.asm.planning.project\", \"Errors\", function(sChannelId, sEventId, oData) {\r\n\t\t\t\tthis._handleODataErrors(oData);\r\n\t\t\t}, this);\r\n\t\t\toEventBus.subscribe(\"colgate.asm.planning.project\", \"Success\", function(sChannelId, sEventId, oData) {\r\n\t\t\t\tthis._handleODataSuccess(oData);\r\n\t\t\t}, this);\r\n\t\t\toEventBus.subscribe(\"colgate.asm.planning.project\", \"ApplyStyles\", function(sChannelId, sEventId, oData) {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\tthat._setRowStyle();\r\n\t\t\t\t}, 100);\r\n\t\t\t}, this);\r\n\t\t\toEventBus.subscribe(\"colgate.asm.planning.master.button.pressed\", \"CancelStatus\", function(sChannelId, sEventId, oData) {\r\n\t\t\t\tthis._onStatusChange(null);\r\n\t\t\t}, this);\r\n\r\n\t\t\t//DblClick Changes // USERA04 // 3/7/17\r\n\t\t\toEventBus.subscribe(\"colgate.asm.planning.master.button.pressed\", \"CancelBudgetEdit\", function(sChannelId, sEventId, oData) {\r\n\t\t\t\tthis.__setBudgetEditable(false);\r\n\t\t\t}, this);\r\n\t\t\t//End of USERA04\r\n\r\n\t\t\toEventBus.subscribe(\"colgate.asm.planning.master.button.pressed\", \"SaveStatus\", function(sChannelId, sEventId, oData) {\r\n\t\t\t\tStatusChangeUtils.onSave(this, MessageToast);\r\n\t\t\t}, this);\r\n\t\t\t// oEventBus.subscribe(\"colgate.asm.planning.master.event\", \"UserDataLoaded\", function(sChannelId, sEventId, oData) {\r\n\t\t\t// \t// Update table personalization\r\n\t\t\t// }, this);\r\n\t\t\toEventBus.subscribe(\"colgate.asm.planning.app.event\", \"InitializationComplete\", function(sChannelId, sEventId, oData) {\r\n\t\t\t\t// Update table personalization\r\n\t\t\t\tif (this.getOwnerComponent().getModel(\"masterShared\") && this.getOwnerComponent().getModel(\"masterShared\").getData()) {\r\n\t\t\t\t\tif (!this.getOwnerComponent().getModel(\"masterShared\").getProperty(\"/oInternalEvents/activityPersonalizedInitialized\")) {\r\n\t\t\t\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oInternalEvents/activityPersonalizationInitialized\", true);\r\n\t\t\t\t\t\tthis._p13nInitialize();\r\n\t\t\t\t\t\tthis._setUpInitialVariant();\r\n\t\t\t\t\t\tthis._onRefresh();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis._confirmHeaderVisibilitySettings();\r\n\t\t\t}, this);\r\n\r\n\t\t\toEventBus.subscribe(\"colgate.asm.planning.app.event\", \"StartEventComplete\", function(sChannelId, sEventId, oData) {\r\n\t\t\t\tif (oData.Location === \"RoleOverlay\") {\r\n\t\t\t\t\tthis._RoleOverlayComplete = true;\r\n\t\t\t\t}\r\n\t\t\t\tif (oData.Location === \"LocationList\") {\r\n\t\t\t\t\tthis._LocationListComplete = true;\r\n\t\t\t\t}\r\n\t\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", true); // Start Spinner\r\n\t\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").refresh(false);\r\n\t\t\t\tif (this._RoleOverlayComplete && this._LocationListComplete) {\r\n\t\t\t\t\tvar that = this;\r\n\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\tthat._allowGetItems = true;\r\n\t\t\t\t\t\tthat._getItems(that._lastSelectionConfig);\r\n\t\t\t\t\t}, 200);\r\n\t\t\t\t}\r\n\t\t\t}, this);\r\n\r\n\t\t\t// Set up the initial selections\r\n\t\t\tvar oData = {};\r\n\t\t\toData.OnScreen = [];\r\n\t\t\toData.AsInputArray = [];\r\n\t\t\toData.FromService = [];\r\n\t\t\toData.ChangeControls = [];\r\n\t\t\toData.CurrentChangeControl = {};\r\n\t\t\tvar oModel = new sap.ui.model.json.JSONModel(oData);\r\n\t\t\toModel.setSizeLimit(50000);\r\n\t\t\tthis.setModel(oModel, \"Project\");\r\n\r\n\t\t\t//Set up error handling\r\n\t\t\tvar oMessageProcessor = new sap.ui.core.message.ControlMessageProcessor();\r\n\t\t\tvar oMessageManager = sap.ui.getCore().getMessageManager();\r\n\t\t\toMessageManager.registerMessageProcessor(oMessageProcessor);\r\n\t\t\tthis.oMessageManager = oMessageManager;\r\n\t\t\tthis.oMessageProcessor = oMessageProcessor;\r\n\r\n\t\t\t// Set up number of rows for the table\r\n\t\t\tvar oTable = this.byId(\"Table\");\r\n\t\t\tvar oBinding = oTable.getBinding(\"rows\");\r\n\t\t\toBinding.attachChange(function(sReason) {\r\n\t\t\t\tvar totalRows = this.getModel(\"Project\").getData().AsInputArray.length;\r\n\t\t\t\tvar iTableRowCount = oBinding.getLength();\r\n\t\t\t\tthis.getModel(\"projectView\").getData().oDynText.rows =\r\n\t\t\t\t\tthis.getOwnerComponent().getModel(\"i18n\").getResourceBundle().getText(\"C_S_filter\", [iTableRowCount, totalRows]);\r\n\t\t\t\t// Set the Visible Row Count\r\n\t\t\t\tif (this.getOwnerComponent().getModel(\"P13n\")) {\r\n\t\t\t\t\tvar iMaxTableRows = parseInt(this.getOwnerComponent().getModel(\"P13n_ActivitiesConfig\").getData().MaxTableRows);\r\n\t\t\t\t\tif (iTableRowCount > iMaxTableRows) {\r\n\t\t\t\t\t\tiTableRowCount = iMaxTableRows;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.getModel(\"projectView\").getData().oTableControl.visibleRowCount = iTableRowCount;\r\n\t\t\t\t}\r\n\t\t\t\tthis.getModel(\"projectView\").refresh(false);\r\n\t\t\t\t// Add in a check to see if there are entries where the filter should not be shown anymore.\r\n\t\t\t\tvar aFilters = oBinding.aFilters;\r\n\t\t\t\tvar aColumns = this.byId(\"Table\").getColumns();\r\n\t\t\t\tfor (var i = 0; i < aColumns.length; i++) {\r\n\t\t\t\t\tif (aColumns[i].getFiltered()) {\r\n\t\t\t\t\t\tvar bFiltered = false;\r\n\t\t\t\t\t\tfor (var j = 0; j < aFilters.length; j++) {\r\n\t\t\t\t\t\t\tif (aFilters[j].sPath.substring(aFilters[j].sPath.lastIndexOf(\">\") + 1) === aColumns[i].getFilterProperty()) {\r\n\t\t\t\t\t\t\t\tbFiltered = true;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\taColumns[i].setFiltered(bFiltered);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t//\t\t\t\tthis._validateInput(); // Used to re-calculate totals.\r\n\t\t\t\t//\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.project\", \"ApplyStyles\", {});\r\n\t\t\t}, this);\r\n\t\t\toTable.attachColumnMove({}, function(oEvent) {\r\n\t\t\t\tthis.__setVariantChangedIndicator();\r\n\t\t\t}, this);\r\n\t\t\toTable.attachColumnResize({}, function(oEvent) {\r\n\t\t\t\tthis.__setVariantChangedIndicator();\r\n\t\t\t}, this);\r\n\r\n\t\t\tvar that = this;\r\n\t\t\t// Note: The below event is not officially supported and the tie back to the SAPUI5 framework (via the path) could change.\r\n\t\t\t// This was done only because the requirement was deemed to be important - but it is understood that supporting double click\r\n\t\t\t// can add extra effort to the support of this product.\r\n\t\t\toTable.attachBrowserEvent(\"dblclick\", function(oEvent) {\r\n\t\t\t\tvar sPath = oEvent.target.id;\r\n\t\t\t\tif (sPath.indexOf(\"-row\") > 0) {\r\n\t\t\t\t\tvar iIndex = parseInt(sPath.substring(sPath.indexOf(\"-row\") + 4));\r\n\t\t\t\t\tvar iRow = oTable.getRows()[iIndex].getIndex();\r\n\t\t\t\t\toTable.clearSelection();\r\n\t\t\t\t\toTable.addSelectionInterval(iRow, iRow);\r\n\r\n\t\t\t\t\t//DblClick Changes // USERA04 // 3/7/17\r\n\t\t\t\t\t//that.onEdit(oEvent);\r\n\t\t\t\t\toEventBus = sap.ui.getCore().getEventBus();\r\n\t\t\t\t\toEventBus.publish(\"colgate.asm.planning.master.listItemSelected\", \"Update\", oEvent);\r\n\t\t\t\t\t//End Of USERA04\r\n\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tthis._onRefresh();\r\n\t\t\t$(document).ready(function() {\r\n\t\t\t\t// Attach Scroll Handler  \r\n\t\t\t\t// that.byId(\"Table\")._oVSb.attachScroll(function() {\r\n\t\t\t\t// \tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.project\", \"ApplyStyles\", {});\r\n\t\t\t\t// });\r\n\t\t\t});\r\n\t\t\tthis.byId(\"Table\").addEventDelegate({\r\n\t\t\t\tonAfterRendering: function() {\r\n\t\t\t\t\tthis._validateInput(); // To re-calculate totals\r\n\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.project\", \"ApplyStyles\", {});\r\n\t\t\t\t}\r\n\t\t\t}, this);\r\n\t\t\t// \t\t\tPSW add 2 lines May 16th 2016\r\n\t\t\tvar oTitle = this.getOwnerComponent().getModel(\"i18n\").getProperty(\"CP_PopUpTitle\");\r\n\t\t\tthis.byId(\"Variant-popover-popover-title\").setText(oTitle);\r\n\t\t\t// This section is using internal interfaces to set P13n titles that are not directly accessible via the public interface.  \r\n\t\t\t// If possible, this should be moved to public interfaces.\r\n\t\t\tvar oManagementTable = this.byId(\"Variant\").oManagementTable;\r\n\t\t\tvar oManagementSave = this.byId(\"Variant\").oSaveSave;\r\n\t\t\tvar that = this;\r\n\t\t\toManagementTable.onAfterRendering = function() {\r\n\t\t\t\tthat.byId(\"Variant-managementHeaderText\").setText(that.getOwnerComponent().getModel(\"i18n\").getProperty(\"CP_ManageVariantTitle\"));\r\n\t\t\t\tthat.byId(\"Variant-managementsave\").setText(that.getOwnerComponent().getModel(\"i18n\").getProperty(\"CP_ManageVariantSave\"));\r\n\t\t\t\tvar aItems = this.getItems();\r\n\t\t\t\tvar aVariants = that.getOwnerComponent().getModel(\"P13n_Variants\").getProperty(\"/Variants\");\r\n\t\t\t\tvar sDefaultVariant = that.getOwnerComponent().getModel(\"P13n_Variants\").getProperty(\"/DefaultVariant\");\r\n\t\t\t\tfor (var i = 0; i < aItems.length; i++) {\r\n\t\t\t\t\tvar oItem = aItems[i];\r\n\t\t\t\t\tif (oItem) {\r\n\t\t\t\t\t\tvar aCells = oItem.getCells();\r\n\t\t\t\t\t\tif (aCells.length > 3) {\r\n\t\t\t\t\t\t\tif (oItem.getKey() === \"*standard*\") {\r\n\t\t\t\t\t\t\t\taCells[1].setText(that.getOwnerComponent().getModel(\"i18n\").getProperty(\"V_shared\"));\r\n\t\t\t\t\t\t\t\taCells[3].setText(that.getOwnerComponent().getModel(\"i18n\").getProperty(\"V_authorInternal\"));\r\n\t\t\t\t\t\t\t\tif (sDefaultVariant === \"*standard*\") {\r\n\t\t\t\t\t\t\t\t\taCells[2].setSelected(true);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\taCells[2].setSelected(false);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tif (aCells[4]) {\r\n\t\t\t\t\t\t\t\t\tif (aCells[4].getEnabled()) {\r\n\t\t\t\t\t\t\t\t\t\taCells[1].setText(that.getOwnerComponent().getModel(\"i18n\").getProperty(\"V_private\"));\r\n\t\t\t\t\t\t\t\t\t\taCells[3].setText(that.getOwnerComponent().getModel(\"masterShared\").getProperty(\"/oUser/name\"));\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\taCells[1].setText(that.getOwnerComponent().getModel(\"i18n\").getProperty(\"V_shared\"));\r\n\t\t\t\t\t\t\t\t\t\taCells[3].setText(that.getOwnerComponent().getModel(\"i18n\").getProperty(\"V_authorInternal\"));\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t// There is no Author entry in the pop-up (for older version of UI5)\r\n\t\t\t\t\t\t\t\t\tif (aCells[3].getEnabled()) {\r\n\t\t\t\t\t\t\t\t\t\taCells[1].setText(that.getOwnerComponent().getModel(\"i18n\").getProperty(\"V_private\"));\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\taCells[1].setText(that.getOwnerComponent().getModel(\"i18n\").getProperty(\"V_shared\"));\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\taCells[2].setSelected(false);\r\n\t\t\t\t\t\t\t\tfor (var j = 0; j < aVariants.length; j++) {\r\n\t\t\t\t\t\t\t\t\tif (oItem.getKey() === \"Variant\" + j && sDefaultVariant === \"Variant\" + j) {\r\n\t\t\t\t\t\t\t\t\t\taCells[2].setSelected(true);\r\n\t\t\t\t\t\t\t\t\t\tj = aVariants.length;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\toManagementSave.onAfterRendering = function() {\r\n\t\t\t\tthat.byId(\"Variant-savedialog-title\").setText(that.getOwnerComponent().getModel(\"i18n\").getProperty(\"CP_SaveAsTitle\"));\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\t/* =========================================================== */\r\n\t\t/* event handlers                                              */\r\n\t\t/* =========================================================== */\r\n\r\n\t\t// /**\r\n\t\t//  * Event handler when the share in JAM button has been clicked\r\n\t\t//  * @public\r\n\t\t//  */\r\n\t\t// onShareInJamPress: function() {\r\n\t\t// \tvar oViewModel = this.getModel(\"projectView\"),\r\n\t\t// \t\toShareDialog = sap.ui.getCore().createComponent({\r\n\t\t// \t\t\tname: \"sap.collaboration.components.fiori.sharing.dialog\",\r\n\t\t// \t\t\tsettings: {\r\n\t\t// \t\t\t\tobject: {\r\n\t\t// \t\t\t\t\tid: location.href,\r\n\t\t// \t\t\t\t\tshare: oViewModel.getProperty(\"/shareOnJamTitle\")\r\n\t\t// \t\t\t\t}\r\n\t\t// \t\t\t}\r\n\t\t// \t\t});\r\n\r\n\t\t// \toShareDialog.open();\r\n\t\t// },\r\n\r\n\t\t// handleViewSettingsDialogButtonPressed: function(oEvent) {\r\n\t\t// \tif (!this._oDialog) {\r\n\t\t// \t\tthis._oDialog = sap.ui.xmlfragment(\"colgate.asm.planning.base.view.ProjectsTableControl\", this);\r\n\t\t// \t\t// For some reason, the internationalized texts aren't working in the XML for this screen, so they must be set\r\n\t\t// \t\tvar aSort = this._oDialog.getSortItems();\r\n\t\t// \t\tfor (var i = 0; i < aSort.length; i++) {\r\n\t\t// \t\t\tvar sId = aSort[i].getId();\r\n\t\t// \t\t\tif (sId === \"CTC_Brand\") {\r\n\t\t// \t\t\t\taSort[i].setText(this.getModel(\"i18n\").getProperty(\"C_L_brand\"));\r\n\t\t// \t\t\t} else if (sId === \"CTC_Subbrand\") {\r\n\t\t// \t\t\t\taSort[i].setText(this.getModel(\"i18n\").getProperty(\"C_L_subbrand\"));\r\n\t\t// \t\t\t} else if (sId === \"CTC_Project\") {\r\n\t\t// \t\t\t\taSort[i].setText(this.getModel(\"i18n\").getProperty(\"C_L_project\"));\r\n\t\t// \t\t\t} else if (sId === \"CTC_Category\") {\r\n\t\t// \t\t\t\taSort[i].setText(this.getModel(\"i18n\").getProperty(\"C_L_category\"));\r\n\t\t// \t\t\t} else if (sId === \"CTC_Priority\") {\r\n\t\t// \t\t\t\taSort[i].setText(this.getModel(\"i18n\").getProperty(\"C_L_priority\"));\r\n\t\t// \t\t\t} else if (sId === \"CTC_Plan\") {\r\n\t\t// \t\t\t\taSort[i].setText(this.getModel(\"i18n\").getProperty(\"C_L_plan\"));\r\n\t\t// \t\t\t}\r\n\t\t// \t\t}\r\n\t\t// \t}\r\n\t\t// \t// toggle compact style\r\n\t\t// \tjQuery.sap.syncStyleClass(\"sapUiSizeCompact\", this.getView(), this._oDialog);\r\n\t\t// \tthis._oDialog.open();\r\n\t\t// },\r\n\t\tonToggle: function(oEvent) {\r\n\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.project\", \"ApplyStyles\", {});\r\n\t\t},\r\n\t\tonRowSelectionChange: function(oEvent) {\r\n\t\t\t// Begin of Commenting - Khrystyne Williams - Nov 2016\r\n\t\t\t// ValidationUtils.removeErrorMessages(this);\r\n\t\t\t// End of Commenting - Khrystyne Williams - Nov 2016\r\n\t\t\tvar aSelected = this.byId(\"Table\").getSelectedIndices();\r\n\t\t\tvar oTableControlConfig = this.getModel(\"projectView\").getData().oTableControl;\r\n\t\t\tif (aSelected.length > 0) {\r\n\t\t\t\tif (aSelected[0] === 0) {\r\n\t\t\t\t\toTableControlConfig.deleteEnabled = false;\r\n\t\t\t\t} else {\r\n\t\t\t\t\toTableControlConfig.deleteEnabled = true;\r\n\t\t\t\t}\r\n\t\t\t\tif (aSelected.length === 1 && aSelected[0] !== 0) {\r\n\t\t\t\t\toTableControlConfig.editEnabled = true;\r\n\t\t\t\t\toTableControlConfig.distributeEnabled = true;\r\n\r\n\t\t\t\t\t// psutram added for Calculate button\t\t\t\t\t\r\n\t\t\t\t\toTableControlConfig.calculateEnabled = true;\r\n\r\n\t\t\t\t\t// Begin of Changes - Khrystyne Williams - Nov 2016\r\n\t\t\t\t\t// if (oTableControlConfig.bSSaveVisible) {\r\n\t\t\t\t\t// This means you are in Plan & Budget Edit Mode\r\n\t\t\t\t\t//Added by Dipen on June 7, 2016\r\n\t\t\t\t\t// Begin of Commenting - Khrystyne Williams - Nov 2016\r\n\t\t\t\t\toTableControlConfig.copyEnabled = true;\r\n\t\t\t\t\t// if (oTableControlConfig.bSaveVisible) {\r\n\t\t\t\t\t// \t// End of Changes - Khrystyne Williams - Nov 2016\r\n\t\t\t\t\t// \t// This means you are in Status mode\r\n\t\t\t\t\t// \tvar sFStatus = this.getModel(\"projectView\").getProperty(\"/oFStatus/Selected\");\r\n\t\t\t\t\t// \tif (!sFStatus || sFStatus === \"\") {\r\n\t\t\t\t\t// \t\tvar iHoldSelected = aSelected[0];\r\n\t\t\t\t\t// \t\tvar sPath = this.byId(\"Table\").getContextByIndex(aSelected[0]).getPath();\r\n\t\t\t\t\t// \t\tvar oTableSelect = JSON.parse(JSON.stringify(this.getModel(\"Project\").getProperty(sPath)));\r\n\t\t\t\t\t// \t\tthis.getModel(\"projectView\").setProperty(\"/oFStatus/Selected\", oTableSelect.Status);\r\n\t\t\t\t\t// \t\tthis.onFStatusChange({});\r\n\t\t\t\t\t// \t\tthis.byId(\"Table\").addSelectionInterval(iHoldSelected, iHoldSelected);\r\n\t\t\t\t\t// \t}\r\n\t\t\t\t\t// }\r\n\t\t\t\t\t// End of Commenting - Khrystyne Williams - Nov 2016\r\n\t\t\t\t\t// Check if in displayOnlyMode\r\n\t\t\t\t\t// Now that we have advanced copy as well, we can't just go off and display the record until someone \r\n\t\t\t\t\t// presses the button.\r\n\t\t\t\t\t// if (this.getOwnerComponent().getModel(\"masterShared\") &&\r\n\t\t\t\t\t// \tthis.getOwnerComponent().getModel(\"masterShared\").getProperty(\"/oInternalEvents/displayOnlyMode\") === true) {\r\n\t\t\t\t\t// \tthis.onDisplay(oEvent);\r\n\t\t\t\t\t// }\r\n\t\t\t\t} else {\r\n\t\t\t\t\toTableControlConfig.editEnabled = false;\r\n\t\t\t\t\toTableControlConfig.distributeEnabled = true;\r\n\r\n\t\t\t\t\t//psutram modified for Refresh functionality\r\n\t\t\t\t\t//oTableControlConfig.bRefreshVisible = false;\r\n\t\t\t\t\t//psutram modified for Calculator functionality\r\n\t\t\t\t\t//oTableControlConfig.bCalculateVisible = true;\r\n\t\t\t\t\t//oTableControlConfig.calculateEnabled = true;\r\n\r\n\t\t\t\t\t//Added by Dipen on June 7, 2016\r\n\t\t\t\t\toTableControlConfig.copyEnabled = false;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\toTableControlConfig.deleteEnabled = false;\r\n\t\t\t\toTableControlConfig.editEnabled = false;\r\n\t\t\t\toTableControlConfig.distributeEnabled = false;\r\n\r\n\t\t\t\t// psutram modified for Calculator functionality\r\n\t\t\t\t//oTableControlConfig.calculateEnabled = false;\r\n\r\n\t\t\t\t//Added by Dipen on June 7, 2016\r\n\t\t\t\toTableControlConfig.copyEnabled = false;\r\n\t\t\t}\r\n\t\t\tthis.getModel(\"projectView\").refresh(false);\r\n\t\t},\r\n\t\tonAddActivity: function(oEvent) {\r\n\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", true); // Start Spinner\r\n\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").refresh(false);\r\n\t\t\tvar oTableSelectTemplate = {};\r\n\t\t\tvar oTableSelect = {};\r\n\t\t\t// Begin of Changes - Khrystyne Williams - Nov 2016\r\n\t\t\tvar addnew = true;\r\n\t\t\t// End of Changes - Khrystyne Williams - Nov 2016\r\n\t\t\toTableSelectTemplate.DivisionKey = \"\";\r\n\t\t\toTableSelectTemplate.HubKey = \"\";\r\n\t\t\toTableSelectTemplate.SubKey = \"\";\r\n\t\t\toTableSelectTemplate.Function = \"\";\r\n\t\t\toTableSelectTemplate.Channel = \"\";\r\n\t\t\tvar aSelected = this.byId(\"Table\").getSelectedIndices();\r\n\t\t\tif (aSelected.length > 1) {\r\n\t\t\t\tvar sMessage = this.getModel(\"i18n\").getResourceBundle().getText(\"AC_E_AddActivity_2\");\r\n\t\t\t\tMessageToast.show(sMessage);\r\n\t\t\t\toTableSelect = oTableSelectTemplate;\r\n\t\t\t\t// Begin of Changes - Khrystyne Williams - Nov 2016\r\n\t\t\t\taddnew = false;\r\n\t\t\t\t// End of Changes - Khrystyne Williams - Nov 2016\r\n\t\t\t} else {\r\n\t\t\t\tif (aSelected.length === 1) {\r\n\t\t\t\t\t// Must update the geo model\r\n\t\t\t\t\tvar sPath = this.byId(\"Table\").getContextByIndex(aSelected[0]).getPath();\r\n\t\t\t\t\toTableSelect = JSON.parse(JSON.stringify(this.getModel(\"Project\").getProperty(sPath)));\r\n\t\t\t\t\tif (oTableSelect.ItemType === \"SA\") {\r\n\t\t\t\t\t\tvar sMessage = this.getModel(\"i18n\").getResourceBundle().getText(\"AC_E_AddActivity_Sub\");\r\n\t\t\t\t\t\tMessageToast.show(sMessage);\r\n\t\t\t\t\t\toTableSelect = oTableSelectTemplate;\r\n\t\t\t\t\t\taddnew = false;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// Eric Atempa / 2-1-17 / Changes for Cancel\r\n\t\t\t\t\t\tif (oTableSelect.ItemType === \"PT\") {\r\n\t\t\t\t\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").getData().oInternalEvents.lastAction = \"NewATWithPT\";\r\n\t\t\t\t\t\t} else if (oTableSelect.ItemType === \"AT\") {\r\n\t\t\t\t\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").getData().oInternalEvents.lastAction = \"NewSAWithAT\";\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\toTableSelect.ParentGuid = oTableSelect.Guid;\r\n\t\t\t\t\t\toTableSelect.__parentIndex = oTableSelect.__index;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\toTableSelectTemplate.DivisionKey = \"NoParent\";\r\n\t\t\t\t\toTableSelect = oTableSelectTemplate;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").getData().oTableSelect = oTableSelect;\r\n\t\t\tvar that = this;\r\n\t\t\t// Begin of Changes - Khrystyne Williams - Nov 2016\r\n\t\t\tif (addnew) {\r\n\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\tthat._onAddActivity(oEvent);\r\n\t\t\t\t}, 200);\r\n\t\t\t} else {\r\n\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.app.spinner\", \"StopSpinner\", {});\r\n\t\t\t}\r\n\t\t\t// End of Changes - Khrystyne Williams - Nov 2016\r\n\t\t},\r\n\r\n\t\tgetMyProjects: function(oEvent) {\r\n\t\t\t//INBHD02\t\t\t\r\n\t\t\tvar oModel = this.getModel(\"projectView\");\r\n\t\t\tvar oTableControlData = oModel.getData().oTableControl;\r\n\r\n\t\t\tif (oTableControlData.projectFilterYearNew !== oTableControlData.projectFilterYear) {\r\n\t\t\t\toTableControlData.projectFilterYearNew = oTableControlData.projectFilterYear;\r\n\t\t\t\toTableControlData.projectFilterCount = 0;\r\n\t\t\t} else {\r\n\t\t\t\toTableControlData.projectFilterCount++;\r\n\t\t\t}\r\n\r\n\t\t\toModel.refresh(false);\r\n\r\n\t\t\tvar bPressed = oEvent.mParameters.pressed;\r\n\t\t\tif (oTableControlData.projectFilterCount === 0) {\r\n\t\t\t\tif (oTableControlData.projectFilterPressed === true) {\r\n\t\t\t\t\tthis._getMyProjects(bPressed);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis._getItems(this._lastSelectionConfig);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tthis._getMyProjects(bPressed);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_getMyProjects: function(bPressed) {\r\n\t\t\tthis.byId(\"Table\").clearSelection();\r\n\t\t\tif (bPressed === true) {\r\n\t\t\t\tvar oMyProjectFilter = new Filter(\"_myItem\", sap.ui.model.FilterOperator.EQ, \"X\");\r\n\t\t\t\tthis.getView().byId(\"Table\").getBinding(\"rows\").filter(oMyProjectFilter, \"Application\");\r\n\t\t\t\tthis._validateInput();\r\n\t\t\t} else {\r\n\t\t\t\tthis.getView().byId(\"Table\").getBinding(\"rows\").filter(null, \"Application\");\r\n\t\t\t\tthis._validateInput();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tonShowTableSettings: function(oEvent) {\r\n\t\t\tvar oButton = oEvent.getSource();\r\n\t\t\t// create action sheet only once\r\n\t\t\tif (!this._tableActionSheet) {\r\n\t\t\t\tthis._tableActionSheet = sap.ui.xmlfragment(\r\n\t\t\t\t\t\"colgate.asm.planning.base.fragment.TableSettings\",\r\n\t\t\t\t\tthis\r\n\t\t\t\t);\r\n\t\t\t\tthis.getView().addDependent(this._tableActionSheet);\r\n\t\t\t}\r\n\t\t\tthis._tableActionSheet.openBy(oButton);\r\n\t\t},\r\n\t\tonCopy: function(oEvent) {\r\n\t\t\tvar that = this;\r\n\t\t\tvar dialog = new Dialog(\"cp_dialog\", {\r\n\t\t\t\ttitle: this.getModel(\"i18n\").getResourceBundle().getText(\"CP_title\"),\r\n\t\t\t\ttype: 'Message',\r\n\t\t\t\tcontent: [\r\n\t\t\t\t\tnew sap.m.HBox({\r\n\t\t\t\t\t\tfitContainer: true,\r\n\t\t\t\t\t\talignItems: sap.m.FlexAlignItems.Center,\r\n\t\t\t\t\t\tjustifyContent: sap.m.FlexJustifyContent.SpaceBetween,\r\n\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\tnew sap.m.Label({\r\n\t\t\t\t\t\t\t\ttext: this.getModel(\"i18n\").getResourceBundle().getText(\"CP_include\")\r\n\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\tnew sap.m.CheckBox(\"cp_include\", {})\r\n\t\t\t\t\t\t]\r\n\t\t\t\t\t}),\r\n\t\t\t\t\tnew sap.m.HBox({\r\n\t\t\t\t\t\tfitContainer: true,\r\n\t\t\t\t\t\talignItems: sap.m.FlexAlignItems.Center,\r\n\t\t\t\t\t\tjustifyContent: sap.m.FlexJustifyContent.SpaceBetween,\r\n\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\tnew sap.m.Label({\r\n\t\t\t\t\t\t\t\ttext: this.getModel(\"i18n\").getResourceBundle().getText(\"CP_includeBudget\")\r\n\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\tnew sap.m.CheckBox(\"cp_includeBudget\", {})\r\n\t\t\t\t\t\t]\r\n\t\t\t\t\t}),\r\n\t\t\t\t\t//INBHD02\r\n\t\t\t\t\tnew sap.m.HBox({\r\n\t\t\t\t\t\tfitContainer: true,\r\n\t\t\t\t\t\talignItems: sap.m.FlexAlignItems.Center,\r\n\t\t\t\t\t\tjustifyContent: sap.m.FlexJustifyContent.SpaceBetween,\r\n\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\tnew sap.m.Label({\r\n\t\t\t\t\t\t\t\ttext: this.getModel(\"i18n\").getResourceBundle().getText(\"CP_includeCSB\")\r\n\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\tnew sap.m.CheckBox(\"cp_includeCSB\", {})\r\n\t\t\t\t\t\t]\r\n\t\t\t\t\t})\r\n\t\t\t\t\t//INBHD02\r\n\t\t\t\t],\r\n\t\t\t\tbeginButton: new sap.m.Button({\r\n\t\t\t\t\ttext: this.getModel(\"i18n\").getResourceBundle().getText(\"CP_copy\"),\r\n\t\t\t\t\tpress: function() {\r\n\t\t\t\t\t\tvar bInclude = sap.ui.getCore().byId(\"cp_include\").getSelected();\r\n\t\t\t\t\t\tvar bIncludeBudget = sap.ui.getCore().byId(\"cp_includeBudget\").getSelected();\r\n\t\t\t\t\t\tvar bIncludeCSB = sap.ui.getCore().byId(\"cp_includeCSB\").getSelected();\r\n\r\n\t\t\t\t\t\tvar sPrefix = \"\";\r\n\t\t\t\t\t\tvar aSelected = that.byId(\"Table\").getSelectedIndices();\r\n\t\t\t\t\t\tif (aSelected.length === 1) {\r\n\t\t\t\t\t\t\tvar sPath = that.byId(\"Table\").getContextByIndex(aSelected[0]).getPath();\r\n\t\t\t\t\t\t\tvar oTableSelect = JSON.parse(JSON.stringify(that.getModel(\"Project\").getProperty(sPath)));\r\n\t\t\t\t\t\t\tCopyUtils.copyItems(that, bInclude, bIncludeBudget, bIncludeCSB, sPrefix, oTableSelect, that.getModel(\"Project\").getProperty(\r\n\t\t\t\t\t\t\t\t\"/AsInputArray\"));\r\n\t\t\t\t\t\t\tdialog.close();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}),\r\n\t\t\t\tendButton: new sap.m.Button({\r\n\t\t\t\t\ttext: this.getModel(\"i18n\").getResourceBundle().getText(\"CP_cancel\"),\r\n\t\t\t\t\tpress: function() {\r\n\t\t\t\t\t\tdialog.close();\r\n\t\t\t\t\t}\r\n\t\t\t\t}),\r\n\t\t\t\tafterClose: function() {\r\n\t\t\t\t\tdialog.destroy();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tdialog.open();\r\n\t\t},\r\n\t\tonSave: function(oEvent) {\r\n\t\t\tvar bComplete = this.onValidateFull(null);\r\n\t\t\tif (bComplete) {\r\n\t\t\t\tthis._saveBudget();\r\n\t\t\t}\r\n\t\t},\r\n\t\tonConfirmCancel: function() {\r\n\t\t\tvar that = this;\r\n\t\t\tsap.m.MessageBox.show(\r\n\t\t\t\tthis.getModel(\"i18n\").getResourceBundle().getText(\"B_T_confirmCancel_Body\"), {\r\n\t\t\t\t\ticon: sap.m.MessageBox.Icon.QUESTION,\r\n\t\t\t\t\ttitle: this.getModel(\"i18n\").getResourceBundle().getText(\"B_T_confirmCancel\"),\r\n\t\t\t\t\tactions: [sap.m.MessageBox.Action.YES, sap.m.MessageBox.Action.NO],\r\n\t\t\t\t\tonClose: function(oAction) {\r\n\t\t\t\t\t\tif (oAction === sap.m.MessageBox.Action.YES) {\r\n\t\t\t\t\t\t\tthat.onCancel(null);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t},\r\n\t\tonCancel: function(oEvent) {\r\n\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTableControl/bEditVisible\", true);\r\n\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTableControl/bCopyVisible\", true);\r\n\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTableControl/bDisplayVisible\", true);\r\n\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTableControl/statusEnabled\", true);\r\n\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTableControl/bValidateVisible\", false);\r\n\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTableControl/bSaveVisible\", false);\r\n\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTableControl/bCancelVisible\", false);\r\n\t\t\t// Begin of Changes - Khrystyne Williams - Nov 2016\r\n\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTableControl/bAddVisible\", true);\r\n\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTableControl/bDeleteVisible\", true);\r\n\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTableControl/selMatchEnabled\", false);\r\n\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTableControl/bDistributeVisible\", false);\r\n\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTableControl/bStatusVisible\", true);\r\n\r\n\t\t\t// psutram modified for Calculate and Refresh functionality\r\n\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTableControl/bCalculateVisible\", false);\r\n\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTableControl/bRefreshVisible\", true);\r\n\r\n\t\t\tthis.onSelectNone(oEvent);\r\n\t\t\t// End of Changes - Khrystyne Williams - Nov 2016\r\n\t\t\tthis.__setBudgetEditable(false);\r\n\t\t\tvar oTree = this.getModel(\"Project\").getProperty(\"/FromService\");\r\n\t\t\tthis.getModel(\"Project\").setProperty(\"/OnScreen\", JSON.parse(JSON.stringify(oTree)));\r\n\t\t\tthis.onValidate(null);\r\n\t\t\tthis.getModel(\"Project\").refresh(false);\r\n\r\n\t\t\t// Something like this will be needed again for edit screens.\r\n\t\t\t// this.oMessageManager.removeAllMessages();\r\n\t\t\t// var oModel = this.getModel(\"Project\");\r\n\t\t\t// var oData = oModel.getData();\r\n\t\t\t// var aOnScreen = oData.OnScreen;\r\n\t\t\t// var aFromService = oData.FromService;\r\n\t\t\t// for (var i = 0; i < aOnScreen.length; i++) {\r\n\t\t\t// \taOnScreen[i].Budget = aFromService[i].Budget;\r\n\t\t\t// \taOnScreen[i].Budget_valueState = sap.ui.core.ValueState.None;\r\n\t\t\t// \taOnScreen[i].Budget_valueStateText = \"\";\r\n\t\t\t// }\r\n\t\t\t// // Make sure bad values in the screen are restored\r\n\t\t\t// var aItems = this.byId(\"Table\").getItems();\r\n\t\t\t// for (var i = 0; i < aItems.length; i++) {\r\n\t\t\t// \t// Because of the auto typing and limitation on certain browsers\r\n\t\t\t// \t// we must do a separate check\r\n\t\t\t// \tvar nIndex = aItems[i].getId().indexOf('-');\r\n\t\t\t// \tif (nIndex > 0) {\r\n\t\t\t// \t\t// This is to get rid of the grouping rows\r\n\t\t\t// \t\tvar sSuffix = aItems[i].getId().substring(nIndex + 1);\r\n\t\t\t// \t\tvar sPrefix = this.byId(\"budgetInput\").getId();\r\n\t\t\t// \t\tvar sId = sPrefix + \"-\" + sSuffix;\r\n\t\t\t// \t\tvar oBudgetInput = this.byId(sPrefix + \"-\" + sSuffix);\r\n\t\t\t// \t\tvar sBindingPath = oBudgetInput.getBinding(\"value\").getBindings()[0].getContext().getPath();\r\n\t\t\t// \t\tvar nIndex = sBindingPath.substring(sBindingPath.lastIndexOf(\"/\") + 1);\r\n\t\t\t// \t\toBudgetInput.setValue(aOnScreen[nIndex].Budget);\r\n\t\t\t// \t}\r\n\t\t\t// }\r\n\t\t\t// oModel.refresh(false);\r\n\t\t\t// this.getModel(\"projectView\").setProperty(\"/oTableControl/editable\", false);\r\n\t\t\t// this.getModel(\"projectView\").setProperty(\"/oTabButtons/visible/edit\", true);\r\n\t\t\t// this.getModel(\"projectView\").setProperty(\"/oTabButtons/visible/cancel\", false);\r\n\t\t\t// this.getModel(\"projectView\").setProperty(\"/oTabButtons/visible/save\", false);\r\n\t\t},\r\n\t\tonTStatusChange: function(oEvent) {\r\n\t\t\t// Enable Save\r\n\t\t\tif (oEvent.getSource().getSelectedKey() !== \"\") {\r\n\t\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTableControl/sSaveEnabled\", true);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonFStatusChange: function(oEvent) {\r\n\t\t\t// Clear out target values\r\n\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTableControl/sSaveEnabled\", false);\r\n\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTStatus/Selected\", \"\");\r\n\t\t\tvar sFStatus = this.getModel(\"projectView\").getProperty(\"/oFStatus/Selected\");\r\n\t\t\tif (sFStatus && sFStatus !== \"\") {\r\n\t\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTableControl/selMatchEnabled\", true);\r\n\t\t\t} else {\r\n\t\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTableControl/selMatchEnabled\", false);\r\n\t\t\t}\r\n\t\t\t// Check all table entries that match\r\n\t\t\t//var oTable = this.byId(\"Table\");\r\n\t\t\t// Begin of Commenting - Khrystyne Williams - Nov 2016\r\n\t\t\t// Do not clear selection if the From Status changes\r\n\t\t\t// oTable.clearSelection();\r\n\t\t\t// End of Commenting - Khrystyne Williams - Nov 2016\r\n\t\t\tvar oHoldRecord = null;\r\n\t\t\tfor (var i = 0; i < this.getModel(\"Project\").getProperty(\"/AsInputArray\").length; i++) {\r\n\t\t\t\t// Update Rows\r\n\t\t\t\t//var oContext = oTable.getContextByIndex(i);\r\n\t\t\t\t// There is an apparent bug in SAPUI5.  The first time through, the final record seems unable to be read  We are less than the threshold.\r\n\t\t\t\t//if (oContext) {\r\n\t\t\t\t//var sPath = oContext.getPath();\r\n\t\t\t\t//var oRecord = this.getModel(\"Project\").getProperty(sPath);\r\n\t\t\t\tvar oRecord = this.getModel(\"Project\").getProperty(\"/AsInputArray\")[i];\r\n\t\t\t\tif (oRecord.Status === sFStatus && oRecord.ItemType !== \"PT\") {\r\n\t\t\t\t\t//GDH\t\t\t\t\t\toTable.addSelectionInterval(i, i);\r\n\t\t\t\t\tif (!oHoldRecord) {\r\n\t\t\t\t\t\toHoldRecord = oRecord;\r\n\t\t\t\t\t\ti = this.getModel(\"Project\").getData().AsInputArray.length;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t//}\r\n\t\t\t}\r\n\t\t\tif (oHoldRecord) {\r\n\t\t\t\t// Determine possible to statuses \r\n\t\t\t\tvar oConfig = {};\r\n\t\t\t\tvar oUserData = this.getOwnerComponent().getModel(\"UserData\");\r\n\t\t\t\tvar sRole = oUserData.getProperty(\"/Role\");\r\n\t\t\t\tif (oHoldRecord.Config && oHoldRecord.Config !== \"\") {\r\n\t\t\t\t\toConfig = JSON.parse(oHoldRecord.Config);\r\n\t\t\t\t\tvar aStatuses = oConfig.StatusList;\r\n\t\t\t\t\tvar aSOptions = [];\r\n\t\t\t\t\tfor (var m = 0; m < aStatuses.length; m++) {\r\n\t\t\t\t\t\tvar sStatus = aStatuses[m].Status;\r\n\t\t\t\t\t\tvar sDescription = aStatuses[m].Description;\r\n\t\t\t\t\t\tvar bInclude = true;\r\n\t\t\t\t\t\tvar aExclude = aStatuses[m].Exclude;\r\n\t\t\t\t\t\tif (sStatus === oHoldRecord.Status) {\r\n\t\t\t\t\t\t\t// They can't change the status back to what it is.\r\n\t\t\t\t\t\t\tbInclude = false;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tfor (var j = 0; j < aExclude.length; j++) {\r\n\t\t\t\t\t\t\t\tif (aExclude[j] === sRole) {\r\n\t\t\t\t\t\t\t\t\tbInclude = false;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (bInclude) {\r\n\t\t\t\t\t\t\taSOptions.push({\r\n\t\t\t\t\t\t\t\tStatus: sStatus,\r\n\t\t\t\t\t\t\t\tDescription: sDescription\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTStatus/Options\", aSOptions);\r\n\t\t\t\t\tif (aSOptions.length > 0) {\r\n\t\t\t\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTStatus/Enabled\", true);\r\n\t\t\t\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTStatus/Placeholder\", this.getOwnerComponent().getModel(\"i18n\").getResourceBundle()\r\n\t\t\t\t\t\t\t.getText(\r\n\t\t\t\t\t\t\t\t\"S_P_tStatus\", []));\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTStatus/Enabled\", false);\r\n\t\t\t\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTStatus/Placeholder\", this.getOwnerComponent().getModel(\"i18n\").getResourceBundle()\r\n\t\t\t\t\t\t\t.getText(\r\n\t\t\t\t\t\t\t\t\"S_P_tStatus_n\", []));\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonBudgetEdit: function(oEvent) {\r\n\t\t\tthis.__setBudgetEditable(true);\r\n\t\t},\r\n\t\tonEdit: function(oEvent) {\r\n\t\t\tvar oTableSelect = {};\r\n\t\t\tvar aSelected = this.byId(\"Table\").getSelectedIndices();\r\n\t\t\tif (aSelected.length === 1) {\r\n\t\t\t\t// Must update the geo model\r\n\t\t\t\tvar sPath = this.byId(\"Table\").getContextByIndex(aSelected[0]).getPath();\r\n\t\t\t\toTableSelect = JSON.parse(JSON.stringify(this.getModel(\"Project\").getProperty(sPath)));\r\n\r\n\t\t\t\t// First check if the record can be edited\r\n\t\t\t\tvar bEditable = this._checkEditability(oTableSelect);\r\n\t\t\t\tif (!bEditable) {\r\n\t\t\t\t\t// Tell the user they can't edit\r\n\t\t\t\t\tMessageToast.show(this.getOwnerComponent().getModel(\"i18n\").getResourceBundle().getText(\"S_E_wrongStatusChange\", []));\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", true); // Start Spinner\r\n\t\t\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").refresh(false);\r\n\t\t\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").getData().oTableSelect = oTableSelect;\r\n\t\t\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").getData().oTableSelectRaw = this.getModel(\"Project\").getData().AsInputArray[\r\n\t\t\t\t\t\toTableSelect.__index];\r\n\t\t\t\t\tif (oTableSelect.ItemType === \"AT\" || oTableSelect.ItemType === \"SA\") {\r\n\t\t\t\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").getData().oTableSelectParent = this.getModel(\"Project\").getData().AsInputArray[\r\n\t\t\t\t\t\t\toTableSelect.__parentIndex];\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").getData().oTableSelectParent = {};\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar that = this;\r\n\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\t// GDH Navigate to Change Activity Screen\r\n\t\t\t\t\t\tvar oRouter = that.getRouter();\r\n\t\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.initialize\", \"ChangeActivity\", {});\r\n\t\t\t\t\t\tthat.getOwnerComponent().getModel(\"masterShared\").getData().oInternalEvents.lastAction = \"NavToChangeActivity\";\r\n\t\t\t\t\t\toRouter.navTo(\"changeActivity\", {\r\n\t\t\t\t\t\t\tobjectId: \"ChangeActivity\"\r\n\t\t\t\t\t\t}, true);\r\n\t\t\t\t\t}, 200);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonDisplay: function(oEvent) {\r\n\t\t\tvar oTableSelect = {};\r\n\t\t\tvar aSelected = this.byId(\"Table\").getSelectedIndices();\r\n\t\t\tif (aSelected.length === 1) {\r\n\t\t\t\t// Must update the geo model\r\n\t\t\t\tvar sPath = this.byId(\"Table\").getContextByIndex(aSelected[0]).getPath();\r\n\t\t\t\toTableSelect = JSON.parse(JSON.stringify(this.getModel(\"Project\").getProperty(sPath)));\r\n\t\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", true); // Start Spinner\r\n\t\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").refresh(false);\r\n\t\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").getData().oTableSelect = oTableSelect;\r\n\t\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").getData().oTableSelectRaw = this.getModel(\"Project\").getData().AsInputArray[\r\n\t\t\t\t\toTableSelect.__index];\r\n\t\t\t\tif (oTableSelect.ItemType === \"AT\" || oTableSelect.ItemType === \"SA\") {\r\n\t\t\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").getData().oTableSelectParent = this.getModel(\"Project\").getData().AsInputArray[\r\n\t\t\t\t\t\toTableSelect.__parentIndex];\r\n\t\t\t\t}\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t// GDH Navigate to Add Activity Screen\r\n\t\t\t\t\tvar oRouter = that.getRouter();\r\n\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.initialize\", \"ChangeActivity\", {});\r\n\t\t\t\t\tthat.getOwnerComponent().getModel(\"masterShared\").getData().oInternalEvents.lastAction = \"NavToDisplayActivity\";\r\n\t\t\t\t\toRouter.navTo(\"displayActivity\", {\r\n\t\t\t\t\t\tobjectId: \"DisplayActivity\"\r\n\t\t\t\t\t}, true);\r\n\t\t\t\t}, 200);\r\n\t\t\t}\r\n\t\t},\r\n\t\t_checkEditability: function(oRecord) {\r\n\t\t\tvar oUserData = this.getOwnerComponent().getModel(\"UserData\");\r\n\t\t\tvar sRole = oUserData.getProperty(\"/Role\");\r\n\t\t\tvar oConfig = {};\r\n\t\t\tvar bError = false;\r\n\t\t\tif (oRecord.Config && oRecord.Config !== \"\") {\r\n\t\t\t\toConfig = JSON.parse(oRecord.Config);\r\n\t\t\t\tvar aExclude = oConfig.Edit.Exclude;\r\n\t\t\t\tfor (var i = 0; i < aExclude.length; i++) {\r\n\t\t\t\t\tif (aExclude[i] === sRole) {\r\n\t\t\t\t\t\tbError = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn !bError;\r\n\t\t},\r\n\t\t_checkCapEditability: function(oRecord) {\r\n\t\t\tvar oUserData = this.getOwnerComponent().getModel(\"UserData\");\r\n\t\t\tvar sUser = oUserData.getProperty(\"/Username\");\r\n\t\t\tvar aDelegates = oUserData.getProperty(\"/DelegateToUsers/results\");\r\n\t\t\tvar bEditable = false;\r\n\t\t\tif (sUser === oRecord.CreatedBy) {\r\n\t\t\t\tbEditable = true;\r\n\t\t\t}\r\n\t\t\tfor (var i = 0; i < aDelegates.length; i++) {\r\n\t\t\t\tif (aDelegates[i].MainUser === oRecord.CreatedBy) {\r\n\t\t\t\t\tbEditable = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn bEditable;\r\n\t\t},\r\n\t\tonCheck: function(oEvent) {\r\n\t\t\tValidationUtils.completenessCheck(this);\r\n\t\t},\r\n\t\t// psutram Modified to add confirm delete\r\n\t\tonDelete: function(oEvent) {\r\n\t\t\tvar that = this;\r\n\t\t\tsap.m.MessageBox.show(\r\n\t\t\t\tthis.getModel(\"i18n\").getResourceBundle().getText(\"B_T_confirmDelete_Body\"), {\r\n\t\t\t\t\ticon: sap.m.MessageBox.Icon.QUESTION,\r\n\t\t\t\t\ttitle: this.getModel(\"i18n\").getResourceBundle().getText(\"B_T_confirmDelete_Title\"),\r\n\t\t\t\t\tactions: [sap.m.MessageBox.Action.DELETE, sap.m.MessageBox.Action.CANCEL],\r\n\t\t\t\t\tonClose: function(oAction) {\r\n\t\t\t\t\t\tif (oAction === sap.m.MessageBox.Action.DELETE) {\r\n\t\t\t\t\t\t\tthat.onDeleteConfirm();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t},\r\n\r\n\t\t// psutram: modified for Delete confirm functionality. method has been renamed from onDelete and parameter to method is different\r\n\t\tonDeleteConfirm: function() {\r\n\t\t\tthis.oMessageManager.removeAllMessages();\r\n\t\t\tvar aSelected = this.byId(\"Table\").getSelectedIndices();\r\n\t\t\tvar oData = this.getModel(\"Project\").getData();\r\n\t\t\tvar aAsInputArray = oData.AsInputArray;\r\n\t\t\tvar oModel = this.getModel();\r\n\t\t\tvar bAllowDelete = true;\r\n\t\t\tif (aSelected.length > 0) {\r\n\t\t\t\tfor (var j = 0; j < aSelected.length; j++) {\r\n\t\t\t\t\t// Check if there are any chosen records which cannot be deleted.\r\n\t\t\t\t\tvar sPath = this.byId(\"Table\").getContextByIndex(aSelected[j]).getPath();\r\n\t\t\t\t\tvar oDeletable = JSON.parse(aAsInputArray[this.getModel(\"Project\").getProperty(sPath).__index].Config);\r\n\t\t\t\t\tif (!oDeletable.Delete) {\r\n\t\t\t\t\t\tbAllowDelete = false;\r\n\t\t\t\t\t\tj = aSelected.length;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (bAllowDelete) {\r\n\t\t\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", true);\r\n\t\t\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").refresh(false);\r\n\t\t\t\t\tvar that = this;\r\n\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\tvar aKeys = Object.keys(aAsInputArray[0]);\r\n\t\t\t\t\t\tthat.nTotalCurrentChanges = parseInt(aSelected.length);\r\n\t\t\t\t\t\tthat.nChangeCount = parseInt(that.nTotalCurrentChanges);\r\n\t\t\t\t\t\tfor (var i = 0; i < aSelected.length; i++) {\r\n\t\t\t\t\t\t\tvar iIndex = that.getModel(\"Project\").getProperty(that.byId(\"Table\").getContextByIndex(aSelected[i]).getPath()).__index;\r\n\t\t\t\t\t\t\tvar sPath = aAsInputArray[iIndex].__metadata.uri.substring(aAsInputArray[iIndex].__metadata.uri.lastIndexOf(\"/\"));\r\n\t\t\t\t\t\t\tvar that2 = that;\r\n\t\t\t\t\t\t\toModel.remove(sPath, {\r\n\t\t\t\t\t\t\t\tsuccess: function(oData, oResponse) {\r\n\t\t\t\t\t\t\t\t\tTimeoutUtils.onResetTimer(that2);\r\n\t\t\t\t\t\t\t\t\tthat2.nChangeCount = parseInt(that2.nChangeCount) - 1;\r\n\t\t\t\t\t\t\t\t\tif (that2.nChangeCount === 0) {\r\n\t\t\t\t\t\t\t\t\t\tvar oEventData = {};\r\n\t\t\t\t\t\t\t\t\t\toEventData.oDataOrigin = \"Delete\";\r\n\t\t\t\t\t\t\t\t\t\tthat2.nPendingChangeCount = 1;\r\n\t\t\t\t\t\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.project\", \"Success\", oEventData);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\terror: function(oError) {\r\n\t\t\t\t\t\t\t\t\tthat2.nChangeCount = parseInt(that2.nChangeCount) - 1;\r\n\t\t\t\t\t\t\t\t\tif (that2.nChangeCount === 0) {\r\n\t\t\t\t\t\t\t\t\t\toError.ErrorOrigin = \"Delete\";\r\n\t\t\t\t\t\t\t\t\t\tthat2.nPendingChangeCount = 1;\r\n\t\t\t\t\t\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.project\", \"Errors\", oError);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tchangeSetId: aAsInputArray[iIndex].Id\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, 200);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar oEventData = {};\r\n\t\t\t\t\toEventData.oDataOrigin = \"NotAllowed\";\r\n\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.project\", \"Success\", oEventData);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tvar oEventData = {};\r\n\t\t\t\toEventData.oDataOrigin = \"NoChanges\";\r\n\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.project\", \"Success\", oEventData);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// psutram modified Dec 15th 2016, to add refresh functionality\r\n\t\tonPressRefresh: function(oEvent) {\r\n\t\t\tthis._onRefresh();\r\n\t\t},\r\n\t\tonPressCalculate: function(oEvent) {\r\n\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.activities\", \"RecalculateTotals\", {});\r\n\t\t},\r\n\t\t// end of change\r\n\r\n\t\t//Added by Dipen on June 7, 2016\r\n\t\tonCopyActivity: function(oEvent) {\r\n\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", true);\r\n\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").refresh(false);\r\n\t\t\tvar aSelected = this.byId(\"Table\").getSelectedIndices();\r\n\t\t\tvar oTableSelect = {};\r\n\t\t\tvar oModel = this.getModel(\"Project\");\r\n\t\t\tvar oData = oModel.getData();\r\n\t\t\tvar oOrigData = oData.FromService;\r\n\t\t\tvar oProject;\r\n\t\t\tvar selectedProject = null;\r\n\r\n\t\t\t//Set the selected property to null to remove any previously selected items\r\n\t\t\tthis.getModel(\"projectView\").setProperty(\"/oCopySelection/Selected\", null);\r\n\t\t\tif (aSelected.length > 1) {\r\n\t\t\t\tvar sMessage = this.getModel(\"i18n\").getResourceBundle().getText(\"AC_E_AddActivity_2\");\r\n\t\t\t\tMessageToast.show(sMessage);\r\n\t\t\t\t//oTableSelect = oTableSelectTemplate;\r\n\t\t\t} else {\r\n\t\t\t\tif (aSelected.length === 1) {\r\n\t\t\t\t\t// Must update the geo model\r\n\t\t\t\t\tvar sPath = this.byId(\"Table\").getContextByIndex(aSelected[0]).getPath();\r\n\t\t\t\t\toTableSelect = JSON.parse(JSON.stringify(this.getModel(\"Project\").getProperty(sPath)));\r\n\t\t\t\t\t//put the selected item as the value of Selected Property of project view\r\n\t\t\t\t\tthis.getModel(\"projectView\").setProperty(\"/oCopySelection/Selected\", oTableSelect); //Added on May 23, 2016\r\n\t\t\t\t\t//need to access this Selected property from Copy View to render the table in that view\r\n\t\t\t\t\t//alert(oTableSelect.Guid);\r\n\t\t\t\t\t//alert(oOrigData[0]._projectCount);\r\n\t\t\t\t\tfor (var i = 0; i < oOrigData[0]._projectCount; i++) {\r\n\t\t\t\t\t\toProject = oOrigData[0][i];\r\n\t\t\t\t\t\tif (oTableSelect.Guid === oProject.Guid) {\r\n\t\t\t\t\t\t\tselectedProject = oProject;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (selectedProject === undefined || selectedProject === null) {\r\n\r\n\t\t\t\t\t\tif (oTableSelect.ItemType === \"SA\") {\r\n\r\n\t\t\t\t\t\t\tvar iProjCount = 0;\r\n\t\t\t\t\t\t\twhile (oOrigData[0][iProjCount] !== undefined) {\r\n\t\t\t\t\t\t\t\tvar iActCount = 0;\r\n\t\t\t\t\t\t\t\twhile (oOrigData[0][iProjCount][iActCount] !== undefined) {\r\n\t\t\t\t\t\t\t\t\tvar iSubCount = 0;\r\n\t\t\t\t\t\t\t\t\twhile (oOrigData[0][iProjCount][iActCount][iSubCount] !== undefined) {\r\n\t\t\t\t\t\t\t\t\t\tif (oOrigData[0][iProjCount][iActCount][iSubCount].Guid === oTableSelect.Guid) {\r\n\t\t\t\t\t\t\t\t\t\t\tselectedProject = oOrigData[0][iProjCount];\r\n\t\t\t\t\t\t\t\t\t\t\tselectedProject.isRowEditable = false;\r\n\t\t\t\t\t\t\t\t\t\t\tselectedProject.isCheckVisible = false;\r\n\r\n\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tiSubCount++;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tiActCount++;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tiProjCount++;\r\n\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tvar iActCount = 0;\r\n\t\t\t\t\t\t\twhile (selectedProject[iActCount] !== undefined) {\r\n\t\t\t\t\t\t\t\tvar iSubActCount = 0;\r\n\r\n\t\t\t\t\t\t\t\tselectedProject[iActCount].isRowEditable = false;\r\n\t\t\t\t\t\t\t\tselectedProject[iActCount].isCheckVisible = false;\r\n\r\n\t\t\t\t\t\t\t\twhile (selectedProject[iActCount][iSubActCount] !== undefined) {\r\n\t\t\t\t\t\t\t\t\tselectedProject[iActCount][iSubActCount].isCheckVisible = false;\r\n\r\n\t\t\t\t\t\t\t\t\tif (selectedProject[iActCount][iSubActCount].Guid === oTableSelect.Guid) {\r\n\t\t\t\t\t\t\t\t\t\tselectedProject[iActCount][iSubActCount].isRowEditable = true;\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tselectedProject[iActCount][iSubActCount].isRowEditable = false;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tiSubActCount++;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tiActCount++;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tselectedProject = oTableSelect;\r\n\t\t\t\t\t\t\tselectedProject.AmtBTot.toString();\r\n\t\t\t\t\t\t\tselectedProject.AmtATot.toString();\r\n\r\n\t\t\t\t\t\t\t// Begin of Changes - Khrystyne Williams - Nov 2016\r\n\t\t\t\t\t\t\tselectedProject.AmtLeTot.toString();\r\n\t\t\t\t\t\t\t// End of Changes - Khrystyne Williams - Nov 2016\r\n\r\n\t\t\t\t\t\t\tvar iParIndex = selectedProject.__parentIndex;\r\n\t\t\t\t\t\t\tvar oSelectedParent = new Object();\r\n\t\t\t\t\t\t\tfor (var i = 0; i < oOrigData[0]._projectCount; i++) {\r\n\r\n\t\t\t\t\t\t\t\tif (iParIndex === oOrigData[0][i].__index) {\r\n\t\t\t\t\t\t\t\t\toSelectedParent = oOrigData[0][i];\r\n\t\t\t\t\t\t\t\t\toSelectedParent.isRowEditable = false;\r\n\t\t\t\t\t\t\t\t\toSelectedParent.isCheckVisible = false;\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tjQuery.each(oSelectedParent, function(i, val) {\r\n\t\t\t\t\t\t\t\tif ((typeof val === \"object\") && (val !== null)) {\r\n\t\t\t\t\t\t\t\t\tif (val.Guid !== selectedProject.Guid) // delete index\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\toSelectedParent[i].isRowEditable = false;\r\n\t\t\t\t\t\t\t\t\t\toSelectedParent[i].isCheckVisible = false;\r\n\t\t\t\t\t\t\t\t\t\tvar iCountf = 0;\r\n\t\t\t\t\t\t\t\t\t\twhile (oSelectedParent[i][iCountf] !== undefined) {\r\n\t\t\t\t\t\t\t\t\t\t\toSelectedParent[i][iCountf].isRowEditable = false;\r\n\t\t\t\t\t\t\t\t\t\t\toSelectedParent[i][iCountf].isCheckVisible = false;\r\n\t\t\t\t\t\t\t\t\t\t\tiCountf++;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\toSelectedParent[i].isRowEditable = true;\r\n\t\t\t\t\t\t\t\t\t\toSelectedParent[i].isCheckVisible = false;\r\n\t\t\t\t\t\t\t\t\t\tvar iCount = 0;\r\n\t\t\t\t\t\t\t\t\t\twhile (oSelectedParent[i][iCount] !== undefined) {\r\n\t\t\t\t\t\t\t\t\t\t\toSelectedParent[i][iCount].isRowEditable = true;\r\n\t\t\t\t\t\t\t\t\t\t\toSelectedParent[i][iCount].isCheckVisible = true;\r\n\t\t\t\t\t\t\t\t\t\t\toSelectedParent[i][iCount].isSelected = true;\r\n\t\t\t\t\t\t\t\t\t\t\tiCount++;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\tselectedProject = oSelectedParent;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tselectedProject.isRowEditable = true;\r\n\t\t\t\t\t\tselectedProject.isCheckVisible = false;\r\n\t\t\t\t\t\tjQuery.each(selectedProject, function(i, val) {\r\n\t\t\t\t\t\t\tif ((typeof val === \"object\") && (val !== null)) {\r\n\t\t\t\t\t\t\t\tselectedProject[i].isRowEditable = true;\r\n\t\t\t\t\t\t\t\tselectedProject[i].isCheckVisible = false;\r\n\r\n\t\t\t\t\t\t\t\tjQuery.each(selectedProject[i], function(j, val) {\r\n\t\t\t\t\t\t\t\t\tif ((typeof val === \"object\") && (val !== null)) {\r\n\t\t\t\t\t\t\t\t\t\tselectedProject[i][j].isRowEditable = true;\r\n\t\t\t\t\t\t\t\t\t\tselectedProject[i][j].isCheckVisible = false;\r\n\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthis.getModel(\"masterShared\").getData().oTableSelect = JSON.parse(JSON.stringify(selectedProject));\r\n\t\t\t\t\tthis.getModel(\"masterShared\").getData().oRawActivities = this.getModel(\"Project\").getProperty(\"/AsInputArray\");\r\n\t\t\t\t\tthis.getModel(\"masterShared\").getData().oP13n = this.getModel(\"P13n\").getData();\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t//this.getModel(\"masterShared\").getData().oTableSelect = oTableSelect; //Dipen May 24, 2016\r\n\t\t\tvar that = this;\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\tthat._onCopyActivity(oEvent);\r\n\t\t\t}, 200);\r\n\t\t\t//this._onCopyActivity(oEvent); \r\n\t\t},\r\n\r\n\t\tonStatusChange: function(oEvent) {\r\n\t\t\tthis._onStatusChange(oEvent);\r\n\t\t},\r\n\t\tonMessagesButtonPress: function(oEvent) {\r\n\t\t\tvar oMessagesButton = oEvent.getSource();\r\n\t\t\tif (!this._messagePopover) {\r\n\t\t\t\tthis._messagePopover = new MessagePopover({\r\n\t\t\t\t\titems: {\r\n\t\t\t\t\t\tpath: \"message>/\",\r\n\t\t\t\t\t\ttemplate: new MessagePopoverItem({\r\n\t\t\t\t\t\t\tdescription: \"{message>description}\",\r\n\t\t\t\t\t\t\ttype: \"{message>type}\",\r\n\t\t\t\t\t\t\ttitle: \"{message>message}\"\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tthis._messagePopover.attachItemSelect(function(oEvent) {\r\n\t\t\t\t\t//GDH this._onMessageSelected(oEvent); Turn off Navigation\r\n\t\t\t\t}, this);\r\n\t\t\t\toMessagesButton.addDependent(this._messagePopover);\r\n\t\t\t}\r\n\t\t\tthis._messagePopover.toggle(oMessagesButton);\r\n\t\t},\r\n\t\t// onConfirmViewSettingsDialog: function(oEvent) {\r\n\r\n\t\t// \tvar oView = this.getView();\r\n\t\t// \tvar oTable = oView.byId(\"Table\");\r\n\r\n\t\t// \tvar mParams = oEvent.getParameters();\r\n\t\t// \tvar oBinding = oTable.getBinding(\"items\");\r\n\r\n\t\t// \t// apply sorter to binding\r\n\t\t// \t// (grouping comes before sorting)\r\n\t\t// \tvar aSorters = [];\r\n\t\t// \tif (mParams.groupItem) {\r\n\t\t// \t\tvar sPath = mParams.groupItem.getKey();\r\n\t\t// \t\tvar bDescending = mParams.groupDescending;\r\n\t\t// \t\tvar vGroup = this.mGroupFunctions[sPath];\r\n\t\t// \t\tsPath = \"Project>\" + sPath;\r\n\t\t// \t\taSorters.push(new Sorter(sPath, bDescending, vGroup));\r\n\t\t// \t}\r\n\t\t// \tvar sPath = mParams.sortItem.getKey();\r\n\t\t// \tvar bDescending = mParams.sortDescending;\r\n\t\t// \taSorters.push(new Sorter(sPath, bDescending));\r\n\t\t// \toBinding.sort(aSorters);\r\n\r\n\t\t// \t// apply filters to binding\r\n\t\t// \tvar aFilters = [];\r\n\t\t// \tjQuery.each(mParams.filterItems, function(i, oItem) {\r\n\t\t// \t\tvar sKey = oItem.getKey();\r\n\t\t// \t\tif (sKey === \"Filter1\") {\r\n\t\t// \t\t\tvar oFilter = new Filter(\"Budget\", \"LT\", \"0.01\", \"\");\r\n\t\t// \t\t\taFilters.push(oFilter);\r\n\t\t// \t\t}\r\n\t\t// \t});\r\n\t\t// \toBinding.filter(aFilters);\r\n\r\n\t\t// \t// update filter bar\r\n\t\t// \toView.byId(\"vsdFilterBar\").setVisible(aFilters.length > 0);\r\n\t\t// \toView.byId(\"vsdFilterLabel\").setText(mParams.filterString);\r\n\t\t// },\r\n\t\tonClearAllFilters: function(oEvent) {\r\n\t\t\tthis._onClearAllFilters(oEvent);\r\n\t\t\t//psutram: for clear filters\r\n\t\t\t//sap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.master.event\", \"ClearFilter\", {});\r\n\t\t},\r\n\t\t_onClearAllFilters: function(oEvent) {\r\n\t\t\tvar oTable = this.byId(\"Table\");\r\n\t\t\tvar aColumns = oTable.getColumns();\r\n\t\t\tfor (var i = 0; i < aColumns.length; i++) {\r\n\t\t\t\toTable.filter(aColumns[i], null);\r\n\t\t\t}\r\n\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTableControl/projectFilterPressed\", false);\r\n\t\t\tthis._getMyProjects(false);\r\n\t\t},\r\n\t\tonShowP13nScreen: function(oEvent) {\r\n\t\t\tthis._openP13nDialog();\r\n\t\t},\r\n\t\tonP13nHandleClose: function(oEvent) {\r\n\t\t\t// Check if MaxTableRows has changed.\r\n\t\t\tif (this.getOwnerComponent().getModel(\"P13n_ActivitiesConfig\").getProperty(\"/MaxTableRows\") !== this.getOwnerComponent().getModel(\r\n\t\t\t\t\t\"P13n_default\").getProperty(\r\n\t\t\t\t\t\"/OtherConfig/MaxTableRows\") &&\r\n\t\t\t\tthis.getOwnerComponent().getModel(\"P13n_ActivitiesConfig\").getProperty(\"/MaxTableRows\") !== this.getOwnerComponent().getModel(\r\n\t\t\t\t\t\"P13n_Configuration\").getProperty(\r\n\t\t\t\t\t\"/ActivitiesConfig/MaxTableRows\")) {\r\n\t\t\t\tPersonalizationUtils.p13nSave2(this, this.getOwnerComponent().getModel(\"P13n_ActivitiesConfig\").getData(), \"ActivitiesConfig\",\r\n\t\t\t\t\tthis.getOwnerComponent()\r\n\t\t\t\t\t.getModel(\r\n\t\t\t\t\t\t\"i18n\").getResourceBundle().getText(\"CP_rowsSaved\"));\r\n\t\t\t\tthis.getOwnerComponent().getModel(\"P13n_Configuration\").setProperty(\"/ActivitiesConfig\", this.getOwnerComponent().getModel(\r\n\t\t\t\t\t\"P13n_ActivitiesConfig\").getData());\r\n\t\t\t\t// Set the Visible Row Count\r\n\t\t\t\tvar iTableRowCount = this.byId(\"Table\").getBinding(\"rows\").getLength();\r\n\t\t\t\tif (this.getOwnerComponent().getModel(\"P13n\")) {\r\n\t\t\t\t\tvar iMaxTableRows = parseInt(this.getOwnerComponent().getModel(\"P13n_ActivitiesConfig\").getData().MaxTableRows);\r\n\t\t\t\t\tif (iTableRowCount > iMaxTableRows) {\r\n\t\t\t\t\t\tiTableRowCount = iMaxTableRows;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.getModel(\"projectView\").getData().oTableControl.visibleRowCount = iTableRowCount;\r\n\t\t\t\t}\r\n\t\t\t\tthis.getModel(\"projectView\").refresh(false);\r\n\t\t\t}\r\n\t\t\t// Now we must sort the columns in the table based on configuration\r\n\t\t\tthis._syncConfigAndTable();\r\n\t\t\tthis.getOwnerComponent().getModel(\"P13n\").refresh(false);\r\n\t\t\tthis.oPersonalizationDialog.close();\r\n\t\t},\r\n\t\tonP13nHandleCancel: function(oEvent) {\r\n\t\t\t// Go back to the values that were showing\r\n\t\t\tvar oVariants = this.byId(\"Variant\");\r\n\t\t\tvar sSelectionKey = oVariants.getSelectionKey();\r\n\t\t\tif (sSelectionKey && sSelectionKey.substring(0, 7) === \"Variant\") {\r\n\t\t\t\tvar aVariants = this.getOwnerComponent().getModel(\"P13n_Variants\").getData().Variants;\r\n\t\t\t\tvar iIndex = sSelectionKey.replace(\"Variant\", \"\");\r\n\t\t\t\tthis.getOwnerComponent().getModel(\"P13n\").setData(JSON.parse(aVariants[iIndex].PersData));\r\n\t\t\t} else {\r\n\t\t\t\t// This is the default variant.\r\n\t\t\t\tthis.getOwnerComponent().getModel(\"P13n\").setData(JSON.parse(JSON.stringify(this.getOwnerComponent().getModel(\"P13n_default\").getData(\r\n\t\t\t\t\t\"\"))));\r\n\t\t\t}\r\n\t\t\tthis.getOwnerComponent().getModel(\"P13n\").refresh(false);\r\n\t\t\tthis.oPersonalizationDialog.close();\r\n\t\t\tif (this.oPersonalizationDialog) {\r\n\t\t\t\tthis.oPersonalizationDialog.destroy();\r\n\t\t\t\tthis.oPersonalizationDialog = null;\r\n\t\t\t}\r\n\t\t\tthis.__removeVariantChangedIndicator();\r\n\t\t},\r\n\t\t// onP13nHandleReset: function(oEvent) {\r\n\t\t// \t// In this case add back the default settings\r\n\t\t// \tvar oDefaultModel = this.getOwnerComponent().getModel(\"P13n_default\");\r\n\t\t// \tthis.getOwnerComponent().getModel(\"P13n\").setData(JSON.parse(JSON.stringify(oDefaultModel.getData())));\r\n\t\t// \tthis._syncConfigAndTable();\r\n\t\t// \tthis.getOwnerComponent().getModel(\"P13n\").refresh(false);\r\n\t\t// \tthis.oPersonalizationDialog.close();\r\n\t\t// \tthis.__removeVariantChangedIndicator();\r\n\t\t// },\r\n\t\tonP13nHandleReload: function(oEvent) {\r\n\t\t\t// In this case add back the default settings\r\n\t\t\tvar oVariants = this.byId(\"Variant\");\r\n\t\t\tvar sSelectionKey = oVariants.getSelectionKey();\r\n\t\t\tif (sSelectionKey.startsWith(\"Variant\")) {\r\n\t\t\t\tvar aVariants = this.getOwnerComponent().getModel(\"P13n_Variants\").getData().Variants;\r\n\t\t\t\tvar iIndex = sSelectionKey.replace(\"Variant\", \"\");\r\n\t\t\t\tthis.getOwnerComponent().getModel(\"P13n\").setData(JSON.parse(JSON.stringify(aVariants[iIndex])));\r\n\t\t\t} else {\r\n\t\t\t\t// This is the default variant.\r\n\t\t\t\tthis.getOwnerComponent().getModel(\"P13n\").setData(JSON.parse(JSON.stringify(this.getOwnerComponent().getModel(\"P13n_default\").getData(\r\n\t\t\t\t\t\"\"))));\r\n\t\t\t}\r\n\t\t\tthis.getOwnerComponent().getModel(\"P13n\").refresh(false);\r\n\t\t\tthis.oPersonalizationDialog.close();\r\n\t\t\tthis.__removeVariantChangedIndicator();\r\n\t\t},\r\n\t\tonP13nAddColumnsItem: function(oEvent) {\r\n\t\t\tvar sColumn = oEvent.getParameter(\"newItem\").getProperty(\"columnKey\");\r\n\t\t\tif (sColumn === \"Project>Name\") {\r\n\t\t\t\toEvent.getParameter(\"newItem\").setProperty(\"index\", 0);\r\n\t\t\t\toEvent.getParameter(\"newItem\").setProperty(\"visible\", true);\r\n\t\t\t} else if (oEvent.getParameter(\"newItem\").getProperty(\"index\") === 0) {\r\n\t\t\t\toEvent.getParameter(\"newItem\").setProperty(\"index\", 1);\r\n\t\t\t}\r\n\t\t\tvar sColumn = oEvent.getParameter(\"newItem\").getProperty(\"columnKey\");\r\n\t\t\tif (oEvent.getParameter(\"newItem\").mProperties.hasOwnProperty(\"visible\")) {\r\n\t\t\t\tvar bVisible = oEvent.getParameters().newItem.mProperties.visible;\r\n\t\t\t\tvar oData = this.getOwnerComponent().getModel(\"P13n\").getData();\r\n\t\t\t\tfor (var i = 0; i < oData.ColumnCollection.length; i++) {\r\n\t\t\t\t\tvar oColumn = oData.ColumnCollection[i];\r\n\t\t\t\t\tvar oFixedColumn = oData.FixedColumnConfig[oColumn.columnIndex];\r\n\t\t\t\t\tif (oColumn.path === sColumn) {\r\n\t\t\t\t\t\toColumn.visible = bVisible;\r\n\t\t\t\t\t\toFixedColumn.visible = bVisible;\r\n\t\t\t\t\t\ti = oData.ColumnCollection.length;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis.getOwnerComponent().getModel(\"P13n\").refresh(false);\r\n\t\t\t}\r\n\t\t\tthis.__setVariantChangedIndicator();\r\n\t\t},\r\n\t\tonP13nSave: function(oEvent) {\r\n\t\t\tthis._updateP13nConfigForColumnWidth();\r\n\t\t\tvar oData = this.getOwnerComponent().getModel(\"P13n\").getData();\r\n\t\t\tvar sGuid = \"\";\r\n\t\t\tif (oEvent.getParameters().overwrite) {\r\n\t\t\t\tvar aVariants = this.getOwnerComponent().getModel(\"P13n_Variants\").getData().Variants;\r\n\t\t\t\tvar iIndex = oEvent.getParameters().key.replace(\"Variant\", \"\");\r\n\t\t\t\tsGuid = aVariants[iIndex].Guid;\r\n\t\t\t}\r\n\t\t\tvar sDefaultVar = \" \";\r\n\t\t\tif (oEvent.getParameters().def) {\r\n\t\t\t\tsDefaultVar = \"X\";\r\n\t\t\t}\r\n\t\t\tvar sDescription = oEvent.getParameters().name;\r\n\t\t\tPersonalizationUtils.p13nVariantSave(this, oData, \"PlanningVariants\", sGuid, sDefaultVar, sDescription, oEvent.getParameters().overwrite);\r\n\t\t\tthis.__removeVariantChangedIndicator();\r\n\t\t},\r\n\t\tonP13nChangeColumnsItem: function(oEvent) {\r\n\t\t\tvar aItems = oEvent.getParameter(\"newItems\");\r\n\t\t\tvar aConfig = this.getOwnerComponent().getModel(\"P13n\").getData().ColumnCollection;\r\n\t\t\tfor (var i = 0; i < aItems.length; i++) {\r\n\t\t\t\tvar sColumnKey = aItems[i].getColumnKey();\r\n\t\t\t\tif (aItems[i].mProperties.hasOwnProperty(\"index\")) {\r\n\t\t\t\t\tvar iNewIndex = aItems[i].mProperties.index;\r\n\t\t\t\t\tfor (var j = 0; j < aConfig.length; j++) {\r\n\t\t\t\t\t\tvar sHoldColumnKey = aConfig[j].path;\r\n\t\t\t\t\t\tif (sColumnKey === sHoldColumnKey) {\r\n\t\t\t\t\t\t\tvar oHoldEntry = aConfig[j];\r\n\t\t\t\t\t\t\tif (iNewIndex > j) {\r\n\t\t\t\t\t\t\t\t// Moving Down\r\n\t\t\t\t\t\t\t\tfor (var k = j; k < iNewIndex; k++) {\r\n\t\t\t\t\t\t\t\t\taConfig[k] = aConfig[k + 1];\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t// Moving Up\r\n\t\t\t\t\t\t\t\tfor (var k = j; k > iNewIndex; k--) {\r\n\t\t\t\t\t\t\t\t\taConfig[k] = aConfig[k - 1];\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\taConfig[iNewIndex] = oHoldEntry;\r\n\t\t\t\t\t\t\tj = aConfig.length;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar aIConfig = oEvent.getSource().getItems();\r\n\t\t\t\t\tfor (var j = 0; j < aIConfig.length; j++) {\r\n\t\t\t\t\t\tif (sColumnKey === aIConfig[j].getColumnKey()) {\r\n\t\t\t\t\t\t\tvar aNotVisible = [];\r\n\t\t\t\t\t\t\tvar oHoldEntry = aIConfig[j];\r\n\t\t\t\t\t\t\toEvent.getSource().removeItem(oHoldEntry);\r\n\t\t\t\t\t\t\tvar aDisplayItems = oEvent.getSource().removeAllItems();\r\n\t\t\t\t\t\t\tfor (var k = 0; k < aDisplayItems.length; k++) {\r\n\t\t\t\t\t\t\t\tif (k === iNewIndex) {\r\n\t\t\t\t\t\t\t\t\toEvent.getSource().addItem(oHoldEntry);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif (aDisplayItems[k].getVisible()) {\r\n\t\t\t\t\t\t\t\t\toEvent.getSource().addItem(aDisplayItems[k]);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\taNotVisible.push(aDisplayItems[k]);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tfor (var l = 0; l < aNotVisible.length; l++) {\r\n\t\t\t\t\t\t\t\toEvent.getSource().addItem(aNotVisible[l]);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tj = aIConfig.length;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.getOwnerComponent().getModel(\"P13n\").refresh(false);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// Still move unchecked down to the bottom\r\n\t\t\t\t\tvar aNotVisible = [];\r\n\t\t\t\t\tvar aResult = [];\r\n\t\t\t\t\tfor (var j = 0; j < aConfig.length; j++) {\r\n\t\t\t\t\t\tif (aConfig[j].visible) {\r\n\t\t\t\t\t\t\taResult.push(aConfig[j]);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\taNotVisible.push(aConfig[j]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfor (var k = 0; k < aResult.length; k++) {\r\n\t\t\t\t\t\taConfig[k] = aResult[k];\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfor (var k = 0; k < aNotVisible.length; k++) {\r\n\t\t\t\t\t\taConfig[k + aResult.length] = aNotVisible[k];\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// Make sure order is the same\r\n\t\t\t\t\tvar aDisplayItems = oEvent.getSource().removeAllItems();\r\n\t\t\t\t\tfor (var l = 0; l < aConfig.length; l++) {\r\n\t\t\t\t\t\t// Find the match in the display\r\n\t\t\t\t\t\tfor (var m = 0; m < aDisplayItems.length; m++) {\r\n\t\t\t\t\t\t\tif (aConfig[l].path === aDisplayItems[m].getColumnKey()) {\r\n\t\t\t\t\t\t\t\toEvent.getSource().addItem(aDisplayItems[m]);\r\n\t\t\t\t\t\t\t\tm = aDisplayItems.length;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.getOwnerComponent().getModel(\"P13n\").refresh(false);\r\n\t\t\t\t\ti = aItems.length;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.__setVariantChangedIndicator();\r\n\t\t},\r\n\t\tonColumnMove: function(oEvent) {\r\n\t\t\tvar oConfig = this.getOwnerComponent().getModel(\"P13n\").getData();\r\n\t\t\tvar aColumnData = oConfig.ColumnCollection;\r\n\t\t\t//GDH 20170326 var sMovedColumn = oEvent.getParameter(\"column\").getLabel().getText();\r\n\t\t\tvar sMovedColumn = oEvent.getParameter(\"column\").getId().split(\"--Column\")[1];\r\n\t\t\tvar iNewIndex = oEvent.getParameter(\"newPos\");\r\n\t\t\t// Figure out where the column was before\r\n\t\t\tfor (var i = 0; i < aColumnData.length; i++) {\r\n\t\t\t\t//GDH 20170326 if (aColumnData[i].text === sMovedColumn) {\r\n\t\t\t\tif (Number(aColumnData[i].columnIndex).toString() === sMovedColumn) {\r\n\t\t\t\t\tvar oHoldEntry = aColumnData[i];\r\n\t\t\t\t\tif (iNewIndex > i) {\r\n\t\t\t\t\t\t// Moving Down\r\n\t\t\t\t\t\tfor (var j = i; j < iNewIndex; j++) {\r\n\t\t\t\t\t\t\taColumnData[j] = aColumnData[j + 1];\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// Moving Up\r\n\t\t\t\t\t\tfor (var j = i; j > iNewIndex; j--) {\r\n\t\t\t\t\t\t\taColumnData[j] = aColumnData[j - 1];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\taColumnData[iNewIndex] = oHoldEntry;\r\n\t\t\t\t\ti = aColumnData.length;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.getOwnerComponent().getModel(\"P13n\").refresh(false);\r\n\t\t\tthis.__setVariantChangedIndicator();\r\n\t\t},\r\n\t\tonColumnFilter: function(oEvent) {\r\n\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.activities\", \"RecalculateTotals\", {});\r\n\t\t},\r\n\t\tonShareEmailPress: function() {\r\n\t\t\tvar oViewModel = this.getModel(\"projectView\");\r\n\r\n\t\t\tsap.m.URLHelper.triggerEmail(\r\n\t\t\t\tnull,\r\n\t\t\t\toViewModel.getProperty(\"/oDynText/shareSendEMailSubject\"),\r\n\t\t\t\toViewModel.getProperty(\"/oDynText/shareSendEMailMessage\")\r\n\t\t\t);\r\n\t\t},\r\n\r\n\t\t// psutram: original method of onValidate\r\n\t\tonValidate: function(oEvent) {\r\n\t\t\tthis.oMessageManager.removeAllMessages();\r\n\t\t\tvar bDataValid = true;\r\n\t\t\tbDataValid = this._validateInput();\r\n\t\t\tvar oModel = this.getModel(\"Project\");\r\n\t\t\tvar oOnScreen = oModel.getProperty(\"/OnScreen\");\r\n\t\t\tif (oOnScreen.hasOwnProperty(\"0\")) {\r\n\t\t\t\tvar aRows = this.byId(\"Table\").getRows();\r\n\t\t\t\tfor (var i = 0; i < oOnScreen[0]._projectCount; i++) {\r\n\t\t\t\t\tvar oProject = oOnScreen[0][i];\r\n\t\t\t\t\tfor (var j = 0; j < oProject._activityCount; j++) {\r\n\t\t\t\t\t\tvar sPath = \"/OnScreen/0/\" + i + \"/\" + j;\r\n\t\t\t\t\t\tvar oActivityRow = ValidationUtils.getTableRow(sPath, \"Project\", aRows);\r\n\t\t\t\t\t\tvar oActivity = oProject[j];\r\n\t\t\t\t\t\tthis._setupMessageManager(oActivityRow, oActivity);\r\n\t\t\t\t\t\tfor (var k = 0; k < oActivity._subactivityCount; k++) {\r\n\t\t\t\t\t\t\tsPath = \"/OnScreen/0/\" + i + \"/\" + j + \"/\" + k;\r\n\t\t\t\t\t\t\tvar oSubactivityRow = ValidationUtils.getTableRow(sPath, \"Project\", aRows);\r\n\t\t\t\t\t\t\tvar oSubactivity = oActivity[k];\r\n\t\t\t\t\t\t\tthis._setupMessageManager(oSubactivityRow, oSubactivity);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\toModel.refresh(false);\r\n\t\t\t}\r\n\t\t\treturn bDataValid;\r\n\t\t},\r\n\r\n\t\tonValidateFull: function(oEvent) {\r\n\t\t\tthis.oMessageManager.removeAllMessages();\r\n\t\t\tvar bDataValid = true;\r\n\t\t\tbDataValid = this._validateInput();\r\n\t\t\tvar oModel = this.getModel(\"Project\");\r\n\t\t\tvar oOnScreen = oModel.getProperty(\"/OnScreen\");\r\n\t\t\tif (oOnScreen.hasOwnProperty(\"0\")) {\r\n\t\t\t\tvar aRows = this.byId(\"Table\").getRows();\r\n\t\t\t\tfor (var i = 0; i < oOnScreen[0]._projectCount; i++) {\r\n\t\t\t\t\tvar oProject = oOnScreen[0][i];\r\n\r\n\t\t\t\t\tfor (var j = 0; j < oProject._activityCount; j++) {\r\n\t\t\t\t\t\tvar sPath = \"/OnScreen/0/\" + i + \"/\" + j;\r\n\t\t\t\t\t\tvar oActivityRow = ValidationUtils.getTableRow(sPath, \"Project\", aRows);\r\n\t\t\t\t\t\tvar oActivity = oProject[j];\r\n\r\n\t\t\t\t\t\tthis._setupMessageManager(oActivityRow, oActivity);\r\n\t\t\t\t\t\tfor (var k = 0; k < oActivity._subactivityCount; k++) {\r\n\t\t\t\t\t\t\tsPath = \"/OnScreen/0/\" + i + \"/\" + j + \"/\" + k;\r\n\t\t\t\t\t\t\tvar oSubactivityRow = ValidationUtils.getTableRow(sPath, \"Project\", aRows);\r\n\t\t\t\t\t\t\tvar oSubactivity = oActivity[k];\r\n\t\t\t\t\t\t\tthis._setupMessageManager(oSubactivityRow, oSubactivity);\r\n\t\t\t\t\t\t\tvar oRecord = this.getModel(\"Project\").getProperty(sPath);\r\n\r\n\t\t\t\t\t\t\tvar tATStartDt = new Date(oActivity.StartDt).getTime();\r\n\t\t\t\t\t\t\tvar tATEndDt = new Date(oActivity.EndDt).getTime();\r\n\t\t\t\t\t\t\tvar tSAStartDt = new Date(oSubactivity.StartDt).getTime();\r\n\t\t\t\t\t\t\tvar tSAEndDt = new Date(oSubactivity.EndDt).getTime();\r\n\r\n\t\t\t\t\t\t\tif (tSAStartDt > tSAEndDt) {\r\n\t\t\t\t\t\t\t\tif (oSubactivity.FC_Editable_StartDt === true) {\r\n\t\t\t\t\t\t\t\t\tbDataValid = false;\r\n\t\t\t\t\t\t\t\t\tvar sMessage = this.getOwnerComponent().getModel(\"i18n\").getResourceBundle().getText(\"SCU_StartDt_LT_EndDt_Error\", [\r\n\t\t\t\t\t\t\t\t\t\toSubactivity.Id\r\n\t\t\t\t\t\t\t\t\t]);\r\n\r\n\t\t\t\t\t\t\t\t\toRecord[\"FC_ValueState_StartDt\"] = sap.ui.core.ValueState.Error;\r\n\t\t\t\t\t\t\t\t\toRecord[\"FC_ValueStateText_StartDt\"] = sMessage;\r\n\t\t\t\t\t\t\t\t\tthis.oMessageManager.addMessages(\r\n\t\t\t\t\t\t\t\t\t\tnew sap.ui.core.message.Message({\r\n\t\t\t\t\t\t\t\t\t\t\tmessage: sMessage,\r\n\t\t\t\t\t\t\t\t\t\t\tdescription: \"\",\r\n\t\t\t\t\t\t\t\t\t\t\ttype: oRecord[\"FC_ValueState_StartDt\"],\r\n\t\t\t\t\t\t\t\t\t\t\tprocessor: this.oMessageProcessor\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t//MessageToast.show(sMessage);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (tSAStartDt < tATStartDt || tSAStartDt > tATEndDt) {\r\n\t\t\t\t\t\t\t\tif (oSubactivity.FC_Editable_StartDt === true) {\r\n\t\t\t\t\t\t\t\t\tbDataValid = false;\r\n\t\t\t\t\t\t\t\t\tvar sMessage = this.getOwnerComponent().getModel(\"i18n\").getResourceBundle().getText(\"SCU_StartDt_NOT_BTW_ActivityDt_Error\", [\r\n\t\t\t\t\t\t\t\t\t\toSubactivity.Id\r\n\t\t\t\t\t\t\t\t\t]);\r\n\r\n\t\t\t\t\t\t\t\t\toRecord[\"FC_ValueState_StartDt\"] = sap.ui.core.ValueState.Error;\r\n\t\t\t\t\t\t\t\t\toRecord[\"FC_ValueStateText_StartDt\"] = sMessage;\r\n\t\t\t\t\t\t\t\t\tthis.oMessageManager.addMessages(\r\n\t\t\t\t\t\t\t\t\t\tnew sap.ui.core.message.Message({\r\n\t\t\t\t\t\t\t\t\t\t\tmessage: sMessage,\r\n\t\t\t\t\t\t\t\t\t\t\tdescription: \"\",\r\n\t\t\t\t\t\t\t\t\t\t\ttype: oRecord[\"FC_ValueState_StartDt\"],\r\n\t\t\t\t\t\t\t\t\t\t\tprocessor: this.oMessageProcessor\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t//MessageToast.show(sMessage);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tif (tSAEndDt < tATStartDt || tSAEndDt > tATEndDt) {\r\n\r\n\t\t\t\t\t\t\t\tif (oSubactivity.FC_Editable_StartDt === true) {\r\n\t\t\t\t\t\t\t\t\tbDataValid = false;\r\n\t\t\t\t\t\t\t\t\tvar sMessage = this.getOwnerComponent().getModel(\"i18n\").getResourceBundle().getText(\"SCU_EndDt_NOT_BTW_ActivityDt_Error\", [\r\n\t\t\t\t\t\t\t\t\t\toSubactivity.Id\r\n\t\t\t\t\t\t\t\t\t]);\r\n\r\n\t\t\t\t\t\t\t\t\toRecord[\"FC_ValueState_EndDt\"] = sap.ui.core.ValueState.Error;\r\n\t\t\t\t\t\t\t\t\toRecord[\"FC_ValueStateText_EndDt\"] = sMessage;\r\n\t\t\t\t\t\t\t\t\tthis.oMessageManager.addMessages(\r\n\t\t\t\t\t\t\t\t\t\tnew sap.ui.core.message.Message({\r\n\t\t\t\t\t\t\t\t\t\t\tmessage: sMessage,\r\n\t\t\t\t\t\t\t\t\t\t\tdescription: \"\",\r\n\t\t\t\t\t\t\t\t\t\t\ttype: oRecord[\"FC_ValueState_EndDt\"],\r\n\t\t\t\t\t\t\t\t\t\t\tprocessor: this.oMessageProcessor\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t//\tMessageToast.show(sMessage);\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t// end of changes\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\toModel.refresh(false);\r\n\t\t\t}\r\n\t\t\treturn bDataValid;\r\n\t\t},\r\n\r\n\t\t_setStyleMode: function(mode) {\r\n\t\t\tvar oPage = this.byId(\"page\");\r\n\t\t\tvar oBar = this.byId(\"page-intHeader\");\r\n\t\t\tvar sTitleExtension = \"\";\r\n\t\t\tvar oInternalEvents = this.getOwnerComponent().getModel(\"masterShared\").getData().oInternalEvents;\r\n\t\t\tif (oBar) {\r\n\t\t\t\tif (mode === \"Edit\") {\r\n\t\t\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").getData().oFilters.oExclude = {};\r\n\t\t\t\t\toInternalEvents.currentMode = \"Edit\";\r\n\t\t\t\t\toBar.removeStyleClass(\"ModeStatus\");\r\n\t\t\t\t\t//\t\t\t\t\toBar.$().removeClass(\"ModeStatus\");\r\n\t\t\t\t\toBar.addStyleClass(\"ModeEdit\");\r\n\t\t\t\t\t//\t\t\t\t\toBar.$().addClass(\"ModeEdit\");\r\n\t\t\t\t\tsTitleExtension = this.getOwnerComponent().getModel(\"i18n\").getResourceBundle().getText(\"A_M_Edit\");\r\n\t\t\t\t} else if (mode === \"Status\") {\r\n\t\t\t\t\t// Begin of Addition - Khrystyne Williams - August 30, 2016\r\n\t\t\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").getData().oFilters.oExclude = {};\r\n\t\t\t\t\t// End of Addition - Khrystyne Williams - August 30, 2016\r\n\t\t\t\t\toInternalEvents.currentMode = \"Status\";\r\n\t\t\t\t\toBar.addStyleClass(\"ModeStatus\");\r\n\t\t\t\t\toBar.removeStyleClass(\"ModeEdit\");\r\n\t\t\t\t\tsTitleExtension = this.getOwnerComponent().getModel(\"i18n\").getResourceBundle().getText(\"A_M_Status\");\r\n\t\t\t\t} else if (mode === \"Display\") {\r\n\t\t\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").getData().oFilters.oExclude = {};\r\n\t\t\t\t\toInternalEvents.currentMode = \"Display\";\r\n\t\t\t\t\toBar.removeStyleClass(\"ModeStatus\");\r\n\t\t\t\t\t//\t\t\t\t\toBar.$().removeClass(\"ModeStatus\");\r\n\t\t\t\t\toBar.removeStyleClass(\"ModeEdit\");\r\n\t\t\t\t\t//\t\t\t\t\toBar.$().removeClass(\"ModeEdit\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// get side panel filters from this.getOwnerComponent().getModel(\"masterShared\").getData().oMasterSelect the descriptions of the side panel filters\r\n\t\t\t// get personalisation filters from this.getOwnerComponent().getModel(\"P13n\").getData().FilterItems\r\n\t\t\tvar oFilterDesc = this.getOwnerComponent().getModel(\"masterShared\").getData().oMasterSelect;\r\n\t\t\tvar oExclude = this.getOwnerComponent().getModel(\"masterShared\").getData().oFilters.oExclude;\r\n\t\t\tvar sFilterExtension = \"\";\r\n\t\t\tvar sDiv = this.getOwnerComponent().getModel(\"i18n\").getResourceBundle().getText(\"HF_Div\", []);\r\n\t\t\tvar sHub = this.getOwnerComponent().getModel(\"i18n\").getResourceBundle().getText(\"HF_Hub\", []);\r\n\t\t\tvar sSub = this.getOwnerComponent().getModel(\"i18n\").getResourceBundle().getText(\"HF_Sub\", []);\r\n\t\t\tvar sAllDiv = this.getOwnerComponent().getModel(\"i18n\").getResourceBundle().getText(\"HF_AllDiv\", []);\r\n\t\t\tif (oFilterDesc.DivisionText !== \"\" && !oExclude.Division) {\r\n\t\t\t\tsFilterExtension = (\" \" + sDiv + \" \" + oFilterDesc.DivisionText);\r\n\t\t\t} else {\r\n\t\t\t\tsFilterExtension = (\" \" + sDiv + \" \" + sAllDiv);\r\n\t\t\t}\r\n\t\t\tif (oFilterDesc.HubText !== \"\" && !oExclude.Hub) {\r\n\t\t\t\tsFilterExtension = (sFilterExtension + \" |\" + sHub + \" \" + oFilterDesc.HubText);\r\n\t\t\t}\r\n\t\t\tif (oFilterDesc.SubText !== \"\" && !oExclude.Sub) {\r\n\t\t\t\tsFilterExtension = (sFilterExtension + \" |\" + sSub + \" \" + oFilterDesc.SubText);\r\n\t\t\t}\r\n\t\t\tvar sFilterExtension2 = \"\";\r\n\t\t\t// Begin of Commenting - Khrystyne Williams - August 30, 2016\r\n\t\t\t// if (mode !== \"Status\") {\r\n\t\t\tif (this.getOwnerComponent().getModel(\"P13n\")) {\r\n\t\t\t\tvar aFilterItems = this.getOwnerComponent().getModel(\"P13n\").getData().FilterItems;\r\n\t\t\t\tfor (var i = 0; i < aFilterItems.length; i++) {\r\n\t\t\t\t\tvar filterType = aFilterItems[i].operation;\r\n\t\t\t\t\tif (aFilterItems[i].hasOwnProperty(\"exclude\") && aFilterItems[i].exclude) {\r\n\t\t\t\t\t\tfilterType = \"NE\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar value1 = \"\";\r\n\t\t\t\t\tvar value2 = \"\";\r\n\t\t\t\t\tvar value3 = \"\";\r\n\t\t\t\t\tif (aFilterItems[i].hasOwnProperty(\"value1\")) {\r\n\t\t\t\t\t\tvalue1 = aFilterItems[i].value1;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (aFilterItems[i].hasOwnProperty(\"value2\")) {\r\n\t\t\t\t\t\tvalue2 = aFilterItems[i].value2;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (aFilterItems[i].hasOwnProperty(\"path\")) {\r\n\t\t\t\t\t\tvalue3 = aFilterItems[i].path;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsFilterExtension2 = (sFilterExtension2 + value3 + value1 + value2);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// }\r\n\t\t\t// End of Commenting - Khrystyne Williams - August 30, 2016\r\n\t\t\toPage.setTitle(this.getOwnerComponent().getModel(\"i18n\").getResourceBundle().getText(\"activityOverview\", [this.getOwnerComponent().getModel(\r\n\t\t\t\t\t\"ASMConfig\").getData().Properties.PlanningYear,\r\n\t\t\t\tthis.getOwnerComponent().getModel(\"P13n_Configuration\").getProperty(\"/CurrencySettings/Currency\"),\r\n\t\t\t\tsFilterExtension,\r\n\t\t\t\tsFilterExtension2,\r\n\t\t\t\tsTitleExtension\r\n\t\t\t]));\r\n\t\t\t// PSW End Change for Showing Filter Values May 16th 2016\r\n\t\t},\r\n\t\t_getBudgetObject: function() {\r\n\t\t\tvar budget = {\r\n\t\t\t\tAmtB1: 0,\r\n\t\t\t\tAmtB2: 0,\r\n\t\t\t\tAmtB3: 0,\r\n\t\t\t\tAmtB4: 0,\r\n\t\t\t\tAmtB5: 0,\r\n\t\t\t\tAmtB6: 0,\r\n\t\t\t\tAmtB7: 0,\r\n\t\t\t\tAmtB8: 0,\r\n\t\t\t\tAmtB9: 0,\r\n\t\t\t\tAmtB10: 0,\r\n\t\t\t\tAmtB11: 0,\r\n\t\t\t\tAmtB12: 0,\r\n\t\t\t\tAmtA1: 0,\r\n\t\t\t\tAmtA2: 0,\r\n\t\t\t\tAmtA3: 0,\r\n\t\t\t\tAmtA4: 0,\r\n\t\t\t\tAmtA5: 0,\r\n\t\t\t\tAmtA6: 0,\r\n\t\t\t\tAmtA7: 0,\r\n\t\t\t\tAmtA8: 0,\r\n\t\t\t\tAmtA9: 0,\r\n\t\t\t\tAmtA10: 0,\r\n\t\t\t\tAmtA11: 0,\r\n\t\t\t\tAmtA12: 0\r\n\t\t\t};\r\n\t\t\treturn budget;\r\n\t\t},\r\n\t\t// psutram: Jan 2017 : modified method\r\n\t\t_sumBudgetNumbers: function(oTotal, oRaw) {\r\n\t\t\tvar i = 0;\r\n\t\t\tvar recordTotal = parseFloat(0);\r\n\t\t\tvar recordATotal = parseFloat(0);\r\n\t\t\t// Begin of Changes - Khrystyne Williams - Nov 2016\r\n\t\t\tvar recordLeTotal = parseFloat(0);\r\n\t\t\tvar currentdate = new Date();\r\n\t\t\tvar currentmonth = currentdate.getMonth();\r\n\t\t\t// End of Changes - Khrystyne Williams - Nov 2016\r\n\r\n\t\t\t//Actuals and Plans // USERA04 // 2/28/17\r\n\t\t\tvar currentYear = currentdate.getFullYear();\r\n\t\t\tvar planYear = oRaw.PlanningYear;\r\n\t\t\t//END OF USERA04\r\n\r\n\t\t\tdo {\r\n\t\t\t\ti++;\r\n\t\t\t\tvar sColumnName = \"AmtB\" + i;\r\n\t\t\t\tvar sAColumnName = \"AmtA\" + i;\r\n\t\t\t\tvar sValueState = \"FC_ValueState_AmtB\" + i;\r\n\t\t\t\tvar sValueStateText = \"FC_ValueStateText_AmtB\" + i;\r\n\t\t\t\t// Begin of Changes - Khrystyne Williams - Nov 2016\r\n\t\t\t\t// Update the Actuals + Plan to Go\r\n\t\t\t\toRaw[sValueState] = sap.ui.core.ValueState.None;\r\n\t\t\t\toRaw[sValueStateText] = \"\";\r\n\r\n\t\t\t\t//psutram: Jan 2017 modified\r\n\t\t\t\tvar amt = parseFloat(oRaw[sColumnName]);\r\n\t\t\t\tif (isNaN(amt)) {\r\n\t\t\t\t\tamt = 0;\r\n\t\t\t\t\t//psutram feb 6th\r\n\t\t\t\t\toRaw[sColumnName] = 0;\r\n\t\t\t\t}\r\n\t\t\t\tvar aAmt = parseFloat(oRaw[sAColumnName]);\r\n\t\t\t\tif (isNaN(aAmt)) {\r\n\t\t\t\t\taAmt = 0;\r\n\t\t\t\t\t//psutram feb 6th\r\n\t\t\t\t\toRaw[sAColumnName] = 0;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//psutram: Jan 2017 commented and modified\r\n\t\t\t\t// oTotal[sColumnName] = parseFloat(oTotal[sColumnName]) + parseFloat(oRaw[sColumnName]);\r\n\t\t\t\t// oTotal[sAColumnName] = parseFloat(oTotal[sAColumnName]) + parseFloat(oRaw[sAColumnName]);\r\n\t\t\t\t// recordTotal = parseFloat(recordTotal) + parseFloat(oRaw[sColumnName]);\r\n\t\t\t\t// recordATotal = parseFloat(recordATotal) + parseFloat(oRaw[sAColumnName]);\r\n\t\t\t\t// if (i < (currentmonth + 1)) {\r\n\t\t\t\t// \trecordLeTotal = parseFloat(recordLeTotal) + parseFloat(oRaw[sAColumnName]);\r\n\t\t\t\t// } else {\r\n\t\t\t\t// \trecordLeTotal = parseFloat(recordLeTotal) + parseFloat(oRaw[sColumnName]);\r\n\t\t\t\t// }\r\n\t\t\t\toTotal[sColumnName] = parseFloat(oTotal[sColumnName]) + parseFloat(amt);\r\n\t\t\t\toTotal[sAColumnName] = parseFloat(oTotal[sAColumnName]) + parseFloat(aAmt);\r\n\r\n\t\t\t\trecordTotal = parseFloat(recordTotal) + parseFloat(amt);\r\n\t\t\t\trecordATotal = parseFloat(recordATotal) + parseFloat(aAmt);\r\n\t\t\t\tif (i < (currentmonth + 1)) {\r\n\t\t\t\t\trecordLeTotal = parseFloat(recordLeTotal) + parseFloat(aAmt);\r\n\t\t\t\t} else {\r\n\t\t\t\t\trecordLeTotal = parseFloat(recordLeTotal) + parseFloat(amt);\r\n\t\t\t\t}\r\n\t\t\t\t//psutram: end of changes\r\n\r\n\t\t\t} while (i < 12);\r\n\t\t\toRaw.AmtBTot = parseFloat(recordTotal);\r\n\t\t\toRaw.AmtATot = parseFloat(recordATotal);\r\n\r\n\t\t\t// Begin of Changes - Khrystyne Williams - Nov 2016\r\n\t\t\t//oRaw.AmtLeTot = parseFloat(recordLeTotal);\r\n\t\t\t//Actuals and Plans // USERA04 // 2/28/17\r\n\t\t\tif (currentYear.toString() === planYear) {\r\n\t\t\t\toRaw.AmtLeTot = parseFloat(recordLeTotal);\r\n\t\t\t} else if (currentYear.toString() > planYear) {\r\n\t\t\t\toRaw.AmtLeTot = parseFloat(recordATotal);\r\n\t\t\t} else {\r\n\t\t\t\toRaw.AmtLeTot = parseFloat(recordTotal);\r\n\t\t\t}\r\n\t\t\t//END OF USERA04\r\n\r\n\t\t\t// End of Changes - Khrystyne Williams - Nov 2016\r\n\t\t},\r\n\t\t_setTotals: function(oTotal, oRaw) {\r\n\t\t\tvar i = 0;\r\n\t\t\tvar recordTotal = parseFloat(0);\r\n\t\t\tvar recordATotal = parseFloat(0);\r\n\t\t\t// Begin of Changes - Khrystyne Williams - Nov 2016\r\n\t\t\tvar recordLeTotal = parseFloat(0);\r\n\t\t\tvar currentdate = new Date();\r\n\t\t\tvar currentmonth = currentdate.getMonth();\r\n\t\t\t// End of Changes - Khrystyne Williams - Nov 2016\r\n\r\n\t\t\t//Actuals and Plans // USERA04 // 2/28/17\r\n\t\t\tvar currentYear = currentdate.getFullYear();\r\n\t\t\tvar planYear = oRaw.PlanningYear;\r\n\t\t\t//END OF USERA04\r\n\r\n\t\t\tdo {\r\n\t\t\t\ti++;\r\n\t\t\t\tvar sColumnName = \"AmtB\" + i;\r\n\t\t\t\tvar sAColumnName = \"AmtA\" + i;\r\n\t\t\t\t// Begin of Changes - Khrystyne Williams - Nov 2016\r\n\t\t\t\t// Update the Actuals + Plan to Go\r\n\t\t\t\tvar sAPTGColumnName = \"AmtLeTot\";\r\n\t\t\t\toRaw[sColumnName] = parseFloat(oTotal[sColumnName]);\r\n\t\t\t\toRaw[sAColumnName] = parseFloat(oTotal[sAColumnName]);\r\n\t\t\t\t// oRaw[sAPTGColumnName] = parseFloat(oTotal[sAPTGColumnName]);\r\n\t\t\t\trecordTotal = parseFloat(recordTotal) + parseFloat(oRaw[sColumnName]);\r\n\t\t\t\trecordATotal = parseFloat(recordATotal) + parseFloat(oRaw[sAColumnName]);\r\n\t\t\t\tif (i < (currentmonth + 1)) {\r\n\t\t\t\t\trecordLeTotal = parseFloat(recordLeTotal) + parseFloat(oRaw[sAColumnName]);\r\n\t\t\t\t} else {\r\n\t\t\t\t\trecordLeTotal = parseFloat(recordLeTotal) + parseFloat(oRaw[sColumnName]);\r\n\t\t\t\t}\r\n\t\t\t\t// End of Changes - Khrystyne Williams - Nov 2016\r\n\t\t\t} while (i < 12);\r\n\r\n\t\t\t//Actuals and Plans // USERA04 // 2/28/17\r\n\t\t\tif (!planYear) {\r\n\t\t\t\toRaw.AmtLeTot = parseFloat(recordLeTotal);\r\n\t\t\t} else if (currentYear.toString() === planYear) {\r\n\t\t\t\toRaw.AmtLeTot = parseFloat(recordLeTotal);\r\n\t\t\t} else if (currentYear.toString() > planYear) {\r\n\t\t\t\toRaw.AmtLeTot = parseFloat(recordATotal);\r\n\t\t\t} else {\r\n\t\t\t\toRaw.AmtLeTot = parseFloat(recordTotal);\r\n\t\t\t}\r\n\t\t\toRaw.AmtBTot = recordTotal;\r\n\t\t\toRaw.AmtATot = recordATotal;\r\n\t\t\t//END OF USERA04\r\n\t\t},\r\n\t\t_sumTotals: function(oTotal, oRaw) {\r\n\t\t\tvar i = 0;\r\n\t\t\t// Begin of Changes - Khrystyne Williams - Nov 2016\r\n\t\t\tvar currentdate = new Date();\r\n\t\t\tvar currentmonth = currentdate.getMonth();\r\n\r\n\t\t\tdo {\r\n\t\t\t\ti++;\r\n\t\t\t\tvar sColumnName = \"AmtB\" + i;\r\n\t\t\t\tvar sAColumnName = \"AmtA\" + i;\r\n\t\t\t\tvar sAPTGColumnName = \"AmtLeTot\";\r\n\t\t\t\toRaw[sColumnName] = parseFloat(oRaw[sColumnName]) + parseFloat(oTotal[sColumnName]);\r\n\t\t\t\toRaw[sAColumnName] = parseFloat(oRaw[sAColumnName]) + parseFloat(oTotal[sAColumnName]);\r\n\t\t\t\tif (i < (currentmonth + 1)) {\r\n\t\t\t\t\toRaw[sAPTGColumnName] = parseFloat(oRaw[sAPTGColumnName]) + parseFloat(oRaw[sAColumnName]);\r\n\t\t\t\t} else {\r\n\t\t\t\t\toRaw[sAPTGColumnName] = parseFloat(oRaw[sAPTGColumnName]) + parseFloat(oRaw[sColumnName]);\r\n\t\t\t\t}\r\n\t\t\t\t// End of Changes - Khrystyne Williams - Nov 2016\r\n\t\t\t} while (i < 12);\r\n\r\n\t\t\t//Actuals and Plans // USERA04 // 2/28/17\r\n\t\t\tvar currentYear = currentdate.getFullYear();\r\n\t\t\tvar planYear = oRaw.PlanningYear;\r\n\r\n\t\t\tif (!planYear) {\r\n\t\t\t\toRaw.AmtLeTot = parseFloat(oRaw[sAPTGColumnName]);\r\n\t\t\t} else if (currentYear.toString() === planYear) {\r\n\t\t\t\toRaw.AmtLeTot = parseFloat(oRaw[sAPTGColumnName]);\r\n\t\t\t} else if (currentYear.toString() > planYear) {\r\n\t\t\t\toRaw.AmtLeTot = parseFloat(oRaw[sAColumnName]);\r\n\t\t\t} else {\r\n\t\t\t\toRaw.AmtLeTot = parseFloat(oRaw[sColumnName]);\r\n\t\t\t}\r\n\t\t\t//END OF USERA04\r\n\t\t},\r\n\t\t_overallTotal: function(oRaw) {\r\n\t\t\tvar i = 0;\r\n\t\t\t// Begin of Changes - Khrystyne Williams - Nov 2016\r\n\t\t\tvar currentdate = new Date();\r\n\t\t\tvar currentmonth = currentdate.getMonth();\r\n\t\t\tdo {\r\n\t\t\t\ti++;\r\n\t\t\t\tvar sColumnName = \"AmtB\" + i;\r\n\t\t\t\tvar sAColumnName = \"AmtA\" + i;\r\n\t\t\t\toRaw._overallTotal = parseFloat(oRaw[sColumnName]) + parseFloat(oRaw._overallTotal);\r\n\t\t\t\toRaw._overallATotal = parseFloat(oRaw[sAColumnName]) + parseFloat(oRaw._overallATotal);\r\n\t\t\t\tif (i < (currentmonth + 1)) {\r\n\t\t\t\t\toRaw._overallAPTGTotal = parseFloat(oRaw._overallAPTGTotal) + parseFloat(oRaw[sAColumnName]);\r\n\r\n\t\t\t\t} else {\r\n\t\t\t\t\toRaw._overallAPTGTotal = parseFloat(oRaw._overallAPTGTotal) + parseFloat(oRaw[sColumnName]);\r\n\t\t\t\t}\r\n\t\t\t\t// End of Changes - Khrystyne Williams - Nov 2016\r\n\t\t\t} while (i < 12);\r\n\t\t\t//Actuals and Plans // USERA04 // 2/28/17\r\n\t\t\tvar currentYear = currentdate.getFullYear();\r\n\t\t\tvar planYear = oRaw[\"0\"].PlanningYear;\r\n\r\n\t\t\tif (currentYear.toString() === planYear) {\r\n\t\t\t\toRaw._overallAPTGTotal = parseFloat(oRaw._overallAPTGTotal);\r\n\t\t\t} else if (currentYear.toString() > planYear) {\r\n\t\t\t\toRaw._overallAPTGTotal = parseFloat(oRaw._overallATotal);\r\n\t\t\t} else if (currentYear.toString() < planYear) {\r\n\t\t\t\toRaw._overallAPTGTotal = parseFloat(oRaw._overallTotal);\r\n\t\t\t}\r\n\t\t\t//End of USERA04\r\n\t\t},\r\n\t\t_checkForCapChanges: function(oNew, oOrig) {\r\n\t\t\toNew._UPDCAP = false;\r\n\t\t\tvar bReturn = false;\r\n\t\t\tif (parseFloat(oNew.MaxValueC) !== parseFloat(oOrig.MaxValueC)) {\r\n\t\t\t\toNew.MaxValueC = oNew.MaxValueC.toString();\r\n\t\t\t\toNew._UPDCAP = true;\r\n\t\t\t\tbReturn = true;\r\n\t\t\t}\r\n\t\t\treturn bReturn;\r\n\t\t},\r\n\t\t_checkForChanges: function(oNew, oOrig) {\r\n\t\t\tvar i = 0;\r\n\t\t\tvar bReturn = false;\r\n\t\t\toNew._UPDITEM = false;\r\n\t\t\toNew._UPDFIN = false;\r\n\r\n\t\t\t//psutram: Added so we skip changes for activity\r\n\t\t\tif (oNew.ItemType === \"AT\") {\r\n\t\t\t\treturn bReturn;\r\n\t\t\t}\r\n\t\t\tdo {\r\n\t\t\t\ti++;\r\n\t\t\t\tvar sColumnName = \"AmtB\" + i;\r\n\t\t\t\tif (parseFloat(oNew[sColumnName]) !== parseFloat(oOrig[sColumnName])) {\r\n\t\t\t\t\toNew[sColumnName] = oNew[sColumnName].toString();\r\n\t\t\t\t\toNew._UPDFIN = true;\r\n\t\t\t\t\tbReturn = true;\r\n\t\t\t\t}\r\n\t\t\t} while (i < 12);\r\n\r\n\t\t\t// psutram: Feb 2017 change : ignore the change if MaxValueB is from an ItemType of AT\r\n\t\t\t// if (parseFloat(oNew.MaxValueB) !== parseFloat(oOrig.MaxValueB) && (!oNew.ItemType === \"AT\")) {\r\n\r\n\t\t\t// \toNew._UPDITEM = true;\r\n\t\t\t// \tbReturn = true;\r\n\t\t\t// }\r\n\t\t\t// if (parseFloat(oNew.MaxValueB) !== parseFloat(oOrig.MaxValueB)) {\r\n\t\t\t// \toNew._UPDITEM = true;\r\n\t\t\t// \tbReturn = true;\r\n\t\t\t// }\r\n\t\t\t// psutram: end of change\r\n\r\n\t\t\t// Begin of Changes - Khrystyne Williams - Nov 2016\r\n\t\t\t// Not using Budget/Le anymore\r\n\t\t\t// if (parseFloat(oNew.MaxValueBo) !== parseFloat(oOrig.MaxValueBo)) {\r\n\t\t\t// \toNew._UPDITEM = true;\r\n\t\t\t// \tbReturn = true;\r\n\t\t\t// }\r\n\t\t\t// End of Changes - Khrystyne Williams - Nov 2016\r\n\t\t\tif (oNew.StartDt !== oOrig.StartDt) {\r\n\t\t\t\toNew._UPDITEM = true;\r\n\t\t\t\tbReturn = true;\r\n\t\t\t}\r\n\t\t\tif (oNew.EndDt !== oOrig.EndDt) {\r\n\t\t\t\toNew._UPDITEM = true;\r\n\t\t\t\tbReturn = true;\r\n\t\t\t}\r\n\t\t\treturn bReturn;\r\n\t\t},\r\n\t\tonBudgetChange: function(oEvent) {\r\n\t\t\tvar oField = oEvent.getSource();\r\n\t\t\tvar sCurrentValue = oEvent.getParameters().value;\r\n\t\t\tsCurrentValue = sCurrentValue.replace(/,/g, \"\");\r\n\t\t\tsCurrentValue = sCurrentValue.replace(/\\./g, \"\");\r\n\t\t\tvar oRecord = this.getModel(\"Project\").getProperty(oField.getParent().getBindingContext(\"Project\").sPath);\r\n\t\t\tvar bNumber = /^-*[0-9,\\.]+$/.test(sCurrentValue);\r\n\t\t\t// Allow negative numbers\r\n\t\t\t//if (sCurrentValue !== \"\" && (!bNumber || parseFloat(sCurrentValue) < 0.0)) {\r\n\t\t\tif (sCurrentValue !== \"\" && (!bNumber)) {\r\n\t\t\t\tif (sCurrentValue !== \"-\") {\r\n\t\t\t\t\toField.setValue(\"0\");\r\n\t\t\t\t\toRecord[oField.getBindingInfo(\"valueState\").binding.getPath()] = sap.ui.core.ValueState.Warning;\r\n\t\t\t\t\toRecord[oField.getBindingInfo(\"valueStateText\").binding.getPath()] = this.getOwnerComponent().getModel(\"i18n\").getResourceBundle()\r\n\t\t\t\t\t\t.getText(\r\n\t\t\t\t\t\t\t\"A_E_notValid\", [sCurrentValue]);\r\n\t\t\t\t} else {\r\n\t\t\t\t\toRecord[oField.getBindingInfo(\"value\").parts[0].path] = 0;\r\n\t\t\t\t\tthis._calculatePlanForDistribution(oRecord);\r\n\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.activities\", \"RecalculateTotals\", {});\r\n\t\t\t\t\tthis.getModel(\"Project\").refresh(false);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\toRecord[oField.getBindingInfo(\"valueState\").binding.getPath()] = sap.ui.core.ValueState.None;\r\n\t\t\t\toRecord[oField.getBindingInfo(\"valueStateText\").binding.getPath()] = \"\";\r\n\t\t\t\tif (oField.getId().includes(\"MaxValueB\")) {\r\n\t\t\t\t\tthis.byId(\"Table\").addSelectionInterval(oField.getParent().getIndex(), oField.getParent().getIndex());\r\n\t\t\t\t} else if (oField.getId().includes(\"MaxValueC\")) {\r\n\t\t\t\t\tif (oField.getValue() === \"\" || parseFloat(oField.getValue) <= parseFloat(\"0.0\")) {\r\n\t\t\t\t\t\toRecord[oField.getBindingInfo(\"valueState\").binding.getPath()] = sap.ui.core.ValueState.Warning;\r\n\t\t\t\t\t\toRecord[oField.getBindingInfo(\"valueStateText\").binding.getPath()] = this.getOwnerComponent().getModel(\"i18n\").getResourceBundle()\r\n\t\t\t\t\t\t\t.getText(\"AC_BudgetCapMissing\", []);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\toRecord[oField.getBindingInfo(\"valueState\").binding.getPath()] = sap.ui.core.ValueState.None;\r\n\t\t\t\t\t\toRecord[oField.getBindingInfo(\"valueStateText\").binding.getPath()] = \"\";\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// Sum up plan values\r\n\t\t\t\t\toRecord[oField.getBindingInfo(\"value\").parts[0].path] = sCurrentValue;\r\n\t\t\t\t\tthis._calculatePlanForDistribution(oRecord);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.activities\", \"RecalculateTotals\", {});\r\n\t\t\tthis.getModel(\"Project\").refresh(false);\r\n\t\t},\r\n\t\t_calculatePlanForDistribution: function(oRecord) {\r\n\t\t\tvar i = 0;\r\n\t\t\toRecord.MaxValueB = parseFloat(0);\r\n\t\t\tdo {\r\n\t\t\t\ti++;\r\n\t\t\t\tvar sColumnName = \"AmtB\" + i;\r\n\t\t\t\toRecord.MaxValueB = parseFloat(oRecord.MaxValueB) + parseFloat(oRecord[sColumnName]);\r\n\t\t\t} while (i < 12);\r\n\t\t},\r\n\t\tonDistChange: function(oEvent) {\r\n\t\t\tvar oField = oEvent.getSource();\r\n\t\t\tvar sCurrentValue = oEvent.getParameters().value;\r\n\t\t\tvar bNumber = /^-*[0-9,\\.]+$/.test(sCurrentValue);\r\n\t\t\tif (!bNumber) {\r\n\t\t\t\toField.setValue(\"\");\r\n\t\t\t\toField.setValueState(sap.ui.core.ValueState.Error);\r\n\t\t\t\toField.setValueText(this.getOwnerComponent().getModel(\"i18n\").getResourceBundle()\r\n\t\t\t\t\t.getText(\r\n\t\t\t\t\t\t\"A_E_notValid\", [sCurrentValue]));\r\n\t\t\t} else {\r\n\t\t\t\toField.setValueState(sap.ui.core.ValueState.None);\r\n\t\t\t\t// $PSW Start Correction for Distribution entry errored on non numeric value June 13th 2016\t\t\t\t\t\r\n\t\t\t\toField.setValueStateText(\"\");\r\n\t\t\t\t// $PSW End Correction for Distribution entry errored on non numeric value June 13th 2016\t\t\t\t\t\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/* =========================================================== */\r\n\t\t/* begin: internal methods                                     */\r\n\t\t/* =========================================================== */\r\n\r\n\t\t/**\r\n\t\t * Binds the view to the object path and expands the aggregated line items.\r\n\t\t * @function\r\n\t\t * @param {sap.ui.base.Event} oEvent pattern match event in route 'object'\r\n\t\t * @private\r\n\t\t */\r\n\t\t_onMessageSelected: function(oEvent) {\r\n\t\t\tvar sField = oEvent.getParameter(\"item\").getDescription();\r\n\t\t\tif (sField && sField !== \"\") {\r\n\t\t\t\t// psutram: Feb 2017 same change as in ChangeActivity controller\r\n\t\t\t\t//this._messagePopover.close();\r\n\t\t\t\tvar oErrored = this.byId(sField);\r\n\t\t\t\toErrored.focus();\r\n\t\t\t} else {\r\n\t\t\t\tif (sField && sField === \"\") {\r\n\t\t\t\t\tMessageToast.show(this.getOwnerComponent().getModel(\"i18n\").getResourceBundle().getText(\"A_E_notOnScreen\", []));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonSSave: function(oEvent) {\r\n\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.master.button.pressed\", \"SaveStatus\", {});\r\n\t\t},\r\n\t\tonSCancel: function(oEvent) {\r\n\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.master.button.pressed\", \"CancelStatus\", {});\r\n\t\t},\r\n\t\t// _onSSave: function() {\r\n\t\t// \tthis.oMessageManager.removeAllMessages();\r\n\t\t// \tvar aSelected = this.byId(\"Table\").getSelectedIndices();\r\n\t\t// \tvar oModel = this.getModel();\r\n\t\t// \tvar bAllowSave = true;\r\n\t\t// \tvar aAsInputArray = this.getModel(\"Project\").getData().AsInputArray;\r\n\t\t// \tvar sTStatus = this.getModel(\"projectView\").getProperty(\"/oTStatus/Selected\");\r\n\t\t// \tvar sFStatus = this.getModel(\"projectView\").getProperty(\"/oFStatus/Selected\");\r\n\t\t// \tif (aSelected.length > 0) {\r\n\t\t// \t\tvar selectedIndicies = [];\r\n\t\t// \t\tfor (var l = 0; l < aSelected.length; l++) {\r\n\t\t// \t\t\t// Get Selected Indicies\r\n\t\t// \t\t\tvar sPath = this.byId(\"Table\").getContextByIndex(aSelected[l]).getPath();\r\n\t\t// \t\t\tvar oRecord = this.getModel(\"Project\").getProperty(sPath);\r\n\t\t// \t\t\tif (sFStatus !== oRecord.Status) {\r\n\t\t// \t\t\t\tj = aSelected.length;\r\n\t\t// \t\t\t\tbAllowSave = false;\r\n\t\t// \t\t\t\tvar sMessage = this.getOwnerComponent().getModel(\"i18n\").getResourceBundle().getText(\"S_E_statusMismatch\", []);\r\n\t\t// \t\t\t\tMessageToast.show(sMessage);\r\n\t\t// \t\t\t} else {\r\n\t\t// \t\t\t\t// Check to make sure that Status Progression is not violated.\r\n\t\t// \t\t\t\tselectedIndicies.push(oRecord.__index);\r\n\t\t// \t\t\t}\r\n\t\t// \t\t}\r\n\t\t// \t\tif (bAllowSave) {\r\n\t\t// \t\t\tfor (var j = 0; j < aSelected.length; j++) {\r\n\t\t// \t\t\t\t// Check if there are any chosen records which cannot be deleted.\r\n\t\t// \t\t\t\tvar sPath = this.byId(\"Table\").getContextByIndex(aSelected[j]).getPath();\r\n\t\t// \t\t\t\tvar oRecord = this.getModel(\"Project\").getProperty(sPath);\r\n\t\t// \t\t\t\tif (sFStatus !== oRecord.Status) {\r\n\t\t// \t\t\t\t\tj = aSelected.length;\r\n\t\t// \t\t\t\t\tbAllowSave = false;\r\n\t\t// \t\t\t\t\tvar sMessage = this.getOwnerComponent().getModel(\"i18n\").getResourceBundle().getText(\"S_E_statusMismatch\", []);\r\n\t\t// \t\t\t\t\tMessageToast.show(sMessage);\r\n\t\t// \t\t\t\t} else {\r\n\t\t// \t\t\t\t\t// Determine if we are trying to promote or demote the status.\r\n\t\t// \t\t\t\t\tvar bPromote = true;\r\n\t\t// \t\t\t\t\tvar sASMConfig = this.getOwnerComponent().getModel(\"ASMConfig\").getProperty(\"/Properties/Status\");\r\n\t\t// \t\t\t\t\tvar aStatusProgression = (JSON.parse(sASMConfig)).StatusProgression;\r\n\t\t// \t\t\t\t\tvar iFStatus = -1;\r\n\t\t// \t\t\t\t\tvar iTStatus = -1;\r\n\t\t// \t\t\t\t\tfor (var i = 0; i < aStatusProgression.length; i++) {\r\n\t\t// \t\t\t\t\t\tif (aStatusProgression[i] === sTStatus) {\r\n\t\t// \t\t\t\t\t\t\tiTStatus = i;\r\n\t\t// \t\t\t\t\t\t}\r\n\t\t// \t\t\t\t\t\tif (aStatusProgression[i] === sFStatus) {\r\n\t\t// \t\t\t\t\t\t\tiFStatus = i;\r\n\t\t// \t\t\t\t\t\t}\r\n\t\t// \t\t\t\t\t}\r\n\t\t// \t\t\t\t\tif (iTStatus === -1 || iFStatus === -1) {\r\n\t\t// \t\t\t\t\t\tvar sMessage = this.getOwnerComponent().getModel(\"i18n\").getResourceBundle().getText(\"S_E_statusConfigError\", []);\r\n\t\t// \t\t\t\t\t\tMessageToast.show(sMessage);\r\n\t\t// \t\t\t\t\t} else {\r\n\t\t// \t\t\t\t\t\tif (iTStatus < iFStatus) {\r\n\t\t// \t\t\t\t\t\t\tbPromote = false;\r\n\t\t// \t\t\t\t\t\t} else {\r\n\t\t// \t\t\t\t\t\t\tbPromote = true;\r\n\t\t// \t\t\t\t\t\t}\r\n\t\t// \t\t\t\t\t\tif (oRecord.ItemType === \"AT\" && !bPromote) {\r\n\t\t// \t\t\t\t\t\t\t// Check whether any child has same level\r\n\t\t// \t\t\t\t\t\t\tfor (var l = 0; l < oRecord._subactivityCount; l++) {\r\n\t\t// \t\t\t\t\t\t\t\tfor (var k = 0; k < aStatusProgression.length; k++) {\r\n\t\t// \t\t\t\t\t\t\t\t\tif (aStatusProgression[k] === oRecord[l].Status) {\r\n\t\t// \t\t\t\t\t\t\t\t\t\tif (k > iFStatus) {\r\n\t\t// \t\t\t\t\t\t\t\t\t\t\tbAllowSave = false;\r\n\t\t// \t\t\t\t\t\t\t\t\t\t\tvar sMessage = this.getOwnerComponent().getModel(\"i18n\").getResourceBundle().getText(\"S_E_statusConfigError\", []);\r\n\t\t// \t\t\t\t\t\t\t\t\t\t\tMessageToast.show(sMessage);\r\n\t\t// \t\t\t\t\t\t\t\t\t\t} else if (k === iFStatus) {\r\n\t\t// \t\t\t\t\t\t\t\t\t\t\tvar bChildSelected = false;\r\n\t\t// \t\t\t\t\t\t\t\t\t\t\tfor (var m = 0; m < selectedIndicies.length; m++) {\r\n\t\t// \t\t\t\t\t\t\t\t\t\t\t\tif (selectedIndicies[m] === oRecord[l].__index) {\r\n\t\t// \t\t\t\t\t\t\t\t\t\t\t\t\tbChildSelected = true;\r\n\t\t// \t\t\t\t\t\t\t\t\t\t\t\t\tm = selectedIndicies.length;\r\n\t\t// \t\t\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t// \t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t// \t\t\t\t\t\t\t\t\t\t\tif (!bChildSelected) {\r\n\t\t// \t\t\t\t\t\t\t\t\t\t\t\tvar sMessage = this.getOwnerComponent().getModel(\"i18n\").getResourceBundle().getText(\"S_E_statusChildNotSelected\", []);\r\n\t\t// \t\t\t\t\t\t\t\t\t\t\t\tMessageToast.show(sMessage);\r\n\t\t// \t\t\t\t\t\t\t\t\t\t\t\tbAllowSave = false;\r\n\t\t// \t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t// \t\t\t\t\t\t\t\t\t\t}\r\n\t\t// \t\t\t\t\t\t\t\t\t}\r\n\t\t// \t\t\t\t\t\t\t\t}\r\n\t\t// \t\t\t\t\t\t\t}\r\n\t\t// \t\t\t\t\t\t} else if (oRecord.ItemType == \"SA\" && bPromote) {\r\n\t\t// \t\t\t\t\t\t\tvar bParentSelected = false;\r\n\t\t// \t\t\t\t\t\t\tfor (var l = 0; l < j; l++) {\r\n\t\t// \t\t\t\t\t\t\t\tvar sPath = this.byId(\"Table\").getContextByIndex(aSelected[l]).getPath();\r\n\t\t// \t\t\t\t\t\t\t\tvar oPRecord = this.getModel(\"Project\").getProperty(sPath);\r\n\t\t// \t\t\t\t\t\t\t\tif (oPRecord.__index === oRecord.__parentIndex) {\r\n\t\t// \t\t\t\t\t\t\t\t\t// Record is selected - Check for matching status\r\n\t\t// \t\t\t\t\t\t\t\t\tbParentSelected = true;\r\n\t\t// \t\t\t\t\t\t\t\t\tfor (var k = 0; k < aStatusProgression.length; k++) {\r\n\t\t// \t\t\t\t\t\t\t\t\t\tif (aStatusProgression[k] === oPRecord.Status) {\r\n\t\t// \t\t\t\t\t\t\t\t\t\t\tif (k < iFStatus) {\r\n\t\t// \t\t\t\t\t\t\t\t\t\t\t\tbAllowSave = false;\r\n\t\t// \t\t\t\t\t\t\t\t\t\t\t\tvar sMessage = this.getOwnerComponent().getModel(\"i18n\").getResourceBundle().getText(\"S_E_statusConfigError\", []);\r\n\t\t// \t\t\t\t\t\t\t\t\t\t\t\tMessageToast.show(sMessage);\r\n\t\t// \t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t// \t\t\t\t\t\t\t\t\t\t}\r\n\t\t// \t\t\t\t\t\t\t\t\t}\r\n\t\t// \t\t\t\t\t\t\t\t}\r\n\t\t// \t\t\t\t\t\t\t}\r\n\t\t// \t\t\t\t\t\t\tif (!bParentSelected) {\r\n\t\t// \t\t\t\t\t\t\t\t// Your status must be less than the parent's.\r\n\t\t// \t\t\t\t\t\t\t\tvar iParentIndex = oRecord.__parentIndex;\r\n\t\t// \t\t\t\t\t\t\t\tvar oParent = this.getModel(\"Project\").getProperty(\"/AsInputArray\")[iParentIndex];\r\n\t\t// \t\t\t\t\t\t\t\tfor (var k = 0; k < aStatusProgression.length; k++) {\r\n\t\t// \t\t\t\t\t\t\t\t\tif (aStatusProgression[k] === oParent.Status) {\r\n\t\t// \t\t\t\t\t\t\t\t\t\tif (iFStatus >= k) {\r\n\t\t// \t\t\t\t\t\t\t\t\t\t\tbAllowSave = false;\r\n\t\t// \t\t\t\t\t\t\t\t\t\t\tvar sMessage = this.getOwnerComponent().getModel(\"i18n\").getResourceBundle().getText(\"S_E_statusParentNotSelected\", []);\r\n\t\t// \t\t\t\t\t\t\t\t\t\t\tMessageToast.show(sMessage);\r\n\t\t// \t\t\t\t\t\t\t\t\t\t\tk = aStatusProgression.length;\r\n\t\t// \t\t\t\t\t\t\t\t\t\t}\r\n\t\t// \t\t\t\t\t\t\t\t\t}\r\n\t\t// \t\t\t\t\t\t\t\t}\r\n\t\t// \t\t\t\t\t\t\t}\r\n\t\t// \t\t\t\t\t\t}\r\n\t\t// \t\t\t\t\t}\r\n\t\t// \t\t\t\t}\r\n\t\t// \t\t\t}\r\n\t\t// \t\t\tif (bAllowSave) {\r\n\t\t// \t\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", true);\r\n\t\t// \t\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").refresh(false);\r\n\t\t// \t\t\t\tvar that = this;\r\n\t\t// \t\t\t\tsetTimeout(function() {\r\n\t\t// \t\t\t\t\tthat.nTotalCurrentChanges = parseInt(aSelected.length);\r\n\t\t// \t\t\t\t\tthat.nChangeCount = parseInt(that.nTotalCurrentChanges);\r\n\t\t// \t\t\t\t\tfor (var i = 0; i < aSelected.length; i++) {\r\n\t\t// \t\t\t\t\t\tvar iIndex = that.getModel(\"Project\").getProperty(that.byId(\"Table\").getContextByIndex(aSelected[i]).getPath()).__index;\r\n\t\t// \t\t\t\t\t\tvar oRecord = aAsInputArray[iIndex];\r\n\t\t// \t\t\t\t\t\tvar oItem = JSON.parse(JSON.stringify(oRecord));\r\n\t\t// \t\t\t\t\t\t// Remove fields that were added in extra.\r\n\t\t// \t\t\t\t\t\tvar sPath = oItem.__metadata.uri.substring(oItem.__metadata.uri.lastIndexOf(\"/\"));\r\n\t\t// \t\t\t\t\t\tdelete oItem.__metadata;\r\n\t\t// \t\t\t\t\t\toItem.StartDt = oItem.StartDt.replace(\"Z\", \"\");\r\n\t\t// \t\t\t\t\t\toItem.EndDt = oItem.EndDt.replace(\"Z\", \"\");\r\n\t\t// \t\t\t\t\t\toItem.CreatedTime = oItem.CreatedTime.replace(\"Z\", \"\");\r\n\t\t// \t\t\t\t\t\toItem.ChangedTime = oItem.ChangedTime.replace(\"Z\", \"\");\r\n\t\t// \t\t\t\t\t\toItem.Status = sTStatus;\r\n\t\t// \t\t\t\t\t\tvar oConfig = {};\r\n\t\t// \t\t\t\t\t\toConfig.UPDITEM = \"X\";\r\n\t\t// \t\t\t\t\t\toItem.Config = JSON.stringify(oConfig);\r\n\r\n\t\t// \t\t\t\t\t\tvar that2 = that;\r\n\t\t// \t\t\t\t\t\toModel.update(sPath, oItem, {\r\n\t\t// \t\t\t\t\t\t\tsuccess: function(oData, oResponse) {\r\n\t\t// \t\t\t\t\t\t\t\t// Add a Success toast and navigate back to the Project view and refresh the data.\r\n\t\t// \t\t\t\t\t\t\t\tif (oResponse.statusCode !== \"204\") {\r\n\t\t// \t\t\t\t\t\t\t\t\toData.ErrorOrigin = \"UpdateStatus\";\r\n\t\t// \t\t\t\t\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.detail\", \"Errors\", oData);\r\n\t\t// \t\t\t\t\t\t\t\t} else {\r\n\t\t// \t\t\t\t\t\t\t\t\tthat2.nChangeCount = parseInt(that2.nChangeCount) - 1;\r\n\t\t// \t\t\t\t\t\t\t\t\tif (that2.nChangeCount === 0) {\r\n\t\t// \t\t\t\t\t\t\t\t\t\tthat2._onStatusChange(null);\r\n\t\t// \t\t\t\t\t\t\t\t\t\tvar oEventData = {};\r\n\t\t// \t\t\t\t\t\t\t\t\t\toEventData.oDataOrigin = \"UpdateStatus\";\r\n\t\t// \t\t\t\t\t\t\t\t\t\tthat2.nPendingChangeCount = 1;\r\n\t\t// \t\t\t\t\t\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.project\", \"Success\", oEventData);\r\n\t\t// \t\t\t\t\t\t\t\t\t}\r\n\t\t// \t\t\t\t\t\t\t\t}\r\n\t\t// \t\t\t\t\t\t\t},\r\n\t\t// \t\t\t\t\t\t\terror: function(oError) {\r\n\t\t// \t\t\t\t\t\t\t\tthat2.nChangeCount = parseInt(that2.nChangeCount) - 1;\r\n\t\t// \t\t\t\t\t\t\t\tif (that2.nChangeCount === 0) {\r\n\t\t// \t\t\t\t\t\t\t\t\toError.ErrorOrigin = \"UpdateStatus\";\r\n\t\t// \t\t\t\t\t\t\t\t\tthat2.nPendingChangeCount = 1;\r\n\t\t// \t\t\t\t\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.project\", \"Errors\", oError);\r\n\t\t// \t\t\t\t\t\t\t\t}\r\n\t\t// \t\t\t\t\t\t\t},\r\n\t\t// \t\t\t\t\t\t\tchangeSetId: oRecord.Id\r\n\t\t// \t\t\t\t\t\t});\r\n\t\t// \t\t\t\t\t}\r\n\t\t// \t\t\t\t}, 100);\r\n\t\t// \t\t\t}\r\n\t\t// \t\t}\r\n\t\t// \t} else {\r\n\t\t// \t\tvar sMessage = this.getOwnerComponent().getModel(\"i18n\").getResourceBundle().getText(\"S_E_selectOneStatus\", []);\r\n\t\t// \t\tMessageToast.show(sMessage);\r\n\t\t// \t}\r\n\t\t// },\r\n\t\t_onObjectMatched: function(oEvent) {\r\n\t\t\tif (this.getOwnerComponent().getModel(\"masterShared\") && this.getOwnerComponent().getModel(\"masterShared\").getData()) {\r\n\t\t\t\tif (this.getOwnerComponent().getModel(\"masterShared\").getData().oInternalEvents.configurationLoaded === true &&\r\n\t\t\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").getData().oInternalEvents.variantsLoaded === true &&\r\n\t\t\t\t\t!this.getOwnerComponent().getModel(\"masterShared\").getData().oInternalEvents.activityPersonalizationInitialized) {\r\n\t\t\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").getData().oInternalEvents.activityPersonalizationInitialized = true;\r\n\t\t\t\t\tthis._p13nInitialize();\r\n\t\t\t\t\tthis._setUpInitialVariant();\r\n\t\t\t\t\tthis._onRefresh();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis._confirmHeaderVisibilitySettings();\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Binds the view to the object path. Makes sure that detail view displays\r\n\t\t * a busy indicator while data for the corresponding element binding is loaded.\r\n\t\t * @function\r\n\t\t * @param {string} sObjectPath path to the object to be bound to the view.\r\n\t\t * @private\r\n\t\t */\r\n\t\t_bindView: function(sObjectPath) {\r\n\t\t\t// Set busy indicator during view binding\r\n\t\t\tvar oViewModel = this.getModel(\"projectView\");\r\n\r\n\t\t\t// If the view was not bound yet its not busy, only if the binding requests data it is set to busy again\r\n\r\n\t\t\tthis.getView().bindElement({\r\n\t\t\t\tpath: sObjectPath,\r\n\t\t\t\tevents: {\r\n\t\t\t\t\tchange: this._onBindingChange.bind(this),\r\n\t\t\t\t\tdataRequested: function() {},\r\n\t\t\t\t\tdataReceived: function() {}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t_onBindingChange: function() {\r\n\t\t\tvar oView = this.getView(),\r\n\t\t\t\toElementBinding = oView.getElementBinding();\r\n\r\n\t\t\t// No data for the binding\r\n\t\t\tif (!oElementBinding.getBoundContext()) {\r\n\t\t\t\tthis.getRouter().getTargets().display(\"detailObjectNotFound\");\r\n\t\t\t\t// if object could not be found, the selection in the master list\r\n\t\t\t\t// does not make sense anymore.\r\n\t\t\t\tthis.getOwnerComponent().oListSelector.clearMasterListSelection();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar sPath = oElementBinding.getPath(),\r\n\t\t\t\toResourceBundle = this.getResourceBundle(),\r\n\t\t\t\toObject = oView.getModel().getObject(sPath),\r\n\t\t\t\tsObjectId = oObject.TileId,\r\n\t\t\t\tsObjectName = oObject.Title,\r\n\t\t\t\toViewModel = this.getModel(\"projectView\");\r\n\r\n\t\t\tthis.getOwnerComponent().oListSelector.selectAListItem(sPath);\r\n\r\n\t\t\toViewModel.setProperty(\"/saveAsTileTitle\", oResourceBundle.getText(\"shareSaveTileAppTitle\", [sObjectName]));\r\n\t\t\toViewModel.setProperty(\"/shareOnJamTitle\", sObjectName);\r\n\t\t\toViewModel.setProperty(\"/shareSendEmailSubject\",\r\n\t\t\t\toResourceBundle.getText(\"shareSendEmailObjectSubject\", [sObjectId]));\r\n\t\t\toViewModel.setProperty(\"/shareSendEmailMessage\",\r\n\t\t\t\toResourceBundle.getText(\"shareSendEmailObjectMessage\", [sObjectName, sObjectId, location.href]));\r\n\t\t},\r\n\t\t_onMetadataLoaded: function() {\r\n\t\t\t// Store original busy indicator delay for the detail view\r\n\t\t\tvar oViewModel = this.getOwnerComponent().getModel(\"masterShared\");\r\n\r\n\t\t\t// Make sure busy indicator is displayed immediately when\r\n\t\t\t// detail view is displayed for the first time\r\n\t\t\toViewModel.setProperty(\"/oDetailBusy/delay\", 0);\r\n\r\n\t\t\t// Binding the view will set it to not busy - so the view is always busy if it is not bound\r\n\t\t\toViewModel.setProperty(\"/oDetailBusy/busy\", true);\r\n\t\t\toViewModel.refresh(false);\r\n\t\t},\r\n\t\t_onButtonPressed: function(oEvent, oData) {\r\n\t\t\tif (oData) {\r\n\t\t\t\tif (oData.button === \"Button2\") {\r\n\t\t\t\t\t// GDH Add a Project\r\n\t\t\t\t\tthis._onAddActivity(null);\r\n\t\t\t\t} else {\r\n\t\t\t\t\talert(\"Project Button: \" + oData.button);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t_onAddActivity: function(oEvent) {\r\n\t\t\t// GDH Navigate to Add Activity Screen\r\n\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", true); // Start Spinner\r\n\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").refresh(false);\r\n\t\t\tvar oRouter = this.getRouter();\r\n\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.initialize\", \"AddActivity\", {});\r\n\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").getData().oInternalEvents.lastAction = \"NavToAddActivity\";\r\n\t\t\toRouter.navTo(\"addActivity\", {\r\n\t\t\t\tobjectId: \"AddActivity\"\r\n\t\t\t}, true);\r\n\t\t},\r\n\t\t//Added by Dipen on June 7, 2016\r\n\t\t_onCopyActivity: function(oEvent) {\r\n\t\t\t// var oInternalEvents = this.getModel(\"masterShared\").getData().oInternalEvents;\r\n\t\t\t//alert(oInternalEvents.currentMode);\r\n\t\t\tvar oRouter = this.getRouter();\r\n\t\t\t//oInternalEvents.lastAction = \"NavToStatusChange\";\r\n\t\t\toRouter.navTo(\"copyActivity\", {\r\n\t\t\t\tobjectId: \"copyActivity\"\r\n\t\t\t}, true);\r\n\t\t},\r\n\r\n\t\t_onStatusChange: function(oEvent) {\r\n\t\t\t// Clear Errors\r\n\t\t\tValidationUtils.removeErrorMessages(this);\r\n\t\t\t//Begin of Changes - Khrystyne Williams - August 30, 2016\r\n\t\t\tvar oInternalEvents = this.getOwnerComponent().getModel(\"masterShared\").getData().oInternalEvents;\r\n\t\t\tif (oInternalEvents.currentMode !== \"Status\") {\r\n\t\t\t\t// Begin of Commenting - Khrystyne Williams - Nov 2016\r\n\t\t\t\t// this.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", true); // Start Spinner\r\n\t\t\t\t// End of Commenting - Khrystyne Williams - Nov 2016\r\n\t\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").refresh(false);\r\n\t\t\t\tthis._setStyleMode(\"Status\");\r\n\t\t\t\t// Set Status Screen Changes\r\n\t\t\t\t// Begin of Changes - Khrystyne Williams - Nov 2016\r\n\t\t\t\t// this.getModel(\"projectView\").setProperty(\"/oTableControl/bVariantVisible\", false);\r\n\t\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTableControl/bVariantVisible\", true);\r\n\t\t\t\t// End of Changes - Khrystyne Williams - Nov 2016\r\n\t\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTableControl/bStatusVisible\", true);\r\n\t\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTableControl/bSSaveVisible\", true);\r\n\t\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTableControl/bSCancelVisible\", true);\r\n\t\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTableControl/bAddVisible\", false);\r\n\t\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTableControl/bEditVisible\", false);\r\n\t\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTableControl/bCopyVisible\", false);\r\n\t\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTableControl/bDisplayVisible\", false);\r\n\t\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTableControl/bDeleteVisible\", false);\r\n\t\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTableControl/bCheckVisible\", false);\r\n\t\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTableControl/eMailEnabled\", false);\r\n\t\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTableControl/sSaveEnabled\", false);\r\n\r\n\t\t\t\t//Change Status // USERA04 // 2/21/17\r\n\t\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTableControl/bClearVisible\", false);\r\n\t\t\t\t// psutram modified for Calculate and Refresh functionality\r\n\t\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTableControl/bRefreshVisible\", false);\r\n\r\n\t\t\t\t// Begin of Commenting - Khrystyne Williams - Nov 2016\r\n\t\t\t\t// this.getModel(\"projectView\").setProperty(\"/oTableControl/personalizeEnabled\", false);\r\n\t\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTableControl/personalizeEnabled\", true);\r\n\t\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTableControl/statusEnabled\", true);\r\n\t\t\t\t// End of Commenting - Khrystyne Williams - Nov 2016\r\n\t\t\t\t// August 30\r\n\t\t\t\t// this._determineStatusVariant(); // GDH 5/23/2016 - Change to pick \"StatusChange\" from additional Config\r\n\r\n\t\t\t\tthis.getModel(\"projectView\").refresh(false);\r\n\t\t\t\t// Begin of Commenting - Khrystyne Williams - Nov 2016\r\n\t\t\t\t// Do not change the view to \"Status View\"\r\n\t\t\t\t// var oRouter = this.getRouter();\r\n\t\t\t\t// oInternalEvents.lastAction = \"NavToStatusChange\";\r\n\t\t\t\t// oRouter.navTo(\"statusChange\", {\r\n\t\t\t\t// \tobjectId: \"statusChange\"\r\n\t\t\t\t// }, true);\r\n\t\t\t\t// End of Commenting - Khrystyne Williams - Nov 2016\r\n\t\t\t} else {\r\n\t\t\t\t// Begin of Changes - Khrystyne Williams - Nov 2016\r\n\t\t\t\t// this.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", true); // Start Spinner\r\n\t\t\t\t// End of Changes - Khrystyne Williams - Nov 2016\r\n\t\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").refresh(false);\r\n\t\t\t\tthis._setStyleMode(\"Display\");\r\n\t\t\t\tvar oRouter = this.getRouter();\r\n\t\t\t\t//Undo Status Screen Changes\r\n\t\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTableControl/bVariantVisible\", true);\r\n\t\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTableControl/bStatusVisible\", true);\r\n\t\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTableControl/bSSaveVisible\", false);\r\n\t\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTableControl/bSCancelVisible\", false);\r\n\t\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTableControl/bAddVisible\", true);\r\n\t\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTableControl/bEditVisible\", true);\r\n\t\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTableControl/bCopyVisible\", true);\r\n\t\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTableControl/bDisplayVisible\", true);\r\n\t\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTableControl/bDeleteVisible\", true);\r\n\t\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTableControl/bCheckVisible\", true);\r\n\t\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTableControl/eMailEnabled\", false);\r\n\t\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTableControl/personalizeEnabled\", true);\r\n\t\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTableControl/statusEnabled\", true);\r\n\r\n\t\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTableControl/bClearVisible\", true);\r\n\t\t\t\t//END OF Change Status // USERA04 // 2/21/17\r\n\r\n\t\t\t\t//psutram: modified for Refresh and Calculate functionality\r\n\t\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTableControl/bCalculateVisible\", false);\r\n\t\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTableControl/bRefreshVisible\", true);\r\n\r\n\t\t\t\t// Begin of Changes - Khrystyne Williams - Nov 2016\r\n\t\t\t\t// this._variantSwap(oInternalEvents.lastVariant);\r\n\t\t\t\t// End of Changes - Khrystyne Williams - Nov 2016\r\n\r\n\t\t\t\toInternalEvents.lastAction = \"NavToDisplay\";\r\n\t\t\t\t// Next event will return to pre-existing selection.\r\n\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.master.event\", \"FilterChanged\", {});\r\n\t\t\t}\r\n\t\t},\r\n\t\t_onRefresh: function(oData) {\r\n\t\t\t// Refresh the displayed projects.\r\n\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", true); // Start Spinner\r\n\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").refresh(false);\r\n\t\t\tvar that = this;\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\tthat._getItems(that._lastSelectionConfig);\r\n\t\t\t}, 200);\r\n\t\t},\r\n\t\t_getItems: function(oData) {\r\n\t\t\tif (this._allowGetItems) {\r\n\t\t\t\t// if (!this._GoogleAnalyticHidden) {\r\n\t\t\t\t// \tvar tag = \"#\" + this.byId(\"GoogleTag\").getId();\r\n\t\t\t\t// \t$(tag).attr(\"src\",\"\");\r\n\t\t\t\t// \tthis._GoogleAnalyticHidden = true;\r\n\t\t\t\t// }\r\n\t\t\t\tif (this.getOwnerComponent().getModel(\"ASMConfig\")) {\r\n\t\t\t\t\tthis.byId(\"Table\").clearSelection();\r\n\t\t\t\t\tthis._confirmHeaderVisibilitySettings();\r\n\t\t\t\t\tif (oData) {\r\n\t\t\t\t\t\tthis._lastSelectionConfig = oData;\r\n\t\t\t\t\t\t// Make initial OData calls that need further processing\r\n\t\t\t\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oDetailBusy/busy\", true); // Start Spinner\r\n\t\t\t\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").refresh(false);\r\n\t\t\t\t\t\tvar oBaseModel = this.getModel();\r\n\t\t\t\t\t\tvar sPath = \"/Items\";\r\n\t\t\t\t\t\tthis.nPendingChangeCount = 1;\r\n\t\t\t\t\t\tvar oExclude = {};\r\n\t\t\t\t\t\tvar filters = [];\r\n\t\t\t\t\t\tvar projectYear = {};\r\n\r\n\t\t\t\t\t\tif (oData.PlanningYear && oData.PlanningYear !== \"\") {\r\n\t\t\t\t\t\t\tfilters.push(new sap.ui.model.Filter(\"PlanningYear\", sap.ui.model.FilterOperator.EQ,\r\n\t\t\t\t\t\t\t\toData.PlanningYear));\r\n\t\t\t\t\t\t\tprojectYear = oData.PlanningYear; //INBHD02\r\n\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tfilters.push(new sap.ui.model.Filter(\"PlanningYear\", sap.ui.model.FilterOperator.EQ,\r\n\t\t\t\t\t\t\t\tthis.getOwnerComponent().getModel(\r\n\t\t\t\t\t\t\t\t\t\"ASMConfig\").getData().Properties.PlanningYear));\r\n\t\t\t\t\t\t\tprojectYear = this.getOwnerComponent().getModel(\"ASMConfig\").getData().Properties.PlanningYear; //INBHD02\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t//INBHD02\r\n\t\t\t\t\t\tif (projectYear) {\r\n\t\t\t\t\t\t\tvar oModel = this.getModel(\"projectView\");\r\n\t\t\t\t\t\t\toModel.getData().oTableControl.projectFilterYear = projectYear;\r\n\r\n\t\t\t\t\t\t\toModel.refresh(false);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t//INBHD02\r\n\t\t\t\t\t\tif (oData.DivisionKey && oData.DivisionKey !== \"\") {\r\n\t\t\t\t\t\t\tfilters.push(new sap.ui.model.Filter(\"DivisionKey\", sap.ui.model.FilterOperator.EQ,\r\n\t\t\t\t\t\t\t\toData.DivisionKey));\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\toExclude.Division = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (oData.HubKey && oData.HubKey !== \"\") {\r\n\t\t\t\t\t\t\tfilters.push(new sap.ui.model.Filter(\"HubKey\", sap.ui.model.FilterOperator.EQ,\r\n\t\t\t\t\t\t\t\toData.HubKey));\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\toExclude.Hub = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (oData.SubKey && oData.SubKey !== \"\") {\r\n\t\t\t\t\t\t\tfilters.push(new sap.ui.model.Filter(\"SubKey\", sap.ui.model.FilterOperator.EQ,\r\n\t\t\t\t\t\t\t\toData.SubKey));\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\toExclude.Sub = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (oData.Channel && oData.Channel !== \"\") {\r\n\t\t\t\t\t\t\tfilters.push(new sap.ui.model.Filter(\"Channel\", sap.ui.model.FilterOperator.EQ,\r\n\t\t\t\t\t\t\t\toData.Channel));\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\toExclude.Channel = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (oData.Function && oData.Function !== \"\") {\r\n\t\t\t\t\t\t\tfilters.push(new sap.ui.model.Filter(\"Function\", sap.ui.model.FilterOperator.EQ,\r\n\t\t\t\t\t\t\t\toData.Function));\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\toExclude.Function = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// GDH 5/23/2016 - Updated in case blank\r\n\t\t\t\t\t\tif (oData.Category && oData.Category !== \"\") {\r\n\t\t\t\t\t\t\tfilters.push(new sap.ui.model.Filter(\"CategoryKey\", sap.ui.model.FilterOperator.EQ,\r\n\t\t\t\t\t\t\t\toData.Category));\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\toExclude.Category = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (oData.Subcategory && oData.Subcategory !== \"\") {\r\n\t\t\t\t\t\t\tfilters.push(new sap.ui.model.Filter(\"SubcategoryKey\", sap.ui.model.FilterOperator.EQ,\r\n\t\t\t\t\t\t\t\toData.Subcategory));\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\toExclude.Subcategory = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (oData.Brand && oData.Brand !== \"\") {\r\n\t\t\t\t\t\t\tfilters.push(new sap.ui.model.Filter(\"BrandKey\", sap.ui.model.FilterOperator.EQ,\r\n\t\t\t\t\t\t\t\toData.Brand));\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\toExclude.Brand = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// Add in Currency\r\n\t\t\t\t\t\tvar sCurrency = this.getOwnerComponent().getModel(\"P13n_Configuration\").getProperty(\"/CurrencySettings/Currency\");\r\n\t\t\t\t\t\tif (sCurrency && sCurrency !== \"\") {\r\n\t\t\t\t\t\t\tfilters.push(new sap.ui.model.Filter(\"Currency\", sap.ui.model.FilterOperator.EQ, sCurrency));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t//INBHD02\r\n\t\t\t\t\t\tif (this.getModel(\"projectView\").getData().oTableControl.projectFilterPressed) {\r\n\t\t\t\t\t\t\tfilters.push(new sap.ui.model.Filter(\"InternalConfig\", sap.ui.model.FilterOperator.EQ, 'X'));\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tfilters.push(new sap.ui.model.Filter(\"InternalConfig\", sap.ui.model.FilterOperator.EQ, ''));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t//INBHD02\r\n\t\t\t\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").setProperty(\"/oFilters/oExclude\", oExclude);\r\n\t\t\t\t\t\tthis._setStyleMode(this.getOwnerComponent().getModel(\"masterShared\").getData().oInternalEvents.currentMode);\r\n\t\t\t\t\t\tthis.FieldControlUtils = FieldControlUtils;\r\n\t\t\t\t\t\tvar that = this;\r\n\t\t\t\t\t\toBaseModel.read(sPath, {\r\n\t\t\t\t\t\t\t//async: true,\r\n\t\t\t\t\t\t\tfilters: filters,\r\n\t\t\t\t\t\t\tsuccess: function(oDataIn, oResponse) {\r\n\t\t\t\t\t\t\t\t// Set up JSON data for editing\r\n\t\t\t\t\t\t\t\tTimeoutUtils.onStartTimer(that);\r\n\t\t\t\t\t\t\t\tvar oModel = that.getModel(\"Project\");\r\n\t\t\t\t\t\t\t\tvar oData = oModel.getData();\r\n\t\t\t\t\t\t\t\tvar aResults = that._preprocessTotalRecords(oDataIn.results);\r\n\t\t\t\t\t\t\t\tvar aOptions = [];\r\n\t\t\t\t\t\t\t\tvar oTree = {};\r\n\t\t\t\t\t\t\t\toTree._projectCount = 0;\r\n\t\t\t\t\t\t\t\tvar iProjectIndex = -1;\r\n\t\t\t\t\t\t\t\tvar sProjectName = \"\";\r\n\t\t\t\t\t\t\t\tvar sProjectASM = \"\";\r\n\t\t\t\t\t\t\t\tvar iActivityIndex = -1;\r\n\t\t\t\t\t\t\t\tvar sActivityName = \"\";\r\n\t\t\t\t\t\t\t\tvar sActivityASM = \"\";\r\n\t\t\t\t\t\t\t\tvar iSubactivityIndex = -1;\r\n\t\t\t\t\t\t\t\tvar sSubactivityASM = \"\";\r\n\t\t\t\t\t\t\t\tvar sProjectGuid = null;\r\n\t\t\t\t\t\t\t\tvar sIPath = jQuery.sap.getModulePath(\"colgate.asm.planning.base\");\r\n\t\t\t\t\t\t\t\tvar oInternalEvents = that.getOwnerComponent().getModel(\"masterShared\").getData().oInternalEvents;\r\n\t\t\t\t\t\t\t\tvar oStatus = {};\r\n\t\t\t\t\t\t\t\tfor (var j = 0; j < aResults.length; j++) {\r\n\t\t\t\t\t\t\t\t\tvar oOption = {};\r\n\t\t\t\t\t\t\t\t\tvar oRecord = JSON.parse(JSON.stringify(aResults[j]));\r\n\t\t\t\t\t\t\t\t\tvar oConfig = {};\r\n\t\t\t\t\t\t\t\t\tif (oRecord.Config && oRecord.Config !== \"\") {\r\n\t\t\t\t\t\t\t\t\t\toConfig = JSON.parse(oRecord.Config);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tvar oInternalConfig = {};\r\n\t\t\t\t\t\t\t\t\tif (oRecord.InternalConfig && oRecord.InternalConfig !== \"\") {\r\n\t\t\t\t\t\t\t\t\t\toInternalConfig = JSON.parse(oRecord.InternalConfig);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tdelete oRecord.__metadata;\r\n\t\t\t\t\t\t\t\t\toRecord.MaxValueB = parseFloat(0);\r\n\t\t\t\t\t\t\t\t\toRecord.__index = j;\r\n\t\t\t\t\t\t\t\t\toRecord._myItem = oInternalConfig.myItem;\r\n\t\t\t\t\t\t\t\t\tthat.FieldControlUtils.addFieldControl(oRecord);\r\n\t\t\t\t\t\t\t\t\toOption.Key = oRecord.Guid;\r\n\t\t\t\t\t\t\t\t\toOption.Id = oRecord.Id; // Address instant adding of record\r\n\t\t\t\t\t\t\t\t\toOption.DivisionKey = oRecord.DivisionKey;\r\n\t\t\t\t\t\t\t\t\toOption.HubKey = oRecord.HubKey;\r\n\t\t\t\t\t\t\t\t\toOption.SubKey = oRecord.SubKey;\r\n\t\t\t\t\t\t\t\t\toOption.CategoryBucket = oRecord.CategoryBucket;\r\n\t\t\t\t\t\t\t\t\toOption.CategoryKey = oRecord.CategoryKey;\r\n\t\t\t\t\t\t\t\t\toOption.PcategoryKey = oRecord.PcategoryKey;\r\n\t\t\t\t\t\t\t\t\toOption.SubcategoryKey = oRecord.SubcategoryKey;\r\n\t\t\t\t\t\t\t\t\toOption.BrandKey = oRecord.BrandKey;\r\n\t\t\t\t\t\t\t\t\toOption.SubbrandKey = oRecord.SubbrandKey;\r\n\t\t\t\t\t\t\t\t\toOption.SkuKey = oRecord.SkuKey;\r\n\t\t\t\t\t\t\t\t\toOption.PriorityKey = oRecord.PriorityKey;\r\n\t\t\t\t\t\t\t\t\toOption.Channel = oRecord.Channel;\r\n\t\t\t\t\t\t\t\t\toOption.Retailer = oRecord.Retailer;\r\n\t\t\t\t\t\t\t\t\toOption.Agency = oRecord.Agency;\r\n\t\t\t\t\t\t\t\t\toOption.Function = oRecord.Function;\r\n\t\t\t\t\t\t\t\t\toOption.MaestroBrief = oRecord.MaestroBrief;\r\n\t\t\t\t\t\t\t\t\toOption.ActivityType = oRecord.ActivityType;\r\n\t\t\t\t\t\t\t\t\toOption.Costcenter = oRecord.Costcenter;\r\n\t\t\t\t\t\t\t\t\toOption.GlAccount = oRecord.GlAccount;\r\n\t\t\t\t\t\t\t\t\toOption.StartDt = oRecord.StartDt;\r\n\t\t\t\t\t\t\t\t\toOption.EndDt = oRecord.EndDt;\r\n\t\t\t\t\t\t\t\t\tif (oRecord.ItemType === \"PT\") {\r\n\t\t\t\t\t\t\t\t\t\tiProjectIndex = iProjectIndex + 1;\r\n\t\t\t\t\t\t\t\t\t\tiActivityIndex = -1;\r\n\t\t\t\t\t\t\t\t\t\tiSubactivityIndex = -1;\r\n\t\t\t\t\t\t\t\t\t\toTree[0]._projectCount = iProjectIndex + 1;\r\n\t\t\t\t\t\t\t\t\t\toRecord._activityCount = 0;\r\n\t\t\t\t\t\t\t\t\t\toRecord._iconPath = sIPath + \"/img/Project-web.png\";\r\n\t\t\t\t\t\t\t\t\t\toTree[0][iProjectIndex] = oRecord;\r\n\t\t\t\t\t\t\t\t\t\tsProjectName = oRecord.Name;\r\n\t\t\t\t\t\t\t\t\t\toOption.Key = oRecord.Guid;\r\n\t\t\t\t\t\t\t\t\t\tsProjectGuid = oRecord.Guid;\r\n\t\t\t\t\t\t\t\t\t\toOption.Type = \"AT\";\r\n\t\t\t\t\t\t\t\t\t\toOption.ProjectGuid = sProjectGuid;\r\n\t\t\t\t\t\t\t\t\t\toOption.Description = sProjectName;\r\n\t\t\t\t\t\t\t\t\t\taOptions.push(oOption);\r\n\t\t\t\t\t\t\t\t\t\toRecord.__parentIndex = -1;\r\n\t\t\t\t\t\t\t\t\t\toRecord._name = sProjectName;\r\n\t\t\t\t\t\t\t\t\t\tsProjectASM = oRecord.Id;\r\n\t\t\t\t\t\t\t\t\t\toRecord._asmID = sProjectASM;\r\n\t\t\t\t\t\t\t\t\t} else if (oRecord.ItemType === \"AT\") {\r\n\t\t\t\t\t\t\t\t\t\tiActivityIndex = iActivityIndex + 1;\r\n\t\t\t\t\t\t\t\t\t\tiSubactivityIndex = -1;\r\n\t\t\t\t\t\t\t\t\t\tif (iProjectIndex < 0 || !oTree[0][iProjectIndex]) {\r\n\t\t\t\t\t\t\t\t\t\t\tconsole.log(\"Bad Data - Record:\" + oRecord.Id);\r\n\t\t\t\t\t\t\t\t\t\t\tconsole.log(\"Data Failure - No Project: iProjectIndex \" + iProjectIndex.toString());\r\n\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\toTree[0][iProjectIndex]._activityCount = iActivityIndex + 1;\r\n\t\t\t\t\t\t\t\t\t\t\toRecord._subactivityCount = 0;\r\n\t\t\t\t\t\t\t\t\t\t\toRecord._iconPath = sIPath + \"/img/Activity-web.png\";\r\n\t\t\t\t\t\t\t\t\t\t\tif (oConfig.StatusDesc) {\r\n\t\t\t\t\t\t\t\t\t\t\t\toRecord._statusDesc = oConfig.StatusDesc;\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\toRecord.__parentIndex = oTree[0][iProjectIndex].__index;\r\n\t\t\t\t\t\t\t\t\t\t\toTree[0][iProjectIndex][iActivityIndex] = oRecord;\r\n\t\t\t\t\t\t\t\t\t\t\tsActivityName = oRecord.Name;\r\n\t\t\t\t\t\t\t\t\t\t\toOption.Key = oRecord.Guid;\r\n\t\t\t\t\t\t\t\t\t\t\toOption.Type = \"SA\";\r\n\t\t\t\t\t\t\t\t\t\t\toOption.ProjectGuid = sProjectGuid;\r\n\t\t\t\t\t\t\t\t\t\t\toOption.ActivityGuid = oRecord.Guid;\r\n\t\t\t\t\t\t\t\t\t\t\toOption.Description = sProjectName + \" : \" + sActivityName;\r\n\t\t\t\t\t\t\t\t\t\t\toOption.__parentIndex = oRecord.__parentIndex;\r\n\t\t\t\t\t\t\t\t\t\t\taOptions.push(oOption);\r\n\t\t\t\t\t\t\t\t\t\t\tif (oRecord.Status && oRecord.Status !== \"\") {\r\n\t\t\t\t\t\t\t\t\t\t\t\toStatus[oRecord.Status] = oRecord._statusDesc;\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\toRecord._name = sProjectName + \" \" + sActivityName;\r\n\t\t\t\t\t\t\t\t\t\t\tsActivityASM = oRecord.Id;\r\n\t\t\t\t\t\t\t\t\t\t\toRecord._asmID = sProjectASM + \" \" + sActivityASM;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t} else if (oRecord.ItemType === \"SA\") {\r\n\t\t\t\t\t\t\t\t\t\tiSubactivityIndex = iSubactivityIndex + 1;\r\n\t\t\t\t\t\t\t\t\t\toRecord._iconPath = sIPath + \"/img/Sub-Activity-web.png\";\r\n\t\t\t\t\t\t\t\t\t\tif (oConfig.StatusDesc) {\r\n\t\t\t\t\t\t\t\t\t\t\toRecord._statusDesc = oConfig.StatusDesc;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tif (iProjectIndex < 0 || iActivityIndex < 0 || !oTree[0] || !oTree[0][iProjectIndex] || !oTree[0][iProjectIndex][\r\n\t\t\t\t\t\t\t\t\t\t\t\tiActivityIndex\r\n\t\t\t\t\t\t\t\t\t\t\t]) {\r\n\t\t\t\t\t\t\t\t\t\t\tconsole.log(\"Bad Data - Record:\" + oRecord.Id);\r\n\t\t\t\t\t\t\t\t\t\t\tconsole.log(\"Data Failure - No Activity:iProjectIndex \" + iProjectIndex.toString() + \"iActivityIndex \" + iActivityIndex.toString());\r\n\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\toTree[0][iProjectIndex][iActivityIndex]._subactivityCount = iSubactivityIndex + 1;\r\n\t\t\t\t\t\t\t\t\t\t\toRecord.__parentIndex = oTree[0][iProjectIndex][iActivityIndex].__index;\r\n\t\t\t\t\t\t\t\t\t\t\toTree[0][iProjectIndex][iActivityIndex][iSubactivityIndex] = oRecord;\r\n\t\t\t\t\t\t\t\t\t\t\tif (oRecord.Status && oRecord.Status !== \"\") {\r\n\t\t\t\t\t\t\t\t\t\t\t\toStatus[oRecord.Status] = oRecord._statusDesc;\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\toRecord._name = sProjectName + \" \" + sActivityName + \" \" + oRecord.Name;\r\n\t\t\t\t\t\t\t\t\t\t\tsSubactivityASM = oRecord.Id;\r\n\t\t\t\t\t\t\t\t\t\t\toRecord._asmID = sProjectASM + \" \" + sActivityASM + \" \" + sSubactivityASM;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t} else if (oRecord.ItemType === \"TL\") {\r\n\t\t\t\t\t\t\t\t\t\toRecord._activityCount = 0;\r\n\t\t\t\t\t\t\t\t\t\toRecord._iconPath = sIPath + \"/img/Total-web.png\";\r\n\t\t\t\t\t\t\t\t\t\toRecord.__parentIndex = -1;\r\n\t\t\t\t\t\t\t\t\t\toTree[0] = oRecord;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tvar aKeys = Object.keys(oStatus);\r\n\t\t\t\t\t\t\t\tvar aSOptions = [];\r\n\t\t\t\t\t\t\t\tfor (var m = 0; m < aKeys.length; m++) {\r\n\t\t\t\t\t\t\t\t\taSOptions.push({\r\n\t\t\t\t\t\t\t\t\t\tStatus: aKeys[m],\r\n\t\t\t\t\t\t\t\t\t\tDescription: oStatus[aKeys[m]]\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tthat.getModel(\"projectView\").setProperty(\"/oTStatus/Selected\", \"\");\r\n\t\t\t\t\t\t\t\tthat.getModel(\"projectView\").setProperty(\"/oFStatus/Selected\", \"\");\r\n\t\t\t\t\t\t\t\tthat.getModel(\"projectView\").setProperty(\"/oTableControl/selMatchEnabled\", false);\r\n\t\t\t\t\t\t\t\tthat.getModel(\"projectView\").getData().oFStatus.Options = aSOptions;\r\n\t\t\t\t\t\t\t\t// Update table personalization\r\n\t\t\t\t\t\t\t\t//\t\t\t\t\t\tthat._p13nInitialize();\r\n\t\t\t\t\t\t\t\t//\t\t\t\t\t\tthat._setUpInitialVariant();\r\n\r\n\t\t\t\t\t\t\t\tthat.getOwnerComponent().getModel(\"masterShared\").getData().aAddOptions = aOptions;\r\n\t\t\t\t\t\t\t\toData.OnScreen = oTree;\r\n\t\t\t\t\t\t\t\toData.AsInputArray = aResults;\r\n\t\t\t\t\t\t\t\toData.FromService = JSON.parse(JSON.stringify(oTree));\r\n\t\t\t\t\t\t\t\tthat.onValidate(null);\r\n\t\t\t\t\t\t\t\t// Add in default\r\n\t\t\t\t\t\t\t\tthat._getMyProjects(that.getModel(\"projectView\").getProperty(\"/oTableControl/projectFilterPressed\"));\r\n\t\t\t\t\t\t\t\toModel.refresh(false);\r\n\t\t\t\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.app.spinner\", \"StopSpinner\", {});\r\n\t\t\t\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.project\", \"ApplyStyles\", {});\r\n\t\t\t\t\t\t\t\t// Begin of Changes - Khrystyne Williams - Nov 2016\r\n\t\t\t\t\t\t\t\tthat.byId(\"Table\").expandToLevel(1);\r\n\t\t\t\t\t\t\t\t// End of Changes - Khrystyne Williams - Nov 2016\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\terror: function(oError) {\r\n\t\t\t\t\t\t\t\toError.ErrorOrigin = \"Initial\";\r\n\t\t\t\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.project\", \"Errors\", oError);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else if (oData) {\r\n\t\t\t\tthis._lastSelectionConfig = oData;\r\n\t\t\t}\r\n\t\t},\r\n\t\t_preprocessTotalRecords: function(sResults) {\r\n\t\t\tvar aResults = JSON.parse(JSON.stringify(sResults));\r\n\t\t\tif (aResults.length > 0) {\r\n\t\t\t\tvar oRecord = JSON.parse(JSON.stringify(aResults[0]));\r\n\t\t\t\t// Clear out all data from your template\r\n\t\t\t\tvar aKeys = Object.keys(oRecord);\r\n\t\t\t\tfor (var i = 0; i < aKeys.length; i++) {\r\n\t\t\t\t\toRecord[aKeys[i]] = \"\";\r\n\t\t\t\t}\r\n\t\t\t\toRecord.Currency = aResults[0].Currency;\r\n\t\t\t\toRecord.ItemType = \"TL\";\r\n\t\t\t\taResults.splice(0, 0, oRecord);\r\n\t\t\t}\r\n\t\t\treturn aResults;\r\n\t\t},\r\n\t\t_handleODataErrors: function(oDataIn) {\r\n\t\t\tthis.nPendingChangeCount = this.nPendingChangeCount - 1;\r\n\t\t\tvar sOrigin = oDataIn.ErrorOrigin;\r\n\t\t\t// Begin of Changes - Khrystyne Williams - Nov 2016\r\n\t\t\t// if (this.nPendingChangeCount == 0) {\r\n\t\t\tif (this.nPendingChangeCount === 0) {\r\n\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.app.spinner\", \"StopSpinner\", {});\r\n\t\t\t}\r\n\t\t\tif (sOrigin === 'UpdateStatus') {\r\n\t\t\t\tvar sMessage = this.getOwnerComponent().getModel(\"i18n\").getResourceBundle().getText(\"SCU_Error\", []);\r\n\t\t\t\t// MessageToast.show(sMessage);\r\n\t\t\t\tthis.oMessageManager.addMessages(\r\n\t\t\t\t\tnew sap.ui.core.message.Message({\r\n\t\t\t\t\t\tmessage: sMessage,\r\n\t\t\t\t\t\tdescription: \"\",\r\n\t\t\t\t\t\ttype: sap.ui.core.ValueState.Error,\r\n\t\t\t\t\t\tprocessor: this.oMessageProcessor\r\n\t\t\t\t\t})\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\t// End of Changes - Khrystyne Williams - Nov 2016\r\n\t\t},\r\n\t\t_handleODataSuccess: function(oDataIn) {\r\n\t\t\tthis.nPendingChangeCount = this.nPendingChangeCount - 1;\r\n\t\t\tvar sOrigin = oDataIn.oDataOrigin;\r\n\t\t\t// \t\t\tif (sOrigin === \"Projects\") {\r\n\t\t\t// \t\t\t\t// Set up JSON data for editing\r\n\t\t\t// \t\t\t\tvar oModel = this.getModel(\"Project\");\r\n\t\t\t// \t\t\t\tvar oData = oModel.getData();\r\n\t\t\t// \t\t\t\t//\t\t\t\toData.FromService = oDataIn.__batchResponses[0].data.results;\r\n\t\t\t// \t\t\t\toData.OnScreen = JSON.parse(JSON.stringify(oDataIn.results)); // Clone all data\r\n\t\t\t// \t\t\t\tfor (var i = 0; i < oData.OnScreen.length; i++) {\r\n\t\t\t// \t\t\t\t\t// Add the index to the record\r\n\t\t\t// \t\t\t\t\toData.OnScreen[i].__index = i;\r\n\t\t\t// \t\t\t\t}\r\n\t\t\t// \t\t\t\t// Add in default\r\n\t\t\t// \t\t\t\toModel.refresh(false);\r\n\t\t\t// \t\t\t} else \r\n\t\t\tif (sOrigin === \"SaveBudget\") {\r\n\t\t\t\tif (this.nPendingChangeCount === 0) {\r\n\t\t\t\t\tthis.__setBudgetEditable(false);\r\n\t\t\t\t\tvar sMessage = this.getOwnerComponent().getModel(\"i18n\").getResourceBundle().getText(\"C_S_updates\", [this.nTotalCurrentChanges]);\r\n\t\t\t\t\tMessageToast.show(sMessage);\r\n\t\t\t\t\tthis._getItems(this._lastSelectionConfig);\r\n\t\t\t\t}\r\n\t\t\t} else if (sOrigin === \"Delete\") {\r\n\t\t\t\tif (this.nPendingChangeCount === 0) {\r\n\t\t\t\t\tthis.__setBudgetEditable(false);\r\n\t\t\t\t\tvar sMessage = this.getOwnerComponent().getModel(\"i18n\").getResourceBundle().getText(\"C_S_deletes\", [this.nTotalCurrentChanges]);\r\n\t\t\t\t\tMessageToast.show(sMessage);\r\n\t\t\t\t\tthis._getItems(this._lastSelectionConfig);\r\n\t\t\t\t}\r\n\t\t\t} else if (sOrigin === \"UpdateStatus\") {\r\n\t\t\t\tif (this.nPendingChangeCount === 0) {\r\n\t\t\t\t\tthis.__setBudgetEditable(false);\r\n\r\n\t\t\t\t\t// Begin of Changes - Khrystyne Williams - Nov 2016\r\n\t\t\t\t\tvar sMessage = this.getOwnerComponent().getModel(\"i18n\").getResourceBundle().getText(\"C_S_updates\", [this.nTotalCurrentChanges]);\r\n\t\t\t\t\t// var sMessage = this.getOwnerComponent().getModel(\"i18n\").getResourceBundle().getText(\"C_S_mergeupdates\", [this.nTotalCurrentChanges]);\r\n\t\t\t\t\tthis.onSelectNone(null);\r\n\t\t\t\t\tMessageToast.show(sMessage);\r\n\t\t\t\t\tthis._getItems(this._lastSelectionConfig);\r\n\t\t\t\t\t// End of Changes - Khrystyne Williams - Nov 2016\r\n\t\t\t\t}\r\n\t\t\t} else if (sOrigin === \"NotAllowed\") {\r\n\t\t\t\tvar sMessage = this.getOwnerComponent().getModel(\"i18n\").getResourceBundle().getText(\"C_S_notAllowed\");\r\n\t\t\t\tMessageToast.show(sMessage);\r\n\t\t\t} else if (sOrigin === \"NoChanges\") {\r\n\t\t\t\tvar sMessage = this.getOwnerComponent().getModel(\"i18n\").getResourceBundle().getText(\"C_S_nochanges\");\r\n\t\t\t\tMessageToast.show(sMessage);\r\n\t\t\t\tthis.__setBudgetEditable(false);\r\n\t\t\t}\r\n\t\t\tif (this.nPendingChangeCount === 0) {\r\n\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.app.spinner\", \"StopSpinner\", {});\r\n\r\n\t\t\t}\r\n\t\t},\r\n\t\t_refreshBudget: function(oDataIn) {\r\n\t\t\tvar aData = oDataIn.OnScreen;\r\n\t\t\tfor (var i = 0; i < aData.length; i++) {\r\n\t\t\t\taData[i].Budget_valueState = sap.ui.core.ValueState.None;\r\n\t\t\t\taData[i].Budget_valueStateText = \"\";\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t//psutram: Jan 2017: new method added to calculate totals from SubActivity and set to Activity\r\n\t\t// psutram: Feb 2017: modified to similfy calculation\r\n\t\t_sumBudgetSubActivity: function(oActivityTotals, oActivity) {\r\n\t\t\tvar i = 0;\r\n\t\t\tvar totalAmt = 0;\r\n\t\t\tvar totalAAmt = 0;\r\n\t\t\tdo {\r\n\t\t\t\ti++;\r\n\t\t\t\tvar sColumnName = \"AmtB\" + i;\r\n\t\t\t\tvar sAColumnName = \"AmtA\" + i;\r\n\t\t\t\toActivity[sColumnName] = parseFloat(oActivityTotals[sColumnName]);\r\n\t\t\t\toActivity[sAColumnName] = parseFloat(oActivityTotals[sAColumnName]);\r\n\r\n\t\t\t\ttotalAmt = parseFloat(totalAmt) + parseFloat(oActivity[sColumnName]);\r\n\t\t\t\ttotalAAmt = parseFloat(totalAAmt) + parseFloat(oActivity[sAColumnName]);\r\n\r\n\t\t\t} while (i < 12)\r\n\t\t\toActivity.AmtTot = parseFloat(totalAmt);\r\n\t\t\toActivity.AmtATot = parseFloat(totalAAmt); // Actuals\r\n\t\t\toActivity.MaxValueB = parseFloat(0);\r\n\r\n\t\t\t// psutram feb 2017, commented out the rest of the method\r\n\t\t\t// var oTotals = this._getBudgetObject();\r\n\t\t\t// for (var k = 0; k < oActivity._subactivityCount; k++) {\r\n\t\t\t// \tvar oSubactivity = oActivity[k];\r\n\t\t\t// \tvar i = 0;\r\n\t\t\t// \tdo {\r\n\t\t\t// \t\ti++;\r\n\t\t\t// \t\tvar sColumnName = \"AmtB\" + i;\r\n\t\t\t// \t\tvar sAColumnName = \"AmtA\" + i;\r\n\r\n\t\t\t// \t\tvar amt = parseFloat(oSubactivity[sColumnName]);\r\n\t\t\t// \t\tif (isNaN(amt)) {\r\n\t\t\t// \t\t\tamt = 0;\r\n\t\t\t// \t\t}\r\n\t\t\t// \t\tvar aAmt = parseFloat(oSubactivity[sAColumnName]);\r\n\t\t\t// \t\tif (isNaN(aAmt)) {\r\n\t\t\t// \t\t\taAmt = 0;\r\n\t\t\t// \t\t}\r\n\r\n\t\t\t// \t\toTotals[sColumnName] = parseFloat(oTotals[sColumnName]) + parseFloat(amt);\r\n\t\t\t// \t\toTotals[sAColumnName] = parseFloat(oTotals[sAColumnName]) + parseFloat(aAmt);\r\n\r\n\t\t\t// \t\toActivity[sColumnName] = parseFloat(oTotals[sColumnName]);\r\n\t\t\t// \t\toActivity[sAColumnName] = parseFloat(oTotals[sAColumnName]);\r\n\t\t\t// \t} while (i < 12)\r\n\r\n\t\t\t// \ti = 0;\r\n\t\t\t// \tvar totalAmt = 0;\r\n\t\t\t// \tvar totalAAmt = 0;\r\n\t\t\t// \tdo {\r\n\t\t\t// \t\ti++;\r\n\t\t\t// \t\tvar sColumnName = \"AmtB\" + i;\r\n\t\t\t// \t\tvar sAColumnName = \"AmtA\" + i;\r\n\r\n\t\t\t// \t\ttotalAmt = parseFloat(totalAmt) + parseFloat(oActivity[sColumnName]);\r\n\t\t\t// \t\ttotalAAmt = parseFloat(totalAAmt) + parseFloat(oActivity[sAColumnName]);\r\n\r\n\t\t\t// \t\ttotalAAmt += oActivity[sAColumnName];\r\n\r\n\t\t\t// \t} while (i < 12)\r\n\t\t\t// \toActivity.AmtTot = parseFloat(totalAmt);\r\n\t\t\t// \toActivity.AmtATot = parseFloat(totalAAmt); // Actualts\r\n\t\t\t// \t//psutram\r\n\t\t\t// \toActivity.MaxValueB = parseFloat(totalAmt); // set the Plan total to the Plan Amount\r\n\t\t\t// }\r\n\r\n\t\t},\r\n\r\n\t\t_validateInput: function() {\r\n\t\t\tvar bAllSuccessful = true;\r\n\t\t\tthis.oMessageManager.removeAllMessages();\r\n\t\t\tvar oOnScreen = this.getModel(\"Project\").getProperty(\"/OnScreen\");\r\n\t\t\tvar oBinding = this.byId(\"Table\").getBinding(\"rows\");\r\n\t\t\tvar iLength = oBinding.filterInfo.aFilteredContexts.length;\r\n\t\t\tvar iFilters = oBinding.aFilters.length;\r\n\t\t\tif (oBinding.aAllFilters) {\r\n\t\t\t\tiFilters = oBinding.aAllFilters.length;\r\n\t\t\t}\r\n\t\t\tif (oOnScreen.hasOwnProperty(\"0\")) {\r\n\t\t\t\tvar oTotals = oOnScreen[0];\r\n\t\t\t\tvar oTotalsEmpty = this._getBudgetObject();\r\n\t\t\t\tthis._setTotals(oTotalsEmpty, oTotals);\r\n\t\t\t\toTotals._overallTotal = 0;\r\n\t\t\t\toTotals._overallATotal = 0;\r\n\t\t\t\toTotals._overallAPTGTotal = 0;\r\n\t\t\t\tif (iLength === 0 || iFilters === 0) {\r\n\t\t\t\t\tfor (var i = 0; i < oOnScreen[0]._projectCount; i++) {\r\n\t\t\t\t\t\tvar oProject = oOnScreen[0][i];\r\n\t\t\t\t\t\tvar oTotalProjectBudget = this._getBudgetObject();\r\n\t\t\t\t\t\tfor (var j = 0; j < oProject._activityCount; j++) {\r\n\t\t\t\t\t\t\tvar oActivity = oProject[j];\r\n\t\t\t\t\t\t\tvar oTotalActivityBudget = this._getBudgetObject();\r\n\t\t\t\t\t\t\tfor (var k = 0; k < oActivity._subactivityCount; k++) {\r\n\t\t\t\t\t\t\t\tvar oSubactivity = oActivity[k];\r\n\t\t\t\t\t\t\t\tthis._sumBudgetNumbers(oTotalActivityBudget, oSubactivity);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthis._sumBudgetSubActivity(oTotalActivityBudget, oActivity);\r\n\t\t\t\t\t\t\tthis._sumBudgetNumbers(oTotalProjectBudget, oActivity);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis._setTotals(oTotalProjectBudget, oProject);\r\n\t\t\t\t\t\tthis._sumTotals(oTotalProjectBudget, oTotals);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// Limit selections by bindings\r\n\t\t\t\t\tvar aPaths = [];\r\n\t\t\t\t\tfor (var l = 0; l < iLength; l++) {\r\n\t\t\t\t\t\taPaths.push(oBinding.filterInfo.aFilteredContexts[l].getPath());\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfor (var i = 0; i < oOnScreen[0]._projectCount; i++) {\r\n\t\t\t\t\t\tvar bContinue = false;\r\n\t\t\t\t\t\tvar sPath = \"/OnScreen/0/\" + i;\r\n\t\t\t\t\t\tfor (var m = 0; m < aPaths.length; m++) {\r\n\t\t\t\t\t\t\tif (sPath === aPaths[m]) {\r\n\t\t\t\t\t\t\t\tbContinue = true;\r\n\t\t\t\t\t\t\t\tm = aPaths.length;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (bContinue) {\r\n\t\t\t\t\t\t\tvar oProject = oOnScreen[0][i];\r\n\t\t\t\t\t\t\tvar oTotalProjectBudget = this._getBudgetObject();\r\n\t\t\t\t\t\t\tfor (var j = 0; j < oProject._activityCount; j++) {\r\n\t\t\t\t\t\t\t\tbContinue = false;\r\n\t\t\t\t\t\t\t\tsPath = \"/OnScreen/0/\" + i + \"/\" + j;\r\n\t\t\t\t\t\t\t\tfor (var n = 0; n < aPaths.length; n++) {\r\n\t\t\t\t\t\t\t\t\tif (sPath === aPaths[n]) {\r\n\t\t\t\t\t\t\t\t\t\tbContinue = true;\r\n\t\t\t\t\t\t\t\t\t\tn = aPaths.length;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif (bContinue) {\r\n\t\t\t\t\t\t\t\t\tvar oActivity = oProject[j];\r\n\t\t\t\t\t\t\t\t\tvar oTotalActivityBudget = this._getBudgetObject();\r\n\t\t\t\t\t\t\t\t\tfor (var k = 0; k < oActivity._subactivityCount; k++) {\r\n\t\t\t\t\t\t\t\t\t\tbContinue = false;\r\n\t\t\t\t\t\t\t\t\t\tsPath = \"/OnScreen/0/\" + i + \"/\" + j + \"/\" + k;\r\n\t\t\t\t\t\t\t\t\t\tfor (var p = 0; p < aPaths.length; p++) {\r\n\t\t\t\t\t\t\t\t\t\t\tif (sPath === aPaths[p]) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tbContinue = true;\r\n\t\t\t\t\t\t\t\t\t\t\t\tn = aPaths.length;\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tif (bContinue) {\r\n\t\t\t\t\t\t\t\t\t\t\tvar oSubactivity = oActivity[k];\r\n\t\t\t\t\t\t\t\t\t\t\tthis._sumBudgetNumbers(oTotalActivityBudget, oSubactivity);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tthis._sumBudgetSubActivity(oTotalActivityBudget, oActivity);\r\n\t\t\t\t\t\t\t\t\tthis._sumBudgetNumbers(oTotalProjectBudget, oActivity);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthis._setTotals(oTotalProjectBudget, oProject);\r\n\t\t\t\t\t\t\tthis._sumTotals(oTotalProjectBudget, oTotals);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis._overallTotal(oTotals);\r\n\t\t\t\t// var sFormattedValue = CustomCurrencyType.prototype.formatValue.apply(new CustomCurrencyType({\r\n\t\t\t\t// \tshowMeasure: false,\r\n\t\t\t\t// \tminFractionDigits: 0,\r\n\t\t\t\t// \tmaxFractionDigits: 0\r\n\t\t\t\t// }), [\r\n\t\t\t\t// \t[oTotals._overallTotal, oTotals.Currency], \"string\"\r\n\t\t\t\t// ]);\r\n\t\t\t\t//oTotals.Name = this.getOwnerComponent().getModel(\"i18n\").getResourceBundle().getText(\"T_Heading\", [sFormattedValue]);\r\n\t\t\t\toTotals.Name = this.getOwnerComponent().getModel(\"i18n\").getResourceBundle().getText(\"T_HeadingT\");\r\n\t\t\t\tif (!bAllSuccessful) {\r\n\t\t\t\t\t// Begin of Changes - Khrystyne Williams - Nov 2016\r\n\t\t\t\t\t// var sMessage = this.getModel(\"i18n\").getResourceBundle().getText(\"AC_E_BudgetErrors\");\r\n\t\t\t\t\t// MessageToast.show(sMessage);\r\n\t\t\t\t\t// End of Changes - Khrystyne Williams - Nov 2016\r\n\t\t\t\t}\r\n\t\t\t\toTotals.AmtBTot = oTotals._overallTotal;\r\n\t\t\t\toTotals.AmtATot = oTotals._overallATotal;\r\n\t\t\t\t// Begin of Commenting - Khrystyne Williams - Nov 2016\r\n\t\t\t\toTotals.AmtLeTot = oTotals._overallAPTGTotal;\r\n\t\t\t\t// End of Commenting - Khrystyne Williams - Nov 2016\r\n\t\t\t\tthis.getModel(\"Project\").refresh(false);\r\n\t\t\t}\r\n\t\t\treturn bAllSuccessful;\r\n\t\t},\r\n\t\t_setupMessageManager: function(oRow, oRecord) {\r\n\t\t\tvar i = 0;\r\n\t\t\tvar bOffTable = true;\r\n\t\t\tif (oRow) {\r\n\t\t\t\tvar aCells = oRow.getCells();\r\n\t\t\t\tbOffTable = false;\r\n\t\t\t}\r\n\t\t\tdo {\r\n\t\t\t\ti++;\r\n\t\t\t\tvar sColumnName = \"AmtB\" + i;\r\n\t\t\t\tvar sFieldEditable = \"FC_Editable_AmtB\" + i;\r\n\t\t\t\tif (!bOffTable) {\r\n\t\t\t\t\tfor (var j = 0; j < aCells.length; j++) {\r\n\t\t\t\t\t\tif (aCells[j].getMetadata()._sClassName === \"sap.m.Input\" && oRecord[sFieldEditable] === true) {\r\n\t\t\t\t\t\t\tvar sPath = aCells[j].getBindingInfo(\"value\").parts[0].path;\r\n\t\t\t\t\t\t\tif (sPath === sColumnName) {\r\n\t\t\t\t\t\t\t\tvar sValueStateText = \"FC_ValueStateText_AmtB\" + i;\r\n\t\t\t\t\t\t\t\tvar sValueState = \"FC_ValueState_AmtB\" + i;\r\n\t\t\t\t\t\t\t\tif (oRecord.hasOwnProperty(sValueState) && oRecord[sValueState] !== sap.ui.core.ValueState.None) {\r\n\t\t\t\t\t\t\t\t\tthis.oMessageManager.addMessages(\r\n\t\t\t\t\t\t\t\t\t\tnew sap.ui.core.message.Message({\r\n\t\t\t\t\t\t\t\t\t\t\tmessage: oRecord[sValueStateText],\r\n\t\t\t\t\t\t\t\t\t\t\t//description: aCells[j].getId(),  // This was changed by request to not navigate\r\n\t\t\t\t\t\t\t\t\t\t\tdescription: this.getOwnerComponent().getModel(\"i18n\").getResourceBundle().getText(\"AC_E_ErroredRecord\", [oRecord.Id]),\r\n\t\t\t\t\t\t\t\t\t\t\ttype: oRecord[sValueState],\r\n\t\t\t\t\t\t\t\t\t\t\tprocessor: this.oMessageProcessor\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tj = aCells.length;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar sValueStateText = \"FC_ValueStateText_AmtB\" + i;\r\n\t\t\t\t\tvar sValueState = \"FC_ValueState_AmtB\" + i;\r\n\t\t\t\t\tif (oRecord.hasOwnProperty(sValueState) && oRecord[sValueState] !== sap.ui.core.ValueState.None) {\r\n\t\t\t\t\t\tthis.oMessageManager.addMessages(\r\n\t\t\t\t\t\t\tnew sap.ui.core.message.Message({\r\n\t\t\t\t\t\t\t\tmessage: oRecord[sValueStateText],\r\n\t\t\t\t\t\t\t\tdescription: this.getOwnerComponent().getModel(\"i18n\").getResourceBundle().getText(\"AC_E_ErroredRecord\", [oRecord.Id]),\r\n\t\t\t\t\t\t\t\ttype: oRecord[sValueState],\r\n\t\t\t\t\t\t\t\tprocessor: this.oMessageProcessor\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} while (i < 12);\r\n\t\t\tif (!bOffTable) {\r\n\t\t\t\tfor (var j = 0; j < aCells.length; j++) {\r\n\t\t\t\t\tif (aCells[j].getMetadata()._sClassName === \"sap.m.Input\" && oRecord.FC_Editable_MaxValueB === true) {\r\n\t\t\t\t\t\tvar sPath = aCells[j].getBindingInfo(\"value\").parts[0].path;\r\n\t\t\t\t\t\tif (sPath === \"MaxValueB\") {\r\n\t\t\t\t\t\t\tif (oRecord.hasOwnProperty(\"FC_ValueState_MaxValueB\") && oRecord.FC_ValueState_MaxValueB !== sap.ui.core.ValueState.None) {\r\n\t\t\t\t\t\t\t\tthis.oMessageManager.addMessages(\r\n\t\t\t\t\t\t\t\t\tnew sap.ui.core.message.Message({\r\n\t\t\t\t\t\t\t\t\t\tmessage: oRecord.FC_ValueStateText_MaxValueB,\r\n\t\t\t\t\t\t\t\t\t\t// GDH description: aCells[j].getId(), // No navigation to target object\r\n\t\t\t\t\t\t\t\t\t\tdescription: this.getOwnerComponent().getModel(\"i18n\").getResourceBundle().getText(\"AC_E_ErroredRecord\", [oRecord.Id]),\r\n\t\t\t\t\t\t\t\t\t\ttype: oRecord.FC_ValueState_MaxValueB,\r\n\t\t\t\t\t\t\t\t\t\tprocessor: this.oMessageProcessor\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tj = aCells.length;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (oRecord.hasOwnProperty(\"FC_ValueState_MaxValueB\") && oRecord.FC_ValueState_MaxValueB !== sap.ui.core.ValueState.None) {\r\n\t\t\t\t\tthis.oMessageManager.addMessages(\r\n\t\t\t\t\t\tnew sap.ui.core.message.Message({\r\n\t\t\t\t\t\t\tmessage: oRecord.FC_ValueStateText_MaxValueB,\r\n\t\t\t\t\t\t\tdescription: this.getOwnerComponent().getModel(\"i18n\").getResourceBundle().getText(\"AC_E_ErroredRecord\", [oRecord.Id]),\r\n\t\t\t\t\t\t\ttype: oRecord.FC_ValueState_MaxValueB,\r\n\t\t\t\t\t\t\tprocessor: this.oMessageProcessor\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t_saveBudget: function() {\r\n\t\t\tSpinnerUtils.startDetailSpinner(this);\r\n\t\t\tvar oData = this.getModel(\"Project\").getData();\r\n\t\t\tvar aChangedRows = [];\r\n\t\t\tvar aChangedCaps = [];\r\n\t\t\tvar oOrigData = oData.FromService;\r\n\t\t\tvar oCurrData = oData.OnScreen;\r\n\t\t\tvar bAllowSave = true;\r\n\t\t\tfor (var i = 0; i < oCurrData[0]._projectCount; i++) {\r\n\t\t\t\tvar oProject = oCurrData[0][i];\r\n\t\t\t\tvar nCap = parseFloat(oProject.MaxValueC);\r\n\t\t\t\tvar nPlan = parseFloat(oProject.MaxValueCb);\r\n\t\t\t\tvar nPlanAdjustment = parseFloat(\"0.0\");\r\n\t\t\t\tvar bProjectChanged = false;\r\n\t\t\t\tif (this._checkForCapChanges(oProject, oOrigData[0][i])) {\r\n\t\t\t\t\taChangedCaps.push(oProject);\r\n\t\t\t\t\tbProjectChanged = true;\r\n\t\t\t\t}\r\n\t\t\t\tfor (var j = 0; j < oProject._activityCount; j++) {\r\n\t\t\t\t\tvar oActivity = oProject[j];\r\n\t\t\t\t\tif (this._checkForChanges(oActivity, oOrigData[0][i][j])) {\r\n\t\t\t\t\t\tvar aSelected = this.byId(\"Table\").getSelectedIndices();\r\n\t\t\t\t\t\taChangedRows.push(oActivity);\r\n\t\t\t\t\t\tbProjectChanged = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfor (var k = 0; k < oActivity._subactivityCount; k++) {\r\n\t\t\t\t\t\tvar oSubactivity = oActivity[k];\r\n\t\t\t\t\t\tvar oOrig = oOrigData[0][i][j][k];\r\n\t\t\t\t\t\tif (this._checkForChanges(oSubactivity, oOrigData[0][i][j][k])) {\r\n\t\t\t\t\t\t\taChangedRows.push(oSubactivity);\r\n\t\t\t\t\t\t\tbProjectChanged = true;\r\n\t\t\t\t\t\t\tif (nCap > parseFloat(\"0.0\")) {\r\n\t\t\t\t\t\t\t\tnPlanAdjustment = parseFloat(nPlanAdjustment) +\r\n\t\t\t\t\t\t\t\t\tparseFloat(oSubactivity.AmtB1) - parseFloat(oOrig.AmtB1) +\r\n\t\t\t\t\t\t\t\t\tparseFloat(oSubactivity.AmtB2) - parseFloat(oOrig.AmtB2) +\r\n\t\t\t\t\t\t\t\t\tparseFloat(oSubactivity.AmtB3) - parseFloat(oOrig.AmtB3) +\r\n\t\t\t\t\t\t\t\t\tparseFloat(oSubactivity.AmtB4) - parseFloat(oOrig.AmtB4) +\r\n\t\t\t\t\t\t\t\t\tparseFloat(oSubactivity.AmtB5) - parseFloat(oOrig.AmtB5) +\r\n\t\t\t\t\t\t\t\t\tparseFloat(oSubactivity.AmtB6) - parseFloat(oOrig.AmtB6) +\r\n\t\t\t\t\t\t\t\t\tparseFloat(oSubactivity.AmtB7) - parseFloat(oOrig.AmtB7) +\r\n\t\t\t\t\t\t\t\t\tparseFloat(oSubactivity.AmtB8) - parseFloat(oOrig.AmtB8) +\r\n\t\t\t\t\t\t\t\t\tparseFloat(oSubactivity.AmtB9) - parseFloat(oOrig.AmtB9) +\r\n\t\t\t\t\t\t\t\t\tparseFloat(oSubactivity.AmtB10) - parseFloat(oOrig.AmtB10) +\r\n\t\t\t\t\t\t\t\t\tparseFloat(oSubactivity.AmtB11) - parseFloat(oOrig.AmtB11) +\r\n\t\t\t\t\t\t\t\t\tparseFloat(oSubactivity.AmtB12) - parseFloat(oOrig.AmtB12);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (nCap > parseFloat(\"0.0\") && bProjectChanged) {\r\n\t\t\t\t\tvar nRemaining = nCap - nPlan - nPlanAdjustment + parseFloat(\"5.0\"); // The 5 is a buffer to avoid rounding issues.\r\n\t\t\t\t\tif (nRemaining < parseFloat(\"0.0\")) {\r\n\t\t\t\t\t\t// Set error\r\n\t\t\t\t\t\tbAllowSave = false;\r\n\t\t\t\t\t\tvar sMessage = this.getOwnerComponent().getModel(\"i18n\").getResourceBundle().getText(\"AC_E_OverAllocated\", [Math.round(Math.abs(\r\n\t\t\t\t\t\t\tnRemaining)), this.getOwnerComponent().getModel(\"P13n_Configuration\").getProperty(\"/CurrencySettings/Currency\")]);\r\n\t\t\t\t\t\tfor (var j = 0; j < oProject._activityCount; j++) {\r\n\t\t\t\t\t\t\tvar oActivity = oProject[j];\r\n\t\t\t\t\t\t\tfor (var k = 0; k < oActivity._subactivityCount; k++) {\r\n\t\t\t\t\t\t\t\tvar oSubactivity = oActivity[k];\r\n\t\t\t\t\t\t\t\toSubactivity.FC_ValueState_MaxValueB = sap.ui.core.ValueState.Error;\r\n\t\t\t\t\t\t\t\toSubactivity.FC_ValueStateText_MaxValueB = sMessage;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tfor (var j = 0; j < oProject._activityCount; j++) {\r\n\t\t\t\t\t\t\tvar oActivity = oProject[j];\r\n\t\t\t\t\t\t\tfor (var k = 0; k < oActivity._subactivityCount; k++) {\r\n\t\t\t\t\t\t\t\tvar oSubactivity = oActivity[k];\r\n\t\t\t\t\t\t\t\toSubactivity.FC_ValueState_MaxValueB = sap.ui.core.ValueState.None;\r\n\t\t\t\t\t\t\t\toSubactivity.FC_ValueStateText_MaxValueB = \"\";\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (bAllowSave) {\r\n\t\t\t\tif (aChangedRows.length > 0 || aChangedCaps.length > 0) {\r\n\t\t\t\t\tvar aPromises = [];\r\n\t\t\t\t\tthis.nTotalCurrentChanges = aChangedRows.length + aChangedCaps.length;\r\n\t\t\t\t\tif (aChangedCaps.length > 0) {\r\n\t\t\t\t\t\tvar oPromise = OverlayUtils.updateOverlay(this, this.getOwnerComponent().getModel(\"P13n_Configuration\").getProperty(\r\n\t\t\t\t\t\t\t\"/CurrencySettings/Currency\"), aChangedCaps);\r\n\t\t\t\t\t\taPromises.push(oPromise);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (aChangedRows.length > 0) {\r\n\t\t\t\t\t\tvar oUPromise = OverlayUtils.updatePlan(this, aChangedRows);\r\n\t\t\t\t\t\taPromises.push(oUPromise);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar oAllPromises = Promise.all(aPromises);\r\n\t\t\t\t\toAllPromises.then(function(oData) {\r\n\t\t\t\t\t\tvar oEventData = {};\r\n\t\t\t\t\t\toEventData.oDataOrigin = \"SaveBudget\";\r\n\t\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.project\", \"Success\", oEventData);\r\n\t\t\t\t\t}).catch(function(oError) {\r\n\t\t\t\t\t\toError.ErrorOrigin = \"SaveBudget\";\r\n\t\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.project\", \"Errors\", oError);\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tSpinnerUtils.stopSpinner(this);\r\n\t\t\t\t\tvar oEventData = {};\r\n\t\t\t\t\toEventData.oDataOrigin = \"NoChanges\";\r\n\t\t\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.project\", \"Success\", oEventData);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tthis.getModel(\"Project\").refresh(false);\r\n\t\t\t\tSpinnerUtils.stopSpinner(this);\r\n\t\t\t\tMessageToast.show(this.getOwnerComponent().getModel(\"i18n\").getResourceBundle().getText(\"AC_E_POverAllocated\", []));\r\n\t\t\t}\r\n\t\t},\r\n\t\t_clearUnused: function(oRaw) {\r\n\t\t\toRaw.AmtBTot = \"0\";\r\n\t\t\toRaw.AmtATot = \"0\";\r\n\t\t\toRaw.AmtCTot = \"0\";\r\n\t\t\toRaw.AmtCbTot = \"0\";\r\n\t\t\toRaw.MaxValueB = \"0\";\r\n\t\t\t// Begin of Changes - Khrystyne Williams - Nov 2016\r\n\t\t\toRaw.AmtLeTot = \"0\";\r\n\t\t\t// End of Changes - Khrystyne Williams - Nov 2016\r\n\t\t\tdelete oRaw._UPDFIN;\r\n\t\t\tdelete oRaw._UPDITEM;\r\n\t\t},\r\n\t\t_p13nInitialize: function() {\r\n\t\t\tvar oColumns = ColumnCatalog.getColumnCatalog(this);\r\n\t\t\tvar oActivitiesConfig = {\r\n\t\t\t\tMaxTableRows: 15\r\n\t\t\t};\r\n\t\t\tvar iMaxTableRows = this.getOwnerComponent().getModel(\"P13n_Configuration\").getProperty(\"/ActivitiesConfig/MaxTableRows\");\r\n\t\t\tif (iMaxTableRows > 0) {\r\n\t\t\t\toActivitiesConfig.MaxTableRows = iMaxTableRows;\r\n\t\t\t}\r\n\t\t\tvar oDefaultModel = new sap.ui.model.json.JSONModel(oColumns);\r\n\t\t\toDefaultModel.setSizeLimit(50000);\r\n\t\t\tthis.getOwnerComponent().setModel(oDefaultModel, \"P13n_default\");\r\n\t\t\toDefaultModel = new sap.ui.model.json.JSONModel(oActivitiesConfig);\r\n\t\t\tthis.getOwnerComponent().setModel(oDefaultModel, \"P13n_ActivitiesConfig\");\r\n\t\t\tvar oVariants = this.byId(\"Variant\");\r\n\t\t\tvar sSelectionKey = oVariants.getSelectionKey();\r\n\t\t\tif (sSelectionKey && sSelectionKey.substring(0, 7) === \"Variant\") {\r\n\t\t\t\tvar aVariants = this.getOwnerComponent().getModel(\"P13n_Variants\").getData().Variants;\r\n\t\t\t\tvar iIndex = sSelectionKey.replace(\"Variant\", \"\");\r\n\t\t\t\tthis.getOwnerComponent().getModel(\"P13n\").setData(JSON.parse(JSON.stringify(aVariants[iIndex])));\r\n\t\t\t\tthis._syncConfigAndTable();\r\n\t\t\t} else {\r\n\t\t\t\tvar oModel = new sap.ui.model.json.JSONModel(JSON.parse(JSON.stringify(oColumns)));\r\n\t\t\t\tthis.getOwnerComponent().setModel(oModel, \"P13n\");\r\n\t\t\t}\r\n\t\t\tthis.__removeVariantChangedIndicator();\r\n\t\t},\r\n\t\t_openP13nDialog: function() {\r\n\t\t\t// associate controller with the fragment\r\n\t\t\tif (!this.oPersonalizationDialog) {\r\n\t\t\t\tthis.oPersonalizationDialog = sap.ui.xmlfragment(\"colgate.asm.planning.base.fragment.ProjectsPersonalizationDialog\", this);\r\n\t\t\t\tthis.getView().addDependent(this.oPersonalizationDialog);\r\n\t\t\t\tvar oP13nFilterPanel = sap.ui.getCore().byId(\"oP13nProjectFilterPanel\");\r\n\t\t\t\toP13nFilterPanel.setIncludeOperations([\r\n\t\t\t\t\tsap.m.P13nConditionOperation.EQ, sap.m.P13nConditionOperation.Contains, sap.m.P13nConditionOperation.StartsWith, sap.m.P13nConditionOperation\r\n\t\t\t\t\t.EndsWith\r\n\t\t\t\t]);\r\n\t\t\t\toP13nFilterPanel.setExcludeOperations([\r\n\t\t\t\t\tsap.m.P13nConditionOperation.EQ\r\n\t\t\t\t]);\r\n\t\t\t}\r\n\r\n\t\t\t// toggle compact style\r\n\t\t\tjQuery.sap.syncStyleClass(\"sapUiSizeCompact\", this.getView(), this.oPersonalizationDialog);\r\n\t\t\tthis.oPersonalizationDialog.open();\r\n\t\t},\r\n\t\t_syncConfigAndTable: function() {\r\n\t\t\tvar oConfig = this.getOwnerComponent().getModel(\"P13n\").getData();\r\n\t\t\tvar oProjectView = this.getModel(\"projectView\").getData();\r\n\t\t\tvar oTable = this.byId(\"Table\");\r\n\t\t\tvar aColumns = oTable.removeAllColumns();\r\n\t\t\tif (!oProjectView.aRenderedColumnSet && aColumns.length > 0) {\r\n\t\t\t\toProjectView.aRenderedColumnSet = aColumns;\r\n\t\t\t}\r\n\t\t\tif (oProjectView.aRenderedColumnSet) {\r\n\t\t\t\taColumns = oProjectView.aRenderedColumnSet;\r\n\t\t\t}\r\n\t\t\tvar aColumnData = oConfig.ColumnCollection;\r\n\t\t\tfor (var i = 0; i < aColumnData.length; i++) {\r\n\t\t\t\tfor (var j = 0; j < aColumns.length; j++) {\r\n\t\t\t\t\tif (Number(aColumnData[i].columnIndex).toString() === aColumns[j].getId().split(\"--Column\")[1]) {\r\n\t\t\t\t\t\t//GDH 20170326 if (aColumnData[i].text === aColumns[j].getLabel().getText()) {\r\n\t\t\t\t\t\toTable.addColumn(aColumns[j]);\r\n\t\t\t\t\t\tj = aColumns.length;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// August 30\r\n\t\t\tthis._applySort();\r\n\t\t\tthis._applyFilter();\r\n\t\t},\r\n\t\t_updateP13nConfigForColumnWidth: function() {\r\n\t\t\tvar oConfig = this.getOwnerComponent().getModel(\"P13n\").getData();\r\n\t\t\tvar oTable = this.byId(\"Table\");\r\n\t\t\tvar aColumns = oTable.getColumns();\r\n\t\t\tvar aColumnData = oConfig.FixedColumnConfig;\r\n\t\t\tfor (var i = 0; i < aColumns.length; i++) {\r\n\t\t\t\tfor (var j = 0; j < aColumnData.length; j++) {\r\n\t\t\t\t\tif (Number(aColumnData[j].columnIndex).toString() === aColumns[i].getId().split(\"--Column\")[1]) {\r\n\t\t\t\t\t\t//GDH 20170326 if (aColumnData[j].text === aColumns[i].getLabel().getText()) {\r\n\t\t\t\t\t\tvar sWidth = aColumns[i].getWidth();\r\n\t\t\t\t\t\tif (sWidth && sWidth !== \"\") {\r\n\t\t\t\t\t\t\taColumnData[j].width = sWidth;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tj = aColumnData.length;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t_applySort: function() {\r\n\t\t\tvar aConfig = this.getOwnerComponent().getModel(\"P13n\").getData().SortItems;\r\n\t\t\tvar oTableBinding = this.byId(\"Table\").getBinding(\"rows\");\r\n\t\t\tvar aColumns = this.byId(\"Table\").getColumns();\r\n\t\t\tvar sorters = [];\r\n\t\t\tfor (var i = 0; i < aConfig.length; i++) {\r\n\t\t\t\tvar bDescending = (aConfig[i].operation === \"Descending\") ? true : false;\r\n\t\t\t\tvar sorter = new Sorter(aConfig[i].columnKey, bDescending);\r\n\t\t\t\tsorters.push(sorter);\r\n\t\t\t}\r\n\t\t\toTableBinding.sort(sorters);\r\n\t\t\t// Turn off the sort indicator\r\n\t\t\tfor (var i = 0; i < aColumns.length; i++) {\r\n\t\t\t\taColumns[i].setSorted(false);\r\n\t\t\t}\r\n\t\t},\r\n\t\t_applyFilter: function() {\r\n\t\t\tvar aConfig = this.getOwnerComponent().getModel(\"P13n\").getData().FilterItems;\r\n\t\t\tvar oTableBinding = this.byId(\"Table\").getBinding(\"rows\");\r\n\t\t\tvar aColumns = this.byId(\"Table\").getColumns();\r\n\t\t\tvar filters = [];\r\n\t\t\tfor (var i = 0; i < aConfig.length; i++) {\r\n\t\t\t\tvar filterType = aConfig[i].operation;\r\n\t\t\t\tif (aConfig[i].hasOwnProperty(\"exclude\") && aConfig[i].exclude) {\r\n\t\t\t\t\tfilterType = \"NE\";\r\n\t\t\t\t}\r\n\t\t\t\tvar value1 = \"\";\r\n\t\t\t\tvar value2 = \"\";\r\n\t\t\t\tif (aConfig[i].hasOwnProperty(\"value1\")) {\r\n\t\t\t\t\tvalue1 = aConfig[i].value1;\r\n\t\t\t\t}\r\n\t\t\t\tif (aConfig[i].hasOwnProperty(\"value2\")) {\r\n\t\t\t\t\tvalue2 = aConfig[i].value2;\r\n\t\t\t\t}\r\n\t\t\t\tvar filter = new Filter(aConfig[i].columnKey.substring(aConfig[i].columnKey.lastIndexOf(\">\") + 1), filterType, value1,\r\n\t\t\t\t\tvalue2);\r\n\t\t\t\tfilters.push(filter);\r\n\t\t\t}\r\n\t\t\toTableBinding.filter(filters);\r\n\t\t\t// Turn adjust filter indicator\r\n\t\t\tfor (var i = 0; i < aColumns.length; i++) {\r\n\t\t\t\tvar bFiltered = false;\r\n\t\t\t\tfor (var j = 0; j < aConfig.length; j++) {\r\n\t\t\t\t\tif (aConfig[j].columnKey.substring(aConfig[j].columnKey.lastIndexOf(\">\") + 1) === aColumns[i].mProperties.filterProperty) {\r\n\t\t\t\t\t\tbFiltered = true;\r\n\t\t\t\t\t\tj = aConfig.length;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\taColumns[i].setFiltered(bFiltered);\r\n\t\t\t}\r\n\r\n\t\t\t// PSW Start change to Page Title to add filters from personalisation\r\n\t\t\tthis._setStyleMode(this.getOwnerComponent().getModel(\"masterShared\").getData().oInternalEvents.currentMode);\r\n\t\t\t// PSW End change to Page Title to add filters from personalisation\r\n\t\t},\r\n\t\tonP13nAddSortItem: function(oEvent) {\r\n\t\t\tPersonalizationUtils.p13nAddSortItem(oEvent.getParameter(\"sortItemData\"), this.getOwnerComponent().getModel(\"P13n\").getData().SortItems);\r\n\t\t\tthis.getOwnerComponent().getModel(\"P13n\").refresh(false);\r\n\t\t\tthis.__setVariantChangedIndicator();\r\n\t\t},\r\n\t\tonP13nUpdateSortItem: function(oEvent) {\r\n\t\t\tPersonalizationUtils.p13nUpdateSortItem(oEvent.getParameter(\"sortItemData\"), this.getOwnerComponent().getModel(\"P13n\").getData().SortItems,\r\n\t\t\t\toEvent.getParameter(\r\n\t\t\t\t\t\"index\"));\r\n\t\t\tthis.getOwnerComponent().getModel(\"P13n\").refresh(false);\r\n\t\t\tthis.__setVariantChangedIndicator();\r\n\t\t},\r\n\t\tonP13nRemoveSortItem: function(oEvent) {\r\n\t\t\tPersonalizationUtils.p13nRemoveSortItem(oEvent.getParameter(\"sortItemData\"), this.getOwnerComponent().getModel(\"P13n\").getData().SortItems,\r\n\t\t\t\toEvent.getParameter(\r\n\t\t\t\t\t\"index\"));\r\n\t\t\tthis.getOwnerComponent().getModel(\"P13n\").refresh(false);\r\n\t\t\tthis.__setVariantChangedIndicator();\r\n\t\t},\r\n\t\tonP13nAddFilterItem: function(oEvent) {\r\n\t\t\tPersonalizationUtils.p13nAddFilterItem(oEvent.getParameter(\"filterItemData\"), this.getOwnerComponent().getModel(\"P13n\").getData().FilterItems);\r\n\t\t\tthis.getOwnerComponent().getModel(\"P13n\").refresh(false);\r\n\t\t\tthis.__setVariantChangedIndicator();\r\n\t\t},\r\n\t\tonP13nUpdateFilterItem: function(oEvent) {\r\n\t\t\tPersonalizationUtils.p13nUpdateFilterItem(oEvent.getParameter(\"filterItemData\"), this.getOwnerComponent().getModel(\"P13n\").getData()\r\n\t\t\t\t.FilterItems,\r\n\t\t\t\toEvent.getParameter(\r\n\t\t\t\t\t\"index\"));\r\n\t\t\tthis.getOwnerComponent().getModel(\"P13n\").refresh(false);\r\n\t\t\tthis.__setVariantChangedIndicator();\r\n\t\t},\r\n\t\tonP13nRemoveFilterItem: function(oEvent) {\r\n\t\t\tPersonalizationUtils.p13nRemoveFilterItem(oEvent.getParameter(\"filterItemData\"), this.getOwnerComponent().getModel(\"P13n\").getData()\r\n\t\t\t\t.FilterItems,\r\n\t\t\t\toEvent.getParameter(\r\n\t\t\t\t\t\"index\"));\r\n\t\t\tthis.getOwnerComponent().getModel(\"P13n\").refresh(false);\r\n\t\t\tthis.__setVariantChangedIndicator();\r\n\t\t},\r\n\t\tonEnter: function(oEvent) {\r\n\t\t\tvar oField = oEvent.getSource();\r\n\t\t\tvar sId = oField.getId();\r\n\t\t\tvar bFocusSet = false;\r\n\t\t\tvar aCells = oField.getParent().getCells();\r\n\t\t\tvar sFieldName = oField.getBindingInfo(\"value\").parts[0].path;\r\n\t\t\tvar bFieldFound = false;\r\n\t\t\tfor (var i = 0; i < aCells.length; i++) {\r\n\t\t\t\tif (bFieldFound) {\r\n\t\t\t\t\tif (aCells[i].getMetadata()._sClassName === \"sap.m.Input\" &&\r\n\t\t\t\t\t\taCells[i].getBindingInfo(\"editable\") &&\r\n\t\t\t\t\t\tthis.getModel(\"Project\").getProperty(oField.getParent().getBindingContext(\"Project\").sPath)[aCells[i].getBindingInfo(\r\n\t\t\t\t\t\t\t\"editable\").parts[0].path]) {\r\n\t\t\t\t\t\taCells[i].focus();\r\n\t\t\t\t\t\tbFocusSet = true;\r\n\t\t\t\t\t\ti = aCells.length;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (!bFieldFound && aCells[i].getMetadata()._sClassName === \"sap.m.Input\" &&\r\n\t\t\t\t\taCells[i].getBindingInfo(\"value\") &&\r\n\t\t\t\t\taCells[i].getBindingInfo(\"value\").parts[0] &&\r\n\t\t\t\t\taCells[i].getBindingInfo(\"value\").parts[0].path ===\r\n\t\t\t\t\tsFieldName) {\r\n\t\t\t\t\tbFieldFound = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (!bFocusSet) {\r\n\t\t\t\t// Add in progress to the next row.\r\n\t\t\t\tvar oRow = oField.getParent();\r\n\t\t\t\tvar oTable = oRow.getParent();\r\n\t\t\t\tvar aRows = oTable.getRows();\r\n\t\t\t\tvar iRowIndex = 0;\r\n\t\t\t\tfor (var j = 0; j < aRows.length; j++) {\r\n\t\t\t\t\tif (aRows[j] === oRow) {\r\n\t\t\t\t\t\tiRowIndex = j + 1;\r\n\t\t\t\t\t\tj = aRows.length;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tfor (var k = iRowIndex; k < aRows.length; k++) {\r\n\t\t\t\t\tif (this.getModel(\"Project\").getProperty(aRows[k].getBindingContext(\"Project\").sPath).ItemType !== \"PT\") {\r\n\t\t\t\t\t\tvar aRowCells = aRows[k].getCells();\r\n\t\t\t\t\t\tfor (var l = 0; l < aRowCells.length; l++) {\r\n\t\t\t\t\t\t\tif (aRowCells[l].getMetadata()._sClassName === \"sap.m.Input\" &&\r\n\t\t\t\t\t\t\t\taRowCells[l].getBindingInfo(\"editable\") &&\r\n\t\t\t\t\t\t\t\tthis.getModel(\"Project\").getProperty(aRows[k].getBindingContext(\"Project\").sPath)[aRowCells[l].getBindingInfo(\"editable\").parts[\r\n\t\t\t\t\t\t\t\t\t0].path]) {\r\n\t\t\t\t\t\t\t\taRowCells[l].focus();\r\n\t\t\t\t\t\t\t\tl = aRowCells.length;\r\n\t\t\t\t\t\t\t\tbFocusSet = true;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (bFocusSet) {\r\n\t\t\t\t\t\t\tk = aRows.length;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonSelectNone: function(oEvent) {\r\n\t\t\tvar oTable = this.byId(\"Table\");\r\n\t\t\toTable.clearSelection();\r\n\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTStatus/Selected\", \"\");\r\n\t\t\tthis.getModel(\"projectView\").setProperty(\"/oFStatus/Selected\", \"\");\r\n\t\t\t// Begin of Changes - Khrystyne Williams - Nov 2016\r\n\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTStatus/Enabled\", false);\r\n\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTableControl/selMatchEnabled\", false);\r\n\t\t\t// End of Changes - Khrystyne Williams - Nov 2016\r\n\t\t},\r\n\t\tonSSelectMatch: function(oEvent) {\r\n\t\t\t// Check all table entries that match\r\n\t\t\tvar oTable = this.byId(\"Table\");\r\n\t\t\tvar sSelectedKey = this.getModel(\"projectView\").getProperty(\"/oFStatus/Selected\");\r\n\t\t\toTable.clearSelection();\r\n\t\t\tfor (var i = 0; i < this.getModel(\"Project\").getData().AsInputArray.length; i++) {\r\n\t\t\t\t// Update Rows\r\n\t\t\t\tvar oContext = oTable.getContextByIndex(i);\r\n\t\t\t\t// There is an apparent bug in SAPUI5.  The first time through, the final record seems unable to be read  We are less than the threshold.\r\n\t\t\t\tif (oContext) {\r\n\t\t\t\t\tvar sPath = oContext.getPath();\r\n\t\t\t\t\tvar oRecord = this.getModel(\"Project\").getProperty(sPath);\r\n\t\t\t\t\tif (oRecord.Status === sSelectedKey && oRecord.ItemType !== \"PT\") {\r\n\t\t\t\t\t\toTable.addSelectionInterval(i, i);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonVariantManage: function(oEvent) {\r\n\t\t\tvar aRenamed = oEvent.getParameters().renamed;\r\n\t\t\tvar aDeleted = oEvent.getParameters().deleted;\r\n\t\t\tvar aVariants = this.getOwnerComponent().getModel(\"P13n_Variants\").getData().Variants;\r\n\t\t\tvar aDeletedIndicies = [];\r\n\t\t\tvar oVariants = this.byId(\"Variant\");\r\n\t\t\tvar oSelectedKey = oVariants.getSelectionKey();\r\n\t\t\tvar iSelectedIndex = oSelectedKey.replace(\"Variant\", \"\");\r\n\t\t\tvar bDeletedCurrent = false;\r\n\t\t\tfor (var i = 0; i < aDeleted.length; i++) {\r\n\t\t\t\tvar iIndex = aDeleted[i].replace(\"Variant\", \"\");\r\n\t\t\t\tif (iIndex === iSelectedIndex) {\r\n\t\t\t\t\tbDeletedCurrent = true;\r\n\t\t\t\t}\r\n\t\t\t\taDeletedIndicies.push(iIndex);\r\n\t\t\t\tPersonalizationUtils.p13nVariantDelete(this, aVariants[iIndex].PersData, \"PlanningVariants\", aVariants[iIndex].Guid, aVariants[\r\n\t\t\t\t\tiIndex].Description, aVariants[iIndex].__metadata.uri.substring(aVariants[iIndex].__metadata.uri.indexOf(\"/Variants\")));\r\n\t\t\t}\r\n\t\t\taDeletedIndicies.sort(function(a, b) {\r\n\t\t\t\treturn b - a;\r\n\t\t\t});\r\n\t\t\tfor (var k = 0; k < aDeletedIndicies.length; k++) {\r\n\t\t\t\taVariants.splice(aDeletedIndicies[k], 1);\r\n\t\t\t}\r\n\t\t\tif (bDeletedCurrent) {\r\n\t\t\t\tthis._variantSwap(\"*standard*\");\r\n\t\t\t}\r\n\t\t\tfor (var j = 0; j < aRenamed.length; j++) {\r\n\t\t\t\tvar iIndex = aRenamed[j].key.replace(\"Variant\", \"\");\r\n\t\t\t\taVariants[iIndex].Description = aRenamed[j].name;\r\n\t\t\t\tPersonalizationUtils.p13nVariantSave(this, JSON.parse(aVariants[iIndex].PersData), \"PlanningVariants\", aVariants[iIndex].Guid,\r\n\t\t\t\t\taVariants[iIndex]\r\n\t\t\t\t\t.DefaultVar, aRenamed[j].name, true);\r\n\t\t\t}\r\n\t\t\tif (oEvent.getParameters().def !== this.getOwnerComponent().getModel(\"P13n_Variants\").getData().DefaultVariant) {\r\n\t\t\t\tthis.getOwnerComponent().getModel(\"P13n_Variants\").getData().DefaultVariant = oEvent.getParameters().def;\r\n\t\t\t\tif (oEvent.getParameters().def !== \"*standard*\" && oEvent.getParameters().def.indexOf(\"Variant\") !== -1) {\r\n\t\t\t\t\tvar iIndex = oEvent.getParameters().def.replace(\"Variant\", \"\");\r\n\t\t\t\t\taVariants[iIndex].DefaultVar = 'X';\r\n\t\t\t\t\tPersonalizationUtils.p13nVariantSave(this, JSON.parse(aVariants[iIndex].PersData), \"PlanningVariants\", aVariants[iIndex].Guid,\r\n\t\t\t\t\t\taVariants[iIndex]\r\n\t\t\t\t\t\t.DefaultVar, aVariants[iIndex].Description, true);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tonVariantSelect: function(oEvent) {\r\n\t\t\tvar sKey = oEvent.getParameters().key;\r\n\t\t\tvar iIndex = sKey.replace(\"Variant\", \"\");\r\n\t\t\tthis._variantSwap(iIndex);\r\n\t\t\tthis.__removeVariantChangedIndicator();\r\n\t\t\tif (this.oPersonalizationDialog) {\r\n\t\t\t\tthis.oPersonalizationDialog.destroy();\r\n\t\t\t\tthis.oPersonalizationDialog = null;\r\n\t\t\t}\r\n\t\t\tthis._getMyProjects(this.getModel(\"projectView\").getProperty(\"/oTableControl/projectFilterPressed\"));\r\n\r\n\t\t\tthis.getOwnerComponent().getModel(\"masterShared\").getData().oInternalEvents.lastVariant = iIndex;\r\n\t\t},\r\n\t\t_determineStatusVariant: function() { // GDH 5/23/2016\r\n\t\t\t// Determine which variant is the Status Variant\r\n\t\t\tvar aVariants = this.getOwnerComponent().getModel(\"P13n_Variants\").getData().Variants;\r\n\t\t\tvar iIndex = 0;\r\n\t\t\tfor (var i = 0; i < aVariants.length; i++) {\r\n\t\t\t\tvar sAddConfig = aVariants[i].AddConfig;\r\n\t\t\t\tif (sAddConfig && sAddConfig !== \"\") {\r\n\t\t\t\t\tvar oStatusChange = JSON.parse(aVariants[i].AddConfig);\r\n\t\t\t\t\tif (oStatusChange && oStatusChange.StatusChange === \"X\") {\r\n\t\t\t\t\t\tiIndex = i;\r\n\t\t\t\t\t\ti = aVariants.length;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis._variantSwap(iIndex);\r\n\t\t},\r\n\t\t_variantSwap: function(iIndex) {\r\n\t\t\tif (iIndex === \"*standard*\") {\r\n\t\t\t\tthis.getOwnerComponent().getModel(\"P13n\").setData(JSON.parse(JSON.stringify(this.getOwnerComponent().getModel(\"P13n_default\").getData())));\r\n\t\t\t} else {\r\n\t\t\t\tvar aVariants = this.getOwnerComponent().getModel(\"P13n_Variants\").getData().Variants;\r\n\t\t\t\tthis.getOwnerComponent().getModel(\"P13n\").setData(JSON.parse(aVariants[iIndex].PersData));\r\n\t\t\t}\r\n\t\t\tthis._syncConfigAndTable();\r\n\t\t\tthis._applyFilter();\r\n\t\t\tthis._applySort();\r\n\t\t},\r\n\t\t_setUpInitialVariant: function() {\r\n\t\t\tvar oVariants = this.byId(\"Variant\");\r\n\t\t\tthis.byId(\"Variant-popover-popover\").attachBeforeOpen({}, function(oEvent) {\r\n\t\t\t\tvar oVariants = this.byId(\"Variant\");\r\n\t\t\t\tvar oSelectionKey = oVariants.getSelectionKey();\r\n\t\t\t\tif (!oSelectionKey || oSelectionKey === \"*standard*\") {\r\n\t\t\t\t\tthis.byId(\"Variant-mainsave\").setEnabled(false);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar iIndex = oSelectionKey.replace(\"Variant\", \"\");\r\n\t\t\t\t\tvar aVariants = this.getOwnerComponent().getModel(\"P13n_Variants\").getData().Variants;\r\n\t\t\t\t\tif (aVariants[iIndex] && aVariants[iIndex].hasOwnProperty(\"AccessOptions\") && aVariants[iIndex].AccessOptions === \"R\") {\r\n\t\t\t\t\t\tthis.byId(\"Variant-mainsave\").setEnabled(false);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.byId(\"Variant-mainsave\").setEnabled(true);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}, this);\r\n\t\t\tthis.getOwnerComponent().getModel(\"P13n\").setData(JSON.parse(JSON.stringify(this.getOwnerComponent().getModel(\"P13n_default\").getData())));\r\n\t\t\toVariants.setStandardItemText(this.getOwnerComponent().getModel(\"i18n\").getResourceBundle().getText(\"A_default\"));\r\n\t\t\tvar sLabelId = oVariants.getIdForLabel();\r\n\t\t\tvar oLabel = this.byId(sLabelId);\r\n\t\t\toLabel.oVariantText.setText(this.getOwnerComponent().getModel(\"i18n\").getResourceBundle().getText(\"A_default\"));\r\n\t\t\tvar aVariants = this.getOwnerComponent().getModel(\"P13n_Variants\").getData().Variants;\r\n\t\t\tfor (var i = 0; i < aVariants.length; i++) {\r\n\t\t\t\tvar bReadOnly = false;\r\n\t\t\t\tif (aVariants[i].AccessOptions === \"R\") {\r\n\t\t\t\t\tbReadOnly = true;\r\n\t\t\t\t}\r\n\t\t\t\tvar oVariant = new sap.ui.comp.variants.VariantItem(\"Variant\" + i, {\r\n\t\t\t\t\tglobal: false,\r\n\t\t\t\t\tlabelReadOnly: bReadOnly,\r\n\t\t\t\t\treadOnly: bReadOnly,\r\n\t\t\t\t\ttext: aVariants[i].Description,\r\n\t\t\t\t\tkey: \"Variant\" + i\r\n\t\t\t\t});\r\n\t\t\t\toVariants.addVariantItem(oVariant);\r\n\t\t\t\tif (aVariants[i].DefaultVar === \"X\") {\r\n\t\t\t\t\toVariants.setInitialSelectionKey(\"Variant\" + i);\r\n\t\t\t\t\tthis.getOwnerComponent().getModel(\"P13n\").setData(JSON.parse(aVariants[i].PersData));\r\n\t\t\t\t\tthis.byId(\"Variant-mainsave\").setEnabled(!bReadOnly);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis._syncConfigAndTable();\r\n\r\n\t\t},\r\n\t\t__setVariantChangedIndicator: function() {\r\n\t\t\tvar oLabel = this.byId(this.byId(\"Variant\").getIdForLabel());\r\n\t\t\tvar sText = oLabel.oVariantText.getText();\r\n\t\t\tif (sText.substring(sText.length - 1) !== \"*\") {\r\n\t\t\t\toLabel.oVariantText.setText(oLabel.oVariantText.getText() + \"*\");\r\n\t\t\t} else {\r\n\t\t\t\toLabel.oVariantText.setText(oLabel.oVariantText.getText());\r\n\t\t\t}\r\n\t\t},\r\n\t\t__removeVariantChangedIndicator: function() {\r\n\t\t\tvar oLabel = this.byId(this.byId(\"Variant\").getIdForLabel());\r\n\t\t\tvar sText = oLabel.oVariantText.getText();\r\n\t\t\tif (sText.substring(sText.length - 1) === \"*\") {\r\n\t\t\t\toLabel.oVariantText.setText(oLabel.oVariantText.getText().substring(0, sText.length - 1));\r\n\t\t\t} else {\r\n\t\t\t\toLabel.oVariantText.setText(oLabel.oVariantText.getText());\r\n\t\t\t}\r\n\t\t\t// PSW End Change to Text on View Label May 16th\r\n\t\t},\r\n\t\t_setRowStyle: function() {\r\n\t\t\tvar oTable = this.byId(\"Table\");\r\n\t\t\tvar rowCount = oTable.getVisibleRowCount(); //number of visible rows  \r\n\t\t\tvar rowStart = oTable.getFirstVisibleRow(); //starting Row index  \r\n\t\t\tvar numRows = oTable.getRows().length;\r\n\t\t\tvar currentRowContext;\r\n\t\t\tif (numRows >= rowCount) {\r\n\t\t\t\tfor (var i = 0; i < rowCount; i++) {\r\n\t\t\t\t\tcurrentRowContext = oTable.getContextByIndex(rowStart + i); //content  \r\n\t\t\t\t\tif (currentRowContext && currentRowContext !== \"\") {\r\n\t\t\t\t\t\t// Remove Style class else it will overwrite  \r\n\t\t\t\t\t\toTable.getRows()[i].$().removeClass(\"Totals\");\r\n\t\t\t\t\t\toTable.getRows()[i].$().removeClass(\"Project\");\r\n\t\t\t\t\t\toTable.getRows()[i].$().removeClass(\"Activity\");\r\n\t\t\t\t\t\toTable.getRows()[i].$().removeClass(\"SubActivity\");\r\n\t\t\t\t\t\tvar itemType = this.getModel(\"Project\").getProperty(\"ItemType\", currentRowContext); // Get Amount  \r\n\t\t\t\t\t\t// Set Row color conditionally  \r\n\t\t\t\t\t\tif (itemType === \"PT\") {\r\n\t\t\t\t\t\t\toTable.getRows()[i].$().addClass(\"Project\");\r\n\t\t\t\t\t\t} else if (itemType === \"AT\") {\r\n\t\t\t\t\t\t\toTable.getRows()[i].$().addClass(\"Activity\");\r\n\t\t\t\t\t\t} else if (itemType === \"SA\") {\r\n\t\t\t\t\t\t\toTable.getRows()[i].$().addClass(\"SubActivity\");\r\n\t\t\t\t\t\t} else if (itemType === \"TL\") {\r\n\t\t\t\t\t\t\toTable.getRows()[i].$().addClass(\"Totals\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvar sValueState = this.getModel(\"Project\").getProperty(\"_ValueState\", currentRowContext);\r\n\t\t\t\t\t\tif (sValueState && sValueState === \"Error\") {\r\n\t\t\t\t\t\t\toTable.getRows()[i].$().removeClass(\"sapUiTableRowSel\");\r\n\t\t\t\t\t\t\toTable.getRows()[i].$().removeClass(\"WarningState\");\r\n\t\t\t\t\t\t\toTable.getRows()[i].$().addClass(\"ErrorState\");\r\n\t\t\t\t\t\t} else if (sValueState && sValueState === \"Warning\") {\r\n\t\t\t\t\t\t\toTable.getRows()[i].$().removeClass(\"sapUiTableRowSel\");\r\n\t\t\t\t\t\t\toTable.getRows()[i].$().removeClass(\"ErrorState\");\r\n\t\t\t\t\t\t\toTable.getRows()[i].$().addClass(\"WarningState\");\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\toTable.getRows()[i].$().removeClass(\"ErrorState\");\r\n\t\t\t\t\t\t\toTable.getRows()[i].$().removeClass(\"WarningState\");\r\n\t\t\t\t\t\t\t// Re-Add if row is selected\r\n\t\t\t\t\t\t\tvar aSelected = oTable.getSelectedIndices();\r\n\t\t\t\t\t\t\tfor (var j = 0; j < aSelected.length; j++) {\r\n\t\t\t\t\t\t\t\tif ((rowStart + i) === aSelected[j]) {\r\n\t\t\t\t\t\t\t\t\toTable.getRows()[i].$().addClass(\"sapUiTableRowSel\");\r\n\t\t\t\t\t\t\t\t\tj = aSelected.length;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t__setBudgetEditable: function(bEdit) {\r\n\t\t\tValidationUtils.removeErrorMessages(this);\r\n\t\t\tif (bEdit) {\r\n\t\t\t\tthis._setStyleMode(\"Edit\");\r\n\t\t\t} else {\r\n\t\t\t\tthis._setStyleMode(\"Display\");\r\n\t\t\t}\r\n\t\t\tvar oOnScreen = this.getModel(\"Project\").getProperty(\"/OnScreen\");\r\n\t\t\tfor (var i = 0; i < oOnScreen[0]._projectCount; i++) {\r\n\t\t\t\tvar oProject = oOnScreen[0][i];\r\n\t\t\t\tthis.__setRowEditable(bEdit, oProject);\r\n\t\t\t\tfor (var j = 0; j < oProject._activityCount; j++) {\r\n\t\t\t\t\tvar oActivity = oProject[j];\r\n\t\t\t\t\tthis.__setRowEditable(bEdit, oActivity);\r\n\t\t\t\t\tfor (var k = 0; k < oActivity._subactivityCount; k++) {\r\n\t\t\t\t\t\tvar oSubactivity = oActivity[k];\r\n\t\t\t\t\t\tthis.__setRowEditable(bEdit, oSubactivity);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.getModel(\"Project\").refresh(false);\r\n\t\t\tif (bEdit) {\r\n\t\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTableControl/bAddVisible\", false);\r\n\t\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTableControl/bDisplayVisible\", false);\r\n\t\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTableControl/bEditVisible\", false);\r\n\t\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTableControl/bCopyVisible\", false);\r\n\t\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTableControl/bDeleteVisible\", false);\r\n\t\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTableControl/statusEnabled\", false);\r\n\t\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTableControl/bValidateVisible\", true);\r\n\t\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTableControl/bDistributeVisible\", true);\r\n\t\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTableControl/bSaveVisible\", true);\r\n\t\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTableControl/bCancelVisible\", true);\r\n\t\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTableControl/bStatusVisible\", false);\r\n\t\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTableControl/bSCancelVisible\", false);\r\n\t\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTableControl/bSSaveVisible\", false);\r\n\t\t\t\t//psutram modified for Refresh and Calculate functionality\r\n\t\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTableControl/bCalculateVisible\", true);\r\n\t\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTableControl/bRefreshVisible\", false);\r\n\r\n\t\t\t\t//Clear Filter // USERA04 // 2/21/2017\r\n\t\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTableControl/bClearVisible\", false);\r\n\r\n\t\t\t} else {\r\n\t\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTableControl/bEditVisible\", true);\r\n\t\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTableControl/bCopyVisible\", true);\r\n\t\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTableControl/bAddVisible\", true);\r\n\t\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTableControl/bDeleteVisible\", true);\r\n\t\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTableControl/bDisplayVisible\", true);\r\n\t\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTableControl/bValidateVisible\", false);\r\n\t\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTableControl/bDistributeVisible\", false);\r\n\t\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTableControl/bSaveVisible\", false);\r\n\t\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTableControl/bCancelVisible\", false);\r\n\t\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTableControl/statusEnabled\", true);\r\n\t\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTableControl/bStatusVisible\", true);\r\n\t\t\t\t//psutram modified for Refresh and Calculate functionality\r\n\t\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTableControl/bCalculateVisible\", false);\r\n\t\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTableControl/bRefreshVisible\", true);\r\n\t\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTableControl/bClearVisible\", true);\r\n\t\t\t\t//END OF // Clear Filter // USERA04 // 2/21/2017\r\n\r\n\t\t\t}\r\n\t\t\tthis.getModel(\"projectView\").refresh(false);\r\n\t\t\t// Begin of Changes - Khrystyne Williams - Nov 2016\r\n\t\t\t// this.byId(\"Table\").expandToLevel(1);\r\n\t\t\t// End of Changes - Khrystyne Williams - Nov 2016 \r\n\t\t},\r\n\r\n\t\t// psutram: Jan 2017 function modified\r\n\t\t__setRowEditable: function(bEdit, oData) {\r\n\t\t\tvar iStart = oData.StartDt.substring(5, 7);\r\n\t\t\tvar iEnd = oData.EndDt.substring(5, 7);\r\n\t\t\tvar bSEdit = this._checkEditability(oData);\r\n\t\t\toData.FC_Editable_AmtB1 = false;\r\n\t\t\toData.FC_Editable_AmtB2 = false;\r\n\t\t\toData.FC_Editable_AmtB3 = false;\r\n\t\t\toData.FC_Editable_AmtB4 = false;\r\n\t\t\toData.FC_Editable_AmtB5 = false;\r\n\t\t\toData.FC_Editable_AmtB6 = false;\r\n\t\t\toData.FC_Editable_AmtB7 = false;\r\n\t\t\toData.FC_Editable_AmtB8 = false;\r\n\t\t\toData.FC_Editable_AmtB9 = false;\r\n\t\t\toData.FC_Editable_AmtB10 = false;\r\n\t\t\toData.FC_Editable_AmtB11 = false;\r\n\t\t\toData.FC_Editable_AmtB12 = false;\r\n\t\t\toData.FC_Editable_MaxValueB = false;\r\n\t\t\toData.FC_Editable_MaxValueC = false;\r\n\t\t\toData.FC_Editable_StartDt = false;\r\n\t\t\toData.FC_Editable_EndDt = false;\r\n\t\t\toData.FC_Editable_MaxValueBo = false;\r\n\r\n\t\t\t//psutram: Jan 2017 Added  && oData.ItemType !== \"AT\" to ensure Activity Budget entries are not editable\r\n\t\t\t// if (oData.ItemType !== \"PT\" && bEdit && bSEdit) \r\n\t\t\tif (oData.ItemType === \"PT\" && bEdit && this._checkCapEditability(oData)) {\r\n\t\t\t\toData.FC_Editable_MaxValueC = true;\r\n\t\t\t\t// GDH The warning for the Project Cap is not needed anymore.\r\n\t\t\t\t// if (oData.MaxValueC === \"\" || parseFloat(oData.MaxValueC) <= parseFloat(\"0.0\")) {\r\n\t\t\t\t// \toData.FC_ValueState_MaxValueC = sap.ui.core.ValueState.Warning;\r\n\t\t\t\t// \toData.FC_ValueStateText_MaxValueC = this.getOwnerComponent().getModel(\"i18n\").getResourceBundle().getText(\"AC_BudgetCapMissing\", []);\r\n\t\t\t\t// }\r\n\t\t\t} else if (oData.ItemType === \"PT\" && !bEdit) {\r\n\t\t\t\toData.FC_ValueState_MaxValueC = sap.ui.core.ValueState.None;\r\n\t\t\t\toData.FC_ValueStateText_MaxValueC = \"\";\r\n\t\t\t}\r\n\t\t\tif (oData.ItemType !== \"PT\" && bEdit && bSEdit && oData.ItemType !== \"AT\") {\r\n\t\t\t\t// Begin of Changes - Khrystyne Williams - Feb 2017\r\n\t\t\t\t// if (oData.Status !== \"9013\") { // Plan Approved\r\n\t\t\t\tif (iStart <= 1 && iEnd >= 1) {\r\n\t\t\t\t\toData.FC_Editable_AmtB1 = true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\toData.AmtB1 = \"0.0\";\r\n\t\t\t\t}\r\n\t\t\t\tif (iStart <= 2 && iEnd >= 2) {\r\n\t\t\t\t\toData.FC_Editable_AmtB2 = true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\toData.AmtB2 = \"0.0\";\r\n\t\t\t\t}\r\n\t\t\t\tif (iStart <= 3 && iEnd >= 3) {\r\n\t\t\t\t\toData.FC_Editable_AmtB3 = true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\toData.AmtB3 = \"0.0\";\r\n\t\t\t\t}\r\n\t\t\t\tif (iStart <= 4 && iEnd >= 4) {\r\n\t\t\t\t\toData.FC_Editable_AmtB4 = true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\toData.AmtB4 = \"0.0\";\r\n\t\t\t\t}\r\n\t\t\t\tif (iStart <= 5 && iEnd >= 5) {\r\n\t\t\t\t\toData.FC_Editable_AmtB5 = true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\toData.AmtB5 = \"0.0\";\r\n\t\t\t\t}\r\n\t\t\t\tif (iStart <= 6 && iEnd >= 6) {\r\n\t\t\t\t\toData.FC_Editable_AmtB6 = true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\toData.AmtB6 = \"0.0\";\r\n\t\t\t\t}\r\n\t\t\t\tif (iStart <= 7 && iEnd >= 7) {\r\n\t\t\t\t\toData.FC_Editable_AmtB7 = true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\toData.AmtB7 = \"0.0\";\r\n\t\t\t\t}\r\n\t\t\t\tif (iStart <= 8 && iEnd >= 8) {\r\n\t\t\t\t\toData.FC_Editable_AmtB8 = true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\toData.AmtB8 = \"0.0\";\r\n\t\t\t\t}\r\n\t\t\t\tif (iStart <= 9 && iEnd >= 9) {\r\n\t\t\t\t\toData.FC_Editable_AmtB9 = true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\toData.AmtB9 = \"0.0\";\r\n\t\t\t\t}\r\n\t\t\t\tif (iStart <= 10 && iEnd >= 10) {\r\n\t\t\t\t\toData.FC_Editable_AmtB10 = true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\toData.AmtB10 = \"0.0\";\r\n\t\t\t\t}\r\n\t\t\t\tif (iStart <= 11 && iEnd >= 11) {\r\n\t\t\t\t\toData.FC_Editable_AmtB11 = true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\toData.AmtB11 = \"0.0\";\r\n\t\t\t\t}\r\n\t\t\t\tif (iStart <= 12 && iEnd >= 12) {\r\n\t\t\t\t\toData.FC_Editable_AmtB12 = true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\toData.AmtB12 = \"0.0\";\r\n\t\t\t\t}\r\n\t\t\t\toData.FC_Editable_MaxValueB = true;\r\n\t\t\t\tif (bEdit) {\r\n\t\t\t\t\tthis._calculatePlanForDistribution(oData);\r\n\t\t\t\t} else {\r\n\t\t\t\t\toData.MaxValueB = \"0.0\";\r\n\t\t\t\t}\r\n\t\t\t\toData.FC_Editable_StartDt = true;\r\n\t\t\t\toData.FC_Editable_EndDt = true;\r\n\t\t\t\t// } else {\r\n\t\t\t\t// \t// Only for Plan Approved\r\n\t\t\t\t// \toData.FC_Editable_MaxValueBo = true;\r\n\t\t\t\t// }\r\n\t\t\t\t// End of Changes - Khrystyne Williams - Feb 2017\r\n\t\t\t} else {\r\n\t\t\t\toData.MaxValueB = \"0.0\";\r\n\t\t\t}\r\n\t\t\toData.FC_PlaceHolder_AmtB1 = \"\";\r\n\t\t\toData.FC_ValueState_AmtB1 = sap.ui.core.ValueState.None;\r\n\t\t\toData.FC_ValueStateText_AmtB1 = \"\";\r\n\t\t\toData.FC_PlaceHolder_AmtB2 = \"\";\r\n\t\t\toData.FC_ValueState_AmtB2 = sap.ui.core.ValueState.None;\r\n\t\t\toData.FC_ValueStateText_AmtB2 = \"\";\r\n\t\t\toData.FC_PlaceHolder_AmtB3 = \"\";\r\n\t\t\toData.FC_ValueState_AmtB3 = sap.ui.core.ValueState.None;\r\n\t\t\toData.FC_ValueStateText_AmtB3 = \"\";\r\n\t\t\toData.FC_PlaceHolder_AmtB4 = \"\";\r\n\t\t\toData.FC_ValueState_AmtB4 = sap.ui.core.ValueState.None;\r\n\t\t\toData.FC_ValueStateText_AmtB4 = \"\";\r\n\t\t\toData.FC_PlaceHolder_AmtB5 = \"\";\r\n\t\t\toData.FC_ValueState_AmtB5 = sap.ui.core.ValueState.None;\r\n\t\t\toData.FC_ValueStateText_AmtB5 = \"\";\r\n\t\t\toData.FC_PlaceHolder_AmtB6 = \"\";\r\n\t\t\toData.FC_ValueState_AmtB6 = sap.ui.core.ValueState.None;\r\n\t\t\toData.FC_ValueStateText_AmtB6 = \"\";\r\n\t\t\toData.FC_PlaceHolder_AmtB7 = \"\";\r\n\t\t\toData.FC_ValueState_AmtB7 = sap.ui.core.ValueState.None;\r\n\t\t\toData.FC_ValueStateText_AmtB7 = \"\";\r\n\t\t\toData.FC_PlaceHolder_AmtB8 = \"\";\r\n\t\t\toData.FC_ValueState_AmtB8 = sap.ui.core.ValueState.None;\r\n\t\t\toData.FC_ValueStateText_AmtB8 = \"\";\r\n\t\t\toData.FC_PlaceHolder_AmtB9 = \"\";\r\n\t\t\toData.FC_ValueState_AmtB9 = sap.ui.core.ValueState.None;\r\n\t\t\toData.FC_ValueStateText_AmtB9 = \"\";\r\n\t\t\toData.FC_PlaceHolder_AmtB10 = \"\";\r\n\t\t\toData.FC_ValueState_AmtB10 = sap.ui.core.ValueState.None;\r\n\t\t\toData.FC_ValueStateText_AmtB10 = \"\";\r\n\t\t\toData.FC_PlaceHolder_AmtB11 = \"\";\r\n\t\t\toData.FC_ValueState_AmtB11 = sap.ui.core.ValueState.None;\r\n\t\t\toData.FC_ValueStateText_AmtB11 = \"\";\r\n\t\t\toData.FC_PlaceHolder_AmtB12 = \"\";\r\n\t\t\toData.FC_ValueState_AmtB12 = sap.ui.core.ValueState.None;\r\n\t\t\toData.FC_ValueStateText_AmtB12 = \"\";\r\n\t\t\toData.FC_PlaceHolder_MaxValueB = \"\";\r\n\t\t\toData.FC_ValueState_MaxValueB = sap.ui.core.ValueState.None;\r\n\t\t\toData.FC_ValueStateText_MaxValueB = \"\";\r\n\t\t\toData.FC_PlaceHolder_MaxValueC = \"\";\r\n\t\t\toData.FC_PlaceHolder_StartDt = \"\";\r\n\t\t\toData.FC_ValueState_StartDt = sap.ui.core.ValueState.None;\r\n\t\t\toData.FC_ValueStateText_StartDt = \"\";\r\n\t\t\toData.FC_PlaceHolder_EndDt = \"\";\r\n\t\t\toData.FC_ValueState_EndDt = sap.ui.core.ValueState.None;\r\n\t\t\toData.FC_ValueStateText_EndDt = \"\";\r\n\t\t\toData.FC_PlaceHolder_MaxValueBo = \"\";\r\n\t\t\toData.FC_ValueState_MaxValueBo = sap.ui.core.ValueState.None;\r\n\t\t\toData.FC_ValueStateText_MaxValueBo = \"\";\r\n\t\t},\r\n\t\t//GK 05/26/2016 – Start of Change to distribute budget numbers\t\t\r\n\t\tonDistribute: function(oEvent) {\r\n\t\t\tvar oTableSelect = {};\r\n\t\t\tvar aSelected = this.byId(\"Table\").getSelectedIndices();\r\n\t\t\tvar iDivider = 0;\r\n\t\t\tvar bWarned = false;\r\n\t\t\tvar bStatusWarned = false;\r\n\t\t\tif (aSelected.length > 0) {\r\n\t\t\t\tfor (var i = 0; i < aSelected.length; i++) {\r\n\t\t\t\t\t// Must update the geo model\r\n\t\t\t\t\tvar sPath = this.byId(\"Table\").getContextByIndex(aSelected[i]).getPath();\r\n\t\t\t\t\toTableSelect = this.getModel(\"Project\").getProperty(sPath);\r\n\t\t\t\t\tvar fAmount = parseFloat(oTableSelect.MaxValueB);\r\n\r\n\t\t\t\t\t// First check if the record can be edited\r\n\t\t\t\t\tvar bEditable = this._checkEditability(oTableSelect);\r\n\t\t\t\t\tif (!bEditable) {\r\n\t\t\t\t\t\t// Tell the user they can't edit\r\n\t\t\t\t\t\tif (!bStatusWarned) {\r\n\t\t\t\t\t\t\tbStatusWarned = true;\r\n\t\t\t\t\t\t\tMessageToast.show(this.getOwnerComponent().getModel(\"i18n\").getResourceBundle().getText(\"S_E_wrongStatusChange\", []));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// Get the number of columns to be updated\r\n\t\t\t\t\t\tvar oCount = this._getRowEditCount(oTableSelect);\r\n\t\t\t\t\t\tiDivider = oCount.NumberOfCells;\r\n\t\t\t\t\t\tif (oCount.ExistingValues && !bWarned) {\r\n\t\t\t\t\t\t\tbWarned = true;\r\n\t\t\t\t\t\t\tvar that = this;\r\n\t\t\t\t\t\t\tsap.m.MessageBox.show(\r\n\t\t\t\t\t\t\t\tthis.getModel(\"i18n\").getResourceBundle().getText(\"B_T_confirmDistribute_Body\"), {\r\n\t\t\t\t\t\t\t\t\ticon: sap.m.MessageBox.Icon.WARNING,\r\n\t\t\t\t\t\t\t\t\ttitle: this.getModel(\"i18n\").getResourceBundle().getText(\"B_T_confirmDistribute\"),\r\n\t\t\t\t\t\t\t\t\tactions: [sap.m.MessageBox.Action.YES, sap.m.MessageBox.Action.NO],\r\n\t\t\t\t\t\t\t\t\tonClose: function(oAction) {\r\n\t\t\t\t\t\t\t\t\t\tif (oAction === sap.m.MessageBox.Action.YES) {\r\n\t\t\t\t\t\t\t\t\t\t\tfor (var j = 0; j < aSelected.length; j++) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tvar sPath = that.byId(\"Table\").getContextByIndex(aSelected[j]).getPath();\r\n\t\t\t\t\t\t\t\t\t\t\t\toTableSelect = that.getModel(\"Project\").getProperty(sPath);\r\n\t\t\t\t\t\t\t\t\t\t\t\tvar fAmount = parseFloat(oTableSelect.MaxValueB);\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t// First check if the record can be edited\r\n\t\t\t\t\t\t\t\t\t\t\t\tvar bEditable = that._checkEditability(oTableSelect);\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (bEditable) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvar oCount = that._getRowEditCount(oTableSelect);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tiDivider = oCount.NumberOfCells;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t//Calculate the the amount to be distributed to each editable column\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvar fDistAmt = parseFloat(fAmount / iDivider);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// Begin of Changes - Khrystyne Williams - Nov 2016\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfDistAmt = Math.floor(fDistAmt);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvar newBalance = fAmount - (fDistAmt * iDivider);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// that._setDistAmt(oTableSelect, fDistAmt);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvar lmo = that._setDistAmt(oTableSelect, fDistAmt);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvar dColumnName = \"AmtB\" + lmo;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\toTableSelect[dColumnName] = fDistAmt + newBalance;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// End of Changes - Khrystyne Williams - Nov 2016\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tthat.getModel(\"Project\").refresh(false);\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (!bWarned) {\r\n\t\t\t\t\t//Execute the actions\r\n\t\t\t\t\tfor (var j = 0; j < aSelected.length; j++) {\r\n\t\t\t\t\t\tvar sPath = this.byId(\"Table\").getContextByIndex(aSelected[j]).getPath();\r\n\t\t\t\t\t\toTableSelect = this.getModel(\"Project\").getProperty(sPath);\r\n\t\t\t\t\t\tvar fAmount = parseFloat(oTableSelect.MaxValueB);\r\n\r\n\t\t\t\t\t\t// First check if the record can be edited\r\n\t\t\t\t\t\tvar bEditable = this._checkEditability(oTableSelect);\r\n\t\t\t\t\t\tif (bEditable) {\r\n\t\t\t\t\t\t\tvar oCount = this._getRowEditCount(oTableSelect);\r\n\t\t\t\t\t\t\tiDivider = oCount.NumberOfCells;\r\n\t\t\t\t\t\t\t//Calculate the the amount to be distributed to each editable column\r\n\t\t\t\t\t\t\tvar fDistAmt = parseFloat(fAmount / iDivider);\r\n\t\t\t\t\t\t\t// Begin of Changes - Khrystyne Williams - Nov 2016\r\n\t\t\t\t\t\t\tfDistAmt = Math.floor(fDistAmt);\r\n\t\t\t\t\t\t\tvar newBalance = fAmount - (fDistAmt * iDivider);\r\n\t\t\t\t\t\t\t// that._setDistAmt(oTableSelect, fDistAmt);\r\n\t\t\t\t\t\t\tvar lmo = this._setDistAmt(oTableSelect, fDistAmt);\r\n\t\t\t\t\t\t\tvar dColumnName = \"AmtB\" + lmo;\r\n\t\t\t\t\t\t\toTableSelect[dColumnName] = fDistAmt + newBalance;\r\n\t\t\t\t\t\t\t// End of Changes - Khrystyne Williams - Nov 2016\r\n\t\t\t\t\t\t\tthis.getModel(\"Project\").refresh(false);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t// Begin of Addition - Khrystyne Williams - September\r\n\t\t\t\tvar oTable = this.byId(\"Table\");\r\n\t\t\t\toTable.clearSelection();\r\n\t\t\t\t// End of Addition - Khrystyne Williams - September\r\n\t\t\t}\r\n\t\t},\r\n\t\t_getRowEditCount: function(oData) {\r\n\t\t\tvar i = 0;\r\n\t\t\tvar iCounter = 0;\r\n\t\t\tvar bExistingValues = false;\r\n\t\t\tdo {\r\n\t\t\t\ti++;\r\n\t\t\t\tvar sColumnName = \"FC_Editable_AmtB\" + i;\r\n\t\t\t\tif (oData[sColumnName]) {\r\n\t\t\t\t\tvar sAColumnName = \"AmtB\" + i;\r\n\t\t\t\t\tiCounter++;\r\n\t\t\t\t\tif (parseFloat(oData[sAColumnName]) > 0.0) {\r\n\t\t\t\t\t\tbExistingValues = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} while (i < 12);\r\n\t\t\tvar oReturn = {};\r\n\t\t\toReturn.ExistingValues = bExistingValues;\r\n\t\t\toReturn.NumberOfCells = iCounter;\r\n\t\t\treturn oReturn;\r\n\t\t},\r\n\t\t_setDistAmt: function(oData, fAmt) {\r\n\t\t\t// Begin of Changes - Khrystyne Williams - Nov 2016\r\n\t\t\t// var i = 0;\r\n\t\t\t// do {\r\n\t\t\t// \ti++;\r\n\t\t\t// \tvar sColumnName = \"FC_Editable_AmtB\" + i;\r\n\t\t\t// \tif (oData[sColumnName]) {\r\n\t\t\t// \t\tvar sAColumnName = \"AmtB\" + i;\r\n\t\t\t// \t\toData[sAColumnName] = parseFloat(fAmt);\r\n\t\t\t// \t}\r\n\t\t\t// } while (i < 12);\r\n\t\t\tvar i = 0;\r\n\t\t\tvar lastmonth = 12;\r\n\t\t\tdo {\r\n\t\t\t\ti++;\r\n\t\t\t\tvar sColumnName = \"FC_Editable_AmtB\" + i;\r\n\t\t\t\tif (oData[sColumnName]) {\r\n\t\t\t\t\tvar sAColumnName = \"AmtB\" + i;\r\n\t\t\t\t\toData[sAColumnName] = parseFloat(fAmt);\r\n\t\t\t\t\tlastmonth = i;\r\n\t\t\t\t}\r\n\t\t\t} while (i < 12);\r\n\t\t\treturn lastmonth;\r\n\t\t\t// End of Changes - Khrystyne Williams - Nov 2016\r\n\t\t},\r\n\t\t_generateFilterString: function() {\r\n\t\t\tvar sFilters = \"\";\r\n\t\t\tvar oFilterDesc = this.getOwnerComponent().getModel(\"masterShared\").getData().oMasterSelect;\r\n\t\t\tvar oExclude = this.getOwnerComponent().getModel(\"masterShared\").getData().oFilters.oExclude;\r\n\t\t\tif (oFilterDesc.DivisionText !== \"\" && !oExclude.Division) {\r\n\t\t\t\tsFilters = (\" Div: \" + oFilterDesc.DivisionText);\r\n\t\t\t}\r\n\t\t\tif (oFilterDesc.HubText !== \"\" && !oExclude.Hub) {\r\n\t\t\t\tsFilters = sFilters + \" |Hub: \" + oFilterDesc.HubText;\r\n\t\t\t}\r\n\t\t\tif (oFilterDesc.SubText !== \"\" && !oExclude.Sub) {\r\n\t\t\t\tsFilters = sFilters + \" |Sub: \" + oFilterDesc.SubText;\r\n\t\t\t}\r\n\t\t\treturn sFilters;\r\n\t\t},\r\n\t\t_confirmHeaderVisibilitySettings: function() {\r\n\t\t\tvar sLastAction = this.getOwnerComponent().getModel(\"masterShared\").getData().oInternalEvents.lastAction;\r\n\t\t\tif (sLastAction === \"ChangedYear\") {\r\n\t\t\t\tif (this.getOwnerComponent().getModel(\"masterShared\") && this.getOwnerComponent().getModel(\"masterShared\").getProperty(\r\n\t\t\t\t\t\t\"/oInternalEvents/displayOnlyMode\") === true) {\r\n\t\t\t\t\tthis._setupDisplayOnlyMode();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis._setupDefaultMode();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t_setupDisplayOnlyMode: function() {\r\n\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTableControl/bAddVisible\", false);\r\n\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTableControl/bEditVisible\", false);\r\n\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTableControl/bCopyVisible\", true);\r\n\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTableControl/bDeleteVisible\", false);\r\n\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTableControl/bDisplayVisible\", true);\r\n\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTableControl/bStatusVisible\", false);\r\n\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTableControl/bCheckVisible\", false);\r\n\r\n\t\t\t//psutram modified for Refresh and Calculate functionality\r\n\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTableControl/bCalculateVisible\", false);\r\n\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTableControl/bRefreshVisible\", true);\r\n\r\n\t\t\tthis.byId(\"Table\").clearSelection();\r\n\t\t},\r\n\t\t_setupDefaultMode: function() {\r\n\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTableControl/bAddVisible\", true);\r\n\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTableControl/bEditVisible\", true);\r\n\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTableControl/bCopyVisible\", true);\r\n\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTableControl/bDeleteVisible\", true);\r\n\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTableControl/bDisplayVisible\", true);\r\n\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTableControl/bStatusVisible\", true);\r\n\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTableControl/bCheckVisible\", true);\r\n\r\n\t\t\t//psutram modified for Refresh and Calculate functionality\r\n\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTableControl/bCalculateVisible\", false);\r\n\t\t\tthis.getModel(\"projectView\").setProperty(\"/oTableControl/bRefreshVisible\", true);\r\n\r\n\t\t\tthis.byId(\"Table\").clearSelection();\r\n\t\t},\r\n\t\tonMonthHelp: function(oEvent) {\r\n\t\t\tMonthPicker._getMonthPicker(oEvent, this);\r\n\t\t},\r\n\t\tonCollapse: function() {\r\n\t\t\tvar oTreeTable = this.getView().byId(\"Table\");\r\n\t\t\toTreeTable.collapseAll();\r\n\t\t\toTreeTable.expandToLevel(1);\r\n\t\t\tthis._setRowStyle();\r\n\t\t},\r\n\t\tonExpand: function() {\r\n\t\t\tvar oTreeTable = this.getView().byId(\"Table\");\r\n\t\t\toTreeTable.expandToLevel(5);\r\n\t\t\tthis._setRowStyle();\r\n\t\t}\r\n\t});\r\n});",
		"colgate/asm/planning/base/view/StatusChange.view.xml": "<mvc:View xmlns:core=\"sap.ui.core\" xmlns:f=\"sap.ui.layout.form\" xmlns:mvc=\"sap.ui.core.mvc\" xmlns:semantic=\"sap.m.semantic\" xmlns=\"sap.m\" controllerName=\"colgate.asm.planning.base.controller.StatusChange\">\r\n\t<semantic:MasterPage busy=\"{masterShared>/oMasterBusy/busy}\" busyIndicatorDelay=\"{masterShared>/oMasterBusy/delay}\" enableScrolling=\"false\" id=\"page\" navButtonPress=\"onNavBack\" showNavButton=\"false\" title=\"{masterView>/title}\">\r\n\t\t<semantic:subHeader/>\r\n\t\t<semantic:content>\r\n\t\t\t<FlexBox width=\"100%\" id=\"__box0\" alignItems=\"Center\" justifyContent=\"Center\" direction=\"Column\">\r\n\t\t    <items>\r\n\t\t        <core:Icon src=\"sap-icon://message-success\" size=\"7em\" id=\"__icon0\" color=\"Green\"/>\r\n\t\t        <TextArea wrapping=\"Soft\" id=\"__area0\" width=\"100%\" value=\"{i18n>S_I_Instructions}\" cols=\"40\" editable=\"false\" rows=\"23\"/>\r\n\t\t        <Button text=\"Cancel\" width=\"100px\" id=\"__button0\" icon=\"sap-icon://sys-cancel-2\" tooltip=\"{i18n>S_T_cancel}\" press=\"onCancel\"/>\r\n\t\t    </items>\r\n\t\t</FlexBox>\r\n\t\t</semantic:content>\r\n\t</semantic:MasterPage>\r\n</mvc:View>",
		"colgate/asm/planning/base/view/AddActivity.view.xml": "<mvc:View controllerName=\"colgate.asm.planning.base.controller.AddActivity\" xmlns:footerbar=\"sap.ushell.ui.footerbar\"\n\txmlns:mvc=\"sap.ui.core.mvc\" xmlns:sap.ui.core=\"sap.ui.core\" xmlns:semantic=\"sap.m.semantic\" xmlns=\"sap.m\">\n\t<semantic:DetailPage busy=\"{masterShared>/oDetailBusy/busy}\" busyIndicatorDelay=\"{masterShared>/oDetailBusy/delay}\" id=\"page\"\n\t\tnavButtonPress=\"onNavBack\" showNavButton=\"{device&gt;/system/phone}\" title=\"{i18n&gt;detailTitle}\">\n\t\t<semantic:content></semantic:content>\n\t\t<semantic:messagesIndicator>\n\t\t\t<semantic:MessagesIndicator press=\"onMessagesButtonPress\"/>\n\t\t</semantic:messagesIndicator>\n\t\t<!--<semantic:saveAction>-->\n\t\t<!--\t<semantic:SaveAction id=\"save\" press=\"onSave\"/>-->\n\t\t<!--</semantic:saveAction>-->\n\t\t<!--<semantic:addAction>-->\n\t\t<!--\t<semantic:AddAction id=\"add\" press=\"onSaveAndAdd\" />-->\n\t\t<!--</semantic:addAction>-->\n\t\t<!--<semantic:cancelAction>-->\n\t\t<!--\t<semantic:CancelAction id=\"cancel\" press=\"onCancel\"/>-->\n\t\t<!--</semantic:cancelAction>-->\n\t</semantic:DetailPage>\n</mvc:View>",
		"colgate/asm/planning/base/util/ColumnCatalog.js": "sap.ui.define([\r\n\t\"colgate/asm/planning/base/model/formatter\"\r\n], function(formatter) {\r\n\t\"use strict\";\r\n\treturn {\r\n\t\tgetColumnCatalog: function(oContext) {\r\n\t\t\tvar oColumns = {\r\n\t\t\t\t\"ColumnCollection\": [{\r\n\t\t\t\t\t\"text\": oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"C_L_project\"),\r\n\t\t\t\t\t\"path\": \"Project>Name\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 0\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_type\"),\r\n\t\t\t\t\t\"path\": \"Project>ActivityTypeDesc\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 1\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_status\"),\r\n\t\t\t\t\t\"path\": \"Project>_statusDesc\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 69\r\n\t\t\t\t},  {\r\n\t\t\t\t\t\"text\": oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_id\"),\r\n\t\t\t\t\t\"path\": \"Project>Id\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 63\r\n\t\t\t\t},  {\r\n\t\t\t\t\t\"text\": oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_division\"),\r\n\t\t\t\t\t\"path\": \"Project>DivisionDesc\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 2\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_hub\"),\r\n\t\t\t\t\t\"path\": \"Project>HubDesc\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 3\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_sub\"),\r\n\t\t\t\t\t\"path\": \"Project>SubDesc\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 4\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"C_L_category\"),\r\n\t\t\t\t\t\"path\": \"Project>CategoryDesc\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 5\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_pscategory\"),\r\n\t\t\t\t\t\"path\": \"Project>SubcategoryDesc\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 6\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"C_L_brand\"),\r\n\t\t\t\t\t\"path\": \"Project>BrandDesc\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 7\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"C_L_subbrand\"),\r\n\t\t\t\t\t\"path\": \"Project>SubbrandDesc\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 8\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"C_L_priority\"),\r\n\t\t\t\t\t\"path\": \"Project>PriorityDesc\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 9\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_function\"),\r\n\t\t\t\t\t\"path\": \"Project>FunctionDesc\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 10\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_channel\"),\r\n\t\t\t\t\t\"path\": \"Project>ChannelDesc\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 11\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_longText\"),\r\n\t\t\t\t\t\"path\": \"Project>LongText\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 12\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_startDt\"),\r\n\t\t\t\t\t\"path\": \"Project>StartDt\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 13\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_endDt\"),\r\n\t\t\t\t\t\"path\": \"Project>EndDt\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 14\r\n\t\t\t\t}, \r\n\t\t\t\t// Begin of Commenting - Khrystyne Williams - Nov 2016\r\n\t\t\t\t// Maestro is no longer needed for this application   \r\n\t\t\t\t// {\r\n\t\t\t\t// \t\"text\": oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_maestroBrief\"),\r\n\t\t\t\t// \t\"path\": \"Project>MaestroBrief\",\r\n\t\t\t\t// \t\"visible\": true,\r\n\t\t\t\t// \t\"columnIndex\": 63\r\n\t\t\t\t// }, \r\n\t\t\t\t// End of Commenting - Khrystyne Williams - Nov 2016\r\n\t\t\t\t{\r\n\t\t\t\t\t\"text\": oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_agency\"),\r\n\t\t\t\t\t\"path\": \"Project>Agency\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 64\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_retailer\"),\r\n\t\t\t\t\t\"path\": \"Project>Retailer\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 65\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_costcenter\"),\r\n\t\t\t\t\t\"path\": \"Project>CostcenterDesc\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 66\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_glAccount\"),\r\n\t\t\t\t\t\"path\": \"Project>GlAccount\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 67\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_po\"),\r\n\t\t\t\t\t\"path\": \"Project>PO\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 68\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_btotals\"),\r\n\t\t\t\t\t\"path\": \"Project>AmtBTot\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 70\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_atotals\"),\r\n\t\t\t\t\t\"path\": \"Project>AmtATot\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 71\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_ctotals\"),\r\n\t\t\t\t\t\"path\": \"Project>AmtCTot\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 72\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_cbtotals\"),\r\n\t\t\t\t\t\"path\": \"Project>AmtCbTot\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 73\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_budget\"),\r\n\t\t\t\t\t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_jan\")),\r\n\t\t\t\t\t\"path\": \"Project>AmtB1\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 15\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_actuals\"),\r\n\t\t\t\t\t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_jan\")),\r\n\t\t\t\t\t\"path\": \"Project>AmtA1\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 16\r\n\t\t\t\t}, \r\n\t\t\t\t// {\r\n\t\t\t\t// \t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_committed\"),\r\n\t\t\t\t// \t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_jan\")),\r\n\t\t\t\t// \t\"path\": \"Project>AmtC1\",\r\n\t\t\t\t// \t\"visible\": true,\r\n\t\t\t\t// \t\"columnIndex\": 17\r\n\t\t\t\t// }, {\r\n\t\t\t\t// \t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_uncommitted\"),\r\n\t\t\t\t// \t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_jan\")),\r\n\t\t\t\t// \t\"path\": \"Project>AmtCb1\",\r\n\t\t\t\t// \t\"visible\": true,\r\n\t\t\t\t// \t\"columnIndex\": 18\r\n\t\t\t\t// }, \r\n\t\t\t\t{\r\n\t\t\t\t\t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_budget\"),\r\n\t\t\t\t\t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_feb\")),\r\n\t\t\t\t\t\"path\": \"Project>AmtB2\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 19\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_actuals\"),\r\n\t\t\t\t\t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_feb\")),\r\n\t\t\t\t\t\"path\": \"Project>AmtA2\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 20\r\n\t\t\t\t}, \r\n\t\t\t\t// {\r\n\t\t\t\t// \t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_committed\"),\r\n\t\t\t\t// \t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_feb\")),\r\n\t\t\t\t// \t\"path\": \"Project>AmtC2\",\r\n\t\t\t\t// \t\"visible\": true,\r\n\t\t\t\t// \t\"columnIndex\": 21\r\n\t\t\t\t// }, {\r\n\t\t\t\t// \t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_uncommitted\"),\r\n\t\t\t\t// \t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_feb\")),\r\n\t\t\t\t// \t\"path\": \"Project>AmtCb2\",\r\n\t\t\t\t// \t\"visible\": true,\r\n\t\t\t\t// \t\"columnIndex\": 22\r\n\t\t\t\t// }, \r\n\t\t\t\t{\r\n\t\t\t\t\t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_budget\"),\r\n\t\t\t\t\t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_mar\")),\r\n\t\t\t\t\t\"path\": \"Project>AmtB3\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 23\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_actuals\"),\r\n\t\t\t\t\t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_mar\")),\r\n\t\t\t\t\t\"path\": \"Project>AmtA3\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 24\r\n\t\t\t\t}, \r\n\t\t\t\t// {\r\n\t\t\t\t// \t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_committed\"),\r\n\t\t\t\t// \t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_mar\")),\r\n\t\t\t\t// \t\"path\": \"Project>AmtC3\",\r\n\t\t\t\t// \t\"visible\": true,\r\n\t\t\t\t// \t\"columnIndex\": 25\r\n\t\t\t\t// }, {\r\n\t\t\t\t// \t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_uncommitted\"),\r\n\t\t\t\t// \t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_mar\")),\r\n\t\t\t\t// \t\"path\": \"Project>AmtCb3\",\r\n\t\t\t\t// \t\"visible\": true,\r\n\t\t\t\t// \t\"columnIndex\": 26\r\n\t\t\t\t// }, \r\n\t\t\t\t{\r\n\t\t\t\t\t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_budget\"),\r\n\t\t\t\t\t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_apr\")),\r\n\t\t\t\t\t\"path\": \"Project>AmtB4\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 27\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_actuals\"),\r\n\t\t\t\t\t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_apr\")),\r\n\t\t\t\t\t\"path\": \"Project>AmtA4\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 28\r\n\t\t\t\t}, \r\n\t\t\t\t// {\r\n\t\t\t\t// \t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_committed\"),\r\n\t\t\t\t// \t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_apr\")),\r\n\t\t\t\t// \t\"path\": \"Project>AmtC4\",\r\n\t\t\t\t// \t\"visible\": true,\r\n\t\t\t\t// \t\"columnIndex\": 29\r\n\t\t\t\t// }, {\r\n\t\t\t\t// \t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_uncommitted\"),\r\n\t\t\t\t// \t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_apr\")),\r\n\t\t\t\t// \t\"path\": \"Project>AmtCb4\",\r\n\t\t\t\t// \t\"visible\": true,\r\n\t\t\t\t// \t\"columnIndex\": 30\r\n\t\t\t\t// }, \r\n\t\t\t\t{\r\n\t\t\t\t\t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_budget\"),\r\n\t\t\t\t\t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_may\")),\r\n\t\t\t\t\t\"path\": \"Project>AmtB5\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 31\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_actuals\"),\r\n\t\t\t\t\t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_may\")),\r\n\t\t\t\t\t\"path\": \"Project>AmtA5\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 32\r\n\t\t\t\t}, \r\n\t\t\t\t// {\r\n\t\t\t\t// \t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_committed\"),\r\n\t\t\t\t// \t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_may\")),\r\n\t\t\t\t// \t\"path\": \"Project>AmtC5\",\r\n\t\t\t\t// \t\"visible\": true,\r\n\t\t\t\t// \t\"columnIndex\": 33\r\n\t\t\t\t// }, {\r\n\t\t\t\t// \t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_uncommitted\"),\r\n\t\t\t\t// \t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_may\")),\r\n\t\t\t\t// \t\"path\": \"Project>AmtCb5\",\r\n\t\t\t\t// \t\"visible\": true,\r\n\t\t\t\t// \t\"columnIndex\": 34\r\n\t\t\t\t// }, \r\n\t\t\t\t{\r\n\t\t\t\t\t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_budget\"),\r\n\t\t\t\t\t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_jun\")),\r\n\t\t\t\t\t\"path\": \"Project>AmtB6\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 35\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_actuals\"),\r\n\t\t\t\t\t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_jun\")),\r\n\t\t\t\t\t\"path\": \"Project>AmtA6\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 36\r\n\t\t\t\t}, \r\n\t\t\t\t// {\r\n\t\t\t\t// \t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_committed\"),\r\n\t\t\t\t// \t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_jun\")),\r\n\t\t\t\t// \t\"path\": \"Project>AmtC6\",\r\n\t\t\t\t// \t\"visible\": true,\r\n\t\t\t\t// \t\"columnIndex\": 37\r\n\t\t\t\t// }, {\r\n\t\t\t\t// \t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_uncommitted\"),\r\n\t\t\t\t// \t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_jun\")),\r\n\t\t\t\t// \t\"path\": \"Project>AmtCb6\",\r\n\t\t\t\t// \t\"visible\": true,\r\n\t\t\t\t// \t\"columnIndex\": 38\r\n\t\t\t\t// }, \r\n\t\t\t\t{\r\n\t\t\t\t\t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_budget\"),\r\n\t\t\t\t\t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_jul\")),\r\n\t\t\t\t\t\"path\": \"Project>AmtB7\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 39\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_actuals\"),\r\n\t\t\t\t\t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_jul\")),\r\n\t\t\t\t\t\"path\": \"Project>AmtA7\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 40\r\n\t\t\t\t}, \r\n\t\t\t\t// {\r\n\t\t\t\t// \t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_committed\"),\r\n\t\t\t\t// \t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_jul\")),\r\n\t\t\t\t// \t\"path\": \"Project>AmtC7\",\r\n\t\t\t\t// \t\"visible\": true,\r\n\t\t\t\t// \t\"columnIndex\": 41\r\n\t\t\t\t// }, {\r\n\t\t\t\t// \t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_uncommitted\"),\r\n\t\t\t\t// \t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_jul\")),\r\n\t\t\t\t// \t\"path\": \"Project>AmtCb7\",\r\n\t\t\t\t// \t\"visible\": true,\r\n\t\t\t\t// \t\"columnIndex\": 42\r\n\t\t\t\t// }, \r\n\t\t\t\t{\r\n\t\t\t\t\t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_budget\"),\r\n\t\t\t\t\t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_aug\")),\r\n\t\t\t\t\t\"path\": \"Project>AmtB8\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 43\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_actuals\"),\r\n\t\t\t\t\t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_aug\")),\r\n\t\t\t\t\t\"path\": \"Project>AmtA8\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 44\r\n\t\t\t\t}, \r\n\t\t\t\t// {\r\n\t\t\t\t// \t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_committed\"),\r\n\t\t\t\t// \t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_aug\")),\r\n\t\t\t\t// \t\"path\": \"Project>AmtC8\",\r\n\t\t\t\t// \t\"visible\": true,\r\n\t\t\t\t// \t\"columnIndex\": 45\r\n\t\t\t\t// }, {\r\n\t\t\t\t// \t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_uncommitted\"),\r\n\t\t\t\t// \t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_aug\")),\r\n\t\t\t\t// \t\"path\": \"Project>AmtCb8\",\r\n\t\t\t\t// \t\"visible\": true,\r\n\t\t\t\t// \t\"columnIndex\": 46\r\n\t\t\t\t// }, \r\n\t\t\t\t{\r\n\t\t\t\t\t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_budget\"),\r\n\t\t\t\t\t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_sep\")),\r\n\t\t\t\t\t\"path\": \"Project>AmtB9\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 47\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_actuals\"),\r\n\t\t\t\t\t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_sep\")),\r\n\t\t\t\t\t\"path\": \"Project>AmtA9\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 48\r\n\t\t\t\t}, \r\n\t\t\t\t// {\r\n\t\t\t\t// \t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_committed\"),\r\n\t\t\t\t// \t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_sep\")),\r\n\t\t\t\t// \t\"path\": \"Project>AmtC9\",\r\n\t\t\t\t// \t\"visible\": true,\r\n\t\t\t\t// \t\"columnIndex\": 49\r\n\t\t\t\t// }, {\r\n\t\t\t\t// \t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_uncommitted\"),\r\n\t\t\t\t// \t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_sep\")),\r\n\t\t\t\t// \t\"path\": \"Project>AmtCb9\",\r\n\t\t\t\t// \t\"visible\": true,\r\n\t\t\t\t// \t\"columnIndex\": 50\r\n\t\t\t\t// }, \r\n\t\t\t\t{\r\n\t\t\t\t\t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_budget\"),\r\n\t\t\t\t\t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_oct\")),\r\n\t\t\t\t\t\"path\": \"Project>AmtB10\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 51\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_actuals\"),\r\n\t\t\t\t\t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_oct\")),\r\n\t\t\t\t\t\"path\": \"Project>AmtA10\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 52\r\n\t\t\t\t}, \r\n\t\t\t\t// {\r\n\t\t\t\t// \t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_committed\"),\r\n\t\t\t\t// \t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_oct\")),\r\n\t\t\t\t// \t\"path\": \"Project>AmtC10\",\r\n\t\t\t\t// \t\"visible\": true,\r\n\t\t\t\t// \t\"columnIndex\": 53\r\n\t\t\t\t// }, {\r\n\t\t\t\t// \t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_uncommitted\"),\r\n\t\t\t\t// \t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_oct\")),\r\n\t\t\t\t// \t\"path\": \"Project>AmtCb10\",\r\n\t\t\t\t// \t\"visible\": true,\r\n\t\t\t\t// \t\"columnIndex\": 54\r\n\t\t\t\t// }, \r\n\t\t\t\t{\r\n\t\t\t\t\t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_budget\"),\r\n\t\t\t\t\t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_nov\")),\r\n\t\t\t\t\t\"path\": \"Project>AmtB11\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 55\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_actuals\"),\r\n\t\t\t\t\t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_nov\")),\r\n\t\t\t\t\t\"path\": \"Project>AmtA11\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 56\r\n\t\t\t\t}, \r\n\t\t\t\t// {\r\n\t\t\t\t// \t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_committed\"),\r\n\t\t\t\t// \t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_nov\")),\r\n\t\t\t\t// \t\"path\": \"Project>AmtC11\",\r\n\t\t\t\t// \t\"visible\": true,\r\n\t\t\t\t// \t\"columnIndex\": 57\r\n\t\t\t\t// }, {\r\n\t\t\t\t// \t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_uncommitted\"),\r\n\t\t\t\t// \t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_nov\")),\r\n\t\t\t\t// \t\"path\": \"Project>AmtCb11\",\r\n\t\t\t\t// \t\"visible\": true,\r\n\t\t\t\t// \t\"columnIndex\": 58\r\n\t\t\t\t// }, \r\n\t\t\t\t{\r\n\t\t\t\t\t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_budget\"),\r\n\t\t\t\t\t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_dec\")),\r\n\t\t\t\t\t\"path\": \"Project>AmtB12\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 59\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_actuals\"),\r\n\t\t\t\t\t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_dec\")),\r\n\t\t\t\t\t\"path\": \"Project>AmtA12\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 60\r\n\t\t\t\t}, \r\n\t\t\t\t// {\r\n\t\t\t\t// \t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_committed\"),\r\n\t\t\t\t// \t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_dec\")),\r\n\t\t\t\t// \t\"path\": \"Project>AmtC12\",\r\n\t\t\t\t// \t\"visible\": true,\r\n\t\t\t\t// \t\"columnIndex\": 61\r\n\t\t\t\t// }, {\r\n\t\t\t\t// \t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_uncommitted\"),\r\n\t\t\t\t// \t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_dec\")),\r\n\t\t\t\t// \t\"path\": \"Project>AmtCb12\",\r\n\t\t\t\t// \t\"visible\": true,\r\n\t\t\t\t// \t\"columnIndex\": 62\r\n\t\t\t\t// },\r\n\t\t\t\t// {\r\n\t\t\t\t// \t\"text\": oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_createdBy\"),\r\n\t\t\t\t// \t\"path\": \"Project>CreatedBy\",\r\n\t\t\t\t// \t\"visible\": true,\r\n\t\t\t\t// \t\"columnIndex\": 74\r\n\t\t\t\t// }, \r\n\t\t\t\t{\r\n\t\t\t\t\t\"text\": oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_createdByName\"),\r\n\t\t\t\t\t\"path\": \"Project>CreatedByName\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 75\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_createdTime\"),\r\n\t\t\t\t\t\"path\": \"Project>CreatedTime\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 76\r\n\t\t\t\t}, \r\n\t\t\t\t// {\r\n\t\t\t\t// \t\"text\": oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_changedBy\"),\r\n\t\t\t\t// \t\"path\": \"Project>ChangedBy\",\r\n\t\t\t\t// \t\"visible\": true,\r\n\t\t\t\t// \t\"columnIndex\": 77\r\n\t\t\t\t// },\r\n\t\t\t\t{\r\n\t\t\t\t\t\"text\": oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_changedByName\"),\r\n\t\t\t\t\t\"path\": \"Project>ChangedByName\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 78\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_changedTime\"),\r\n\t\t\t\t\t\"path\": \"Project>ChangedTime\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 79\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_maxc\"),\r\n\t\t\t\t\t\"path\": \"Project>MaxValueC\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 82\r\n\t\t\t\t},  {\r\n\t\t\t\t\t\"text\": oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_maxb\"),\r\n\t\t\t\t\t\"path\": \"Project>MaxValueB\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 80\r\n\t\t\t\t},\r\n\t\t\t\t// {\r\n\t\t\t\t// \t\"text\": oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_maxa\"),\r\n\t\t\t\t// \t\"path\": \"Project>MaxValueA\",\r\n\t\t\t\t// \t\"visible\": true,\r\n\t\t\t\t// \t\"columnIndex\": 81\r\n\t\t\t\t// }, \r\n\t\t\t\t// {\r\n\t\t\t\t// \t\"text\": oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_bototals\"),\r\n\t\t\t\t// \t\"path\": \"Project>AmtBoTot\",\r\n\t\t\t\t// \t\"visible\": true,\r\n\t\t\t\t// \t\"columnIndex\": 110\r\n\t\t\t\t// },\r\n\t\t\t\t// {\r\n\t\t\t\t// \t\"text\": oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_maxcb\"),\r\n\t\t\t\t// \t\"path\": \"Project>MaxValueCb\",\r\n\t\t\t\t// \t\"visible\": true,\r\n\t\t\t\t// \t\"columnIndex\": 83\r\n\t\t\t\t// }, \r\n\t\t\t\t// {\r\n\t\t\t\t// \t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_le\"),\r\n\t\t\t\t// \t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_jan\")),\r\n\t\t\t\t// \t\"path\": \"Project>AmtLe1\",\r\n\t\t\t\t// \t\"visible\": true,\r\n\t\t\t\t// \t\"columnIndex\": 84\r\n\t\t\t\t// }, {\r\n\t\t\t\t// \t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_le\"),\r\n\t\t\t\t// \t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_feb\")),\r\n\t\t\t\t// \t\"path\": \"Project>AmtLe2\",\r\n\t\t\t\t// \t\"visible\": true,\r\n\t\t\t\t// \t\"columnIndex\": 85\r\n\t\t\t\t// }, {\r\n\t\t\t\t// \t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_le\"),\r\n\t\t\t\t// \t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_mar\")),\r\n\t\t\t\t// \t\"path\": \"Project>AmtLe3\",\r\n\t\t\t\t// \t\"visible\": true,\r\n\t\t\t\t// \t\"columnIndex\": 86\r\n\t\t\t\t// }, {\r\n\t\t\t\t// \t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_le\"),\r\n\t\t\t\t// \t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_apr\")),\r\n\t\t\t\t// \t\"path\": \"Project>AmtLe4\",\r\n\t\t\t\t// \t\"visible\": true,\r\n\t\t\t\t// \t\"columnIndex\": 87\r\n\t\t\t\t// }, {\r\n\t\t\t\t// \t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_le\"),\r\n\t\t\t\t// \t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_may\")),\r\n\t\t\t\t// \t\"path\": \"Project>AmtLe5\",\r\n\t\t\t\t// \t\"visible\": true,\r\n\t\t\t\t// \t\"columnIndex\": 88\r\n\t\t\t\t// }, {\r\n\t\t\t\t// \t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_le\"),\r\n\t\t\t\t// \t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_jun\")),\r\n\t\t\t\t// \t\"path\": \"Project>AmtLe6\",\r\n\t\t\t\t// \t\"visible\": true,\r\n\t\t\t\t// \t\"columnIndex\": 89\r\n\t\t\t\t// }, {\r\n\t\t\t\t// \t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_le\"),\r\n\t\t\t\t// \t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_jul\")),\r\n\t\t\t\t// \t\"path\": \"Project>AmtLe7\",\r\n\t\t\t\t// \t\"visible\": true,\r\n\t\t\t\t// \t\"columnIndex\": 90\r\n\t\t\t\t// }, {\r\n\t\t\t\t// \t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_le\"),\r\n\t\t\t\t// \t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_aug\")),\r\n\t\t\t\t// \t\"path\": \"Project>AmtLe8\",\r\n\t\t\t\t// \t\"visible\": true,\r\n\t\t\t\t// \t\"columnIndex\": 91\r\n\t\t\t\t// }, {\r\n\t\t\t\t// \t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_le\"),\r\n\t\t\t\t// \t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_sep\")),\r\n\t\t\t\t// \t\"path\": \"Project>AmtLe9\",\r\n\t\t\t\t// \t\"visible\": true,\r\n\t\t\t\t// \t\"columnIndex\": 92\r\n\t\t\t\t// }, {\r\n\t\t\t\t// \t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_le\"),\r\n\t\t\t\t// \t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_oct\")),\r\n\t\t\t\t// \t\"path\": \"Project>AmtLe10\",\r\n\t\t\t\t// \t\"visible\": true,\r\n\t\t\t\t// \t\"columnIndex\": 93\r\n\t\t\t\t// }, {\r\n\t\t\t\t// \t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_le\"),\r\n\t\t\t\t// \t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_nov\")),\r\n\t\t\t\t// \t\"path\": \"Project>AmtLe11\",\r\n\t\t\t\t// \t\"visible\": true,\r\n\t\t\t\t// \t\"columnIndex\": 94\r\n\t\t\t\t// }, {\r\n\t\t\t\t// \t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_le\"),\r\n\t\t\t\t// \t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_dec\")),\r\n\t\t\t\t// \t\"path\": \"Project>AmtLe12\",\r\n\t\t\t\t// \t\"visible\": true,\r\n\t\t\t\t// \t\"columnIndex\": 95\r\n\t\t\t\t// }, \r\n\t\t\t\t// Begin of Changes - Khrystyne Williams - Nov 2016\r\n\t\t\t\t// {\r\n\t\t\t\t// \t\"text\": oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_maxbo\"),\r\n\t\t\t\t// \t\"path\": \"Project>MaxValueBo\",\r\n\t\t\t\t// \t\"visible\": true,\r\n\t\t\t\t// \t\"columnIndex\": 111\r\n\t\t\t\t// }, \r\n\t\t\t\t// End of Changes - Khrystyne Williams - Nov 2016\r\n\t\t\t\t// {\r\n\t\t\t\t// \t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_bo\"),\r\n\t\t\t\t// \t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_jan\")),\r\n\t\t\t\t// \t\"path\": \"Project>AmtBo1\",\r\n\t\t\t\t// \t\"visible\": true,\r\n\t\t\t\t// \t\"columnIndex\": 98\r\n\t\t\t\t// }, {\r\n\t\t\t\t// \t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_bo\"),\r\n\t\t\t\t// \t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_feb\")),\r\n\t\t\t\t// \t\"path\": \"Project>AmtBo2\",\r\n\t\t\t\t// \t\"visible\": true,\r\n\t\t\t\t// \t\"columnIndex\": 99\r\n\t\t\t\t// }, {\r\n\t\t\t\t// \t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_bo\"),\r\n\t\t\t\t// \t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_mar\")),\r\n\t\t\t\t// \t\"path\": \"Project>AmtBo3\",\r\n\t\t\t\t// \t\"visible\": true,\r\n\t\t\t\t// \t\"columnIndex\": 100\r\n\t\t\t\t// }, {\r\n\t\t\t\t// \t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_bo\"),\r\n\t\t\t\t// \t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_apr\")),\r\n\t\t\t\t// \t\"path\": \"Project>AmtBo4\",\r\n\t\t\t\t// \t\"visible\": true,\r\n\t\t\t\t// \t\"columnIndex\": 101\r\n\t\t\t\t// }, {\r\n\t\t\t\t// \t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_bo\"),\r\n\t\t\t\t// \t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_may\")),\r\n\t\t\t\t// \t\"path\": \"Project>AmtBo5\",\r\n\t\t\t\t// \t\"visible\": true,\r\n\t\t\t\t// \t\"columnIndex\": 102\r\n\t\t\t\t// }, {\r\n\t\t\t\t// \t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_bo\"),\r\n\t\t\t\t// \t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_jun\")),\r\n\t\t\t\t// \t\"path\": \"Project>AmtBo6\",\r\n\t\t\t\t// \t\"visible\": true,\r\n\t\t\t\t// \t\"columnIndex\": 103\r\n\t\t\t\t// }, {\r\n\t\t\t\t// \t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_bo\"),\r\n\t\t\t\t// \t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_jul\")),\r\n\t\t\t\t// \t\"path\": \"Project>AmtBo7\",\r\n\t\t\t\t// \t\"visible\": true,\r\n\t\t\t\t// \t\"columnIndex\": 104\r\n\t\t\t\t// }, {\r\n\t\t\t\t// \t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_bo\"),\r\n\t\t\t\t// \t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_aug\")),\r\n\t\t\t\t// \t\"path\": \"Project>AmtBo8\",\r\n\t\t\t\t// \t\"visible\": true,\r\n\t\t\t\t// \t\"columnIndex\": 105\r\n\t\t\t\t// }, {\r\n\t\t\t\t// \t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_bo\"),\r\n\t\t\t\t// \t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_sep\")),\r\n\t\t\t\t// \t\"path\": \"Project>AmtBo9\",\r\n\t\t\t\t// \t\"visible\": true,\r\n\t\t\t\t// \t\"columnIndex\": 106\r\n\t\t\t\t// }, {\r\n\t\t\t\t// \t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_bo\"),\r\n\t\t\t\t// \t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_oct\")),\r\n\t\t\t\t// \t\"path\": \"Project>AmtBo10\",\r\n\t\t\t\t// \t\"visible\": true,\r\n\t\t\t\t// \t\"columnIndex\": 107\r\n\t\t\t\t// }, {\r\n\t\t\t\t// \t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_bo\"),\r\n\t\t\t\t// \t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_nov\")),\r\n\t\t\t\t// \t\"path\": \"Project>AmtBo11\",\r\n\t\t\t\t// \t\"visible\": true,\r\n\t\t\t\t// \t\"columnIndex\": 108\r\n\t\t\t\t// }, {\r\n\t\t\t\t// \t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_bo\"),\r\n\t\t\t\t// \t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_dec\")),\r\n\t\t\t\t// \t\"path\": \"Project>AmtBo12\",\r\n\t\t\t\t// \t\"visible\": true,\r\n\t\t\t\t// \t\"columnIndex\": 109\r\n\t\t\t\t// }, \r\n\t\t\t\t{\r\n\t\t\t\t\t\"text\": oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_letotals\"),\r\n\t\t\t\t\t\"path\": \"Project>AmtLeTot\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 96\r\n\t\t\t\t}, \r\n\t\t\t\t// {\r\n\t\t\t\t// \t\"text\": oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_maxle\"),\r\n\t\t\t\t// \t\"path\": \"Project>MaxValueLe\",\r\n\t\t\t\t// \t\"visible\": true,\r\n\t\t\t\t// \t\"columnIndex\": 97\r\n\t\t\t\t// },\r\n\t\t\t\t{\r\n\t\t\t\t\t\"text\": oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_demo\"),\r\n\t\t\t\t\t\"path\": \"Project>DemographicsDesc\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 112\r\n\t\t\t\t}],\r\n\t\t\t\t\"SortItems\": [{\r\n\t\t\t\t\t\"columnKey\": \"Project>Name\",\r\n\t\t\t\t\t\"operation\": \"Ascending\"\r\n\t\t\t\t}],\r\n\t\t\t\t\"FilterItems\": [],\r\n\t\t\t\t\"FixedColumnConfig\": [{\r\n\t\t\t\t\t\"text\": oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"C_L_project\"),\r\n\t\t\t\t\t\"path\": \"Project>Name\",\r\n\t\t\t\t\t// Begin of Changes - Khrystyne Williams - Nov 2016\r\n\t\t\t\t\t// \"width\": \"18rem\",\r\n\t\t\t\t\t\"width\": \"22rem\",\r\n\t\t\t\t\t// End of Changes - Khrystyne Williams - Nov 2016\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 0\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_type\"),\r\n\t\t\t\t\t\"path\": \"Project>ActivityTypeDesc\",\r\n\t\t\t\t\t\"width\": \"10rem\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 1\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_division\"),\r\n\t\t\t\t\t\"path\": \"Project>DivisionDesc\",\r\n\t\t\t\t\t\"width\": \"8rem\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 2\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_hub\"),\r\n\t\t\t\t\t\"path\": \"Project>HubDesc\",\r\n\t\t\t\t\t\"width\": \"8rem\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 3\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_sub\"),\r\n\t\t\t\t\t\"path\": \"Project>SubDesc\",\r\n\t\t\t\t\t\"width\": \"8rem\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 4\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"C_L_category\"),\r\n\t\t\t\t\t\"path\": \"Project>CategoryDesc\",\r\n\t\t\t\t\t\"width\": \"8rem\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 5\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_pscategory\"),\r\n\t\t\t\t\t\"path\": \"Project>SubcategoryDesc\",\r\n\t\t\t\t\t\"width\": \"10rem\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 6\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"C_L_brand\"),\r\n\t\t\t\t\t\"path\": \"Project>BrandDesc\",\r\n\t\t\t\t\t\"width\": \"10rem\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 7\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"C_L_subbrand\"),\r\n\t\t\t\t\t\"path\": \"Project>SubbrandDesc\",\r\n\t\t\t\t\t\"width\": \"10rem\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 8\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"C_L_priority\"),\r\n\t\t\t\t\t\"path\": \"Project>PriorityDesc\",\r\n\t\t\t\t\t\"width\": \"12rem\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 9\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_function\"),\r\n\t\t\t\t\t\"path\": \"Project>FunctionDesc\",\r\n\t\t\t\t\t\"width\": \"12rem\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 10\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_channel\"),\r\n\t\t\t\t\t\"path\": \"Project>ChannelDesc\",\r\n\t\t\t\t\t\"width\": \"12rem\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 11\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_longText\"),\r\n\t\t\t\t\t\"path\": \"Project>LongText\",\r\n\t\t\t\t\t\"width\": \"12rem\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 12\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_startDt\"),\r\n\t\t\t\t\t\"path\": \"Project>StartDt\",\r\n\t\t\t\t\t\"width\": \"6rem\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 13\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_endDt\"),\r\n\t\t\t\t\t\"path\": \"Project>EndDt\",\r\n\t\t\t\t\t\"width\": \"6rem\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 14\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_budget\"),\r\n\t\t\t\t\t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_jan\")),\r\n\t\t\t\t\t\"path\": \"Project>AmtB1\",\r\n\t\t\t\t\t\"width\": \"7rem\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 15\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_actuals\"),\r\n\t\t\t\t\t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_jan\")),\r\n\t\t\t\t\t\"path\": \"Project>AmtA1\",\r\n\t\t\t\t\t\"width\": \"7rem\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 16\r\n\t\t\t\t}, \r\n\t\t\t\t{\r\n\t\t\t\t\t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_committed\"),\r\n\t\t\t\t\t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_jan\")),\r\n\t\t\t\t\t\"path\": \"Project>AmtC1\",\r\n\t\t\t\t\t\"width\": \"7rem\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 17\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_uncommitted\"),\r\n\t\t\t\t\t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_jan\")),\r\n\t\t\t\t\t\"path\": \"Project>AmtCb1\",\r\n\t\t\t\t\t\"width\": \"7rem\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 18\r\n\t\t\t\t}, \r\n\t\t\t\t{\r\n\t\t\t\t\t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_budget\"),\r\n\t\t\t\t\t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_feb\")),\r\n\t\t\t\t\t\"path\": \"Project>AmtB2\",\r\n\t\t\t\t\t\"width\": \"7rem\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 19\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_actuals\"),\r\n\t\t\t\t\t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_feb\")),\r\n\t\t\t\t\t\"path\": \"Project>AmtA2\",\r\n\t\t\t\t\t\"width\": \"7rem\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 20\r\n\t\t\t\t}, \r\n\t\t\t\t{\r\n\t\t\t\t\t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_committed\"),\r\n\t\t\t\t\t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_feb\")),\r\n\t\t\t\t\t\"path\": \"Project>AmtC2\",\r\n\t\t\t\t\t\"width\": \"7rem\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 21\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_uncommitted\"),\r\n\t\t\t\t\t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_feb\")),\r\n\t\t\t\t\t\"path\": \"Project>AmtCb2\",\r\n\t\t\t\t\t\"width\": \"7rem\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 22\r\n\t\t\t\t}, \r\n\t\t\t\t{\r\n\t\t\t\t\t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_budget\"),\r\n\t\t\t\t\t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_mar\")),\r\n\t\t\t\t\t\"path\": \"Project>AmtB3\",\r\n\t\t\t\t\t\"width\": \"7rem\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 23\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_actuals\"),\r\n\t\t\t\t\t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_mar\")),\r\n\t\t\t\t\t\"path\": \"Project>AmtA3\",\r\n\t\t\t\t\t\"width\": \"7rem\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 24\r\n\t\t\t\t}, \r\n\t\t\t\t{\r\n\t\t\t\t\t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_committed\"),\r\n\t\t\t\t\t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_mar\")),\r\n\t\t\t\t\t\"path\": \"Project>AmtC3\",\r\n\t\t\t\t\t\"width\": \"7rem\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 25\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_uncommitted\"),\r\n\t\t\t\t\t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_mar\")),\r\n\t\t\t\t\t\"path\": \"Project>AmtCb3\",\r\n\t\t\t\t\t\"width\": \"7rem\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 26\r\n\t\t\t\t}, \r\n\t\t\t\t{\r\n\t\t\t\t\t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_budget\"),\r\n\t\t\t\t\t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_apr\")),\r\n\t\t\t\t\t\"path\": \"Project>AmtB4\",\r\n\t\t\t\t\t\"width\": \"7rem\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 27\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_actuals\"),\r\n\t\t\t\t\t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_apr\")),\r\n\t\t\t\t\t\"path\": \"Project>AmtA4\",\r\n\t\t\t\t\t\"width\": \"7rem\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 28\r\n\t\t\t\t}, \r\n\t\t\t\t{\r\n\t\t\t\t\t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_committed\"),\r\n\t\t\t\t\t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_apr\")),\r\n\t\t\t\t\t\"path\": \"Project>AmtC4\",\r\n\t\t\t\t\t\"width\": \"7rem\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 29\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_uncommitted\"),\r\n\t\t\t\t\t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_apr\")),\r\n\t\t\t\t\t\"path\": \"Project>AmtCb4\",\r\n\t\t\t\t\t\"width\": \"7rem\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 30\r\n\t\t\t\t}, \r\n\t\t\t\t{\r\n\t\t\t\t\t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_budget\"),\r\n\t\t\t\t\t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_may\")),\r\n\t\t\t\t\t\"path\": \"Project>AmtB5\",\r\n\t\t\t\t\t\"width\": \"7rem\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 31\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_actuals\"),\r\n\t\t\t\t\t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_may\")),\r\n\t\t\t\t\t\"path\": \"Project>AmtA5\",\r\n\t\t\t\t\t\"width\": \"7rem\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 32\r\n\t\t\t\t}, \r\n\t\t\t\t{\r\n\t\t\t\t\t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_committed\"),\r\n\t\t\t\t\t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_may\")),\r\n\t\t\t\t\t\"path\": \"Project>AmtC5\",\r\n\t\t\t\t\t\"width\": \"7rem\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 33\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_uncommitted\"),\r\n\t\t\t\t\t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_may\")),\r\n\t\t\t\t\t\"path\": \"Project>AmtCb5\",\r\n\t\t\t\t\t\"width\": \"7rem\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 34\r\n\t\t\t\t}, \r\n\t\t\t\t{\r\n\t\t\t\t\t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_budget\"),\r\n\t\t\t\t\t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_jun\")),\r\n\t\t\t\t\t\"path\": \"Project>AmtB6\",\r\n\t\t\t\t\t\"width\": \"7rem\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 35\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_actuals\"),\r\n\t\t\t\t\t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_jun\")),\r\n\t\t\t\t\t\"path\": \"Project>AmtA6\",\r\n\t\t\t\t\t\"width\": \"7rem\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 36\r\n\t\t\t\t}, \r\n\t\t\t\t{\r\n\t\t\t\t\t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_committed\"),\r\n\t\t\t\t\t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_jun\")),\r\n\t\t\t\t\t\"path\": \"Project>AmtC6\",\r\n\t\t\t\t\t\"width\": \"7rem\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 37\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_uncommitted\"),\r\n\t\t\t\t\t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_jun\")),\r\n\t\t\t\t\t\"path\": \"Project>AmtCb6\",\r\n\t\t\t\t\t\"width\": \"7rem\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 38\r\n\t\t\t\t}, \r\n\t\t\t\t{\r\n\t\t\t\t\t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_budget\"),\r\n\t\t\t\t\t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_jul\")),\r\n\t\t\t\t\t\"path\": \"Project>AmtB7\",\r\n\t\t\t\t\t\"width\": \"7rem\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 39\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_actuals\"),\r\n\t\t\t\t\t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_jul\")),\r\n\t\t\t\t\t\"path\": \"Project>AmtA7\",\r\n\t\t\t\t\t\"width\": \"7rem\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 40\r\n\t\t\t\t}, \r\n\t\t\t\t{\r\n\t\t\t\t\t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_committed\"),\r\n\t\t\t\t\t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_jul\")),\r\n\t\t\t\t\t\"path\": \"Project>AmtC7\",\r\n\t\t\t\t\t\"width\": \"7rem\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 41\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_uncommitted\"),\r\n\t\t\t\t\t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_jul\")),\r\n\t\t\t\t\t\"path\": \"Project>AmtCb7\",\r\n\t\t\t\t\t\"width\": \"7rem\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 42\r\n\t\t\t\t}, \r\n\t\t\t\t{\r\n\t\t\t\t\t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_budget\"),\r\n\t\t\t\t\t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_aug\")),\r\n\t\t\t\t\t\"path\": \"Project>AmtB8\",\r\n\t\t\t\t\t\"width\": \"7rem\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 43\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_actuals\"),\r\n\t\t\t\t\t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_aug\")),\r\n\t\t\t\t\t\"path\": \"Project>AmtA8\",\r\n\t\t\t\t\t\"width\": \"7rem\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 44\r\n\t\t\t\t}, \r\n\t\t\t\t{\r\n\t\t\t\t\t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_committed\"),\r\n\t\t\t\t\t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_aug\")),\r\n\t\t\t\t\t\"path\": \"Project>AmtC8\",\r\n\t\t\t\t\t\"width\": \"7rem\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 45\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_uncommitted\"),\r\n\t\t\t\t\t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_aug\")),\r\n\t\t\t\t\t\"path\": \"Project>AmtCb8\",\r\n\t\t\t\t\t\"width\": \"7rem\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 46\r\n\t\t\t\t}, \r\n\t\t\t\t{\r\n\t\t\t\t\t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_budget\"),\r\n\t\t\t\t\t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_sep\")),\r\n\t\t\t\t\t\"path\": \"Project>AmtB9\",\r\n\t\t\t\t\t\"width\": \"7rem\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 47\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_actuals\"),\r\n\t\t\t\t\t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_sep\")),\r\n\t\t\t\t\t\"path\": \"Project>AmtA9\",\r\n\t\t\t\t\t\"width\": \"7rem\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 48\r\n\t\t\t\t}, \r\n\t\t\t\t{\r\n\t\t\t\t\t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_committed\"),\r\n\t\t\t\t\t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_sep\")),\r\n\t\t\t\t\t\"path\": \"Project>AmtC9\",\r\n\t\t\t\t\t\"width\": \"7rem\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 49\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_uncommitted\"),\r\n\t\t\t\t\t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_sep\")),\r\n\t\t\t\t\t\"path\": \"Project>AmtCb9\",\r\n\t\t\t\t\t\"width\": \"7rem\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 50\r\n\t\t\t\t}, \r\n\t\t\t\t{\r\n\t\t\t\t\t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_budget\"),\r\n\t\t\t\t\t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_oct\")),\r\n\t\t\t\t\t\"path\": \"Project>AmtB10\",\r\n\t\t\t\t\t\"width\": \"7rem\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 51\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_actuals\"),\r\n\t\t\t\t\t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_oct\")),\r\n\t\t\t\t\t\"path\": \"Project>AmtA10\",\r\n\t\t\t\t\t\"width\": \"7rem\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 52\r\n\t\t\t\t}, \r\n\t\t\t\t{\r\n\t\t\t\t\t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_committed\"),\r\n\t\t\t\t\t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_oct\")),\r\n\t\t\t\t\t\"path\": \"Project>AmtC10\",\r\n\t\t\t\t\t\"width\": \"7rem\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 53\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_uncommitted\"),\r\n\t\t\t\t\t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_oct\")),\r\n\t\t\t\t\t\"path\": \"Project>AmtCb10\",\r\n\t\t\t\t\t\"width\": \"7rem\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 54\r\n\t\t\t\t}, \r\n\t\t\t\t{\r\n\t\t\t\t\t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_budget\"),\r\n\t\t\t\t\t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_nov\")),\r\n\t\t\t\t\t\"path\": \"Project>AmtB11\",\r\n\t\t\t\t\t\"width\": \"7rem\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 55\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_actuals\"),\r\n\t\t\t\t\t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_nov\")),\r\n\t\t\t\t\t\"path\": \"Project>AmtA11\",\r\n\t\t\t\t\t\"width\": \"7rem\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 56\r\n\t\t\t\t}, \r\n\t\t\t\t{\r\n\t\t\t\t\t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_committed\"),\r\n\t\t\t\t\t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_nov\")),\r\n\t\t\t\t\t\"path\": \"Project>AmtC11\",\r\n\t\t\t\t\t\"width\": \"7rem\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 57\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_uncommitted\"),\r\n\t\t\t\t\t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_nov\")),\r\n\t\t\t\t\t\"path\": \"Project>AmtCb11\",\r\n\t\t\t\t\t\"width\": \"7rem\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 58\r\n\t\t\t\t}, \r\n\t\t\t\t{\r\n\t\t\t\t\t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_budget\"),\r\n\t\t\t\t\t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_dec\")),\r\n\t\t\t\t\t\"path\": \"Project>AmtB12\",\r\n\t\t\t\t\t\"width\": \"7rem\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 59\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_actuals\"),\r\n\t\t\t\t\t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_dec\")),\r\n\t\t\t\t\t\"path\": \"Project>AmtA12\",\r\n\t\t\t\t\t\"width\": \"7rem\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 60\r\n\t\t\t\t}, \r\n\t\t\t\t{\r\n\t\t\t\t\t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_committed\"),\r\n\t\t\t\t\t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_dec\")),\r\n\t\t\t\t\t\"path\": \"Project>AmtC12\",\r\n\t\t\t\t\t\"width\": \"7rem\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 61\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_uncommitted\"),\r\n\t\t\t\t\t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_dec\")),\r\n\t\t\t\t\t\"path\": \"Project>AmtCb12\",\r\n\t\t\t\t\t\"width\": \"7rem\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 62\r\n\t\t\t\t}, \r\n\t\t\t\t{\r\n\t\t\t\t\t\"text\": oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_id\"),\r\n\t\t\t\t\t\"path\": \"Project>Id\",\r\n\t\t\t\t\t\"width\": \"8rem\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 63\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t\"text\": oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_agency\"),\r\n\t\t\t\t\t\"path\": \"Project>Agency\",\r\n\t\t\t\t\t\"width\": \"10rem\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 64\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_retailer\"),\r\n\t\t\t\t\t\"path\": \"Project>Retailer\",\r\n\t\t\t\t\t\"width\": \"10rem\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 65\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_costcenter\"),\r\n\t\t\t\t\t\"path\": \"Project>CostcenterDesc\",\r\n\t\t\t\t\t\"width\": \"10rem\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 66\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_glAccount\"),\r\n\t\t\t\t\t\"path\": \"Project>GlAccount\",\r\n\t\t\t\t\t\"width\": \"10rem\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 67\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_po\"),\r\n\t\t\t\t\t\"path\": \"Project>PO\",\r\n\t\t\t\t\t\"width\": \"10rem\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 68\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_status\"),\r\n\t\t\t\t\t\"path\": \"Project>_statusDesc\",\r\n\t\t\t\t\t\"width\": \"10rem\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 69\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_btotals\"),\r\n\t\t\t\t\t\"path\": \"Project>AmtBTot\",\r\n\t\t\t\t\t\"width\": \"7rem\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 70\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_atotals\"),\r\n\t\t\t\t\t\"path\": \"Project>AmtATot\",\r\n\t\t\t\t\t\"width\": \"7rem\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 71\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_ctotals\"),\r\n\t\t\t\t\t\"path\": \"Project>AmtCTot\",\r\n\t\t\t\t\t\"width\": \"7rem\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 72\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_cbtotals\"),\r\n\t\t\t\t\t\"path\": \"Project>AmtCbTot\",\r\n\t\t\t\t\t\"width\": \"7rem\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 73\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_createdBy\"),\r\n\t\t\t\t\t\"path\": \"Project>CreatedBy\",\r\n\t\t\t\t\t\"width\": \"7rem\",\r\n\t\t\t\t\t\"visible\": false,\r\n\t\t\t\t\t\"columnIndex\": 74\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_createdByName\"),\r\n\t\t\t\t\t\"path\": \"Project>CreatedByName\",\r\n\t\t\t\t\t\"width\": \"10rem\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 75\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_createdTime\"),\r\n\t\t\t\t\t\"path\": \"Project>CreatedTime\",\r\n\t\t\t\t\t\"width\": \"10rem\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 76\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_changedBy\"),\r\n\t\t\t\t\t\"path\": \"Project>ChangedBy\",\r\n\t\t\t\t\t\"width\": \"7rem\",\r\n\t\t\t\t\t\"visible\": false,\r\n\t\t\t\t\t\"columnIndex\": 77\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_changedByName\"),\r\n\t\t\t\t\t\"path\": \"Project>ChangedByName\",\r\n\t\t\t\t\t\"width\": \"10rem\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 78\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_changedTime\"),\r\n\t\t\t\t\t\"path\": \"Project>ChangedTime\",\r\n\t\t\t\t\t\"width\": \"10rem\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 79\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_maxb\"),\r\n\t\t\t\t\t\"path\": \"Project>MaxValueB\",\r\n\t\t\t\t\t\"width\": \"7rem\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 80\r\n\t\t\t\t}, \r\n\t\t\t\t{\r\n\t\t\t\t\t\"text\": oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_maxa\"),\r\n\t\t\t\t\t\"path\": \"Project>MaxValueA\",\r\n\t\t\t\t\t\"width\": \"7rem\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 81\r\n\t\t\t\t}, \r\n\t\t\t\t{\r\n\t\t\t\t\t\"text\": oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_maxc\"),\r\n\t\t\t\t\t\"path\": \"Project>MaxValueC\",\r\n\t\t\t\t\t\"width\": \"7rem\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 82\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_maxcb\"),\r\n\t\t\t\t\t\"path\": \"Project>MaxValueCb\",\r\n\t\t\t\t\t\"width\": \"7rem\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 83\r\n\t\t\t\t},{\r\n\t\t\t\t\t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_le\"),\r\n\t\t\t\t\t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_jan\")),\r\n\t\t\t\t\t\"path\": \"Project>AmtLe1\",\r\n\t\t\t\t\t\"width\": \"7rem\",\r\n\t\t\t\t\t\"visible\": false,\r\n\t\t\t\t\t\"columnIndex\": 84\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_le\"),\r\n\t\t\t\t\t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_feb\")),\r\n\t\t\t\t\t\"path\": \"Project>AmtLe2\",\r\n\t\t\t\t\t\"width\": \"7rem\",\r\n\t\t\t\t\t\"visible\": false,\r\n\t\t\t\t\t\"columnIndex\": 85\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_le\"),\r\n\t\t\t\t\t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_mar\")),\r\n\t\t\t\t\t\"path\": \"Project>AmtLe3\",\r\n\t\t\t\t\t\"width\": \"7rem\",\r\n\t\t\t\t\t\"visible\": false,\r\n\t\t\t\t\t\"columnIndex\": 86\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_le\"),\r\n\t\t\t\t\t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_apr\")),\r\n\t\t\t\t\t\"path\": \"Project>AmtLe4\",\r\n\t\t\t\t\t\"width\": \"7rem\",\r\n\t\t\t\t\t\"visible\": false,\r\n\t\t\t\t\t\"columnIndex\": 87\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_le\"),\r\n\t\t\t\t\t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_may\")),\r\n\t\t\t\t\t\"path\": \"Project>AmtLe5\",\r\n\t\t\t\t\t\"width\": \"7rem\",\r\n\t\t\t\t\t\"visible\": false,\r\n\t\t\t\t\t\"columnIndex\": 88\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_le\"),\r\n\t\t\t\t\t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_jun\")),\r\n\t\t\t\t\t\"path\": \"Project>AmtLe6\",\r\n\t\t\t\t\t\"width\": \"7rem\",\r\n\t\t\t\t\t\"visible\": false,\r\n\t\t\t\t\t\"columnIndex\": 89\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_le\"),\r\n\t\t\t\t\t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_jul\")),\r\n\t\t\t\t\t\"path\": \"Project>AmtLe7\",\r\n\t\t\t\t\t\"width\": \"7rem\",\r\n\t\t\t\t\t\"visible\": false,\r\n\t\t\t\t\t\"columnIndex\": 90\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_le\"),\r\n\t\t\t\t\t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_aug\")),\r\n\t\t\t\t\t\"path\": \"Project>AmtLe8\",\r\n\t\t\t\t\t\"width\": \"7rem\",\r\n\t\t\t\t\t\"visible\": false,\r\n\t\t\t\t\t\"columnIndex\": 91\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_le\"),\r\n\t\t\t\t\t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_sep\")),\r\n\t\t\t\t\t\"path\": \"Project>AmtLe9\",\r\n\t\t\t\t\t\"width\": \"7rem\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 92\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_le\"),\r\n\t\t\t\t\t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_oct\")),\r\n\t\t\t\t\t\"path\": \"Project>AmtLe10\",\r\n\t\t\t\t\t\"width\": \"7rem\",\r\n\t\t\t\t\t\"visible\": false,\r\n\t\t\t\t\t\"columnIndex\": 93\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_le\"),\r\n\t\t\t\t\t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_nov\")),\r\n\t\t\t\t\t\"path\": \"Project>AmtLe11\",\r\n\t\t\t\t\t\"width\": \"7rem\",\r\n\t\t\t\t\t\"visible\": false,\r\n\t\t\t\t\t\"columnIndex\": 94\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_le\"),\r\n\t\t\t\t\t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_dec\")),\r\n\t\t\t\t\t\"path\": \"Project>AmtLe12\",\r\n\t\t\t\t\t\"width\": \"7rem\",\r\n\t\t\t\t\t\"visible\": false,\r\n\t\t\t\t\t\"columnIndex\": 95\r\n\t\t\t\t}, \r\n\t\t\t\t{\r\n\t\t\t\t\t\"text\": oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_letotals\"),\r\n\t\t\t\t\t\"path\": \"Project>AmtLeTot\",\r\n\t\t\t\t\t\"width\": \"7rem\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 96\r\n\t\t\t\t}, \r\n\t\t\t\t{\r\n\t\t\t\t\t\"text\": oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_maxle\"),\r\n\t\t\t\t\t\"path\": \"Project>MaxValueLe\",\r\n\t\t\t\t\t\"width\": \"7rem\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 97\r\n\t\t\t\t}, \r\n\t\t\t\t{\r\n\t\t\t\t\t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_bo\"),\r\n\t\t\t\t\t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_jan\")),\r\n\t\t\t\t\t\"path\": \"Project>AmtBo1\",\r\n\t\t\t\t\t\"width\": \"7rem\",\r\n\t\t\t\t\t\"visible\": false,\r\n\t\t\t\t\t\"columnIndex\": 98\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_bo\"),\r\n\t\t\t\t\t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_feb\")),\r\n\t\t\t\t\t\"path\": \"Project>AmtBo2\",\r\n\t\t\t\t\t\"width\": \"7rem\",\r\n\t\t\t\t\t\"visible\": false,\r\n\t\t\t\t\t\"columnIndex\": 99\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_bo\"),\r\n\t\t\t\t\t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_mar\")),\r\n\t\t\t\t\t\"path\": \"Project>AmtBo3\",\r\n\t\t\t\t\t\"width\": \"7rem\",\r\n\t\t\t\t\t\"visible\": false,\r\n\t\t\t\t\t\"columnIndex\": 100\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_bo\"),\r\n\t\t\t\t\t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_apr\")),\r\n\t\t\t\t\t\"path\": \"Project>AmtBo4\",\r\n\t\t\t\t\t\"width\": \"7rem\",\r\n\t\t\t\t\t\"visible\": false,\r\n\t\t\t\t\t\"columnIndex\": 101\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_bo\"),\r\n\t\t\t\t\t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_may\")),\r\n\t\t\t\t\t\"path\": \"Project>AmtBo5\",\r\n\t\t\t\t\t\"width\": \"7rem\",\r\n\t\t\t\t\t\"visible\": false,\r\n\t\t\t\t\t\"columnIndex\": 102\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_bo\"),\r\n\t\t\t\t\t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_jun\")),\r\n\t\t\t\t\t\"path\": \"Project>AmtBo6\",\r\n\t\t\t\t\t\"width\": \"7rem\",\r\n\t\t\t\t\t\"visible\": false,\r\n\t\t\t\t\t\"columnIndex\": 103\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_bo\"),\r\n\t\t\t\t\t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_jul\")),\r\n\t\t\t\t\t\"path\": \"Project>AmtBo7\",\r\n\t\t\t\t\t\"width\": \"7rem\",\r\n\t\t\t\t\t\"visible\": false,\r\n\t\t\t\t\t\"columnIndex\": 104\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_bo\"),\r\n\t\t\t\t\t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_aug\")),\r\n\t\t\t\t\t\"path\": \"Project>AmtBo8\",\r\n\t\t\t\t\t\"width\": \"7rem\",\r\n\t\t\t\t\t\"visible\": false,\r\n\t\t\t\t\t\"columnIndex\": 105\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_bo\"),\r\n\t\t\t\t\t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_sep\")),\r\n\t\t\t\t\t\"path\": \"Project>AmtBo9\",\r\n\t\t\t\t\t\"width\": \"7rem\",\r\n\t\t\t\t\t\"visible\": false,\r\n\t\t\t\t\t\"columnIndex\": 106\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_bo\"),\r\n\t\t\t\t\t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_oct\")),\r\n\t\t\t\t\t\"path\": \"Project>AmtBo10\",\r\n\t\t\t\t\t\"width\": \"7rem\",\r\n\t\t\t\t\t\"visible\": false,\r\n\t\t\t\t\t\"columnIndex\": 107\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_bo\"),\r\n\t\t\t\t\t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_nov\")),\r\n\t\t\t\t\t\"path\": \"Project>AmtBo11\",\r\n\t\t\t\t\t\"width\": \"7rem\",\r\n\t\t\t\t\t\"visible\": false,\r\n\t\t\t\t\t\"columnIndex\": 108\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": formatter.columnHeader(oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_bo\"),\r\n\t\t\t\t\t\toContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"A_dec\")),\r\n\t\t\t\t\t\"path\": \"Project>AmtBo12\",\r\n\t\t\t\t\t\"width\": \"7rem\",\r\n\t\t\t\t\t\"visible\": false,\r\n\t\t\t\t\t\"columnIndex\": 109\r\n\t\t\t\t}, {\r\n\t\t\t\t\t\"text\": oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_bototals\"),\r\n\t\t\t\t\t\"path\": \"Project>AmtBoTot\",\r\n\t\t\t\t\t\"width\": \"7rem\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 110\r\n\t\t\t\t}, \r\n\t\t\t\t{\r\n\t\t\t\t\t\"text\": oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_maxbo\"),\r\n\t\t\t\t\t\"path\": \"Project>MaxValueBo\",\r\n\t\t\t\t\t\"width\": \"7rem\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 111\r\n\t\t\t\t}, \r\n\t\t\t\t{\r\n\t\t\t\t\t\"text\": oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_demo\"),\r\n\t\t\t\t\t\"path\": \"Project>DemographicsDesc\",\r\n\t\t\t\t\t\"width\": \"10rem\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 112\r\n\t\t\t\t} ,\r\n\t\t\t\t{\r\n\t\t\t\t\t\"text\": oContext.getOwnerComponent().getModel(\"i18n\").getProperty(\"AC_maestroBrief\"),\r\n\t\t\t\t\t\"path\": \"Project>MaestroBrief\",\r\n\t\t\t\t\t\"width\": \"10rem\",\r\n\t\t\t\t\t\"visible\": true,\r\n\t\t\t\t\t\"columnIndex\": 113\r\n\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\tOtherConfig: {\r\n\t\t\t\t\tMaxTableRows: 15\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\treturn oColumns;\r\n\t\t}\r\n\t};\r\n});",
		"colgate/asm/planning/base/model/formatter.js": "sap.ui.define([\r\n\t\"sap/ui/core/format/DateFormat\"\r\n], function(DateFormat) {\r\n\t\"use strict\";\r\n\r\n\treturn {\r\n\t\t/**\r\n\t\t * Rounds the currency value to 2 digits\r\n\t\t *\r\n\t\t * @public\r\n\t\t * @param {string} sValue value to be formatted\r\n\t\t * @returns {string} formatted currency value with 2 digits\r\n\t\t */\r\n\t\tcurrencyValue: function(sValue) {\r\n\t\t\tif (!sValue) {\r\n\t\t\t\treturn \"\";\r\n\t\t\t}\r\n\r\n\t\t\treturn parseFloat(sValue).toFixed(2);\r\n\t\t},\r\n\t\tformatDate: function(sValue) {\r\n\t\t\tif (sValue) {\r\n\t\t\t\tvar sYear = sValue.substring(0, 4);\r\n\t\t\t\t// Begin of Changes - Khrystyne Williams - Oct\r\n\t\t\t\tvar sMonth = {};\r\n\t\t\t\tvar sDay = {};\r\n\t\t\t\tif (sValue.substring(4, 5) === \"-\") {\r\n\t\t\t\t\tsMonth = sValue.substring(5, 7);\r\n\t\t\t\t\tsDay = sValue.substring(8, 10);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsMonth = sValue.substring(4, 6);\r\n\t\t\t\t\tsDay = sValue.substring(6, 8);\r\n\t\t\t\t}\r\n\t\t\t\t// End of Changes - Khrystyne Williams - Oct\r\n\t\t\t\t// New Values Updated\r\n\t\t\t\t//var oDateFormat = sap.ui.core.format.DateFormat.getDateInstance({style: \"medium\"});\r\n\t\t\t\tvar oDateFormat = sap.ui.core.format.DateFormat.getDateInstance({\r\n\t\t\t\t\tpattern: \"MMM yyyy\"\r\n\t\t\t\t});\r\n\t\t\t\t//sValue = sMonth + \"/\" + sDay + \"/\" + sYear;\r\n\t\t\t\tsValue = oDateFormat.format(new Date(sYear, sMonth - 1, sDay));\r\n\t\t\t\t//var aValues = sValue.split(\" \");\r\n\t\t\t\t//sValue = aValues[0] + \" \" + aValues[2];\r\n\t\t\t}\r\n\t\t\treturn sValue;\r\n\t\t},\r\n\t\tformatTimestamp: function(sValue) {\r\n\t\t\tif (sValue && sValue !== \"\") {\r\n\t\t\t\tvar sYear = sValue.substring(0, 4);\r\n\t\t\t\tvar sMonth = sValue.substring(5, 7);\r\n\t\t\t\tvar sDay = sValue.substring(8, 10);\r\n\t\t\t\tvar sHour = sValue.substring(11, 13);\r\n\t\t\t\tvar sMin = sValue.substring(14, 16);\r\n\t\t\t\tvar oDateFormat = sap.ui.core.format.DateFormat.getDateTimeInstance({\r\n\t\t\t\t\tstyle: \"short\"\r\n\t\t\t\t});\r\n\t\t\t\t// sValue = sMonth + \"/\" + sDay + \"/\" + sYear + \" \" + sHour + \":\" + sMin;\r\n\t\t\t\tsValue = oDateFormat.format(new Date(sYear, sMonth - 1, sDay, sHour, sMin));\r\n\t\t\t} else {\r\n\t\t\t\tsValue = \"\";\r\n\t\t\t}\r\n\t\t\treturn sValue;\r\n\t\t},\r\n\t\tcolumnHeader: function(sType, sMonth) {\r\n\t\t\tvar sHeader = sType + \" \" + sMonth;\r\n\t\t\treturn sHeader;\r\n\t\t},\r\n\t\taddRowStyle: function(sValue) {\r\n\t\t\tsap.ui.getCore().getEventBus().publish(\"colgate.asm.planning.project\", \"ApplyStyles\", {});\r\n\t\t\treturn sValue;\r\n\t\t}\r\n\t};\r\n\r\n});",
		"colgate/asm/planning/base/model/GroupSortState.js": "sap.ui.define([\r\n\t\t\"sap/ui/base/Object\",\r\n\t\t\"sap/ui/model/Sorter\"\r\n\t], function (BaseObject, Sorter) {\r\n\t\"use strict\";\r\n\r\n\treturn BaseObject.extend(\"colgate.asm.planning.base.model.GroupSortState\", {\r\n\r\n\t\t/**\r\n\t\t * Creates sorters and groupers for the master list.\r\n\t\t * Since grouping also means sorting, this class modifies the viewmodel.\r\n\t\t * If a user groups by a field, and there is a corresponding sort option, the option will be chosen.\r\n\t\t * If a user ungroups, the sorting will be reset to the default sorting.\r\n\t\t * @class\r\n\t\t * @public\r\n\t\t * @param {sap.ui.model.json.JSONModel} oViewModel the model of the current view\r\n\t\t * @param {function} fnGroupFunction the grouping function to be applied\r\n\t\t * @alias colgate.asm.planning.base.model.GroupSortState\r\n\t\t */\r\n\t\tconstructor: function (oViewModel, fnGroupFunction) {\r\n\t\t\tthis._oViewModel = oViewModel;\r\n\t\t\tthis._fnGroupFunction = fnGroupFunction;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Sorts by ItemName, or by ItemBudgetFrcstTotal\r\n\t\t *\r\n\t\t * @param {string} sKey - the key of the field used for grouping\r\n\t\t * @returns {sap.ui.model.Sorter[]} an array of sorters\r\n\t\t */\r\n\t\tsort: function (sKey) {\r\n\t\t\tvar sGroupedBy = this._oViewModel.getProperty(\"/groupBy\");\r\n\r\n\t\t\tif (sGroupedBy !== \"None\") {\r\n\t\t\t\t// If the list is grouped, remove the grouping since the user wants to sort by something different\r\n\t\t\t\t// Grouping only works if the list is primary sorted by the grouping - the first sorten contains a grouper function\r\n\t\t\t\tthis._oViewModel.setProperty(\"/groupBy\", \"None\");\r\n\t\t\t}\r\n\r\n\t\t\treturn [new Sorter(sKey, false)];\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Groups by ItemBudgetFrcstTotal, or resets the grouping for the key \"None\"\r\n\t\t *\r\n\t\t * @param {string} sKey - the key of the field used for grouping\r\n\t\t * @returns {sap.ui.model.Sorter[]} an array of sorters\r\n\t\t */\r\n\t\tgroup: function (sKey) {\r\n\t\t\tvar aSorters = [];\r\n\r\n\t\t\tif (sKey === \"ItemBudgetFrcstTotal\") {\r\n\t\t\t\t// Grouping means sorting so we set the select to the same Entity used for grouping\r\n\t\t\t\tthis._oViewModel.setProperty(\"/sortBy\", \"ItemBudgetFrcstTotal\");\r\n\r\n\t\t\t\taSorters.push(\r\n\t\t\t\t\tnew Sorter(\"ItemBudgetFrcstTotal\", false,\r\n\t\t\t\t\t\tthis._fnGroupFunction.bind(this))\r\n\t\t\t\t);\r\n\t\t\t} else if (sKey === \"None\") {\r\n\t\t\t\t// select the default sorting again\r\n\t\t\t\tthis._oViewModel.setProperty(\"/sortBy\", \"Title\");\r\n\t\t\t}\r\n\r\n\t\t\treturn aSorters;\r\n\t\t}\r\n\r\n\t});\r\n});",
		"colgate/asm/planning/base/model/grouper.js": "sap.ui.define([\r\n\t], function () {\r\n\t\t\"use strict\";\r\n\r\n\t\t/*\r\n\t\t * Use this file to implement your custom grouping functions\r\n\t\t * The predefined functions are simple examples and might be replaced by your more complex implementations\r\n\t\t * to be called with .bind() and handed over to a sap.ui.model.Sorter\r\n\t\t * return value for all your functions is an object with  key-text pairs\r\n\t\t * the oContext parameter is not under your control!\r\n\t\t */\r\n\r\n\t\treturn {\r\n\r\n\t\t/**\r\n\t\t * Groups the items by a price in two groups: Lesser equal than 20 and greater than 20\r\n\t\t * This grouping function needs the resource bundle so we pass it as a dependency\r\n\t\t * @param oResourceBundle {sap.ui.model.resource.ResourceModel} the resource bundle of your i18n model\r\n\t\t * @returns {Function} the grouper function you can pass to your sorter\r\n\t\t */\r\n\t\tgroupUnitNumber : function (oResourceBundle) {\r\n\t\t\treturn function (oContext) {\r\n\t\t\t\tvar iPrice = oContext.getProperty(\"ItemBudgetFrcstTotal\"),\r\n\t\t\t\t\tsKey,\r\n\t\t\t\t\tsText;\r\n\r\n\t\t\t\t\tif (iPrice <= 20) {\r\n\t\t\t\t\t\tsKey = \"LE20\";\r\n\t\t\t\t\t\tsText = oResourceBundle.getText(\"masterGroup1Header1\");\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tsKey = \"GT20\";\r\n\t\t\t\t\t\tsText = oResourceBundle.getText(\"masterGroup1Header2\");\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tkey: sKey,\r\n\t\t\t\t\t\ttext: sText\r\n\t\t\t\t\t};\r\n\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\t};\r\n\t}\r\n);",
		"colgate/asm/planning/base/model/models.js": "sap.ui.define([\r\n\t\t\"sap/ui/model/json/JSONModel\",\r\n\t\t\"sap/ui/Device\"\r\n\t], function (JSONModel, Device) {\r\n\t\t\"use strict\";\r\n\r\n\t\treturn {\r\n\t\t\tcreateDeviceModel : function () {\r\n\t\t\t\tvar oModel = new JSONModel(Device);\r\n\t\t\t\toModel.setDefaultBindingMode(\"OneWay\");\r\n\t\t\t\treturn oModel;\r\n\t\t\t},\r\n\r\n\t\t\tcreateFLPModel : function () {\r\n\t\t\t\tvar fnGetuser = jQuery.sap.getObject(\"sap.ushell.Container.getUser\"),\r\n\t\t\t\t\tbIsShareInJamActive = fnGetuser ? fnGetuser().isJamActive() : false,\r\n\t\t\t\t\toModel = new JSONModel({\r\n\t\t\t\t\t\tisShareInJamActive: bIsShareInJamActive\r\n\t\t\t\t\t});\r\n\t\t\t\toModel.setDefaultBindingMode(\"OneWay\");\r\n\t\t\t\treturn oModel;\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t}\r\n);",
		"colgate/asm/planning/base/view/Activities.view.xml": "<mvc:View controllerName=\"colgate.asm.planning.base.controller.Activities\" xmlns:footerbar=\"sap.ushell.ui.footerbar\" xmlns:l=\"sap.ui.layout\"\n\txmlns:m=\"sap.m\" xmlns:mvc=\"sap.ui.core.mvc\" xmlns:semantic=\"sap.m.semantic\" xmlns:t=\"sap.ui.table\" xmlns:v=\"sap.ui.comp.variants\"\n\txmlns:core=\"sap.ui.core\" xmlns:html=\"http://www.w3.org/1999/xhtml\" xmlns=\"sap.m\">\n\t<semantic:DetailPage busy=\"{masterShared&gt;/oDetailBusy/busy}\" busyIndicatorDelay=\"{masterShared&gt;/oDetailBusy/delay}\" id=\"page\"\n\t\tnavButtonPress=\"onNavBack\" showNavButton=\"{device&gt;/system/phone}\" class=\"noScrollSection\">\n\t\t<semantic:content>\n\t\t\t<!--Begin of Changes - Khrystyne Williams - Nov-->\n\t\t\t<!--Changes for tree table sizing-->\n\t\t\t<!--Commented the vertical layout and content and added the visibleRowCountMode to the tree table - $PSW Nov 3 -->\n\t\t\t<!--<l:VerticalLayout width=\"100%\">-->\n\t\t\t<!--\t<l:content>-->\n\t\t\t<!--<t:TreeTable columnMove=\"onColumnMove\" filter=\"onColumnFilter\" fixedColumnCount=\"1\" id=\"Table\" rowSelectionChange=\"onRowSelectionChange\"-->\n\t\t\t<!--\trows=\"{Project&gt;/OnScreen}\" selectionMode=\"MultiToggle\" visibleRowCount=\"{projectView>/oTableControl/visibleRowCount}\"-->\n\t\t\t<!--\ttoggleOpenState=\"onToggle\" threshold=\"5000\">-->\n\t\t\t<html:iframe id=\"GoogleTag\" src=\"https://www.googletagmanager.com/ns.html?id=GTM-N4HPB8V\" height=\"0\" width=\"0\"\n\t\t\t\tstyle=\"display:none;visibility:hidden\"/>\n\t\t\t<t:TreeTable rowHeight=\"40\" columnMove=\"onColumnMove\" filter=\"onColumnFilter\" fixedColumnCount=\"1\" id=\"Table\"\n\t\t\t\trowSelectionChange=\"onRowSelectionChange\" rows=\"{Project&gt;/OnScreen}\" selectionMode=\"MultiToggle\" visibleRowCountMode=\"Auto\"\n\t\t\t\ttoggleOpenState=\"onToggle\" threshold=\"100\">\n\t\t\t\t<t:toolbar>\n\t\t\t\t\t<m:Toolbar>\n\t\t\t\t\t\t<m:content>\n\t\t\t\t\t\t\t<!-- PSW Start change of header content sequencing May 16th 2016 -->\n\t\t\t\t\t\t\t<!--<m:ToolbarSeparator/>-->\n\t\t\t\t\t\t\t<m:Button visible=\"{projectView>/oTableControl/bAddVisible}\" enabled=\"{projectView>/oTableControl/addEnabled}\" text=\"{i18n>AC_add}\"\n\t\t\t\t\t\t\t\tpress=\"onAddActivity\" tooltip=\"{i18n&gt;C_T_add}\" type=\"Emphasized\"/>\n\t\t\t\t\t\t\t<m:Button visible=\"{projectView>/oTableControl/bDisplayVisible}\" enabled=\"{projectView>/oTableControl/editEnabled}\"\n\t\t\t\t\t\t\t\ticon=\"sap-icon://display\" press=\"onDisplay\" tooltip=\"{i18n&gt;C_T_display}\"/>\n\t\t\t\t\t\t\t<m:Button visible=\"{projectView>/oTableControl/bEditVisible}\" enabled=\"{projectView>/oTableControl/editEnabled}\"\n\t\t\t\t\t\t\t\ticon=\"sap-icon://edit-outside\" press=\"onEdit\" tooltip=\"{i18n&gt;C_T_edit}\"/>\n\t\t\t\t\t\t\t<m:Button visible=\"{projectView>/oTableControl/bEditVisible}\" enabled=\"{projectView>/oTableControl/editEnabled}\" icon=\"sap-icon://duplicate\"\n\t\t\t\t\t\t\t\tpress=\"onCopy\" tooltip=\"{i18n&gt;C_T_copy}\"/>\n\t\t\t\t\t\t\t<m:Button visible=\"{projectView>/oTableControl/bCopyVisible}\" enabled=\"{projectView>/oTableControl/copyEnabled}\" icon=\"sap-icon://documents\"\n\t\t\t\t\t\t\t\tpress=\"onCopyActivity\" tooltip=\"{i18n&gt;C_T_advcopy}\"/>\n\t\t\t\t\t\t\t<m:Button visible=\"{projectView>/oTableControl/bDeleteVisible}\" enabled=\"{projectView>/oTableControl/deleteEnabled}\"\n\t\t\t\t\t\t\t\ticon=\"sap-icon://delete\" press=\"onDelete\" tooltip=\"{i18n&gt;C_T_delete}\"/>\n\t\t\t\t\t\t\t<m:Button tooltip=\"{i18n&gt;C_T_collapse}\" icon=\"sap-icon://collapse\" press=\"onCollapse\"/>\n\t\t\t\t\t\t\t<m:Button tooltip=\"{i18n&gt;C_T_expand}\" icon=\"sap-icon://expand\" press=\"onExpand\"/>\n\t\t\t\t\t\t\t<!--<m:Button visible=\"{projectView>/oTableControl/bEditVisible}\" icon=\"sap-icon://download\" tooltip=\"{i18n>CV_Download}\" press=\"onExportToExcel\" />-->\n\t\t\t\t\t\t\t<m:ToolbarSeparator visible=\"{projectView>/oTableControl/bDeleteVisible}\"/>\n\t\t\t\t\t\t\t<!--<m:Label text=\"{i18n>A_bud}\" visible=\"{projectView>/oTableControl/bStatusVisible}\"/>-->\n\t\t\t\t\t\t\t<m:Label text=\"{i18n>A_bud}\" visible=\"{projectView>/oTableControl/bEditVisible}\"/>\n\t\t\t\t\t\t\t<m:Button visible=\"{projectView>/oTableControl/bEditVisible}\" icon=\"sap-icon://edit\" press=\"onBudgetEdit\" tooltip=\"{i18n&gt;B_T_edit}\"/>\n\t\t\t\t\t\t\t<m:Button tooltip=\"{i18n>CP_P_Dist}\" press=\"onDistribute\" enabled=\"{projectView>/oTableControl/distributeEnabled}\"\n\t\t\t\t\t\t\t\tvisible=\"{projectView>/oTableControl/bDistributeVisible}\" text=\"{i18n>CP_Dist}\" type=\"Emphasized\"/>\n\t\t\t\t\t\t\t<!--psutram modified Dec 15th 2016, adding a Calculate button-->\n\t\t\t\t\t\t\t<m:Button tooltip=\"{i18n>C_T_calculator}\" press=\"onPressCalculate\" enabled=\"{projectView>/oTableControl/calculateEnabled}\"\n\t\t\t\t\t\t\t\tvisible=\"{projectView>/oTableControl/bCalculateVisible}\" icon=\"sap-icon://simulate\"/>\n\t\t\t\t\t\t\t<!--end of changes -->\n\t\t\t\t\t\t\t<m:Button visible=\"{projectView>/oTableControl/bSaveVisible}\" icon=\"sap-icon://save\" press=\"onSave\" tooltip=\"{i18n&gt;B_T_save}\"/>\n\t\t\t\t\t\t\t<m:Button visible=\"{projectView>/oTableControl/bCancelVisible}\" icon=\"sap-icon://sys-cancel\" press=\"onCancel\" tooltip=\"{i18n&gt;B_T_cancel}\"/>\n\t\t\t\t\t\t\t<m:ToolbarSeparator visible=\"{projectView>/oTableControl/bSaveVisible}\"/>\n\t\t\t\t\t\t\t<m:ToolbarSeparator visible=\"{projectView>/oTableControl/bStatusVisible}\"/>\n\t\t\t\t\t\t\t<m:Label text=\"{i18n>A_stat}\" visible=\"{projectView>/oTableControl/bEditVisible}\"/>\n\t\t\t\t\t\t\t<m:Button visible=\"{projectView>/oTableControl/bEditVisible}\" icon=\"sap-icon://edit\" press=\"onStatusChange\" tooltip=\"{i18n&gt;C_T_status}\"/>\n\t\t\t\t\t\t\t<m:Button visible=\"{projectView>/oTableControl/bSSaveVisible}\" enabled=\"{projectView>/oTableControl/statusEnabled}\"\n\t\t\t\t\t\t\t\ticon=\"sap-icon://multiselect-none\" press=\"onSelectNone\" tooltip=\"{i18n&gt;C_T_selNone}\"/>\n\t\t\t\t\t\t\t<m:Button visible=\"{projectView>/oTableControl/bSSaveVisible}\" enabled=\"{projectView>/oTableControl/selMatchEnabled}\"\n\t\t\t\t\t\t\t\ticon=\"sap-icon://multiselect-all\" press=\"onSSelectMatch\" tooltip=\"{i18n&gt;C_T_selMatch}\"/>\n\t\t\t\t\t\t\t<m:FlexBox alignItems=\"Center\" direction=\"Row\" visible=\"{projectView>/oTableControl/bSSaveVisible}\">\n\t\t\t\t\t\t\t\t<m:Label text=\"{i18n>S_fStatus}\" textAlign=\"Center\"/>\n\t\t\t\t\t\t\t\t<m:ComboBox id=\"FStatus\" items=\"{path:'projectView>/oFStatus/Options'}\" placeholder=\"{projectView>/oFStatus/Placeholder}\"\n\t\t\t\t\t\t\t\t\tselectedKey=\"{projectView>/oFStatus/Selected}\" visible=\"{projectView>/oFStatus/Visible}\" enabled=\"{projectView>/oFStatus/Enabled}\"\n\t\t\t\t\t\t\t\t\tselectionChange=\"onFStatusChange\">\n\t\t\t\t\t\t\t\t\t<m:items>\n\t\t\t\t\t\t\t\t\t\t<core:Item key=\"{projectView>Status}\" text=\"{projectView>Description}\"/>\n\t\t\t\t\t\t\t\t\t</m:items>\n\t\t\t\t\t\t\t\t</m:ComboBox>\n\t\t\t\t\t\t\t</m:FlexBox>\n\t\t\t\t\t\t\t<m:FlexBox alignItems=\"Center\" direction=\"Row\" visible=\"{projectView>/oTableControl/bSSaveVisible}\">\n\t\t\t\t\t\t\t\t<m:Label text=\"{i18n>S_tStatus}\" textAlign=\"Center\"/>\n\t\t\t\t\t\t\t\t<m:ComboBox id=\"TStatus\" items=\"{path:'projectView>/oTStatus/Options'}\" placeholder=\"{projectView>/oTStatus/Placeholder}\"\n\t\t\t\t\t\t\t\t\tselectedKey=\"{projectView>/oTStatus/Selected}\" visible=\"{projectView>/oTStatus/Visible}\" enabled=\"{projectView>/oTStatus/Enabled}\"\n\t\t\t\t\t\t\t\t\tselectionChange=\"onTStatusChange\">\n\t\t\t\t\t\t\t\t\t<m:items>\n\t\t\t\t\t\t\t\t\t\t<core:Item key=\"{projectView>Status}\" text=\"{projectView>Description}\"/>\n\t\t\t\t\t\t\t\t\t</m:items>\n\t\t\t\t\t\t\t\t</m:ComboBox>\n\t\t\t\t\t\t\t</m:FlexBox>\n\t\t\t\t\t\t\t<m:ToolbarSeparator visible=\"{projectView>/oTableControl/bSSaveVisible}\"/>\n\t\t\t\t\t\t\t<m:Button visible=\"{projectView>/oTableControl/bSSaveVisible}\" enabled=\"{projectView>/oTableControl/sSaveEnabled}\" icon=\"sap-icon://save\"\n\t\t\t\t\t\t\t\tpress=\"onSSave\" tooltip=\"{i18n&gt;S_T_save}\"/>\n\t\t\t\t\t\t\t<m:Button visible=\"{projectView>/oTableControl/bSCancelVisible}\" enabled=\"{projectView>/oTableControl/statusEnabled}\"\n\t\t\t\t\t\t\t\ticon=\"sap-icon://sys-cancel\" press=\"onSCancel\" tooltip=\"{i18n&gt;S_T_cancel}\"/>\n\t\t\t\t\t\t\t<m:ToolbarSpacer/>\n\t\t\t\t\t\t\t<m:ToggleButton icon=\"sap-icon://filter\" tooltip=\"{projectView>/oTableControl/projectFilterText}\" text=\"{projectView>/oTableControl/projectFilterText}\"\n\t\t\t\t\t\t\t\tenabled=\"{projectView>/oTableControl/projectFilterEnabled}\" pressed=\"{projectView>/oTableControl/projectFilterPressed}\"\n\t\t\t\t\t\t\t\tpress=\"getMyProjects\"/>\n\t\t\t\t\t\t\t<!--<m:ToolbarSpacer/>-->\n\t\t\t\t\t\t\t<m:Title text=\"{i18n>A_view}\" visible=\"{projectView>/oTableControl/bVariantVisible}\" level=\"H3\"/>\n\t\t\t\t\t\t\t<v:VariantManagement id=\"Variant\" enabled=\"true\" manage=\"onVariantManage\" save=\"onP13nSave\" select=\"onVariantSelect\"\n\t\t\t\t\t\t\t\tshowExecuteOnSelection=\"false\" showShare=\"false\" visible=\"{projectView>/oTableControl/bVariantVisible}\" standardItemText=\"Custom Views\"></v:VariantManagement>\n\t\t\t\t\t\t\t<m:Button visible=\"{projectView>/oTableControl/bPersonalizeVisible}\" enabled=\"{projectView>/oTableControl/personalizeEnabled}\"\n\t\t\t\t\t\t\t\ticon=\"sap-icon://drop-down-list\" press=\"onShowTableSettings\" tooltip=\"{i18n>C_T_personalization}\"/>\n\t\t\t\t\t\t\t<!--<m:Switch id=\"Switch\" state=\"false\" customTextOn=\"{i18n>GS_yes}\" customTextOff=\"{i18n>GS_no}\" change=\"getMyProjects\" />-->\n\t\t\t\t\t\t\t<!--<m:Button visible=\"{projectView>/oTableControl/bPersonalizeVisible}\" enabled=\"{projectView>/oTableControl/personalizeEnabled}\"-->\n\t\t\t\t\t\t\t<!--\ticon=\"sap-icon://personnel-view\" press=\"onShowP13nScreen\" tooltip=\"{i18n>C_T_personalization}\"/>-->\n\t\t\t\t\t\t\t<!--<m:Button visible=\"{projectView>/oTableControl/bClearVisible}\" enabled=\"{projectView>/oTableControl/clearEnabled}\"-->\n\t\t\t\t\t\t\t<!--\ticon=\"sap-icon://clear-filter\" press=\"onClearAllFilters\" tooltip=\"{i18n&gt;C_T_clearfilters}\"/>-->\n\t\t\t\t\t\t\t<!--<m:Button tooltip=\"{i18n>C_T_refresh}\" press=\"onPressRefresh\" enabled=\"{projectView>/oTableControl/refreshEnabled}\"-->\n\t\t\t\t\t\t\t<!--\tvisible=\"{projectView>/oTableControl/bRefreshVisible}\" icon=\"sap-icon://refresh\"/>-->\n\t\t\t\t\t\t\t<!--end of changes-->\n\t\t\t\t\t\t\t<!--Begin of Changes - Khrystyne Williams - Nov 2016-->\n\t\t\t\t\t\t\t<!--<m:Button tooltip=\"{i18n>CP_P_Refresh}\" press=\"_onRefresh\" enabled=\"{projectView>/oTableControl/clearEnabled}\"-->\n\t\t\t\t\t\t\t<!--\tvisible=\"{projectView>/oTableControl/bClearVisible}\" icon=\"sap-icon://refresh\"/>-->\n\t\t\t\t\t\t\t<!--End of Changes - Khrystyne Williams - Nov 2016-->\n\t\t\t\t\t\t\t<!--Begin of Commenting - Khrystyne Williams - October-->\n\t\t\t\t\t\t\t<!--<m:Button visible=\"{projectView>/oTableControl/bEMailVisible}\" enabled=\"{projectView>/oTableControl/eMailEnabled}\" icon=\"sap-icon://email\"-->\n\t\t\t\t\t\t\t<!--\tpress=\"onShareEmailPress\" tooltip=\"{i18n&gt;C_T_email}\"/>-->\n\t\t\t\t\t\t\t<!--End of Commenting - Khrystyne Williams - October-->\n\t\t\t\t\t\t\t<!-- PSW End change of header content sequencing May 16th 2016 -->\n\t\t\t\t\t\t</m:content>\n\t\t\t\t\t</m:Toolbar>\n\t\t\t\t</t:toolbar>\n\t\t\t\t<t:columns>\n\t\t\t\t\t<t:Column id=\"Column0\" filterProperty=\"_name\" sortProperty=\"Name\" visible=\"{P13n>/FixedColumnConfig/0/visible}\"\n\t\t\t\t\t\twidth=\"{P13n>/FixedColumnConfig/0/width}\">\n\t\t\t\t\t\t<m:Label text=\"{P13n>/FixedColumnConfig/0/text}\"/>\n\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t<m:FlexBox alignItems=\"Center\" direction=\"Row\">\n\t\t\t\t\t\t\t\t<m:Image src=\"{Project>_iconPath}\"/>\n\t\t\t\t\t\t\t\t<m:Text text=\"\" width=\"5px\"/>\n\t\t\t\t\t\t\t\t<m:ObjectIdentifier title=\"{ path:'Project&gt;Name', formatter: '.formatter.addRowStyle'}\"/>\n\t\t\t\t\t\t\t</m:FlexBox>\n\t\t\t\t\t\t</t:template>\n\t\t\t\t\t</t:Column>\n\t\t\t\t\t<!--<t:Column id=\"Column63\" visible=\"{P13n>/FixedColumnConfig/63/visible}\" width=\"{P13n>/FixedColumnConfig/63/width}\">-->\n\t\t\t\t\t<!--\t<m:Text text=\"{i18n&gt;AC_level}\"/>-->\n\t\t\t\t\t<!--\t<t:template>-->\n\t\t\t\t\t<!--\t\t<m:Image src=\"{Project>_iconPath}\"/>-->\n\t\t\t\t\t<!--\t</t:template>-->\n\t\t\t\t\t<!--</t:Column>-->\n\t\t\t\t\t<t:Column id=\"Column1\" filterProperty=\"ActivityTypeDesc\" sortProperty=\"ActivityTypeDesc\" visible=\"{P13n>/FixedColumnConfig/1/visible}\"\n\t\t\t\t\t\twidth=\"{P13n>/FixedColumnConfig/1/width}\">\n\t\t\t\t\t\t<m:Text text=\"{i18n&gt;AC_type}\"/>\n\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t<!--Begin of Changes - Khrystyne Williams - Nov 2016-->\n\t\t\t\t\t\t\t<m:Text text=\"{Project&gt;ActivityTypeDesc}\" wrapping=\"false\"/>\n\t\t\t\t\t\t\t<!--End of Changes - Khrystyne Williams - Nov 2016-->\n\t\t\t\t\t\t</t:template>\n\t\t\t\t\t</t:Column>\n\t\t\t\t\t<t:Column id=\"Column69\" filterProperty=\"_statusDesc\" sortProperty=\"_statusDesc\" visible=\"{P13n>/FixedColumnConfig/69/visible}\"\n\t\t\t\t\t\twidth=\"{P13n>/FixedColumnConfig/69/width}\">\n\t\t\t\t\t\t<m:Text text=\"{i18n&gt;AC_status}\"/>\n\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t<m:Text text=\"{Project&gt;_statusDesc}\"/>\n\t\t\t\t\t\t</t:template>\n\t\t\t\t\t</t:Column>\n\t\t\t\t\t<!--Begin of Changes - Khrystyne Williams - Nov 2016-->\n\t\t\t\t\t<!--GDH 20170326 - Mistake in the column number of column in catalog - fixed and made compatible-->\n\t\t\t\t\t<t:Column id=\"Column63\" filterProperty=\"_asmID\" sortProperty=\"Id\" visible=\"{P13n>/FixedColumnConfig/63/visible}\"\n\t\t\t\t\t\twidth=\"{P13n>/FixedColumnConfig/63/width}\">\n\t\t\t\t\t\t<m:Text text=\"{i18n&gt;AC_id}\"/>\n\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t<m:Text text=\"{Project&gt;Id}\" wrapping=\"false\"/>\n\t\t\t\t\t\t</t:template>\n\t\t\t\t\t</t:Column>\n\t\t\t\t\t<!--End of Changes - Khrystyne Williams - Nov 2016-->\n\t\t\t\t\t<t:Column id=\"Column2\" filterProperty=\"DivisionDesc\" sortProperty=\"DivisionDesc\" visible=\"{P13n>/FixedColumnConfig/2/visible}\"\n\t\t\t\t\t\twidth=\"{P13n>/FixedColumnConfig/2/width}\">\n\t\t\t\t\t\t<m:Text text=\"{i18n&gt;AC_division}\"/>\n\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t<m:Text text=\"{Project&gt;DivisionDesc}\"/>\n\t\t\t\t\t\t</t:template>\n\t\t\t\t\t</t:Column>\n\t\t\t\t\t<t:Column id=\"Column3\" filterProperty=\"HubDesc\" sortProperty=\"HubDesc\" visible=\"{P13n>/FixedColumnConfig/3/visible}\"\n\t\t\t\t\t\twidth=\"{P13n>/FixedColumnConfig/3/width}\">\n\t\t\t\t\t\t<m:Text text=\"{i18n&gt;AC_hub}\"/>\n\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t<m:Text text=\"{Project&gt;HubDesc}\"/>\n\t\t\t\t\t\t</t:template>\n\t\t\t\t\t</t:Column>\n\t\t\t\t\t<t:Column id=\"Column4\" filterProperty=\"SubDesc\" sortProperty=\"SubDesc\" visible=\"{P13n>/FixedColumnConfig/4/visible}\"\n\t\t\t\t\t\twidth=\"{P13n>/FixedColumnConfig/4/width}\">\n\t\t\t\t\t\t<m:Text text=\"{i18n&gt;AC_sub}\"/>\n\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t<m:Text text=\"{Project&gt;SubDesc}\"/>\n\t\t\t\t\t\t</t:template>\n\t\t\t\t\t</t:Column>\n\t\t\t\t\t<t:Column id=\"Column5\" filterProperty=\"CategoryDesc\" sortProperty=\"CategoryDesc\" visible=\"{P13n>/FixedColumnConfig/5/visible}\"\n\t\t\t\t\t\twidth=\"{P13n>/FixedColumnConfig/5/width}\">\n\t\t\t\t\t\t<m:Text text=\"{i18n&gt;C_L_category}\"/>\n\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t<m:Text text=\"{Project&gt;CategoryDesc}\"/>\n\t\t\t\t\t\t</t:template>\n\t\t\t\t\t</t:Column>\n\t\t\t\t\t<t:Column id=\"Column6\" filterProperty=\"SubcategoryDesc\" sortProperty=\"SubcategoryDesc\" visible=\"{P13n>/FixedColumnConfig/6/visible}\"\n\t\t\t\t\t\twidth=\"{P13n>/FixedColumnConfig/6/width}\">\n\t\t\t\t\t\t<m:Text text=\"{i18n&gt;AC_pscategory}\"/>\n\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t<m:Text text=\"{Project&gt;SubcategoryDesc}\"/>\n\t\t\t\t\t\t</t:template>\n\t\t\t\t\t</t:Column>\n\t\t\t\t\t<t:Column id=\"Column7\" filterProperty=\"BrandDesc\" sortProperty=\"BrandDesc\" visible=\"{P13n>/FixedColumnConfig/7/visible}\"\n\t\t\t\t\t\twidth=\"{P13n>/FixedColumnConfig/7/width}\">\n\t\t\t\t\t\t<m:Text text=\"{i18n&gt;C_L_brand}\"/>\n\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t<m:Text text=\"{Project&gt;BrandDesc}\"/>\n\t\t\t\t\t\t</t:template>\n\t\t\t\t\t</t:Column>\n\t\t\t\t\t<t:Column id=\"Column8\" filterProperty=\"SubbrandDesc\" sortProperty=\"SubbrandDesc\" visible=\"{P13n>/FixedColumnConfig/8/visible}\"\n\t\t\t\t\t\twidth=\"{P13n>/FixedColumnConfig/8/width}\">\n\t\t\t\t\t\t<m:Text text=\"{i18n&gt;C_L_subbrand}\"/>\n\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t<m:Text text=\"{Project&gt;SubbrandDesc}\"/>\n\t\t\t\t\t\t</t:template>\n\t\t\t\t\t</t:Column>\n\t\t\t\t\t<t:Column id=\"Column9\" filterProperty=\"PriorityDesc\" sortProperty=\"PriorityDesc\" visible=\"{P13n>/FixedColumnConfig/9/visible}\"\n\t\t\t\t\t\twidth=\"{P13n>/FixedColumnConfig/9/width}\">\n\t\t\t\t\t\t<m:Text text=\"{i18n&gt;C_L_priority}\"/>\n\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t<m:Text text=\"{Project&gt;PriorityDesc}\"/>\n\t\t\t\t\t\t</t:template>\n\t\t\t\t\t</t:Column>\n\t\t\t\t\t<t:Column id=\"Column10\" filterProperty=\"FunctionDesc\" sortProperty=\"FunctionDesc\" visible=\"{P13n>/FixedColumnConfig/10/visible}\"\n\t\t\t\t\t\twidth=\"{P13n>/FixedColumnConfig/10/width}\">\n\t\t\t\t\t\t<m:Text text=\"{i18n&gt;AC_function}\"/>\n\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t<m:Text text=\"{Project&gt;FunctionDesc}\"/>\n\t\t\t\t\t\t</t:template>\n\t\t\t\t\t</t:Column>\n\t\t\t\t\t<t:Column id=\"Column11\" filterProperty=\"ChannelDesc\" sortProperty=\"ChannelDesc\" visible=\"{P13n>/FixedColumnConfig/11/visible}\"\n\t\t\t\t\t\twidth=\"{P13n>/FixedColumnConfig/11/width}\">\n\t\t\t\t\t\t<m:Text text=\"{i18n&gt;AC_channel}\"/>\n\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t<m:Text text=\"{Project&gt;ChannelDesc}\"/>\n\t\t\t\t\t\t</t:template>\n\t\t\t\t\t</t:Column>\n\t\t\t\t\t<t:Column id=\"Column12\" filterProperty=\"LongText\" sortProperty=\"LongText\" visible=\"{P13n>/FixedColumnConfig/12/visible}\"\n\t\t\t\t\t\twidth=\"{P13n>/FixedColumnConfig/12/width}\">\n\t\t\t\t\t\t<m:Text text=\"{i18n&gt;AC_longText}\"/>\n\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t<m:Text text=\"{Project&gt;LongText}\"/>\n\t\t\t\t\t\t</t:template>\n\t\t\t\t\t</t:Column>\n\t\t\t\t\t<t:Column id=\"Column13\" filterProperty=\"StartDt\" sortProperty=\"StartDt\" visible=\"{P13n>/FixedColumnConfig/13/visible}\"\n\t\t\t\t\t\twidth=\"{P13n>/FixedColumnConfig/13/width}\">\n\t\t\t\t\t\t<m:Text text=\"{i18n&gt;AC_startDt}\"/>\n\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t<m:Input editable=\"{Project>FC_Editable_StartDt}\" id=\"StartDt\" placeholder=\"{Project>FC_PlaceHolder_StartDt}\" textAlign=\"Right\"\n\t\t\t\t\t\t\t\tshowValueHelp=\"{Project>FC_Editable_StartDt}\" valueHelpOnly=\"{Project>FC_Editable_StartDt}\" valueHelpRequest=\"onMonthHelp\"\n\t\t\t\t\t\t\t\tvalue=\"{ path:'Project&gt;StartDt', formatter: '.formatter.formatDate'}\" valueState=\"{Project>FC_ValueState_StartDt}\"\n\t\t\t\t\t\t\t\tvalueStateText=\"{Project>FC_ValueStateText_StartDt}\"/>\n\t\t\t\t\t\t</t:template>\n\t\t\t\t\t</t:Column>\n\t\t\t\t\t<t:Column id=\"Column14\" filterProperty=\"EndDt\" sortProperty=\"EndDt\" visible=\"{P13n>/FixedColumnConfig/14/visible}\"\n\t\t\t\t\t\twidth=\"{P13n>/FixedColumnConfig/14/width}\">\n\t\t\t\t\t\t<m:Text text=\"{i18n&gt;AC_endDt}\"/>\n\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t<m:Input editable=\"{Project>FC_Editable_EndDt}\" id=\"EndDt\" placeholder=\"{Project>FC_PlaceHolder_EndDt}\" textAlign=\"Right\"\n\t\t\t\t\t\t\t\tshowValueHelp=\"{Project>FC_Editable_EndDt}\" valueHelpOnly=\"{Project>FC_Editable_EndDt}\" valueHelpRequest=\"onMonthHelp\"\n\t\t\t\t\t\t\t\tvalue=\"{ path:'Project&gt;EndDt', formatter: '.formatter.formatDate'}\" valueState=\"{Project>FC_ValueState_EndDt}\"\n\t\t\t\t\t\t\t\tvalueStateText=\"{Project>FC_ValueStateText_EndDt}\"/>\n\t\t\t\t\t\t</t:template>\n\t\t\t\t\t</t:Column>\n\t\t\t\t\t<!--Begin of Commenting - Khrystyne Williams - Nov 2016-->\n\t\t\t\t\t<!--Maestro column is no longer needed for this application-->\n\t\t\t\t\t<!--<t:Column id=\"Column113\" filterProperty=\"MaestroBrief\" sortProperty=\"MaestroBrief\" visible=\"{P13n>/FixedColumnConfig/113/visible}\"-->\n\t\t\t\t\t<!--\twidth=\"{P13n>/FixedColumnConfig/113/width}\">-->\n\t\t\t\t\t<!--\t<m:Text text=\"{i18n&gt;AC_maestroBrief}\"/>-->\n\t\t\t\t\t<!--\t<t:template>-->\n\t\t\t\t\t<!--\t\t<m:Text text=\"{Project&gt;MaestroBriefDesc}\"/>-->\n\t\t\t\t\t<!--\t</t:template>-->\n\t\t\t\t\t<!--</t:Column>-->\n\t\t\t\t\t<!--End of Commenting - Khrystyne Williams - Nov 2016-->\n\t\t\t\t\t<t:Column id=\"Column64\" filterProperty=\"Agency\" sortProperty=\"Agency\" visible=\"{P13n>/FixedColumnConfig/64/visible}\"\n\t\t\t\t\t\twidth=\"{P13n>/FixedColumnConfig/64/width}\">\n\t\t\t\t\t\t<m:Text text=\"{i18n&gt;AC_agency}\"/>\n\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t<m:Text text=\"{Project&gt;AgencyDesc}\"/>\n\t\t\t\t\t\t</t:template>\n\t\t\t\t\t</t:Column>\n\t\t\t\t\t<t:Column id=\"Column65\" filterProperty=\"Retailer\" sortProperty=\"Retailer\" visible=\"{P13n>/FixedColumnConfig/65/visible}\"\n\t\t\t\t\t\twidth=\"{P13n>/FixedColumnConfig/65/width}\">\n\t\t\t\t\t\t<m:Text text=\"{i18n&gt;AC_retailer}\"/>\n\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t<m:Text text=\"{Project&gt;RetailerDesc}\"/>\n\t\t\t\t\t\t</t:template>\n\t\t\t\t\t</t:Column>\n\t\t\t\t\t<t:Column id=\"Column66\" filterProperty=\"CostcenterDesc\" sortProperty=\"CostcenterDesc\" visible=\"{P13n>/FixedColumnConfig/66/visible}\"\n\t\t\t\t\t\twidth=\"{P13n>/FixedColumnConfig/66/width}\">\n\t\t\t\t\t\t<m:Text text=\"{i18n&gt;AC_costcenter}\"/>\n\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t<m:Text text=\"{Project>CostcenterDesc}\"/>\n\t\t\t\t\t\t</t:template>\n\t\t\t\t\t</t:Column>\n\t\t\t\t\t<t:Column id=\"Column67\" filterProperty=\"GlAccount\" sortProperty=\"GLAccount\" visible=\"{P13n>/FixedColumnConfig/67/visible}\"\n\t\t\t\t\t\twidth=\"{P13n>/FixedColumnConfig/67/width}\">\n\t\t\t\t\t\t<m:Text text=\"{i18n&gt;AC_glAccount}\"/>\n\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t<m:Text text=\"{Project&gt;GlAccount}\"/>\n\t\t\t\t\t\t</t:template>\n\t\t\t\t\t</t:Column>\n\t\t\t\t\t<t:Column id=\"Column68\" filterProperty=\"PO\" sortProperty=\"PO\" visible=\"{P13n>/FixedColumnConfig/68/visible}\"\n\t\t\t\t\t\twidth=\"{P13n>/FixedColumnConfig/68/width}\">\n\t\t\t\t\t\t<m:Text text=\"{i18n&gt;AC_po}\"/>\n\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t<m:Text text=\"{Project&gt;PO}\"/>\n\t\t\t\t\t\t</t:template>\n\t\t\t\t\t</t:Column>\n\t\t\t\t\t<t:Column id=\"Column82\" filterProperty=\"MaxValueC\" sortProperty=\"MaxValueC\" visible=\"{P13n>/FixedColumnConfig/82/visible}\"\n\t\t\t\t\t\twidth=\"{P13n>/FixedColumnConfig/82/width}\">\n\t\t\t\t\t\t<m:Text text=\"{P13n>/FixedColumnConfig/82/text}\"/>\n\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t<m:Input editable=\"{Project>FC_Editable_MaxValueC}\" sortProperty=\"MaxValueC\" visible=\"{P13n>/FixedColumnConfig/82/visible}\" liveChange=\"onBudgetChange\"\n\t\t\t\t\t\t\t\tvalue=\"{parts:[{path:'Project>MaxValueC'},{path:'Project>Currency'}], type: 'colgate.asm.planning.base.util.CustomCurrencyType', formatOptions: {showMeasure: false, currencyCode: false, minFractionDigits:0, maxFractionDigits:0}}\"\n\t\t\t\t\t\t\t\tvalueState=\"{Project>FC_ValueState_MaxValueC}\" valueStateText=\"{Project>FC_ValueStateText_MaxValueC}\"/>\n\t\t\t\t\t\t</t:template>\n\t\t\t\t\t</t:Column>\n\t\t\t\t\t<t:Column id=\"Column80\" filterProperty=\"MaxValueB\" sortProperty=\"MaxValueB\" visible=\"{P13n>/FixedColumnConfig/80/visible}\"\n\t\t\t\t\t\twidth=\"{P13n>/FixedColumnConfig/80/width}\">\n\t\t\t\t\t\t<m:Text text=\"{P13n>/FixedColumnConfig/80/text}\"/>\n\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t<m:Input editable=\"{Project>FC_Editable_MaxValueB}\" id=\"MaxValueB\" placeholder=\"{Project>FC_PlaceHolder_MaxValueB}\" textAlign=\"Right\"\n\t\t\t\t\t\t\t\tliveChange=\"onBudgetChange\" submit=\"onEnter\"\n\t\t\t\t\t\t\t\tvalue=\"{parts:[{path:'Project>MaxValueB'},{path:'Project>Currency'}], type: 'colgate.asm.planning.base.util.CustomCurrencyType', formatOptions: {showMeasure: false, currencyCode: false, minFractionDigits:0, maxFractionDigits:0}}\"\n\t\t\t\t\t\t\t\tvalueState=\"{Project>FC_ValueState_MaxValueB}\" valueStateText=\"{Project>FC_ValueStateText_MaxValueB}\"/>\n\t\t\t\t\t\t</t:template>\n\t\t\t\t\t</t:Column>\n\t\t\t\t\t<t:Column id=\"Column70\" filterProperty=\"AmtBTot\" sortProperty=\"AmtBTot\" visible=\"{P13n>/FixedColumnConfig/70/visible}\"\n\t\t\t\t\t\twidth=\"{P13n>/FixedColumnConfig/70/width}\">\n\t\t\t\t\t\t<m:Text text=\"{P13n>/FixedColumnConfig/70/text}\"/>\n\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t<m:Input editable=\"false\" id=\"AmtBTot\" textAlign=\"Right\"\n\t\t\t\t\t\t\t\tvalue=\"{parts:[{path:'Project>AmtBTot'},{path:'Project>Currency'}], type: 'colgate.asm.planning.base.util.CustomCurrencyType', formatOptions: {showMeasure: false, currencyCode: false, minFractionDigits:0, maxFractionDigits:0}}\"/>\n\t\t\t\t\t\t</t:template>\n\t\t\t\t\t</t:Column>\n\t\t\t\t\t<t:Column id=\"Column71\" filterProperty=\"AmtATot\" sortProperty=\"AmtATot\" visible=\"{P13n>/FixedColumnConfig/71/visible}\"\n\t\t\t\t\t\twidth=\"{P13n>/FixedColumnConfig/71/width}\">\n\t\t\t\t\t\t<m:Text text=\"{P13n>/FixedColumnConfig/71/text}\"/>\n\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t<m:Input editable=\"false\" id=\"AmtATot\" textAlign=\"Right\"\n\t\t\t\t\t\t\t\tvalue=\"{parts:[{path:'Project>AmtATot'},{path:'Project>Currency'}], type: 'colgate.asm.planning.base.util.CustomCurrencyTypeFull', formatOptions: {showMeasure: false, currencyCode: false, minFractionDigits:0, maxFractionDigits:0}}\"/>\n\t\t\t\t\t\t</t:template>\n\t\t\t\t\t</t:Column>\n\t\t\t\t\t<t:Column id=\"Column72\" filterProperty=\"AmtCTot\" sortProperty=\"AmtCTot\" visible=\"{P13n>/FixedColumnConfig/72/visible}\"\n\t\t\t\t\t\twidth=\"{P13n>/FixedColumnConfig/72/width}\">\n\t\t\t\t\t\t<m:Text text=\"{P13n>/FixedColumnConfig/72/text}\"/>\n\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t<m:Input editable=\"false\" id=\"AmtCTot\" textAlign=\"Right\"\n\t\t\t\t\t\t\t\tvalue=\"{parts:[{path:'Project>AmtCTot'},{path:'Project>Currency'}], type: 'colgate.asm.planning.base.util.CustomCurrencyType', formatOptions: {showMeasure: false, currencyCode: false, minFractionDigits:0, maxFractionDigits:0}}\"/>\n\t\t\t\t\t\t</t:template>\n\t\t\t\t\t</t:Column>\n\t\t\t\t\t<t:Column id=\"Column73\" filterProperty=\"AmtCbTot\" sortProperty=\"AmtCbTot\" visible=\"{P13n>/FixedColumnConfig/73/visible}\"\n\t\t\t\t\t\twidth=\"{P13n>/FixedColumnConfig/73/width}\">\n\t\t\t\t\t\t<m:Text text=\"{P13n>/FixedColumnConfig/73/text}\"/>\n\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t<m:Input editable=\"false\" id=\"AmtCbTot\" textAlign=\"Right\"\n\t\t\t\t\t\t\t\tvalue=\"{parts:[{path:'Project>AmtCbTot'},{path:'Project>Currency'}], type: 'colgate.asm.planning.base.util.CustomCurrencyType', formatOptions: {showMeasure: false, currencyCode: false, minFractionDigits:0, maxFractionDigits:0}}\"/>\n\t\t\t\t\t\t</t:template>\n\t\t\t\t\t</t:Column>\n\t\t\t\t\t<t:Column id=\"Column15\" filterProperty=\"AmtB1\" sortProperty=\"AmtB1\" visible=\"{P13n>/FixedColumnConfig/15/visible}\"\n\t\t\t\t\t\twidth=\"{P13n>/FixedColumnConfig/15/width}\">\n\t\t\t\t\t\t<m:Text text=\"{P13n>/FixedColumnConfig/15/text}\"/>\n\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t<m:Input editable=\"{Project>FC_Editable_AmtB1}\" id=\"AmtB1\" placeholder=\"{Project>FC_PlaceHolder_AmtB1}\" textAlign=\"Right\"\n\t\t\t\t\t\t\t\tliveChange=\"onBudgetChange\" submit=\"onEnter\"\n\t\t\t\t\t\t\t\tvalue=\"{parts:[{path:'Project>AmtB1'},{path:'Project>Currency'}], type: 'colgate.asm.planning.base.util.CustomCurrencyType', formatOptions: {showMeasure: false, currencyCode: false, minFractionDigits:0, maxFractionDigits:0}}\"\n\t\t\t\t\t\t\t\tvalueState=\"{Project>FC_ValueState_AmtB1}\" valueStateText=\"{Project>FC_ValueStateText_AmtB1}\"/>\n\t\t\t\t\t\t</t:template>\n\t\t\t\t\t</t:Column>\n\t\t\t\t\t<t:Column id=\"Column16\" filterProperty=\"AmtA1\" sortProperty=\"AmtA1\" visible=\"{P13n>/FixedColumnConfig/16/visible}\"\n\t\t\t\t\t\twidth=\"{P13n>/FixedColumnConfig/16/width}\">\n\t\t\t\t\t\t<m:Text text=\"{P13n>/FixedColumnConfig/16/text}\"/>\n\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t<m:Input editable=\"false\" textAlign=\"Right\"\n\t\t\t\t\t\t\t\tvalue=\"{parts:[{path:'Project>AmtA1'},{path:'Project>Currency'}], type: 'colgate.asm.planning.base.util.CustomCurrencyTypeFull', formatOptions: {showMeasure: false, currencyCode: false, minFractionDigits:0, maxFractionDigits:0}}\"/>\n\t\t\t\t\t\t</t:template>\n\t\t\t\t\t</t:Column>\n\t\t\t\t\t<!--<t:Column id=\"Column17\" filterProperty=\"AmtC1\" sortProperty=\"AmtC1\" visible=\"{P13n>/FixedColumnConfig/17/visible}\"-->\n\t\t\t\t\t<!--\twidth=\"{P13n>/FixedColumnConfig/17/width}\">-->\n\t\t\t\t\t<!--\t<m:Text text=\"{P13n>/FixedColumnConfig/17/text}\"/>-->\n\t\t\t\t\t<!--\t<t:template>-->\n\t\t\t\t\t<!--\t\t<m:Input editable=\"false\" textAlign=\"Right\"-->\n\t\t\t\t\t<!--\t\t\tvalue=\"{parts:[{path:'Project>AmtC1'},{path:'Project>Currency'}], type: 'colgate.asm.planning.base.util.CustomCurrencyType', formatOptions: {showMeasure: false, currencyCode: false, minFractionDigits:0, maxFractionDigits:0}}\"/>-->\n\t\t\t\t\t<!--\t</t:template>-->\n\t\t\t\t\t<!--</t:Column>-->\n\t\t\t\t\t<!--<t:Column id=\"Column18\" filterProperty=\"AmtCb1\" sortProperty=\"AmtCb1\" visible=\"{P13n>/FixedColumnConfig/18/visible}\"-->\n\t\t\t\t\t<!--\twidth=\"{P13n>/FixedColumnConfig/18/width}\">-->\n\t\t\t\t\t<!--\t<m:Text text=\"{P13n>/FixedColumnConfig/18/text}\"/>-->\n\t\t\t\t\t<!--\t<t:template>-->\n\t\t\t\t\t<!--\t\t<m:Input editable=\"false\" textAlign=\"Right\"-->\n\t\t\t\t\t<!--\t\t\tvalue=\"{parts:[{path:'Project>AmtCb1'},{path:'Project>Currency'}], type: 'colgate.asm.planning.base.util.CustomCurrencyType', formatOptions: {showMeasure: false, currencyCode: false, minFractionDigits:0, maxFractionDigits:0}}\"/>-->\n\t\t\t\t\t<!--\t</t:template>-->\n\t\t\t\t\t<!--</t:Column>-->\n\t\t\t\t\t<t:Column id=\"Column19\" filterProperty=\"AmtB2\" sortProperty=\"AmtB2\" visible=\"{P13n>/FixedColumnConfig/19/visible}\"\n\t\t\t\t\t\twidth=\"{P13n>/FixedColumnConfig/19/width}\">\n\t\t\t\t\t\t<m:Text text=\"{P13n>/FixedColumnConfig/19/text}\"/>\n\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t<m:Input editable=\"{Project>FC_Editable_AmtB2}\" id=\"AmtB2\" placeholder=\"{Project>FC_PlaceHolder_AmtB2}\" textAlign=\"Right\"\n\t\t\t\t\t\t\t\tliveChange=\"onBudgetChange\" submit=\"onEnter\"\n\t\t\t\t\t\t\t\tvalue=\"{parts:[{path:'Project>AmtB2'},{path:'Project>Currency'}], type: 'colgate.asm.planning.base.util.CustomCurrencyType', formatOptions: {showMeasure: false, currencyCode: false, minFractionDigits:0, maxFractionDigits:0}}\"\n\t\t\t\t\t\t\t\tvalueState=\"{Project>FC_ValueState_AmtB2}\" valueStateText=\"{Project>FC_ValueStateText_AmtB2}\"/>\n\t\t\t\t\t\t</t:template>\n\t\t\t\t\t</t:Column>\n\t\t\t\t\t<t:Column id=\"Column20\" filterProperty=\"AmtA2\" sortProperty=\"AmtA2\" visible=\"{P13n>/FixedColumnConfig/20/visible}\"\n\t\t\t\t\t\twidth=\"{P13n>/FixedColumnConfig/20/width}\">\n\t\t\t\t\t\t<m:Text text=\"{P13n>/FixedColumnConfig/20/text}\"/>\n\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t<m:Input editable=\"false\" textAlign=\"Right\"\n\t\t\t\t\t\t\t\tvalue=\"{parts:[{path:'Project>AmtA2'},{path:'Project>Currency'}], type: 'colgate.asm.planning.base.util.CustomCurrencyTypeFull', formatOptions: {showMeasure: false, currencyCode: false, minFractionDigits:0, maxFractionDigits:0}}\"/>\n\t\t\t\t\t\t</t:template>\n\t\t\t\t\t</t:Column>\n\t\t\t\t\t<!--<t:Column id=\"Column21\" filterProperty=\"AmtC2\" sortProperty=\"AmtC2\" visible=\"{P13n>/FixedColumnConfig/21/visible}\"-->\n\t\t\t\t\t<!--\twidth=\"{P13n>/FixedColumnConfig/21/width}\">-->\n\t\t\t\t\t<!--\t<m:Text text=\"{P13n>/FixedColumnConfig/21/text}\"/>-->\n\t\t\t\t\t<!--\t<t:template>-->\n\t\t\t\t\t<!--\t\t<m:Input editable=\"false\" textAlign=\"Right\"-->\n\t\t\t\t\t<!--\t\t\tvalue=\"{parts:[{path:'Project>AmtC2'},{path:'Project>Currency'}], type: 'colgate.asm.planning.base.util.CustomCurrencyType', formatOptions: {showMeasure: false, currencyCode: false, minFractionDigits:0, maxFractionDigits:0}}\"/>-->\n\t\t\t\t\t<!--\t</t:template>-->\n\t\t\t\t\t<!--</t:Column>-->\n\t\t\t\t\t<!--<t:Column id=\"Column22\" filterProperty=\"AmtCb2\" sortProperty=\"AmtCb2\" visible=\"{P13n>/FixedColumnConfig/22/visible}\"-->\n\t\t\t\t\t<!--\twidth=\"{P13n>/FixedColumnConfig/22/width}\">-->\n\t\t\t\t\t<!--\t<m:Text text=\"{P13n>/FixedColumnConfig/22/text}\"/>-->\n\t\t\t\t\t<!--\t<t:template>-->\n\t\t\t\t\t<!--\t\t<m:Input editable=\"false\" textAlign=\"Right\"-->\n\t\t\t\t\t<!--\t\t\tvalue=\"{parts:[{path:'Project>AmtCb2'},{path:'Project>Currency'}], type: 'colgate.asm.planning.base.util.CustomCurrencyType', formatOptions: {showMeasure: false, currencyCode: false, minFractionDigits:0, maxFractionDigits:0}}\"/>-->\n\t\t\t\t\t<!--\t</t:template>-->\n\t\t\t\t\t<!--</t:Column>-->\n\t\t\t\t\t<t:Column id=\"Column23\" filterProperty=\"AmtB3\" sortProperty=\"AmtB3\" visible=\"{P13n>/FixedColumnConfig/23/visible}\"\n\t\t\t\t\t\twidth=\"{P13n>/FixedColumnConfig/23/width}\">\n\t\t\t\t\t\t<m:Text text=\"{P13n>/FixedColumnConfig/23/text}\"/>\n\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t<m:Input editable=\"{Project>FC_Editable_AmtB3}\" id=\"AmtB3\" placeholder=\"{Project>FC_PlaceHolder_AmtB3}\" textAlign=\"Right\"\n\t\t\t\t\t\t\t\tliveChange=\"onBudgetChange\" submit=\"onEnter\"\n\t\t\t\t\t\t\t\tvalue=\"{parts:[{path:'Project>AmtB3'},{path:'Project>Currency'}], type: 'colgate.asm.planning.base.util.CustomCurrencyType', formatOptions: {showMeasure: false, currencyCode: false, minFractionDigits:0, maxFractionDigits:0}}\"\n\t\t\t\t\t\t\t\tvalueState=\"{Project>FC_ValueState_AmtB3}\" valueStateText=\"{Project>FC_ValueStateText_AmtB3}\"/>\n\t\t\t\t\t\t</t:template>\n\t\t\t\t\t</t:Column>\n\t\t\t\t\t<t:Column id=\"Column24\" filterProperty=\"AmtA3\" sortProperty=\"AmtA3\" visible=\"{P13n>/FixedColumnConfig/24/visible}\"\n\t\t\t\t\t\twidth=\"{P13n>/FixedColumnConfig/24/width}\">\n\t\t\t\t\t\t<m:Text text=\"{P13n>/FixedColumnConfig/24/text}\"/>\n\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t<m:Input editable=\"false\" textAlign=\"Right\"\n\t\t\t\t\t\t\t\tvalue=\"{parts:[{path:'Project>AmtA3'},{path:'Project>Currency'}], type: 'colgate.asm.planning.base.util.CustomCurrencyTypeFull', formatOptions: {showMeasure: false, currencyCode: false, minFractionDigits:0, maxFractionDigits:0}}\"/>\n\t\t\t\t\t\t</t:template>\n\t\t\t\t\t</t:Column>\n\t\t\t\t\t<!--<t:Column id=\"Column25\" filterProperty=\"AmtC3\" sortProperty=\"AmtC3\" visible=\"{P13n>/FixedColumnConfig/25/visible}\"-->\n\t\t\t\t\t<!--\twidth=\"{P13n>/FixedColumnConfig/25/width}\">-->\n\t\t\t\t\t<!--\t<m:Text text=\"{P13n>/FixedColumnConfig/25/text}\"/>-->\n\t\t\t\t\t<!--\t<t:template>-->\n\t\t\t\t\t<!--\t\t<m:Input editable=\"false\" textAlign=\"Right\"-->\n\t\t\t\t\t<!--\t\t\tvalue=\"{parts:[{path:'Project>AmtC3'},{path:'Project>Currency'}], type: 'colgate.asm.planning.base.util.CustomCurrencyType', formatOptions: {showMeasure: false, currencyCode: false, minFractionDigits:0, maxFractionDigits:0}}\"/>-->\n\t\t\t\t\t<!--\t</t:template>-->\n\t\t\t\t\t<!--</t:Column>-->\n\t\t\t\t\t<!--<t:Column id=\"Column26\" filterProperty=\"AmtCb3\" sortProperty=\"AmtCb3\" visible=\"{P13n>/FixedColumnConfig/26/visible}\"-->\n\t\t\t\t\t<!--\twidth=\"{P13n>/FixedColumnConfig/26/width}\">-->\n\t\t\t\t\t<!--\t<m:Text text=\"{P13n>/FixedColumnConfig/26/text}\"/>-->\n\t\t\t\t\t<!--\t<t:template>-->\n\t\t\t\t\t<!--\t\t<m:Input editable=\"false\" textAlign=\"Right\"-->\n\t\t\t\t\t<!--\t\t\tvalue=\"{parts:[{path:'Project>AmtCb3'},{path:'Project>Currency'}], type: 'colgate.asm.planning.base.util.CustomCurrencyType', formatOptions: {showMeasure: false, currencyCode: false, minFractionDigits:0, maxFractionDigits:0}}\"/>-->\n\t\t\t\t\t<!--\t</t:template>-->\n\t\t\t\t\t<!--</t:Column>-->\n\t\t\t\t\t<t:Column id=\"Column27\" filterProperty=\"AmtB4\" sortProperty=\"AmtB4\" visible=\"{P13n>/FixedColumnConfig/27/visible}\"\n\t\t\t\t\t\twidth=\"{P13n>/FixedColumnConfig/27/width}\">\n\t\t\t\t\t\t<m:Text text=\"{P13n>/FixedColumnConfig/27/text}\"/>\n\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t<m:Input editable=\"{Project>FC_Editable_AmtB4}\" id=\"AmtB4\" placeholder=\"{Project>FC_PlaceHolder_AmtB4}\" textAlign=\"Right\"\n\t\t\t\t\t\t\t\tliveChange=\"onBudgetChange\" submit=\"onEnter\"\n\t\t\t\t\t\t\t\tvalue=\"{parts:[{path:'Project>AmtB4'},{path:'Project>Currency'}], type: 'colgate.asm.planning.base.util.CustomCurrencyType', formatOptions: {showMeasure: false, currencyCode: false, minFractionDigits:0, maxFractionDigits:0}}\"\n\t\t\t\t\t\t\t\tvalueState=\"{Project>FC_ValueState_AmtB4}\" valueStateText=\"{Project>FC_ValueStateText_AmtB4}\"/>\n\t\t\t\t\t\t</t:template>\n\t\t\t\t\t</t:Column>\n\t\t\t\t\t<t:Column id=\"Column28\" filterProperty=\"AmtA4\" sortProperty=\"AmtA4\" visible=\"{P13n>/FixedColumnConfig/28/visible}\"\n\t\t\t\t\t\twidth=\"{P13n>/FixedColumnConfig/28/width}\">\n\t\t\t\t\t\t<m:Text text=\"{P13n>/FixedColumnConfig/28/text}\"/>\n\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t<m:Input editable=\"false\" textAlign=\"Right\"\n\t\t\t\t\t\t\t\tvalue=\"{parts:[{path:'Project>AmtA4'},{path:'Project>Currency'}], type: 'colgate.asm.planning.base.util.CustomCurrencyTypeFull', formatOptions: {showMeasure: false, currencyCode: false, minFractionDigits:0, maxFractionDigits:0}}\"/>\n\t\t\t\t\t\t</t:template>\n\t\t\t\t\t</t:Column>\n\t\t\t\t\t<!--<t:Column id=\"Column29\" filterProperty=\"AmtC4\" sortProperty=\"AmtC4\" visible=\"{P13n>/FixedColumnConfig/29/visible}\"-->\n\t\t\t\t\t<!--\twidth=\"{P13n>/FixedColumnConfig/29/width}\">-->\n\t\t\t\t\t<!--\t<m:Text text=\"{P13n>/FixedColumnConfig/29/text}\"/>-->\n\t\t\t\t\t<!--\t<t:template>-->\n\t\t\t\t\t<!--\t\t<m:Input editable=\"false\" textAlign=\"Right\"-->\n\t\t\t\t\t<!--\t\t\tvalue=\"{parts:[{path:'Project>AmtC4'},{path:'Project>Currency'}], type: 'colgate.asm.planning.base.util.CustomCurrencyType', formatOptions: {showMeasure: false, currencyCode: false, minFractionDigits:0, maxFractionDigits:0}}\"/>-->\n\t\t\t\t\t<!--\t</t:template>-->\n\t\t\t\t\t<!--</t:Column>-->\n\t\t\t\t\t<!--<t:Column id=\"Column30\" filterProperty=\"AmtCb4\" sortProperty=\"AmtCb4\" visible=\"{P13n>/FixedColumnConfig/30/visible}\"-->\n\t\t\t\t\t<!--\twidth=\"{P13n>/FixedColumnConfig/30/width}\">-->\n\t\t\t\t\t<!--\t<m:Text text=\"{P13n>/FixedColumnConfig/30/text}\"/>-->\n\t\t\t\t\t<!--\t<t:template>-->\n\t\t\t\t\t<!--\t\t<m:Input editable=\"false\" textAlign=\"Right\"-->\n\t\t\t\t\t<!--\t\t\tvalue=\"{parts:[{path:'Project>AmtCb4'},{path:'Project>Currency'}], type: 'colgate.asm.planning.base.util.CustomCurrencyType', formatOptions: {showMeasure: false, currencyCode: false, minFractionDigits:0, maxFractionDigits:0}}\"/>-->\n\t\t\t\t\t<!--\t</t:template>-->\n\t\t\t\t\t<!--</t:Column>-->\n\t\t\t\t\t<t:Column id=\"Column31\" filterProperty=\"AmtB5\" sortProperty=\"AmtB5\" visible=\"{P13n>/FixedColumnConfig/31/visible}\"\n\t\t\t\t\t\twidth=\"{P13n>/FixedColumnConfig/31/width}\">\n\t\t\t\t\t\t<m:Text text=\"{P13n>/FixedColumnConfig/31/text}\"/>\n\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t<m:Input editable=\"{Project>FC_Editable_AmtB5}\" id=\"AmtB5\" placeholder=\"{Project>FC_PlaceHolder_AmtB5}\" textAlign=\"Right\"\n\t\t\t\t\t\t\t\tliveChange=\"onBudgetChange\" submit=\"onEnter\"\n\t\t\t\t\t\t\t\tvalue=\"{parts:[{path:'Project>AmtB5'},{path:'Project>Currency'}], type: 'colgate.asm.planning.base.util.CustomCurrencyType', formatOptions: {showMeasure: false, currencyCode: false, minFractionDigits:0, maxFractionDigits:0}}\"\n\t\t\t\t\t\t\t\tvalueState=\"{Project>FC_ValueState_AmtB5}\" valueStateText=\"{Project>FC_ValueStateText_AmtB5}\"/>\n\t\t\t\t\t\t</t:template>\n\t\t\t\t\t</t:Column>\n\t\t\t\t\t<t:Column id=\"Column32\" filterProperty=\"AmtA5\" sortProperty=\"AmtA5\" visible=\"{P13n>/FixedColumnConfig/32/visible}\"\n\t\t\t\t\t\twidth=\"{P13n>/FixedColumnConfig/32/width}\">\n\t\t\t\t\t\t<m:Text text=\"{P13n>/FixedColumnConfig/32/text}\"/>\n\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t<m:Input editable=\"false\" textAlign=\"Right\"\n\t\t\t\t\t\t\t\tvalue=\"{parts:[{path:'Project>AmtA5'},{path:'Project>Currency'}], type: 'colgate.asm.planning.base.util.CustomCurrencyTypeFull', formatOptions: {showMeasure: false, currencyCode: false, minFractionDigits:0, maxFractionDigits:0}}\"/>\n\t\t\t\t\t\t</t:template>\n\t\t\t\t\t</t:Column>\n\t\t\t\t\t<!--<t:Column id=\"Column33\" filterProperty=\"AmtC5\" sortProperty=\"AmtC5\" visible=\"{P13n>/FixedColumnConfig/33/visible}\"-->\n\t\t\t\t\t<!--\twidth=\"{P13n>/FixedColumnConfig/33/width}\">-->\n\t\t\t\t\t<!--\t<m:Text text=\"{P13n>/FixedColumnConfig/33/text}\"/>-->\n\t\t\t\t\t<!--\t<t:template>-->\n\t\t\t\t\t<!--\t\t<m:Input editable=\"false\" textAlign=\"Right\"-->\n\t\t\t\t\t<!--\t\t\tvalue=\"{parts:[{path:'Project>AmtC5'},{path:'Project>Currency'}], type: 'colgate.asm.planning.base.util.CustomCurrencyType', formatOptions: {showMeasure: false, currencyCode: false, minFractionDigits:0, maxFractionDigits:0}}\"/>-->\n\t\t\t\t\t<!--\t</t:template>-->\n\t\t\t\t\t<!--</t:Column>-->\n\t\t\t\t\t<!--<t:Column id=\"Column34\" filterProperty=\"AmtCb5\" sortProperty=\"AmtCb5\" visible=\"{P13n>/FixedColumnConfig/34/visible}\"-->\n\t\t\t\t\t<!--\twidth=\"{P13n>/FixedColumnConfig/34/width}\">-->\n\t\t\t\t\t<!--\t<m:Text text=\"{P13n>/FixedColumnConfig/34/text}\"/>-->\n\t\t\t\t\t<!--\t<t:template>-->\n\t\t\t\t\t<!--\t\t<m:Input editable=\"false\" textAlign=\"Right\"-->\n\t\t\t\t\t<!--\t\t\tvalue=\"{parts:[{path:'Project>AmtCb5'},{path:'Project>Currency'}], type: 'colgate.asm.planning.base.util.CustomCurrencyType', formatOptions: {showMeasure: false, currencyCode: false, minFractionDigits:0, maxFractionDigits:0}}\"/>-->\n\t\t\t\t\t<!--\t</t:template>-->\n\t\t\t\t\t<!--</t:Column>-->\n\t\t\t\t\t<t:Column id=\"Column35\" filterProperty=\"AmtB6\" sortProperty=\"AmtB6\" visible=\"{P13n>/FixedColumnConfig/35/visible}\"\n\t\t\t\t\t\twidth=\"{P13n>/FixedColumnConfig/35/width}\">\n\t\t\t\t\t\t<m:Text text=\"{P13n>/FixedColumnConfig/35/text}\"/>\n\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t<m:Input editable=\"{Project>FC_Editable_AmtB6}\" id=\"AmtB6\" placeholder=\"{Project>FC_PlaceHolder_AmtB6}\" textAlign=\"Right\"\n\t\t\t\t\t\t\t\tliveChange=\"onBudgetChange\" submit=\"onEnter\"\n\t\t\t\t\t\t\t\tvalue=\"{parts:[{path:'Project>AmtB6'},{path:'Project>Currency'}], type: 'colgate.asm.planning.base.util.CustomCurrencyType', formatOptions: {showMeasure: false, currencyCode: false, minFractionDigits:0, maxFractionDigits:0}}\"\n\t\t\t\t\t\t\t\tvalueState=\"{Project>FC_ValueState_AmtB6}\" valueStateText=\"{Project>FC_ValueStateText_AmtB6}\"/>\n\t\t\t\t\t\t</t:template>\n\t\t\t\t\t</t:Column>\n\t\t\t\t\t<t:Column id=\"Column36\" filterProperty=\"AmtA6\" sortProperty=\"AmtA6\" visible=\"{P13n>/FixedColumnConfig/36/visible}\"\n\t\t\t\t\t\twidth=\"{P13n>/FixedColumnConfig/36/width}\">\n\t\t\t\t\t\t<m:Text text=\"{P13n>/FixedColumnConfig/36/text}\"/>\n\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t<m:Input editable=\"false\" textAlign=\"Right\"\n\t\t\t\t\t\t\t\tvalue=\"{parts:[{path:'Project>AmtA6'},{path:'Project>Currency'}], type: 'colgate.asm.planning.base.util.CustomCurrencyTypeFull', formatOptions: {showMeasure: false, currencyCode: false, minFractionDigits:0, maxFractionDigits:0}}\"/>\n\t\t\t\t\t\t</t:template>\n\t\t\t\t\t</t:Column>\n\t\t\t\t\t<!--<t:Column id=\"Column37\" filterProperty=\"AmtC6\" sortProperty=\"AmtC6\" visible=\"{P13n>/FixedColumnConfig/37/visible}\"-->\n\t\t\t\t\t<!--\twidth=\"{P13n>/FixedColumnConfig/37/width}\">-->\n\t\t\t\t\t<!--\t<m:Text text=\"{P13n>/FixedColumnConfig/37/text}\"/>-->\n\t\t\t\t\t<!--\t<t:template>-->\n\t\t\t\t\t<!--\t\t<m:Input editable=\"false\" textAlign=\"Right\"-->\n\t\t\t\t\t<!--\t\t\tvalue=\"{parts:[{path:'Project>AmtC6'},{path:'Project>Currency'}], type: 'colgate.asm.planning.base.util.CustomCurrencyType', formatOptions: {showMeasure: false, currencyCode: false, minFractionDigits:0, maxFractionDigits:0}}\"/>-->\n\t\t\t\t\t<!--\t</t:template>-->\n\t\t\t\t\t<!--</t:Column>-->\n\t\t\t\t\t<!--<t:Column id=\"Column38\" filterProperty=\"AmtCb6\" sortProperty=\"AmtCb6\" visible=\"{P13n>/FixedColumnConfig/38/visible}\"-->\n\t\t\t\t\t<!--\twidth=\"{P13n>/FixedColumnConfig/38/width}\">-->\n\t\t\t\t\t<!--\t<m:Text text=\"{P13n>/FixedColumnConfig/38/text}\"/>-->\n\t\t\t\t\t<!--\t<t:template>-->\n\t\t\t\t\t<!--\t\t<m:Input editable=\"false\" textAlign=\"Right\"-->\n\t\t\t\t\t<!--\t\t\tvalue=\"{parts:[{path:'Project>AmtCb6'},{path:'Project>Currency'}], type: 'colgate.asm.planning.base.util.CustomCurrencyType', formatOptions: {showMeasure: false, currencyCode: false, minFractionDigits:0, maxFractionDigits:0}}\"/>-->\n\t\t\t\t\t<!--\t</t:template>-->\n\t\t\t\t\t<!--</t:Column>-->\n\t\t\t\t\t<t:Column id=\"Column39\" filterProperty=\"AmtB7\" sortProperty=\"AmtB7\" visible=\"{P13n>/FixedColumnConfig/39/visible}\"\n\t\t\t\t\t\twidth=\"{P13n>/FixedColumnConfig/39/width}\">\n\t\t\t\t\t\t<m:Text text=\"{P13n>/FixedColumnConfig/39/text}\"/>\n\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t<m:Input editable=\"{Project>FC_Editable_AmtB7}\" id=\"AmtB7\" placeholder=\"{Project>FC_PlaceHolder_AmtB7}\" textAlign=\"Right\"\n\t\t\t\t\t\t\t\tliveChange=\"onBudgetChange\" submit=\"onEnter\"\n\t\t\t\t\t\t\t\tvalue=\"{parts:[{path:'Project>AmtB7'},{path:'Project>Currency'}], type: 'colgate.asm.planning.base.util.CustomCurrencyType', formatOptions: {showMeasure: false, currencyCode: false, minFractionDigits:0, maxFractionDigits:0}}\"\n\t\t\t\t\t\t\t\tvalueState=\"{Project>FC_ValueState_AmtB7}\" valueStateText=\"{Project>FC_ValueStateText_AmtB7}\"/>\n\t\t\t\t\t\t</t:template>\n\t\t\t\t\t</t:Column>\n\t\t\t\t\t<t:Column id=\"Column40\" filterProperty=\"AmtA7\" sortProperty=\"AmtA7\" visible=\"{P13n>/FixedColumnConfig/40/visible}\"\n\t\t\t\t\t\twidth=\"{P13n>/FixedColumnConfig/40/width}\">\n\t\t\t\t\t\t<m:Text text=\"{P13n>/FixedColumnConfig/40/text}\"/>\n\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t<m:Input editable=\"false\" textAlign=\"Right\"\n\t\t\t\t\t\t\t\tvalue=\"{parts:[{path:'Project>AmtA7'},{path:'Project>Currency'}], type: 'colgate.asm.planning.base.util.CustomCurrencyTypeFull', formatOptions: {showMeasure: false, currencyCode: false, minFractionDigits:0, maxFractionDigits:0}}\"/>\n\t\t\t\t\t\t</t:template>\n\t\t\t\t\t</t:Column>\n\t\t\t\t\t<!--<t:Column id=\"Column41\" filterProperty=\"AmtC7\" sortProperty=\"AmtC7\" visible=\"{P13n>/FixedColumnConfig/41/visible}\"-->\n\t\t\t\t\t<!--\twidth=\"{P13n>/FixedColumnConfig/41/width}\">-->\n\t\t\t\t\t<!--\t<m:Text text=\"{P13n>/FixedColumnConfig/41/text}\"/>-->\n\t\t\t\t\t<!--\t<t:template>-->\n\t\t\t\t\t<!--\t\t<m:Input editable=\"false\" textAlign=\"Right\"-->\n\t\t\t\t\t<!--\t\t\tvalue=\"{parts:[{path:'Project>AmtC7'},{path:'Project>Currency'}], type: 'colgate.asm.planning.base.util.CustomCurrencyType', formatOptions: {showMeasure: false, currencyCode: false, minFractionDigits:0, maxFractionDigits:0}}\"/>-->\n\t\t\t\t\t<!--\t</t:template>-->\n\t\t\t\t\t<!--</t:Column>-->\n\t\t\t\t\t<!--<t:Column id=\"Column42\" filterProperty=\"AmtCb7\" sortProperty=\"AmtCb7\" visible=\"{P13n>/FixedColumnConfig/42/visible}\"-->\n\t\t\t\t\t<!--\twidth=\"{P13n>/FixedColumnConfig/42/width}\">-->\n\t\t\t\t\t<!--\t<m:Text text=\"{P13n>/FixedColumnConfig/42/text}\"/>-->\n\t\t\t\t\t<!--\t<t:template>-->\n\t\t\t\t\t<!--\t\t<m:Input editable=\"false\" textAlign=\"Right\"-->\n\t\t\t\t\t<!--\t\t\tvalue=\"{parts:[{path:'Project>AmtCb7'},{path:'Project>Currency'}], type: 'colgate.asm.planning.base.util.CustomCurrencyType', formatOptions: {showMeasure: false, currencyCode: false, minFractionDigits:0, maxFractionDigits:0}}\"/>-->\n\t\t\t\t\t<!--\t</t:template>-->\n\t\t\t\t\t<!--</t:Column>-->\n\t\t\t\t\t<t:Column id=\"Column43\" filterProperty=\"AmtB8\" sortProperty=\"AmtB8\" visible=\"{P13n>/FixedColumnConfig/43/visible}\"\n\t\t\t\t\t\twidth=\"{P13n>/FixedColumnConfig/43/width}\">\n\t\t\t\t\t\t<m:Text text=\"{P13n>/FixedColumnConfig/43/text}\"/>\n\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t<m:Input editable=\"{Project>FC_Editable_AmtB8}\" id=\"AmtB8\" placeholder=\"{Project>FC_PlaceHolder_AmtB8}\" textAlign=\"Right\"\n\t\t\t\t\t\t\t\tliveChange=\"onBudgetChange\" submit=\"onEnter\"\n\t\t\t\t\t\t\t\tvalue=\"{parts:[{path:'Project>AmtB8'},{path:'Project>Currency'}], type: 'colgate.asm.planning.base.util.CustomCurrencyType', formatOptions: {showMeasure: false, currencyCode: false, minFractionDigits:0, maxFractionDigits:0}}\"\n\t\t\t\t\t\t\t\tvalueState=\"{Project>FC_ValueState_AmtB8}\" valueStateText=\"{Project>FC_ValueStateText_AmtB8}\"/>\n\t\t\t\t\t\t</t:template>\n\t\t\t\t\t</t:Column>\n\t\t\t\t\t<t:Column id=\"Column44\" filterProperty=\"AmtA8\" sortProperty=\"AmtA8\" visible=\"{P13n>/FixedColumnConfig/44/visible}\"\n\t\t\t\t\t\twidth=\"{P13n>/FixedColumnConfig/44/width}\">\n\t\t\t\t\t\t<m:Text text=\"{P13n>/FixedColumnConfig/44/text}\"/>\n\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t<m:Input editable=\"false\" textAlign=\"Right\"\n\t\t\t\t\t\t\t\tvalue=\"{parts:[{path:'Project>AmtA8'},{path:'Project>Currency'}], type: 'colgate.asm.planning.base.util.CustomCurrencyTypeFull', formatOptions: {showMeasure: false, currencyCode: false, minFractionDigits:0, maxFractionDigits:0}}\"/>\n\t\t\t\t\t\t</t:template>\n\t\t\t\t\t</t:Column>\n\t\t\t\t\t<!--<t:Column id=\"Column45\" filterProperty=\"AmtC8\" sortProperty=\"AmtC8\" visible=\"{P13n>/FixedColumnConfig/45/visible}\"-->\n\t\t\t\t\t<!--\twidth=\"{P13n>/FixedColumnConfig/45/width}\">-->\n\t\t\t\t\t<!--\t<m:Text text=\"{P13n>/FixedColumnConfig/45/text}\"/>-->\n\t\t\t\t\t<!--\t<t:template>-->\n\t\t\t\t\t<!--\t\t<m:Input editable=\"false\" textAlign=\"Right\"-->\n\t\t\t\t\t<!--\t\t\tvalue=\"{parts:[{path:'Project>AmtC8'},{path:'Project>Currency'}], type: 'colgate.asm.planning.base.util.CustomCurrencyType', formatOptions: {showMeasure: false, currencyCode: false, minFractionDigits:0, maxFractionDigits:0}}\"/>-->\n\t\t\t\t\t<!--\t</t:template>-->\n\t\t\t\t\t<!--</t:Column>-->\n\t\t\t\t\t<!--<t:Column id=\"Column46\" filterProperty=\"AmtCb8\" sortProperty=\"AmtCb8\" visible=\"{P13n>/FixedColumnConfig/46/visible}\"-->\n\t\t\t\t\t<!--\twidth=\"{P13n>/FixedColumnConfig/46/width}\">-->\n\t\t\t\t\t<!--\t<m:Text text=\"{P13n>/FixedColumnConfig/46/text}\"/>-->\n\t\t\t\t\t<!--\t<t:template>-->\n\t\t\t\t\t<!--\t\t<m:Input editable=\"false\" textAlign=\"Right\"-->\n\t\t\t\t\t<!--\t\t\tvalue=\"{parts:[{path:'Project>AmtCb8'},{path:'Project>Currency'}], type: 'colgate.asm.planning.base.util.CustomCurrencyType', formatOptions: {showMeasure: false, currencyCode: false, minFractionDigits:0, maxFractionDigits:0}}\"/>-->\n\t\t\t\t\t<!--\t</t:template>-->\n\t\t\t\t\t<!--</t:Column>-->\n\t\t\t\t\t<t:Column id=\"Column47\" filterProperty=\"AmtB9\" sortProperty=\"AmtB9\" visible=\"{P13n>/FixedColumnConfig/47/visible}\"\n\t\t\t\t\t\twidth=\"{P13n>/FixedColumnConfig/47/width}\">\n\t\t\t\t\t\t<m:Text text=\"{P13n>/FixedColumnConfig/47/text}\"/>\n\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t<m:Input editable=\"{Project>FC_Editable_AmtB9}\" id=\"AmtB9\" placeholder=\"{Project>FC_PlaceHolder_AmtB9}\" textAlign=\"Right\"\n\t\t\t\t\t\t\t\tliveChange=\"onBudgetChange\" submit=\"onEnter\"\n\t\t\t\t\t\t\t\tvalue=\"{parts:[{path:'Project>AmtB9'},{path:'Project>Currency'}], type: 'colgate.asm.planning.base.util.CustomCurrencyType', formatOptions: {showMeasure: false, currencyCode: false, minFractionDigits:0, maxFractionDigits:0}}\"\n\t\t\t\t\t\t\t\tvalueState=\"{Project>FC_ValueState_AmtB9}\" valueStateText=\"{Project>FC_ValueStateText_AmtB9}\"/>\n\t\t\t\t\t\t</t:template>\n\t\t\t\t\t</t:Column>\n\t\t\t\t\t<t:Column id=\"Column48\" filterProperty=\"AmtA9\" sortProperty=\"AmtA9\" visible=\"{P13n>/FixedColumnConfig/48/visible}\"\n\t\t\t\t\t\twidth=\"{P13n>/FixedColumnConfig/48/width}\">\n\t\t\t\t\t\t<m:Text text=\"{P13n>/FixedColumnConfig/48/text}\"/>\n\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t<m:Input editable=\"false\" textAlign=\"Right\"\n\t\t\t\t\t\t\t\tvalue=\"{parts:[{path:'Project>AmtA9'},{path:'Project>Currency'}], type: 'colgate.asm.planning.base.util.CustomCurrencyTypeFull', formatOptions: {showMeasure: false, currencyCode: false, minFractionDigits:0, maxFractionDigits:0}}\"/>\n\t\t\t\t\t\t</t:template>\n\t\t\t\t\t</t:Column>\n\t\t\t\t\t<!--<t:Column id=\"Column49\" filterProperty=\"AmtC9\" sortProperty=\"AmtC9\" visible=\"{P13n>/FixedColumnConfig/49/visible}\"-->\n\t\t\t\t\t<!--\twidth=\"{P13n>/FixedColumnConfig/49/width}\">-->\n\t\t\t\t\t<!--\t<m:Text text=\"{P13n>/FixedColumnConfig/49/text}\"/>-->\n\t\t\t\t\t<!--\t<t:template>-->\n\t\t\t\t\t<!--\t\t<m:Input editable=\"false\" textAlign=\"Right\"-->\n\t\t\t\t\t<!--\t\t\tvalue=\"{parts:[{path:'Project>AmtC9'},{path:'Project>Currency'}], type: 'colgate.asm.planning.base.util.CustomCurrencyType', formatOptions: {showMeasure: false, currencyCode: false, minFractionDigits:0, maxFractionDigits:0}}\"/>-->\n\t\t\t\t\t<!--\t</t:template>-->\n\t\t\t\t\t<!--</t:Column>-->\n\t\t\t\t\t<!--<t:Column id=\"Column50\" filterProperty=\"AmtCb9\" sortProperty=\"AmtCb9\" visible=\"{P13n>/FixedColumnConfig/50/visible}\"-->\n\t\t\t\t\t<!--\twidth=\"{P13n>/FixedColumnConfig/50/width}\">-->\n\t\t\t\t\t<!--\t<m:Text text=\"{P13n>/FixedColumnConfig/50/text}\"/>-->\n\t\t\t\t\t<!--\t<t:template>-->\n\t\t\t\t\t<!--\t\t<m:Input editable=\"false\" textAlign=\"Right\"-->\n\t\t\t\t\t<!--\t\t\tvalue=\"{parts:[{path:'Project>AmtCb9'},{path:'Project>Currency'}], type: 'colgate.asm.planning.base.util.CustomCurrencyType', formatOptions: {showMeasure: false, currencyCode: false, minFractionDigits:0, maxFractionDigits:0}}\"/>-->\n\t\t\t\t\t<!--\t</t:template>-->\n\t\t\t\t\t<!--</t:Column>-->\n\t\t\t\t\t<t:Column id=\"Column51\" filterProperty=\"AmtB10\" sortProperty=\"AmtB10\" visible=\"{P13n>/FixedColumnConfig/51/visible}\"\n\t\t\t\t\t\twidth=\"{P13n>/FixedColumnConfig/51/width}\">\n\t\t\t\t\t\t<m:Text text=\"{P13n>/FixedColumnConfig/51/text}\"/>\n\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t<m:Input editable=\"{Project>FC_Editable_AmtB10}\" id=\"AmtB10\" placeholder=\"{Project>FC_PlaceHolder_AmtB10}\" textAlign=\"Right\"\n\t\t\t\t\t\t\t\tliveChange=\"onBudgetChange\" submit=\"onEnter\"\n\t\t\t\t\t\t\t\tvalue=\"{parts:[{path:'Project>AmtB10'},{path:'Project>Currency'}], type: 'colgate.asm.planning.base.util.CustomCurrencyType', formatOptions: {showMeasure: false, currencyCode: false, minFractionDigits:0, maxFractionDigits:0}}\"\n\t\t\t\t\t\t\t\tvalueState=\"{Project>FC_ValueState_AmtB10}\" valueStateText=\"{Project>FC_ValueStateText_AmtB10}\"/>\n\t\t\t\t\t\t</t:template>\n\t\t\t\t\t</t:Column>\n\t\t\t\t\t<t:Column id=\"Column52\" filterProperty=\"AmtA10\" sortProperty=\"AmtA10\" visible=\"{P13n>/FixedColumnConfig/52/visible}\"\n\t\t\t\t\t\twidth=\"{P13n>/FixedColumnConfig/52/width}\">\n\t\t\t\t\t\t<m:Text text=\"{P13n>/FixedColumnConfig/52/text}\"/>\n\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t<m:Input editable=\"false\" textAlign=\"Right\"\n\t\t\t\t\t\t\t\tvalue=\"{parts:[{path:'Project>AmtA10'},{path:'Project>Currency'}], type: 'colgate.asm.planning.base.util.CustomCurrencyTypeFull', formatOptions: {showMeasure: false, currencyCode: false, minFractionDigits:0, maxFractionDigits:0}}\"/>\n\t\t\t\t\t\t</t:template>\n\t\t\t\t\t</t:Column>\n\t\t\t\t\t<!--<t:Column id=\"Column53\" filterProperty=\"AmtC10\" sortProperty=\"AmtC10\" visible=\"{P13n>/FixedColumnConfig/53/visible}\"-->\n\t\t\t\t\t<!--\twidth=\"{P13n>/FixedColumnConfig/53/width}\">-->\n\t\t\t\t\t<!--\t<m:Text text=\"{P13n>/FixedColumnConfig/53/text}\"/>-->\n\t\t\t\t\t<!--\t<t:template>-->\n\t\t\t\t\t<!--\t\t<m:Input editable=\"false\" textAlign=\"Right\"-->\n\t\t\t\t\t<!--\t\t\tvalue=\"{parts:[{path:'Project>AmtC10'},{path:'Project>Currency'}], type: 'colgate.asm.planning.base.util.CustomCurrencyType', formatOptions: {showMeasure: false, currencyCode: false, minFractionDigits:0, maxFractionDigits:0}}\"/>-->\n\t\t\t\t\t<!--\t</t:template>-->\n\t\t\t\t\t<!--</t:Column>-->\n\t\t\t\t\t<!--<t:Column id=\"Column54\" filterProperty=\"AmtCb10\" sortProperty=\"AmtCb10\" visible=\"{P13n>/FixedColumnConfig/54/visible}\"-->\n\t\t\t\t\t<!--\twidth=\"{P13n>/FixedColumnConfig/54/width}\">-->\n\t\t\t\t\t<!--\t<m:Text text=\"{P13n>/FixedColumnConfig/54/text}\"/>-->\n\t\t\t\t\t<!--\t<t:template>-->\n\t\t\t\t\t<!--\t\t<m:Input editable=\"false\" textAlign=\"Right\"-->\n\t\t\t\t\t<!--\t\t\tvalue=\"{parts:[{path:'Project>AmtCb10'},{path:'Project>Currency'}], type: 'colgate.asm.planning.base.util.CustomCurrencyType', formatOptions: {showMeasure: false, currencyCode: false, minFractionDigits:0, maxFractionDigits:0}}\"/>-->\n\t\t\t\t\t<!--\t</t:template>-->\n\t\t\t\t\t<!--</t:Column>-->\n\t\t\t\t\t<t:Column id=\"Column55\" filterProperty=\"AmtB11\" sortProperty=\"AmtB11\" visible=\"{P13n>/FixedColumnConfig/55/visible}\"\n\t\t\t\t\t\twidth=\"{P13n>/FixedColumnConfig/55/width}\">\n\t\t\t\t\t\t<m:Text text=\"{P13n>/FixedColumnConfig/55/text}\"/>\n\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t<m:Input editable=\"{Project>FC_Editable_AmtB11}\" id=\"AmtB11\" placeholder=\"{Project>FC_PlaceHolder_AmtB11}\" textAlign=\"Right\"\n\t\t\t\t\t\t\t\tliveChange=\"onBudgetChange\" submit=\"onEnter\"\n\t\t\t\t\t\t\t\tvalue=\"{parts:[{path:'Project>AmtB11'},{path:'Project>Currency'}], type: 'colgate.asm.planning.base.util.CustomCurrencyType', formatOptions: {showMeasure: false, currencyCode: false, minFractionDigits:0, maxFractionDigits:0}}\"\n\t\t\t\t\t\t\t\tvalueState=\"{Project>FC_ValueState_AmtB11}\" valueStateText=\"{Project>FC_ValueStateText_AmtB11}\"/>\n\t\t\t\t\t\t</t:template>\n\t\t\t\t\t</t:Column>\n\t\t\t\t\t<t:Column id=\"Column56\" filterProperty=\"AmtA11\" sortProperty=\"AmtA11\" visible=\"{P13n>/FixedColumnConfig/56/visible}\"\n\t\t\t\t\t\twidth=\"{P13n>/FixedColumnConfig/56/width}\">\n\t\t\t\t\t\t<m:Text text=\"{P13n>/FixedColumnConfig/56/text}\"/>\n\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t<m:Input editable=\"false\" textAlign=\"Right\"\n\t\t\t\t\t\t\t\tvalue=\"{parts:[{path:'Project>AmtA11'},{path:'Project>Currency'}], type: 'colgate.asm.planning.base.util.CustomCurrencyTypeFull', formatOptions: {showMeasure: false, currencyCode: false, minFractionDigits:0, maxFractionDigits:0}}\"/>\n\t\t\t\t\t\t</t:template>\n\t\t\t\t\t</t:Column>\n\t\t\t\t\t<!--<t:Column id=\"Column57\" filterProperty=\"AmtC11\" sortProperty=\"AmtC11\" visible=\"{P13n>/FixedColumnConfig/57/visible}\"-->\n\t\t\t\t\t<!--\twidth=\"{P13n>/FixedColumnConfig/57/width}\">-->\n\t\t\t\t\t<!--\t<m:Text text=\"{P13n>/FixedColumnConfig/57/text}\"/>-->\n\t\t\t\t\t<!--\t<t:template>-->\n\t\t\t\t\t<!--\t\t<m:Input editable=\"false\" textAlign=\"Right\"-->\n\t\t\t\t\t<!--\t\t\tvalue=\"{parts:[{path:'Project>AmtC11'},{path:'Project>Currency'}], type: 'colgate.asm.planning.base.util.CustomCurrencyType', formatOptions: {showMeasure: false, currencyCode: false, minFractionDigits:0, maxFractionDigits:0}}\"/>-->\n\t\t\t\t\t<!--\t</t:template>-->\n\t\t\t\t\t<!--</t:Column>-->\n\t\t\t\t\t<!--<t:Column id=\"Column58\" filterProperty=\"AmtCb11\" sortProperty=\"AmtCb11\" visible=\"{P13n>/FixedColumnConfig/58/visible}\"-->\n\t\t\t\t\t<!--\twidth=\"{P13n>/FixedColumnConfig/58/width}\">-->\n\t\t\t\t\t<!--\t<m:Text text=\"{P13n>/FixedColumnConfig/58/text}\"/>-->\n\t\t\t\t\t<!--\t<t:template>-->\n\t\t\t\t\t<!--\t\t<m:Input editable=\"false\" textAlign=\"Right\"-->\n\t\t\t\t\t<!--\t\t\tvalue=\"{parts:[{path:'Project>AmtCb11'},{path:'Project>Currency'}], type: 'colgate.asm.planning.base.util.CustomCurrencyType', formatOptions: {showMeasure: false, currencyCode: false, minFractionDigits:0, maxFractionDigits:0}}\"/>-->\n\t\t\t\t\t<!--\t</t:template>-->\n\t\t\t\t\t<!--</t:Column>-->\n\t\t\t\t\t<t:Column id=\"Column59\" filterProperty=\"AmtB12\" sortProperty=\"AmtB12\" visible=\"{P13n>/FixedColumnConfig/59/visible}\"\n\t\t\t\t\t\twidth=\"{P13n>/FixedColumnConfig/59/width}\">\n\t\t\t\t\t\t<m:Text text=\"{P13n>/FixedColumnConfig/59/text}\"/>\n\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t<m:Input editable=\"{Project>FC_Editable_AmtB12}\" id=\"AmtB12\" placeholder=\"{Project>FC_PlaceHolder_AmtB12}\" textAlign=\"Right\"\n\t\t\t\t\t\t\t\tliveChange=\"onBudgetChange\" submit=\"onEnter\"\n\t\t\t\t\t\t\t\tvalue=\"{parts:[{path:'Project>AmtB12'},{path:'Project>Currency'}], type: 'colgate.asm.planning.base.util.CustomCurrencyType', formatOptions: {showMeasure: false, currencyCode: false, minFractionDigits:0, maxFractionDigits:0}}\"\n\t\t\t\t\t\t\t\tvalueState=\"{Project>FC_ValueState_AmtB12}\" valueStateText=\"{Project>FC_ValueStateText_AmtB12}\"/>\n\t\t\t\t\t\t</t:template>\n\t\t\t\t\t</t:Column>\n\t\t\t\t\t<t:Column id=\"Column60\" filterProperty=\"AmtA12\" sortProperty=\"AmtA12\" visible=\"{P13n>/FixedColumnConfig/60/visible}\"\n\t\t\t\t\t\twidth=\"{P13n>/FixedColumnConfig/60/width}\">\n\t\t\t\t\t\t<m:Text text=\"{P13n>/FixedColumnConfig/60/text}\"/>\n\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t<m:Input editable=\"false\" textAlign=\"Right\"\n\t\t\t\t\t\t\t\tvalue=\"{parts:[{path:'Project>AmtA12'},{path:'Project>Currency'}], type: 'colgate.asm.planning.base.util.CustomCurrencyTypeFull', formatOptions: {showMeasure: false, currencyCode: false, minFractionDigits:0, maxFractionDigits:0}}\"/>\n\t\t\t\t\t\t</t:template>\n\t\t\t\t\t</t:Column>\n\t\t\t\t\t<!--<t:Column id=\"Column61\" filterProperty=\"AmtC12\" sortProperty=\"AmtC12\" visible=\"{P13n>/FixedColumnConfig/61/visible}\"-->\n\t\t\t\t\t<!--\twidth=\"{P13n>/FixedColumnConfig/61/width}\">-->\n\t\t\t\t\t<!--\t<m:Text text=\"{P13n>/FixedColumnConfig/61/text}\"/>-->\n\t\t\t\t\t<!--\t<t:template>-->\n\t\t\t\t\t<!--\t\t<m:Input editable=\"false\" textAlign=\"Right\"-->\n\t\t\t\t\t<!--\t\t\tvalue=\"{parts:[{path:'Project>AmtC12'},{path:'Project>Currency'}], type: 'colgate.asm.planning.base.util.CustomCurrencyType', formatOptions: {showMeasure: false, currencyCode: false, minFractionDigits:0, maxFractionDigits:0}}\"/>-->\n\t\t\t\t\t<!--\t</t:template>-->\n\t\t\t\t\t<!--</t:Column>-->\n\t\t\t\t\t<!--<t:Column id=\"Column62\" filterProperty=\"AmtCb12\" sortProperty=\"AmtCb12\" visible=\"{P13n>/FixedColumnConfig/62/visible}\"-->\n\t\t\t\t\t<!--\twidth=\"{P13n>/FixedColumnConfig/62/width}\">-->\n\t\t\t\t\t<!--\t<m:Text text=\"{P13n>/FixedColumnConfig/62/text}\"/>-->\n\t\t\t\t\t<!--\t<t:template>-->\n\t\t\t\t\t<!--\t\t<m:Input editable=\"false\" textAlign=\"Right\"-->\n\t\t\t\t\t<!--\t\t\tvalue=\"{parts:[{path:'Project>AmtCb12'},{path:'Project>Currency'}], type: 'colgate.asm.planning.base.util.CustomCurrencyType', formatOptions: {showMeasure: false, currencyCode: false, minFractionDigits:0, maxFractionDigits:0}}\"/>-->\n\t\t\t\t\t<!--\t</t:template>-->\n\t\t\t\t\t<!--</t:Column>-->\n\t\t\t\t\t<t:Column id=\"Column74\" filterProperty=\"CreatedBy\" sortProperty=\"CreatedBy\" visible=\"{P13n>/FixedColumnConfig/74/visible}\"\n\t\t\t\t\t\twidth=\"{P13n>/FixedColumnConfig/74/width}\">\n\t\t\t\t\t\t<m:Text text=\"{P13n>/FixedColumnConfig/74/text}\"/>\n\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t<m:Text text=\"{Project>CreatedBy}\"/>\n\t\t\t\t\t\t</t:template>\n\t\t\t\t\t</t:Column>\n\t\t\t\t\t<t:Column id=\"Column75\" filterProperty=\"CreatedByName\" sortProperty=\"CreatedByName\" visible=\"{P13n>/FixedColumnConfig/75/visible}\"\n\t\t\t\t\t\twidth=\"{P13n>/FixedColumnConfig/75/width}\">\n\t\t\t\t\t\t<m:Text text=\"{P13n>/FixedColumnConfig/75/text}\"/>\n\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t<m:Text text=\"{Project>CreatedByName}\"/>\n\t\t\t\t\t\t</t:template>\n\t\t\t\t\t</t:Column>\n\t\t\t\t\t<t:Column id=\"Column76\" filterProperty=\"CreatedTime\" sortProperty=\"CreatedTime\" visible=\"{P13n>/FixedColumnConfig/76/visible}\"\n\t\t\t\t\t\twidth=\"{P13n>/FixedColumnConfig/76/width}\">\n\t\t\t\t\t\t<m:Text text=\"{P13n>/FixedColumnConfig/76/text}\"/>\n\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t<m:Text text=\"{ path:'Project>CreatedTime', formatter: '.formatter.formatTimestamp'}\"/>\n\t\t\t\t\t\t</t:template>\n\t\t\t\t\t</t:Column>\n\t\t\t\t\t<t:Column id=\"Column77\" filterProperty=\"ChangedBy\" sortProperty=\"ChangedBy\" visible=\"{P13n>/FixedColumnConfig/77/visible}\"\n\t\t\t\t\t\twidth=\"{P13n>/FixedColumnConfig/77/width}\">\n\t\t\t\t\t\t<m:Text text=\"{P13n>/FixedColumnConfig/77/text}\"/>\n\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t<m:Text text=\"{Project>ChangedBy}\"/>\n\t\t\t\t\t\t</t:template>\n\t\t\t\t\t</t:Column>\n\t\t\t\t\t<t:Column id=\"Column78\" filterProperty=\"ChangedByName\" sortProperty=\"ChangedByName\" visible=\"{P13n>/FixedColumnConfig/78/visible}\"\n\t\t\t\t\t\twidth=\"{P13n>/FixedColumnConfig/78/width}\">\n\t\t\t\t\t\t<m:Text text=\"{P13n>/FixedColumnConfig/78/text}\"/>\n\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t<m:Text text=\"{Project>ChangedByName}\"/>\n\t\t\t\t\t\t</t:template>\n\t\t\t\t\t</t:Column>\n\t\t\t\t\t<t:Column id=\"Column79\" filterProperty=\"ChangedTime\" sortProperty=\"ChangedTime\" visible=\"{P13n>/FixedColumnConfig/79/visible}\"\n\t\t\t\t\t\twidth=\"{P13n>/FixedColumnConfig/79/width}\">\n\t\t\t\t\t\t<m:Text text=\"{P13n>/FixedColumnConfig/79/text}\"/>\n\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t<m:Text text=\"{ path:'Project>ChangedTime', formatter: '.formatter.formatTimestamp'}\"/>\n\t\t\t\t\t\t</t:template>\n\t\t\t\t\t</t:Column>\n\t\t\t\t\t<!--<t:Column id=\"Column81\" filterProperty=\"MaxValueA\" sortProperty=\"MaxValueA\" visible=\"{P13n>/FixedColumnConfig/81/visible}\"-->\n\t\t\t\t\t<!--\twidth=\"{P13n>/FixedColumnConfig/81/width}\">-->\n\t\t\t\t\t<!--\t<m:Text text=\"{P13n>/FixedColumnConfig/81/text}\"/>-->\n\t\t\t\t\t<!--\t<t:template>-->\n\t\t\t\t\t<!--\t\t<m:Input editable=\"false\" textAlign=\"Right\"-->\n\t\t\t\t\t<!--\t\t\tvalue=\"{parts:[{path:'Project>MaxValueA'},{path:'Project>Currency'}], type: 'colgate.asm.planning.base.util.CustomCurrencyType', formatOptions: {showMeasure: false, currencyCode: false, minFractionDigits:0, maxFractionDigits:0}}\"/>-->\n\t\t\t\t\t<!--\t</t:template>-->\n\t\t\t\t\t<!--</t:Column>-->\n\t\t\t\t\t<!--<t:Column id=\"Column82\" filterProperty=\"MaxValueC\" sortProperty=\"MaxValueC\" visible=\"{P13n>/FixedColumnConfig/82/visible}\"-->\n\t\t\t\t\t<!--\twidth=\"{P13n>/FixedColumnConfig/82/width}\">-->\n\t\t\t\t\t<!--\t<m:Text text=\"{P13n>/FixedColumnConfig/82/text}\"/>-->\n\t\t\t\t\t<!--\t<t:template>-->\n\t\t\t\t\t<!--\t\t<m:Input editable=\"false\" textAlign=\"Right\"-->\n\t\t\t\t\t<!--\t\t\tvalue=\"{parts:[{path:'Project>MaxValueC'},{path:'Project>Currency'}], type: 'colgate.asm.planning.base.util.CustomCurrencyType', formatOptions: {showMeasure: false, currencyCode: false, minFractionDigits:0, maxFractionDigits:0}}\"/>-->\n\t\t\t\t\t<!--\t</t:template>-->\n\t\t\t\t\t<!--</t:Column>-->\n\t\t\t\t\t<!--<t:Column id=\"Column83\" filterProperty=\"MaxValueCb\" sortProperty=\"MaxValueCb\" visible=\"{P13n>/FixedColumnConfig/83/visible}\"-->\n\t\t\t\t\t<!--\twidth=\"{P13n>/FixedColumnConfig/83/width}\">-->\n\t\t\t\t\t<!--\t<m:Text text=\"{P13n>/FixedColumnConfig/83/text}\"/>-->\n\t\t\t\t\t<!--\t<t:template>-->\n\t\t\t\t\t<!--\t\t<m:Input editable=\"false\" textAlign=\"Right\"-->\n\t\t\t\t\t<!--\t\t\tvalue=\"{parts:[{path:'Project>MaxValueCb'},{path:'Project>Currency'}], type: 'colgate.asm.planning.base.util.CustomCurrencyType', formatOptions: {showMeasure: false, currencyCode: false, minFractionDigits:0, maxFractionDigits:0}}\"/>-->\n\t\t\t\t\t<!--\t</t:template>-->\n\t\t\t\t\t<!--</t:Column>-->\n\t\t\t\t\t<!--<t:Column id=\"Column84\" filterProperty=\"AmtLe1\" sortProperty=\"AmtLe1\" visible=\"{P13n>/FixedColumnConfig/84/visible}\"-->\n\t\t\t\t\t<!--\twidth=\"{P13n>/FixedColumnConfig/84/width}\">-->\n\t\t\t\t\t<!--\t<m:Text text=\"{P13n>/FixedColumnConfig/84/text}\"/>-->\n\t\t\t\t\t<!--\t<t:template>-->\n\t\t\t\t\t<!--\t\t<m:Input editable=\"false\" textAlign=\"Right\"-->\n\t\t\t\t\t<!--\t\t\tvalue=\"{parts:[{path:'Project>AmtLe1'},{path:'Project>Currency'}], type: 'colgate.asm.planning.base.util.CustomCurrencyType', formatOptions: {showMeasure: false, currencyCode: false, minFractionDigits:0, maxFractionDigits:0}}\"/>-->\n\t\t\t\t\t<!--\t</t:template>-->\n\t\t\t\t\t<!--</t:Column>-->\n\t\t\t\t\t<!--<t:Column id=\"Column85\" filterProperty=\"AmtLe2\" sortProperty=\"AmtLe2\" visible=\"{P13n>/FixedColumnConfig/85/visible}\"-->\n\t\t\t\t\t<!--\twidth=\"{P13n>/FixedColumnConfig/85/width}\">-->\n\t\t\t\t\t<!--\t<m:Text text=\"{P13n>/FixedColumnConfig/85/text}\"/>-->\n\t\t\t\t\t<!--\t<t:template>-->\n\t\t\t\t\t<!--\t\t<m:Input editable=\"false\" textAlign=\"Right\"-->\n\t\t\t\t\t<!--\t\t\tvalue=\"{parts:[{path:'Project>AmtLe2'},{path:'Project>Currency'}], type: 'colgate.asm.planning.base.util.CustomCurrencyType', formatOptions: {showMeasure: false, currencyCode: false, minFractionDigits:0, maxFractionDigits:0}}\"/>-->\n\t\t\t\t\t<!--\t</t:template>-->\n\t\t\t\t\t<!--</t:Column>-->\n\t\t\t\t\t<!--<t:Column id=\"Column86\" filterProperty=\"AmtLe3\" sortProperty=\"AmtLe3\" visible=\"{P13n>/FixedColumnConfig/86/visible}\"-->\n\t\t\t\t\t<!--\twidth=\"{P13n>/FixedColumnConfig/86/width}\">-->\n\t\t\t\t\t<!--\t<m:Text text=\"{P13n>/FixedColumnConfig/86/text}\"/>-->\n\t\t\t\t\t<!--\t<t:template>-->\n\t\t\t\t\t<!--\t\t<m:Input editable=\"false\" textAlign=\"Right\"-->\n\t\t\t\t\t<!--\t\t\tvalue=\"{parts:[{path:'Project>AmtLe3'},{path:'Project>Currency'}], type: 'colgate.asm.planning.base.util.CustomCurrencyType', formatOptions: {showMeasure: false, currencyCode: false, minFractionDigits:0, maxFractionDigits:0}}\"/>-->\n\t\t\t\t\t<!--\t</t:template>-->\n\t\t\t\t\t<!--</t:Column>-->\n\t\t\t\t\t<!--<t:Column id=\"Column87\" filterProperty=\"AmtLe4\" sortProperty=\"AmtLe4\" visible=\"{P13n>/FixedColumnConfig/87/visible}\"-->\n\t\t\t\t\t<!--\twidth=\"{P13n>/FixedColumnConfig/87/width}\">-->\n\t\t\t\t\t<!--\t<m:Text text=\"{P13n>/FixedColumnConfig/87/text}\"/>-->\n\t\t\t\t\t<!--\t<t:template>-->\n\t\t\t\t\t<!--\t\t<m:Input editable=\"false\" textAlign=\"Right\"-->\n\t\t\t\t\t<!--\t\t\tvalue=\"{parts:[{path:'Project>AmtLe4'},{path:'Project>Currency'}], type: 'colgate.asm.planning.base.util.CustomCurrencyType', formatOptions: {showMeasure: false, currencyCode: false, minFractionDigits:0, maxFractionDigits:0}}\"/>-->\n\t\t\t\t\t<!--\t</t:template>-->\n\t\t\t\t\t<!--</t:Column>-->\n\t\t\t\t\t<!--<t:Column id=\"Column88\" filterProperty=\"AmtLe5\" sortProperty=\"AmtLe5\" visible=\"{P13n>/FixedColumnConfig/88/visible}\"-->\n\t\t\t\t\t<!--\twidth=\"{P13n>/FixedColumnConfig/88/width}\">-->\n\t\t\t\t\t<!--\t<m:Text text=\"{P13n>/FixedColumnConfig/88/text}\"/>-->\n\t\t\t\t\t<!--\t<t:template>-->\n\t\t\t\t\t<!--\t\t<m:Input editable=\"false\" textAlign=\"Right\"-->\n\t\t\t\t\t<!--\t\t\tvalue=\"{parts:[{path:'Project>AmtLe5'},{path:'Project>Currency'}], type: 'colgate.asm.planning.base.util.CustomCurrencyType', formatOptions: {showMeasure: false, currencyCode: false, minFractionDigits:0, maxFractionDigits:0}}\"/>-->\n\t\t\t\t\t<!--\t</t:template>-->\n\t\t\t\t\t<!--</t:Column>-->\n\t\t\t\t\t<!--<t:Column id=\"Column89\" filterProperty=\"AmtLe6\" sortProperty=\"AmtLe6\" visible=\"{P13n>/FixedColumnConfig/89/visible}\"-->\n\t\t\t\t\t<!--\twidth=\"{P13n>/FixedColumnConfig/89/width}\">-->\n\t\t\t\t\t<!--\t<m:Text text=\"{P13n>/FixedColumnConfig/89/text}\"/>-->\n\t\t\t\t\t<!--\t<t:template>-->\n\t\t\t\t\t<!--\t\t<m:Input editable=\"false\" textAlign=\"Right\"-->\n\t\t\t\t\t<!--\t\t\tvalue=\"{parts:[{path:'Project>AmtLe6'},{path:'Project>Currency'}], type: 'colgate.asm.planning.base.util.CustomCurrencyType', formatOptions: {showMeasure: false, currencyCode: false, minFractionDigits:0, maxFractionDigits:0}}\"/>-->\n\t\t\t\t\t<!--\t</t:template>-->\n\t\t\t\t\t<!--</t:Column>-->\n\t\t\t\t\t<!--<t:Column id=\"Column90\" filterProperty=\"AmtLe7\" sortProperty=\"AmtLe7\" visible=\"{P13n>/FixedColumnConfig/90/visible}\"-->\n\t\t\t\t\t<!--\twidth=\"{P13n>/FixedColumnConfig/90/width}\">-->\n\t\t\t\t\t<!--\t<m:Text text=\"{P13n>/FixedColumnConfig/90/text}\"/>-->\n\t\t\t\t\t<!--\t<t:template>-->\n\t\t\t\t\t<!--\t\t<m:Input editable=\"false\" textAlign=\"Right\"-->\n\t\t\t\t\t<!--\t\t\tvalue=\"{parts:[{path:'Project>AmtLe7'},{path:'Project>Currency'}], type: 'colgate.asm.planning.base.util.CustomCurrencyType', formatOptions: {showMeasure: false, currencyCode: false, minFractionDigits:0, maxFractionDigits:0}}\"/>-->\n\t\t\t\t\t<!--\t</t:template>-->\n\t\t\t\t\t<!--</t:Column>-->\n\t\t\t\t\t<!--<t:Column id=\"Column91\" filterProperty=\"AmtLe8\" sortProperty=\"AmtLe8\" visible=\"{P13n>/FixedColumnConfig/91/visible}\"-->\n\t\t\t\t\t<!--\twidth=\"{P13n>/FixedColumnConfig/91/width}\">-->\n\t\t\t\t\t<!--\t<m:Text text=\"{P13n>/FixedColumnConfig/91/text}\"/>-->\n\t\t\t\t\t<!--\t<t:template>-->\n\t\t\t\t\t<!--\t\t<m:Input editable=\"false\" textAlign=\"Right\"-->\n\t\t\t\t\t<!--\t\t\tvalue=\"{parts:[{path:'Project>AmtLe8'},{path:'Project>Currency'}], type: 'colgate.asm.planning.base.util.CustomCurrencyType', formatOptions: {showMeasure: false, currencyCode: false, minFractionDigits:0, maxFractionDigits:0}}\"/>-->\n\t\t\t\t\t<!--\t</t:template>-->\n\t\t\t\t\t<!--</t:Column>-->\n\t\t\t\t\t<!--<t:Column id=\"Column92\" filterProperty=\"AmtLe9\" sortProperty=\"AmtLe9\" visible=\"{P13n>/FixedColumnConfig/92/visible}\"-->\n\t\t\t\t\t<!--\twidth=\"{P13n>/FixedColumnConfig/92/width}\">-->\n\t\t\t\t\t<!--\t<m:Text text=\"{P13n>/FixedColumnConfig/92/text}\"/>-->\n\t\t\t\t\t<!--\t<t:template>-->\n\t\t\t\t\t<!--\t\t<m:Input editable=\"false\" textAlign=\"Right\"-->\n\t\t\t\t\t<!--\t\t\tvalue=\"{parts:[{path:'Project>AmtLe9'},{path:'Project>Currency'}], type: 'colgate.asm.planning.base.util.CustomCurrencyType', formatOptions: {showMeasure: false, currencyCode: false, minFractionDigits:0, maxFractionDigits:0}}\"/>-->\n\t\t\t\t\t<!--\t</t:template>-->\n\t\t\t\t\t<!--</t:Column>-->\n\t\t\t\t\t<!--<t:Column id=\"Column93\" filterProperty=\"AmtLe10\" sortProperty=\"AmtLe10\" visible=\"{P13n>/FixedColumnConfig/93/visible}\"-->\n\t\t\t\t\t<!--\twidth=\"{P13n>/FixedColumnConfig/93/width}\">-->\n\t\t\t\t\t<!--\t<m:Text text=\"{P13n>/FixedColumnConfig/93/text}\"/>-->\n\t\t\t\t\t<!--\t<t:template>-->\n\t\t\t\t\t<!--\t\t<m:Input editable=\"false\" textAlign=\"Right\"-->\n\t\t\t\t\t<!--\t\t\tvalue=\"{parts:[{path:'Project>AmtLe10'},{path:'Project>Currency'}], type: 'colgate.asm.planning.base.util.CustomCurrencyType', formatOptions: {showMeasure: false, currencyCode: false, minFractionDigits:0, maxFractionDigits:0}}\"/>-->\n\t\t\t\t\t<!--\t</t:template>-->\n\t\t\t\t\t<!--</t:Column>-->\n\t\t\t\t\t<!--<t:Column id=\"Column94\" filterProperty=\"AmtLe11\" sortProperty=\"AmtLe11\" visible=\"{P13n>/FixedColumnConfig/94/visible}\"-->\n\t\t\t\t\t<!--\twidth=\"{P13n>/FixedColumnConfig/94/width}\">-->\n\t\t\t\t\t<!--\t<m:Text text=\"{P13n>/FixedColumnConfig/94/text}\"/>-->\n\t\t\t\t\t<!--\t<t:template>-->\n\t\t\t\t\t<!--\t\t<m:Input editable=\"false\" textAlign=\"Right\"-->\n\t\t\t\t\t<!--\t\t\tvalue=\"{parts:[{path:'Project>AmtLe11'},{path:'Project>Currency'}], type: 'colgate.asm.planning.base.util.CustomCurrencyType', formatOptions: {showMeasure: false, currencyCode: false, minFractionDigits:0, maxFractionDigits:0}}\"/>-->\n\t\t\t\t\t<!--\t</t:template>-->\n\t\t\t\t\t<!--</t:Column>-->\n\t\t\t\t\t<!--<t:Column id=\"Column95\" filterProperty=\"AmtLe12\" sortProperty=\"AmtLe12\" visible=\"{P13n>/FixedColumnConfig/95/visible}\"-->\n\t\t\t\t\t<!--\twidth=\"{P13n>/FixedColumnConfig/95/width}\">-->\n\t\t\t\t\t<!--\t<m:Text text=\"{P13n>/FixedColumnConfig/95/text}\"/>-->\n\t\t\t\t\t<!--\t<t:template>-->\n\t\t\t\t\t<!--\t\t<m:Input editable=\"false\" textAlign=\"Right\"-->\n\t\t\t\t\t<!--\t\t\tvalue=\"{parts:[{path:'Project>AmtLe12'},{path:'Project>Currency'}], type: 'colgate.asm.planning.base.util.CustomCurrencyType', formatOptions: {showMeasure: false, currencyCode: false, minFractionDigits:0, maxFractionDigits:0}}\"/>-->\n\t\t\t\t\t<!--\t</t:template>-->\n\t\t\t\t\t<!--</t:Column>-->\n\t\t\t\t\t<t:Column id=\"Column96\" filterProperty=\"AmtLeTot\" sortProperty=\"AmtLeTot\" visible=\"{P13n>/FixedColumnConfig/96/visible}\"\n\t\t\t\t\t\twidth=\"{P13n>/FixedColumnConfig/96/width}\">\n\t\t\t\t\t\t<m:Text text=\"{P13n>/FixedColumnConfig/96/text}\"/>\n\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t<m:Input editable=\"false\" textAlign=\"Right\"\n\t\t\t\t\t\t\t\tvalue=\"{parts:[{path:'Project>AmtLeTot'},{path:'Project>Currency'}], type: 'colgate.asm.planning.base.util.CustomCurrencyType', formatOptions: {showMeasure: false, currencyCode: false, minFractionDigits:0, maxFractionDigits:0}}\"/>\n\t\t\t\t\t\t</t:template>\n\t\t\t\t\t</t:Column>\n\t\t\t\t\t<!--<t:Column id=\"Column97\" filterProperty=\"MaxValueLe\" sortProperty=\"MaxValueLe\" visible=\"{P13n>/FixedColumnConfig/97/visible}\"-->\n\t\t\t\t\t<!--\twidth=\"{P13n>/FixedColumnConfig/97/width}\">-->\n\t\t\t\t\t<!--\t<m:Text text=\"{P13n>/FixedColumnConfig/97/text}\"/>-->\n\t\t\t\t\t<!--\t<t:template>-->\n\t\t\t\t\t<!--\t\t<m:Input editable=\"false\" textAlign=\"Right\"-->\n\t\t\t\t\t<!--\t\t\tvalue=\"{parts:[{path:'Project>MaxValueLe'},{path:'Project>Currency'}], type: 'colgate.asm.planning.base.util.CustomCurrencyType', formatOptions: {showMeasure: false, currencyCode: false, minFractionDigits:0, maxFractionDigits:0}}\"/>-->\n\t\t\t\t\t<!--\t</t:template>-->\n\t\t\t\t\t<!--</t:Column>-->\n\t\t\t\t\t<!--<t:Column id=\"Column98\" filterProperty=\"AmtBo1\" sortProperty=\"AmtBo1\" visible=\"{P13n>/FixedColumnConfig/98/visible}\"-->\n\t\t\t\t\t<!--\twidth=\"{P13n>/FixedColumnConfig/98/width}\">-->\n\t\t\t\t\t<!--\t<m:Text text=\"{P13n>/FixedColumnConfig/98/text}\"/>-->\n\t\t\t\t\t<!--\t<t:template>-->\n\t\t\t\t\t<!--\t\t<m:Input editable=\"false\" textAlign=\"Right\"-->\n\t\t\t\t\t<!--\t\t\tvalue=\"{parts:[{path:'Project>AmtBo1'},{path:'Project>Currency'}], type: 'colgate.asm.planning.base.util.CustomCurrencyType', formatOptions: {showMeasure: false, currencyCode: false, minFractionDigits:0, maxFractionDigits:0}}\"/>-->\n\t\t\t\t\t<!--\t</t:template>-->\n\t\t\t\t\t<!--</t:Column>-->\n\t\t\t\t\t<!--<t:Column id=\"Column99\" filterProperty=\"AmtBo2\" sortProperty=\"AmtBo2\" visible=\"{P13n>/FixedColumnConfig/99/visible}\"-->\n\t\t\t\t\t<!--\twidth=\"{P13n>/FixedColumnConfig/99/width}\">-->\n\t\t\t\t\t<!--\t<m:Text text=\"{P13n>/FixedColumnConfig/99/text}\"/>-->\n\t\t\t\t\t<!--\t<t:template>-->\n\t\t\t\t\t<!--\t\t<m:Input editable=\"false\" textAlign=\"Right\"-->\n\t\t\t\t\t<!--\t\t\tvalue=\"{parts:[{path:'Project>AmtBo2'},{path:'Project>Currency'}], type: 'colgate.asm.planning.base.util.CustomCurrencyType', formatOptions: {showMeasure: false, currencyCode: false, minFractionDigits:0, maxFractionDigits:0}}\"/>-->\n\t\t\t\t\t<!--\t</t:template>-->\n\t\t\t\t\t<!--</t:Column>-->\n\t\t\t\t\t<!--<t:Column id=\"Column100\" filterProperty=\"AmtBo3\" sortProperty=\"AmtBo3\" visible=\"{P13n>/FixedColumnConfig/100/visible}\"-->\n\t\t\t\t\t<!--\twidth=\"{P13n>/FixedColumnConfig/100/width}\">-->\n\t\t\t\t\t<!--\t<m:Text text=\"{P13n>/FixedColumnConfig/100/text}\"/>-->\n\t\t\t\t\t<!--\t<t:template>-->\n\t\t\t\t\t<!--\t\t<m:Input editable=\"false\" textAlign=\"Right\"-->\n\t\t\t\t\t<!--\t\t\tvalue=\"{parts:[{path:'Project>AmtBo3'},{path:'Project>Currency'}], type: 'colgate.asm.planning.base.util.CustomCurrencyType', formatOptions: {showMeasure: false, currencyCode: false, minFractionDigits:0, maxFractionDigits:0}}\"/>-->\n\t\t\t\t\t<!--\t</t:template>-->\n\t\t\t\t\t<!--</t:Column>-->\n\t\t\t\t\t<!--<t:Column id=\"Column101\" filterProperty=\"AmtBo4\" sortProperty=\"AmtBo4\" visible=\"{P13n>/FixedColumnConfig/101/visible}\"-->\n\t\t\t\t\t<!--\twidth=\"{P13n>/FixedColumnConfig/101/width}\">-->\n\t\t\t\t\t<!--\t<m:Text text=\"{P13n>/FixedColumnConfig/101/text}\"/>-->\n\t\t\t\t\t<!--\t<t:template>-->\n\t\t\t\t\t<!--\t\t<m:Input editable=\"false\" textAlign=\"Right\"-->\n\t\t\t\t\t<!--\t\t\tvalue=\"{parts:[{path:'Project>AmtBo4'},{path:'Project>Currency'}], type: 'colgate.asm.planning.base.util.CustomCurrencyType', formatOptions: {showMeasure: false, currencyCode: false, minFractionDigits:0, maxFractionDigits:0}}\"/>-->\n\t\t\t\t\t<!--\t</t:template>-->\n\t\t\t\t\t<!--</t:Column>-->\n\t\t\t\t\t<!--<t:Column id=\"Column102\" filterProperty=\"AmtBo5\" sortProperty=\"AmtBo5\" visible=\"{P13n>/FixedColumnConfig/102/visible}\"-->\n\t\t\t\t\t<!--\twidth=\"{P13n>/FixedColumnConfig/102/width}\">-->\n\t\t\t\t\t<!--\t<m:Text text=\"{P13n>/FixedColumnConfig/102/text}\"/>-->\n\t\t\t\t\t<!--\t<t:template>-->\n\t\t\t\t\t<!--\t\t<m:Input editable=\"false\" textAlign=\"Right\"-->\n\t\t\t\t\t<!--\t\t\tvalue=\"{parts:[{path:'Project>AmtBo5'},{path:'Project>Currency'}], type: 'colgate.asm.planning.base.util.CustomCurrencyType', formatOptions: {showMeasure: false, currencyCode: false, minFractionDigits:0, maxFractionDigits:0}}\"/>-->\n\t\t\t\t\t<!--\t</t:template>-->\n\t\t\t\t\t<!--</t:Column>-->\n\t\t\t\t\t<!--<t:Column id=\"Column103\" filterProperty=\"AmtBo6\" sortProperty=\"AmtBo6\" visible=\"{P13n>/FixedColumnConfig/103/visible}\"-->\n\t\t\t\t\t<!--\twidth=\"{P13n>/FixedColumnConfig/103/width}\">-->\n\t\t\t\t\t<!--\t<m:Text text=\"{P13n>/FixedColumnConfig/103/text}\"/>-->\n\t\t\t\t\t<!--\t<t:template>-->\n\t\t\t\t\t<!--\t\t<m:Input editable=\"false\" textAlign=\"Right\"-->\n\t\t\t\t\t<!--\t\t\tvalue=\"{parts:[{path:'Project>AmtBo6'},{path:'Project>Currency'}], type: 'colgate.asm.planning.base.util.CustomCurrencyType', formatOptions: {showMeasure: false, currencyCode: false, minFractionDigits:0, maxFractionDigits:0}}\"/>-->\n\t\t\t\t\t<!--\t</t:template>-->\n\t\t\t\t\t<!--</t:Column>-->\n\t\t\t\t\t<!--<t:Column id=\"Column104\" filterProperty=\"AmtBo7\" sortProperty=\"AmtBo7\" visible=\"{P13n>/FixedColumnConfig/104/visible}\"-->\n\t\t\t\t\t<!--\twidth=\"{P13n>/FixedColumnConfig/104/width}\">-->\n\t\t\t\t\t<!--\t<m:Text text=\"{P13n>/FixedColumnConfig/104/text}\"/>-->\n\t\t\t\t\t<!--\t<t:template>-->\n\t\t\t\t\t<!--\t\t<m:Input editable=\"false\" textAlign=\"Right\"-->\n\t\t\t\t\t<!--\t\t\tvalue=\"{parts:[{path:'Project>AmtBo7'},{path:'Project>Currency'}], type: 'colgate.asm.planning.base.util.CustomCurrencyType', formatOptions: {showMeasure: false, currencyCode: false, minFractionDigits:0, maxFractionDigits:0}}\"/>-->\n\t\t\t\t\t<!--\t</t:template>-->\n\t\t\t\t\t<!--</t:Column>-->\n\t\t\t\t\t<!--<t:Column id=\"Column105\" filterProperty=\"AmtBo8\" sortProperty=\"AmtBo8\" visible=\"{P13n>/FixedColumnConfig/105/visible}\"-->\n\t\t\t\t\t<!--\twidth=\"{P13n>/FixedColumnConfig/105/width}\">-->\n\t\t\t\t\t<!--\t<m:Text text=\"{P13n>/FixedColumnConfig/105/text}\"/>-->\n\t\t\t\t\t<!--\t<t:template>-->\n\t\t\t\t\t<!--\t\t<m:Input editable=\"false\" textAlign=\"Right\"-->\n\t\t\t\t\t<!--\t\t\tvalue=\"{parts:[{path:'Project>AmtBo8'},{path:'Project>Currency'}], type: 'colgate.asm.planning.base.util.CustomCurrencyType', formatOptions: {showMeasure: false, currencyCode: false, minFractionDigits:0, maxFractionDigits:0}}\"/>-->\n\t\t\t\t\t<!--\t</t:template>-->\n\t\t\t\t\t<!--</t:Column>-->\n\t\t\t\t\t<!--<t:Column id=\"Column106\" filterProperty=\"AmtBo9\" sortProperty=\"AmtBo9\" visible=\"{P13n>/FixedColumnConfig/106/visible}\"-->\n\t\t\t\t\t<!--\twidth=\"{P13n>/FixedColumnConfig/106/width}\">-->\n\t\t\t\t\t<!--\t<m:Text text=\"{P13n>/FixedColumnConfig/106/text}\"/>-->\n\t\t\t\t\t<!--\t<t:template>-->\n\t\t\t\t\t<!--\t\t<m:Input editable=\"false\" textAlign=\"Right\"-->\n\t\t\t\t\t<!--\t\t\tvalue=\"{parts:[{path:'Project>AmtBo9'},{path:'Project>Currency'}], type: 'colgate.asm.planning.base.util.CustomCurrencyType', formatOptions: {showMeasure: false, currencyCode: false, minFractionDigits:0, maxFractionDigits:0}}\"/>-->\n\t\t\t\t\t<!--\t</t:template>-->\n\t\t\t\t\t<!--</t:Column>-->\n\t\t\t\t\t<!--<t:Column id=\"Column107\" filterProperty=\"AmtBo10\" sortProperty=\"AmtBo10\" visible=\"{P13n>/FixedColumnConfig/107/visible}\"-->\n\t\t\t\t\t<!--\twidth=\"{P13n>/FixedColumnConfig/107/width}\">-->\n\t\t\t\t\t<!--\t<m:Text text=\"{P13n>/FixedColumnConfig/107/text}\"/>-->\n\t\t\t\t\t<!--\t<t:template>-->\n\t\t\t\t\t<!--\t\t<m:Input editable=\"false\" textAlign=\"Right\"-->\n\t\t\t\t\t<!--\t\t\tvalue=\"{parts:[{path:'Project>AmtBo10'},{path:'Project>Currency'}], type: 'colgate.asm.planning.base.util.CustomCurrencyType', formatOptions: {showMeasure: false, currencyCode: false, minFractionDigits:0, maxFractionDigits:0}}\"/>-->\n\t\t\t\t\t<!--\t</t:template>-->\n\t\t\t\t\t<!--</t:Column>-->\n\t\t\t\t\t<!--<t:Column id=\"Column108\" filterProperty=\"AmtBo11\" sortProperty=\"AmtBo11\" visible=\"{P13n>/FixedColumnConfig/108/visible}\"-->\n\t\t\t\t\t<!--\twidth=\"{P13n>/FixedColumnConfig/108/width}\">-->\n\t\t\t\t\t<!--\t<m:Text text=\"{P13n>/FixedColumnConfig/108/text}\"/>-->\n\t\t\t\t\t<!--\t<t:template>-->\n\t\t\t\t\t<!--\t\t<m:Input editable=\"false\" textAlign=\"Right\"-->\n\t\t\t\t\t<!--\t\t\tvalue=\"{parts:[{path:'Project>AmtBo11'},{path:'Project>Currency'}], type: 'colgate.asm.planning.base.util.CustomCurrencyType', formatOptions: {showMeasure: false, currencyCode: false, minFractionDigits:0, maxFractionDigits:0}}\"/>-->\n\t\t\t\t\t<!--\t</t:template>-->\n\t\t\t\t\t<!--</t:Column>-->\n\t\t\t\t\t<!--<t:Column id=\"Column109\" filterProperty=\"AmtBo12\" sortProperty=\"AmtBo12\" visible=\"{P13n>/FixedColumnConfig/109/visible}\"-->\n\t\t\t\t\t<!--\twidth=\"{P13n>/FixedColumnConfig/109/width}\">-->\n\t\t\t\t\t<!--\t<m:Text text=\"{P13n>/FixedColumnConfig/109/text}\"/>-->\n\t\t\t\t\t<!--\t<t:template>-->\n\t\t\t\t\t<!--\t\t<m:Input editable=\"false\" textAlign=\"Right\"-->\n\t\t\t\t\t<!--\t\t\tvalue=\"{parts:[{path:'Project>AmtBo12'},{path:'Project>Currency'}], type: 'colgate.asm.planning.base.util.CustomCurrencyType', formatOptions: {showMeasure: false, currencyCode: false, minFractionDigits:0, maxFractionDigits:0}}\"/>-->\n\t\t\t\t\t<!--\t</t:template>-->\n\t\t\t\t\t<!--</t:Column>-->\n\t\t\t\t\t<!--<t:Column id=\"Column110\" filterProperty=\"AmtBoTot\" sortProperty=\"AmtBoTot\" visible=\"{P13n>/FixedColumnConfig/110/visible}\"-->\n\t\t\t\t\t<!--\twidth=\"{P13n>/FixedColumnConfig/110/width}\">-->\n\t\t\t\t\t<!--\t<m:Text text=\"{P13n>/FixedColumnConfig/110/text}\"/>-->\n\t\t\t\t\t<!--\t<t:template>-->\n\t\t\t\t\t<!--\t\t<m:Input editable=\"false\" textAlign=\"Right\"-->\n\t\t\t\t\t<!--\t\t\tvalue=\"{parts:[{path:'Project>AmtBoTot'},{path:'Project>Currency'}], type: 'colgate.asm.planning.base.util.CustomCurrencyType', formatOptions: {showMeasure: false, currencyCode: false, minFractionDigits:0, maxFractionDigits:0}}\"/>-->\n\t\t\t\t\t<!--\t</t:template>-->\n\t\t\t\t\t<!--</t:Column>-->\n\t\t\t\t\t<!--Begin of Commenting - Khrystyne Williams - Nov 2016-->\n\t\t\t\t\t<!--<t:Column id=\"Column111\" filterProperty=\"MaxValueBo\" sortProperty=\"MaxValueBo\" visible=\"{P13n>/FixedColumnConfig/111/visible}\"-->\n\t\t\t\t\t<!--\twidth=\"{P13n>/FixedColumnConfig/111/width}\">-->\n\t\t\t\t\t<!--\t<m:Text text=\"{P13n>/FixedColumnConfig/111/text}\"/>-->\n\t\t\t\t\t<!--\t<t:template>-->\n\t\t\t\t\t<!--\t\t<m:Input editable=\"{Project>FC_Editable_MaxValueBo}\" id=\"MaxValueBo\" placeholder=\"{Project>FC_PlaceHolder_MaxValueBo}\" textAlign=\"Right\"-->\n\t\t\t\t\t<!--\t\t\tliveChange=\"onBudgetChange\" submit=\"onEnter\"-->\n\t\t\t\t\t<!--\t\t\tvalue=\"{parts:[{path:'Project>MaxValueBo'},{path:'Project>Currency'}], type: 'colgate.asm.planning.base.util.CustomCurrencyType', formatOptions: {showMeasure: false, currencyCode: false, minFractionDigits:0, maxFractionDigits:0}}\"-->\n\t\t\t\t\t<!--\t\t\tvalueState=\"{Project>FC_ValueState_MaxValueBo}\" valueStateText=\"{Project>FC_ValueStateText_MaxValueBo}\"/>-->\n\t\t\t\t\t<!--\t</t:template>-->\n\t\t\t\t\t<!--</t:Column>-->\n\t\t\t\t\t<!--End of Commenting - Khrystyne Williams - Nov 2016-->\n\t\t\t\t\t<t:Column id=\"Column112\" filterProperty=\"DemographicsDesc\" sortProperty=\"DemographicsDesc\" visible=\"{P13n>/FixedColumnConfig/112/visible}\"\n\t\t\t\t\t\twidth=\"{P13n>/FixedColumnConfig/112/width}\" >\n\t\t\t\t\t\t<m:Text text=\"{P13n>/FixedColumnConfig/112/text}\"/>\n\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t<m:Text text=\"{Project>DemographicsDesc}\"/>\n\t\t\t\t\t\t</t:template>\n\t\t\t\t\t</t:Column>\n\t\t\t\t</t:columns>\n\t\t\t</t:TreeTable>\n\t\t\t<!--\t</l:content>-->\n\t\t\t<!--</l:VerticalLayout>-->\n\t\t\t<!--End of Changes - Khrystyne Williams - Nov-->\n\t\t</semantic:content>\n\t\t<semantic:messagesIndicator>\n\t\t\t<semantic:MessagesIndicator press=\"onMessagesButtonPress\"/>\n\t\t</semantic:messagesIndicator>\n\t</semantic:DetailPage>\n</mvc:View>",
		"colgate/asm/planning/base/view/CopyActivity.view.xml": "<mvc:View xmlns:core=\"sap.ui.core\" xmlns:mvc=\"sap.ui.core.mvc\" xmlns:m=\"sap.m\" xmlns:semantic=\"sap.m.semantic\" xmlns:l=\"sap.ui.layout\"\n\txmlns:t=\"sap.ui.table\" controllerName=\"colgate.asm.planning.base.controller.CopyActivity\" xmlns:uc=\"sap.ui.unified.calendar\"\n\txmlns:html=\"http://www.w3.org/1999/xhtml\">\n\t<semantic:DetailPage busy=\"{masterShared>/oDetailBusy/busy}\" busyIndicatorDelay=\"{masterShared>/oDetailBusy/delay}\" id=\"page\"\n\t\tnavButtonPress=\"onNavBack\" showNavButton=\"{device&gt;/system/phone}\" class=\"noScrollSection\">\n\t\t<semantic:content>\n\t\t\t<t:TreeTable rowHeight=\"40\" columnMove=\"onColumnMove\" filter=\"onColumnFilter\" fixedColumnCount=\"1\" id=\"Table\"\n\t\t\t\trowSelectionChange=\"onRowSelectionChange\" rows=\"{path:'Copy>/Table', parameters: {arrayNames:['rows']}}\" visibleRowCountMode=\"Auto\"\n\t\t\t\ttoggleOpenState=\"onToggle\" selectionMode=\"None\">\n\t\t\t\t<!--Start of Additional Code Added SDS-->\n\t\t\t\t<t:toolbar>\n\t\t\t\t\t<m:Toolbar>\n\t\t\t\t\t\t<m:content>\n\t\t\t\t\t\t\t<m:Label text=\"{i18n>AC_year}\"/>\n\t\t\t\t\t\t\t<m:Select id=\"Year\" items=\"{path:'Copy>/Header/TargetPlanningYear/Current', templateShareable:false}\"\n\t\t\t\t\t\t\t\tselectedKey=\"{Copy>/Header/TargetPlanningYear/Value}\" change=\"onYearChange\" enabled=\"{Copy>/Header/TargetPlanningYear/Enabled}\"\n\t\t\t\t\t\t\t\tforceSelection=\"true\">\n\t\t\t\t\t\t\t\t<m:items>\n\t\t\t\t\t\t\t\t\t<core:Item key=\"{Copy>Key}\" text=\"{Copy>Text}\"/>\n\t\t\t\t\t\t\t\t</m:items>\n\t\t\t\t\t\t\t</m:Select>\n\t\t\t\t\t\t\t<!--  Start change of header content sequencing  -->\n\t\t\t\t\t\t\t<m:CheckBox text=\"{i18n&gt;CP_includeBudget}\" id=\"cp_includeBudget\"></m:CheckBox>\n\t\t\t\t\t\t\t<!--<m:ToolbarSpacer/>-->\n\t\t\t\t\t\t\t<m:Button icon=\"sap-icon://save\" press=\"onSave\" tooltip=\"{i18n&gt;CA_save}\"/>\n\t\t\t\t\t\t\t<m:Button icon=\"sap-icon://sys-cancel\" press=\"onCancel\" tooltip=\"{i18n&gt;CP_cancel}\"/>\n\t\t\t\t\t\t</m:content>\n\t\t\t\t\t</m:Toolbar>\n\t\t\t\t</t:toolbar>\n\t\t\t\t<!--End of Additional Code Added SDS-->\n\t\t\t\t<!--TreeTable attribute visibleRowCount=\"{projectView>/oTableControl/visibleRowCount}\"-->\n\t\t\t\t<t:columns>\n\t\t\t\t\t<t:Column filterProperty=\"Name\" sortProperty=\"Name\" visible=\"true\" width=\"{P13n>/FixedColumnConfig/0/width}\">\n\t\t\t\t\t\t<!--{P13n>/FixedColumnConfig/0/text}-->\n\t\t\t\t\t\t<m:Label text=\"{P13n>/FixedColumnConfig/0/text}\"/>\n\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t<!--\t<m:Text text=\"{copy>Name}\"/>-->\n\t\t\t\t\t\t\t<m:FlexBox alignItems=\"Center\" direction=\"Row\">\n\t\t\t\t\t\t\t\t<m:CheckBox editable=\"{Copy>isRowEditable}\" visible=\"{Copy>isCheckVisible}\" selected=\"{Copy>isSelected}\"></m:CheckBox>\n\t\t\t\t\t\t\t\t<m:Image src=\"{Copy>_iconPath}\"/>\n\t\t\t\t\t\t\t\t<m:Text text=\"\" width=\"5px\"/>\n\t\t\t\t\t\t\t\t<m:Input value=\"{Copy>Name}\" editable=\"{Copy>isRowEditable}\" maxLength=\"40\" valueState=\"{Copy>ValueState/Name}\"\n\t\t\t\t\t\t\t\t\tvalueStateText=\"{Copy>ValueStateText/Name}\"/>\n\t\t\t\t\t\t\t</m:FlexBox>\n\t\t\t\t\t\t</t:template>\n\t\t\t\t\t</t:Column>\n\t\t\t\t\t<t:Column id=\"Column1\" filterProperty=\"ActivityTypeDesc\" sortProperty=\"ActivityTypeDesc\" visible=\"true\" width=\"210px\">\n\t\t\t\t\t\t<m:Text text=\"{i18n>AC_type}\"/>\n\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t<m:Select id=\"Type\" items=\"{path:'Copy>CurrentActivityTypes', templateShareable:false}\" selectedKey=\"{Copy>ActivityType}\"\n\t\t\t\t\t\t\t\tplaceholder=\"{Copy>Placeholders/ActivityType}\" forceSelection=\"true\" change=\"onActivityTypeChange\" visible=\"true\"\n\t\t\t\t\t\t\t\tenabled=\"{Copy>isRowEditable}\" valueState=\"{Copy>ValueState/ActivityType}\" valueStateText=\"{Copy>ValueStateText/ActivityType}\">\n\t\t\t\t\t\t\t\t<m:items>\n\t\t\t\t\t\t\t\t\t<core:Item key=\"{Copy>Key}\" text=\"{Copy>Description}\"/>\n\t\t\t\t\t\t\t\t</m:items>\n\t\t\t\t\t\t\t</m:Select>\n\t\t\t\t\t\t</t:template>\n\t\t\t\t\t</t:Column>\n\t\t\t\t\t<t:Column filterProperty=\"LongText\" sortProperty=\"LongText\" visible=\"true\" width=\"120px\">\n\t\t\t\t\t\t<!--{P13n>/FixedColumnConfig/0/text}-->\n\t\t\t\t\t\t<m:Label text=\"{i18n>CP_longText}\"/>\n\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t<m:Input value=\"{Copy>LongText}\" editable=\"{Copy>isRowEditable}\"/>\n\t\t\t\t\t\t</t:template>\n\t\t\t\t\t</t:Column>\n\t\t\t\t\t<t:Column visible=\"true\" width=\"170px\">\n\t\t\t\t\t\t<m:Label text=\"{i18n&gt;CP_Hub}\"/>\n\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t<m:ComboBox id=\"HubKey\" items=\"{path:'GeoFilter>/currentHubs', templateShareable:false}\" placeholder=\"{i18n>AC_P_hub_e}\"\n\t\t\t\t\t\t\t\teditable=\"{Copy>isRowEditable}\" enabled=\"{Copy>HubEnabled}\" selectedKey=\"{Copy>HubKey}\" selectionChange=\"onHubSelectionChange\"\n\t\t\t\t\t\t\t\tvisible=\"true\" valueState=\"{Copy>ValueState/Hub}\" valueStateText=\"{Copy>ValueStateText/Hub}\">\n\t\t\t\t\t\t\t\t<m:items>\n\t\t\t\t\t\t\t\t\t<core:Item key=\"{GeoFilter>HubKey}\" text=\"{GeoFilter>Desc}\"/>\n\t\t\t\t\t\t\t\t</m:items>\n\t\t\t\t\t\t\t</m:ComboBox>\n\t\t\t\t\t\t</t:template>\n\t\t\t\t\t</t:Column>\n\t\t\t\t\t<t:Column visible=\"true\" width=\"170px\">\n\t\t\t\t\t\t<m:Label text=\"{i18n&gt;CP_subsidiary}\"/>\n\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t<m:ComboBox id=\"SubKey\" items=\"{path:'Copy>currentSubs', templateShareable:false}\"\n\t\t\t\t\t\t\t\tplaceholder=\"{= ${Copy>isEnabled} === true ? ${i18n>AC_P_sub_e} : ${i18n>AC_P_sub_he} }\" editable=\"{Copy>isRowEditable}\"\n\t\t\t\t\t\t\t\tenabled=\"{Copy>isEnabled}\" selectedKey=\"{Copy>SubKey}\" selectionChange=\"onSubSelectionChange\" visible=\"true\"\n\t\t\t\t\t\t\t\tvalueState=\"{Copy>ValueState/Sub}\" valueStateText=\"{Copy>ValueStateText/Sub}\">\n\t\t\t\t\t\t\t\t<m:items>\n\t\t\t\t\t\t\t\t\t<core:Item key=\"{Copy>SubKey}\" text=\"{Copy>Desc}\"/>\n\t\t\t\t\t\t\t\t</m:items>\n\t\t\t\t\t\t\t</m:ComboBox>\n\t\t\t\t\t\t</t:template>\n\t\t\t\t\t</t:Column>\n\t\t\t\t\t<t:Column id=\"Column5\" visible=\"true\" width=\"210px\">\n\t\t\t\t\t\t<m:Label text=\"{i18n&gt;C_L_category}\"/>\n\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t<m:ComboBox id=\"CategoryKey\" items=\"{path:'Copy>CurrentCategories', templateShareable:false}\" placeholder=\"{i18n>AC_P_category}\"\n\t\t\t\t\t\t\t\tselectedKey=\"{Copy>CategoryKey}\" selectionChange=\"onSelectionChange\" visible=\"true\" enabled=\"{Copy>Enabled/Category}\"\n\t\t\t\t\t\t\t\tvalueState=\"{Copy>ValueState/Category}\" valueStateText=\"{Copy>ValueStateText/Category}\">\n\t\t\t\t\t\t\t\t<m:items>\n\t\t\t\t\t\t\t\t\t<core:Item key=\"{Copy>Key}\" text=\"{Copy>Description}\"/>\n\t\t\t\t\t\t\t\t</m:items>\n\t\t\t\t\t\t\t</m:ComboBox>\n\t\t\t\t\t\t</t:template>\n\t\t\t\t\t</t:Column>\n\t\t\t\t\t<t:Column id=\"Column6\" visible=\"true\" width=\"210px\">\n\t\t\t\t\t\t<m:Label text=\"{i18n&gt;AC_pscategory}\"/>\n\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t<m:ComboBox id=\"SubcategoryKey\" items=\"{path:'Copy>CurrentSubcategories', templateShareable:false}\"\n\t\t\t\t\t\t\t\tplaceholder=\"{Copy>Placeholders/Subcategory}\" selectedKey=\"{Copy>SubcategoryKey}\" selectionChange=\"onSelectionChange\" visible=\"true\"\n\t\t\t\t\t\t\t\tenabled=\"{Copy>Enabled/Subcategory}\" valueState=\"{Copy>ValueState/Subcategory}\" valueStateText=\"{Copy>ValueStateText/Subcategory}\">\n\t\t\t\t\t\t\t\t<m:items>\n\t\t\t\t\t\t\t\t\t<core:Item key=\"{Copy>Key}\" text=\"{Copy>Description}\"/>\n\t\t\t\t\t\t\t\t</m:items>\n\t\t\t\t\t\t\t</m:ComboBox>\n\t\t\t\t\t\t</t:template>\n\t\t\t\t\t</t:Column>\n\t\t\t\t\t<t:Column id=\"Column7\" visible=\"true\" width=\"210px\">\n\t\t\t\t\t\t<m:Label text=\"{i18n&gt;C_L_brand}\"/>\n\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t<m:ComboBox id=\"BrandKey\" items=\"{path:'Copy>CurrentBrands', templateShareable:false}\" placeholder=\"{Copy>Placeholders/Brand}\"\n\t\t\t\t\t\t\t\tselectedKey=\"{Copy>BrandKey}\" selectionChange=\"onSelectionChange\" visible=\"true\" enabled=\"{Copy>Enabled/Brand}\"\n\t\t\t\t\t\t\t\tvalueState=\"{Copy>ValueState/Brand}\" valueStateText=\"{Copy>ValueStateText/Brand}\">\n\t\t\t\t\t\t\t\t<m:items>\n\t\t\t\t\t\t\t\t\t<core:Item key=\"{Copy>Key}\" text=\"{Copy>Description}\"/>\n\t\t\t\t\t\t\t\t</m:items>\n\t\t\t\t\t\t\t</m:ComboBox>\n\t\t\t\t\t\t</t:template>\n\t\t\t\t\t</t:Column>\n\t\t\t\t\t<t:Column id=\"Column8\" visible=\"true\" width=\"210px\">\n\t\t\t\t\t\t<m:Label text=\"{i18n&gt;C_L_subbrand}\"/>\n\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t<m:ComboBox id=\"SubbrandKey\" items=\"{path:'Copy>CurrentSubbrands', templateShareable:false}\" placeholder=\"{Copy>Placeholders/Subbrand}\"\n\t\t\t\t\t\t\t\tselectedKey=\"{Copy>SubbrandKey}\" selectionChange=\"onSelectionChange\" visible=\"true\" enabled=\"{Copy>Enabled/Subbrand}\"\n\t\t\t\t\t\t\t\tvalueState=\"{Copy>ValueState/Subbrand}\" valueStateText=\"{Copy>ValueStateText/Subbrand}\">\n\t\t\t\t\t\t\t\t<m:items>\n\t\t\t\t\t\t\t\t\t<core:Item key=\"{Copy>Key}\" text=\"{Copy>Description}\"/>\n\t\t\t\t\t\t\t\t</m:items>\n\t\t\t\t\t\t\t</m:ComboBox>\n\t\t\t\t\t\t</t:template>\n\t\t\t\t\t</t:Column>\n\t\t\t\t\t<t:Column filterProperty=\"StartDt\" sortProperty=\"StartDt\" visible=\"true\" width=\"120px\">\n\t\t\t\t\t\t<!--{P13n>/FixedColumnConfig/0/text}-->\n\t\t\t\t\t\t<m:Label text=\"{i18n&gt;CP_startDt}\"/>\n\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t<!--\tDate Picker additional code-->\n\t\t\t\t\t\t\t<!--Changed display date Formate from MM/dd/yyyy to MM/yyyy July 13th,2016 -->\n\t\t\t\t\t\t\t<!--<m:DatePicker visible=\"true\" enabled=\"true\" change=\"onDateChange\" id=\"idStartDtDatePicker\"-->\n\t\t\t\t\t\t\t<!--\tvalue=\"{ path:'copy&gt;StartDt', type: 'sap.ui.model.type.Date', formatOptions: { source: {pattern: 'yyyy-MM-ddThh:mm:ssZ'}, pattern: 'MM/yyyy' }}\"/>-->\n\t\t\t\t\t\t\t<!--psutram: feb 2017: added ValueState and valueStateText properties-->\n\t\t\t\t\t\t\t<m:Input id=\"idStartDtDatePicker\" editable=\"{Copy>isRowEditable}\"\n\t\t\t\t\t\t\t\tvalue=\"{ path:'Copy>StartDt', type: 'sap.ui.model.type.DateTime', formatOptions: { source: {pattern: 'yyyy-MM-ddThh:mm:ssZ'}, pattern: 'MMM/yyyy', UTC: true}}\"\n\t\t\t\t\t\t\t\tvalueStateText=\"{Copy>AC_ValueStateText_StartDt}\" valueState=\"{Copy>AC_ValueState_StartDt}\" showValueHelp=\"true\"\n\t\t\t\t\t\t\t\tvalueHelpRequest=\"onValueHelpRequest\" valueHelpOnly=\"true\"></m:Input>\n\t\t\t\t\t\t</t:template>\n\t\t\t\t\t</t:Column>\n\t\t\t\t\t<!--End of Changes - Khrystyne Williams - Nov 2016-->\n\t\t\t\t\t<!--Begin of Changes - Khrystyne Williams - Nov 2016-->\n\t\t\t\t\t<!--<t:Column filterProperty=\"EndDt\" sortProperty=\"EndDt\" visible=\"true\" width=\"120px\">-->\n\t\t\t\t\t<t:Column filterProperty=\"EndDt\" sortProperty=\"EndDt\" visible=\"true\" width=\"120px\">\n\t\t\t\t\t\t<!--{P13n>/FixedColumnConfig/0/text}-->\n\t\t\t\t\t\t<m:Label text=\"{i18n&gt;CP_endDt}\"/>\n\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t<!--\tDate Picker additional code -->\n\t\t\t\t\t\t\t<!--<m:DatePicker visible=\"true\" enabled=\"true\" change=\"onDateChange\" id=\"idEndDtDatePicker\"-->\n\t\t\t\t\t\t\t<!--\tvalue=\"{ path:'copy&gt;EndDt', type: 'sap.ui.model.type.Date', formatOptions: { source: {pattern: 'yyyy-MM-ddThh:mm:ssZ'}, pattern: 'MM/yyyy' }}\"/>-->\n\t\t\t\t\t\t\t<!--psutram: feb 2017: added ValueState and valueStateText properties-->\n\t\t\t\t\t\t\t<m:Input id=\"idEndDtDatePicker\" editable=\"{Copy>isRowEditable}\"\n\t\t\t\t\t\t\t\tvalue=\"{ path:'Copy>EndDt', type: 'sap.ui.model.type.DateTime', formatOptions: { source: {pattern: 'yyyy-MM-ddThh:mm:ssZ'}, pattern: 'MMM/yyyy', UTC: true }}\"\n\t\t\t\t\t\t\t\tvalueStateText=\"{Copy>AC_ValueStateText_EndDt}\" valueState=\"{Copy>AC_ValueState_EndDt}\" showValueHelp=\"true\"\n\t\t\t\t\t\t\t\tvalueHelpRequest=\"onValueHelpRequest\" valueHelpOnly=\"true\"/>\n\t\t\t\t\t\t</t:template>\n\t\t\t\t\t</t:Column>\n\t\t\t\t\t<t:Column id=\"Column10\" filterProperty=\"FunctionDesc\" sortProperty=\"FunctionDesc\" visible=\"true\" width=\"{P13n>/FixedColumnConfig/10/width}\">\n\t\t\t\t\t\t<m:Text text=\"{i18n&gt;AC_function}\"/>\n\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t<m:Text text=\"{Copy>FunctionDesc}\"/>\n\t\t\t\t\t\t</t:template>\n\t\t\t\t\t</t:Column>\n\t\t\t\t\t<t:Column id=\"Column11\" filterProperty=\"ChannelDesc\" sortProperty=\"ChannelDesc\" visible=\"true\" width=\"{P13n>/FixedColumnConfig/11/width}\">\n\t\t\t\t\t\t<m:Text text=\"{i18n&gt;AC_channel}\"/>\n\t\t\t\t\t\t<t:template>\n\t\t\t\t\t\t\t<m:Text text=\"{Copy>ChannelDesc}\"/>\n\t\t\t\t\t\t</t:template>\n\t\t\t\t\t</t:Column>\n\t\t\t\t</t:columns>\n\t\t\t</t:TreeTable>\n\t\t</semantic:content>\n\t\t<!--<semantic:saveAction>-->\n\t\t<!--\t<semantic:SaveAction id=\"save\" press=\"onSave\"/>-->\n\t\t<!--</semantic:saveAction>-->\n\t\t<!--<semantic:cancelAction>-->\n\t\t<!--\t<semantic:CancelAction id=\"cancel\" press=\"onCancel\"/>-->\n\t\t<!--</semantic:cancelAction>-->\n\t</semantic:DetailPage>\n\t<!--<App>\n\t\t<pages>\n\t\t\t<Page title=\"Title\">\n\t\t\t\t<content></content>\n\t\t\t</Page>\n\t\t</pages>\n\t</App>-->\n</mvc:View>"
	}
});